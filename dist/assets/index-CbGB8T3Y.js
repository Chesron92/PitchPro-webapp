function cE(n,e){for(var t=0;t<e.length;t++){const i=e[t];if(typeof i!="string"&&!Array.isArray(i)){for(const o in i)if(o!=="default"&&!(o in n)){const c=Object.getOwnPropertyDescriptor(i,o);c&&Object.defineProperty(n,o,c.get?c:{enumerable:!0,get:()=>i[o]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function t(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(o){if(o.ep)return;o.ep=!0;const c=t(o);fetch(o.href,c)}})();function r_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var hp={exports:{}},Ac={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kx;function uE(){if(Kx)return Ac;Kx=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:n,type:i,key:d,ref:o!==void 0?o:null,props:c}}return Ac.Fragment=e,Ac.jsx=t,Ac.jsxs=t,Ac}var Qx;function dE(){return Qx||(Qx=1,hp.exports=uE()),hp.exports}var a=dE(),fp={exports:{}},We={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yx;function hE(){if(Yx)return We;Yx=1;var n=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),j=Symbol.iterator;function w(O){return O===null||typeof O!="object"?null:(O=j&&O[j]||O["@@iterator"],typeof O=="function"?O:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},z=Object.assign,$={};function U(O,K,ce){this.props=O,this.context=K,this.refs=$,this.updater=ce||k}U.prototype.isReactComponent={},U.prototype.setState=function(O,K){if(typeof O!="object"&&typeof O!="function"&&O!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,O,K,"setState")},U.prototype.forceUpdate=function(O){this.updater.enqueueForceUpdate(this,O,"forceUpdate")};function H(){}H.prototype=U.prototype;function M(O,K,ce){this.props=O,this.context=K,this.refs=$,this.updater=ce||k}var S=M.prototype=new H;S.constructor=M,z(S,U.prototype),S.isPureReactComponent=!0;var G=Array.isArray,q={H:null,A:null,T:null,S:null,V:null},R=Object.prototype.hasOwnProperty;function N(O,K,ce,le,ae,je){return ce=je.ref,{$$typeof:n,type:O,key:K,ref:ce!==void 0?ce:null,props:je}}function E(O,K){return N(O.type,K,void 0,void 0,void 0,O.props)}function T(O){return typeof O=="object"&&O!==null&&O.$$typeof===n}function P(O){var K={"=":"=0",":":"=2"};return"$"+O.replace(/[=:]/g,function(ce){return K[ce]})}var L=/\/+/g;function D(O,K){return typeof O=="object"&&O!==null&&O.key!=null?P(""+O.key):K.toString(36)}function I(){}function Te(O){switch(O.status){case"fulfilled":return O.value;case"rejected":throw O.reason;default:switch(typeof O.status=="string"?O.then(I,I):(O.status="pending",O.then(function(K){O.status==="pending"&&(O.status="fulfilled",O.value=K)},function(K){O.status==="pending"&&(O.status="rejected",O.reason=K)})),O.status){case"fulfilled":return O.value;case"rejected":throw O.reason}}throw O}function Ie(O,K,ce,le,ae){var je=typeof O;(je==="undefined"||je==="boolean")&&(O=null);var be=!1;if(O===null)be=!0;else switch(je){case"bigint":case"string":case"number":be=!0;break;case"object":switch(O.$$typeof){case n:case e:be=!0;break;case x:return be=O._init,Ie(be(O._payload),K,ce,le,ae)}}if(be)return ae=ae(O),be=le===""?"."+D(O,0):le,G(ae)?(ce="",be!=null&&(ce=be.replace(L,"$&/")+"/"),Ie(ae,K,ce,"",function(Be){return Be})):ae!=null&&(T(ae)&&(ae=E(ae,ce+(ae.key==null||O&&O.key===ae.key?"":(""+ae.key).replace(L,"$&/")+"/")+be)),K.push(ae)),1;be=0;var Ce=le===""?".":le+":";if(G(O))for(var Oe=0;Oe<O.length;Oe++)le=O[Oe],je=Ce+D(le,Oe),be+=Ie(le,K,ce,je,ae);else if(Oe=w(O),typeof Oe=="function")for(O=Oe.call(O),Oe=0;!(le=O.next()).done;)le=le.value,je=Ce+D(le,Oe++),be+=Ie(le,K,ce,je,ae);else if(je==="object"){if(typeof O.then=="function")return Ie(Te(O),K,ce,le,ae);throw K=String(O),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(O).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return be}function Z(O,K,ce){if(O==null)return O;var le=[],ae=0;return Ie(O,le,"","",function(je){return K.call(ce,je,ae++)}),le}function re(O){if(O._status===-1){var K=O._result;K=K(),K.then(function(ce){(O._status===0||O._status===-1)&&(O._status=1,O._result=ce)},function(ce){(O._status===0||O._status===-1)&&(O._status=2,O._result=ce)}),O._status===-1&&(O._status=0,O._result=K)}if(O._status===1)return O._result.default;throw O._result}var ye=typeof reportError=="function"?reportError:function(O){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof O=="object"&&O!==null&&typeof O.message=="string"?String(O.message):String(O),error:O});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",O);return}console.error(O)};function me(){}return We.Children={map:Z,forEach:function(O,K,ce){Z(O,function(){K.apply(this,arguments)},ce)},count:function(O){var K=0;return Z(O,function(){K++}),K},toArray:function(O){return Z(O,function(K){return K})||[]},only:function(O){if(!T(O))throw Error("React.Children.only expected to receive a single React element child.");return O}},We.Component=U,We.Fragment=t,We.Profiler=o,We.PureComponent=M,We.StrictMode=i,We.Suspense=p,We.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=q,We.__COMPILER_RUNTIME={__proto__:null,c:function(O){return q.H.useMemoCache(O)}},We.cache=function(O){return function(){return O.apply(null,arguments)}},We.cloneElement=function(O,K,ce){if(O==null)throw Error("The argument must be a React element, but you passed "+O+".");var le=z({},O.props),ae=O.key,je=void 0;if(K!=null)for(be in K.ref!==void 0&&(je=void 0),K.key!==void 0&&(ae=""+K.key),K)!R.call(K,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&K.ref===void 0||(le[be]=K[be]);var be=arguments.length-2;if(be===1)le.children=ce;else if(1<be){for(var Ce=Array(be),Oe=0;Oe<be;Oe++)Ce[Oe]=arguments[Oe+2];le.children=Ce}return N(O.type,ae,void 0,void 0,je,le)},We.createContext=function(O){return O={$$typeof:d,_currentValue:O,_currentValue2:O,_threadCount:0,Provider:null,Consumer:null},O.Provider=O,O.Consumer={$$typeof:c,_context:O},O},We.createElement=function(O,K,ce){var le,ae={},je=null;if(K!=null)for(le in K.key!==void 0&&(je=""+K.key),K)R.call(K,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ae[le]=K[le]);var be=arguments.length-2;if(be===1)ae.children=ce;else if(1<be){for(var Ce=Array(be),Oe=0;Oe<be;Oe++)Ce[Oe]=arguments[Oe+2];ae.children=Ce}if(O&&O.defaultProps)for(le in be=O.defaultProps,be)ae[le]===void 0&&(ae[le]=be[le]);return N(O,je,void 0,void 0,null,ae)},We.createRef=function(){return{current:null}},We.forwardRef=function(O){return{$$typeof:m,render:O}},We.isValidElement=T,We.lazy=function(O){return{$$typeof:x,_payload:{_status:-1,_result:O},_init:re}},We.memo=function(O,K){return{$$typeof:y,type:O,compare:K===void 0?null:K}},We.startTransition=function(O){var K=q.T,ce={};q.T=ce;try{var le=O(),ae=q.S;ae!==null&&ae(ce,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(me,ye)}catch(je){ye(je)}finally{q.T=K}},We.unstable_useCacheRefresh=function(){return q.H.useCacheRefresh()},We.use=function(O){return q.H.use(O)},We.useActionState=function(O,K,ce){return q.H.useActionState(O,K,ce)},We.useCallback=function(O,K){return q.H.useCallback(O,K)},We.useContext=function(O){return q.H.useContext(O)},We.useDebugValue=function(){},We.useDeferredValue=function(O,K){return q.H.useDeferredValue(O,K)},We.useEffect=function(O,K,ce){var le=q.H;if(typeof ce=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return le.useEffect(O,K)},We.useId=function(){return q.H.useId()},We.useImperativeHandle=function(O,K,ce){return q.H.useImperativeHandle(O,K,ce)},We.useInsertionEffect=function(O,K){return q.H.useInsertionEffect(O,K)},We.useLayoutEffect=function(O,K){return q.H.useLayoutEffect(O,K)},We.useMemo=function(O,K){return q.H.useMemo(O,K)},We.useOptimistic=function(O,K){return q.H.useOptimistic(O,K)},We.useReducer=function(O,K,ce){return q.H.useReducer(O,K,ce)},We.useRef=function(O){return q.H.useRef(O)},We.useState=function(O){return q.H.useState(O)},We.useSyncExternalStore=function(O,K,ce){return q.H.useSyncExternalStore(O,K,ce)},We.useTransition=function(){return q.H.useTransition()},We.version="19.1.0",We}var Wx;function _g(){return Wx||(Wx=1,fp.exports=hE()),fp.exports}var F=_g();const Pe=r_(F),fE=cE({__proto__:null,default:Pe},[F]);var mp={exports:{}},Sc={},pp={exports:{}},gp={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xx;function mE(){return Xx||(Xx=1,function(n){function e(Z,re){var ye=Z.length;Z.push(re);e:for(;0<ye;){var me=ye-1>>>1,O=Z[me];if(0<o(O,re))Z[me]=re,Z[ye]=O,ye=me;else break e}}function t(Z){return Z.length===0?null:Z[0]}function i(Z){if(Z.length===0)return null;var re=Z[0],ye=Z.pop();if(ye!==re){Z[0]=ye;e:for(var me=0,O=Z.length,K=O>>>1;me<K;){var ce=2*(me+1)-1,le=Z[ce],ae=ce+1,je=Z[ae];if(0>o(le,ye))ae<O&&0>o(je,le)?(Z[me]=je,Z[ae]=ye,me=ae):(Z[me]=le,Z[ce]=ye,me=ce);else if(ae<O&&0>o(je,ye))Z[me]=je,Z[ae]=ye,me=ae;else break e}}return re}function o(Z,re){var ye=Z.sortIndex-re.sortIndex;return ye!==0?ye:Z.id-re.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();n.unstable_now=function(){return d.now()-m}}var p=[],y=[],x=1,j=null,w=3,k=!1,z=!1,$=!1,U=!1,H=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function G(Z){for(var re=t(y);re!==null;){if(re.callback===null)i(y);else if(re.startTime<=Z)i(y),re.sortIndex=re.expirationTime,e(p,re);else break;re=t(y)}}function q(Z){if($=!1,G(Z),!z)if(t(p)!==null)z=!0,R||(R=!0,D());else{var re=t(y);re!==null&&Ie(q,re.startTime-Z)}}var R=!1,N=-1,E=5,T=-1;function P(){return U?!0:!(n.unstable_now()-T<E)}function L(){if(U=!1,R){var Z=n.unstable_now();T=Z;var re=!0;try{e:{z=!1,$&&($=!1,M(N),N=-1),k=!0;var ye=w;try{t:{for(G(Z),j=t(p);j!==null&&!(j.expirationTime>Z&&P());){var me=j.callback;if(typeof me=="function"){j.callback=null,w=j.priorityLevel;var O=me(j.expirationTime<=Z);if(Z=n.unstable_now(),typeof O=="function"){j.callback=O,G(Z),re=!0;break t}j===t(p)&&i(p),G(Z)}else i(p);j=t(p)}if(j!==null)re=!0;else{var K=t(y);K!==null&&Ie(q,K.startTime-Z),re=!1}}break e}finally{j=null,w=ye,k=!1}re=void 0}}finally{re?D():R=!1}}}var D;if(typeof S=="function")D=function(){S(L)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,Te=I.port2;I.port1.onmessage=L,D=function(){Te.postMessage(null)}}else D=function(){H(L,0)};function Ie(Z,re){N=H(function(){Z(n.unstable_now())},re)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Z){Z.callback=null},n.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<Z?Math.floor(1e3/Z):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_next=function(Z){switch(w){case 1:case 2:case 3:var re=3;break;default:re=w}var ye=w;w=re;try{return Z()}finally{w=ye}},n.unstable_requestPaint=function(){U=!0},n.unstable_runWithPriority=function(Z,re){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ye=w;w=Z;try{return re()}finally{w=ye}},n.unstable_scheduleCallback=function(Z,re,ye){var me=n.unstable_now();switch(typeof ye=="object"&&ye!==null?(ye=ye.delay,ye=typeof ye=="number"&&0<ye?me+ye:me):ye=me,Z){case 1:var O=-1;break;case 2:O=250;break;case 5:O=1073741823;break;case 4:O=1e4;break;default:O=5e3}return O=ye+O,Z={id:x++,callback:re,priorityLevel:Z,startTime:ye,expirationTime:O,sortIndex:-1},ye>me?(Z.sortIndex=ye,e(y,Z),t(p)===null&&Z===t(y)&&($?(M(N),N=-1):$=!0,Ie(q,ye-me))):(Z.sortIndex=O,e(p,Z),z||k||(z=!0,R||(R=!0,D()))),Z},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(Z){var re=w;return function(){var ye=w;w=re;try{return Z.apply(this,arguments)}finally{w=ye}}}}(gp)),gp}var Jx;function pE(){return Jx||(Jx=1,pp.exports=mE()),pp.exports}var yp={exports:{}},Cn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zx;function gE(){if(Zx)return Cn;Zx=1;var n=_g();function e(p){var y="https://react.dev/errors/"+p;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)y+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+p+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,y,x){var j=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:j==null?null:""+j,children:p,containerInfo:y,implementation:x}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,y){if(p==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Cn.createPortal=function(p,y){var x=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return c(p,y,null,x)},Cn.flushSync=function(p){var y=d.T,x=i.p;try{if(d.T=null,i.p=2,p)return p()}finally{d.T=y,i.p=x,i.d.f()}},Cn.preconnect=function(p,y){typeof p=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,i.d.C(p,y))},Cn.prefetchDNS=function(p){typeof p=="string"&&i.d.D(p)},Cn.preinit=function(p,y){if(typeof p=="string"&&y&&typeof y.as=="string"){var x=y.as,j=m(x,y.crossOrigin),w=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;x==="style"?i.d.S(p,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:j,integrity:w,fetchPriority:k}):x==="script"&&i.d.X(p,{crossOrigin:j,integrity:w,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Cn.preinitModule=function(p,y){if(typeof p=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var x=m(y.as,y.crossOrigin);i.d.M(p,{crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&i.d.M(p)},Cn.preload=function(p,y){if(typeof p=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var x=y.as,j=m(x,y.crossOrigin);i.d.L(p,x,{crossOrigin:j,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Cn.preloadModule=function(p,y){if(typeof p=="string")if(y){var x=m(y.as,y.crossOrigin);i.d.m(p,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:x,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else i.d.m(p)},Cn.requestFormReset=function(p){i.d.r(p)},Cn.unstable_batchedUpdates=function(p,y){return p(y)},Cn.useFormState=function(p,y,x){return d.H.useFormState(p,y,x)},Cn.useFormStatus=function(){return d.H.useHostTransitionStatus()},Cn.version="19.1.0",Cn}var eb;function s_(){if(eb)return yp.exports;eb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),yp.exports=gE(),yp.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tb;function yE(){if(tb)return Sc;tb=1;var n=pE(),e=_g(),t=s_();function i(r){var s="https://react.dev/errors/"+r;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)s+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+r+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function c(r){var s=r,l=r;if(r.alternate)for(;s.return;)s=s.return;else{r=s;do s=r,(s.flags&4098)!==0&&(l=s.return),r=s.return;while(r)}return s.tag===3?l:null}function d(r){if(r.tag===13){var s=r.memoizedState;if(s===null&&(r=r.alternate,r!==null&&(s=r.memoizedState)),s!==null)return s.dehydrated}return null}function m(r){if(c(r)!==r)throw Error(i(188))}function p(r){var s=r.alternate;if(!s){if(s=c(r),s===null)throw Error(i(188));return s!==r?null:r}for(var l=r,u=s;;){var f=l.return;if(f===null)break;var g=f.alternate;if(g===null){if(u=f.return,u!==null){l=u;continue}break}if(f.child===g.child){for(g=f.child;g;){if(g===l)return m(f),r;if(g===u)return m(f),s;g=g.sibling}throw Error(i(188))}if(l.return!==u.return)l=f,u=g;else{for(var _=!1,A=f.child;A;){if(A===l){_=!0,l=f,u=g;break}if(A===u){_=!0,u=f,l=g;break}A=A.sibling}if(!_){for(A=g.child;A;){if(A===l){_=!0,l=g,u=f;break}if(A===u){_=!0,u=g,l=f;break}A=A.sibling}if(!_)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?r:s}function y(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r;for(r=r.child;r!==null;){if(s=y(r),s!==null)return s;r=r.sibling}return null}var x=Object.assign,j=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),z=Symbol.for("react.fragment"),$=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),M=Symbol.for("react.consumer"),S=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),q=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function D(r){return r===null||typeof r!="object"?null:(r=L&&r[L]||r["@@iterator"],typeof r=="function"?r:null)}var I=Symbol.for("react.client.reference");function Te(r){if(r==null)return null;if(typeof r=="function")return r.$$typeof===I?null:r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case z:return"Fragment";case U:return"Profiler";case $:return"StrictMode";case q:return"Suspense";case R:return"SuspenseList";case T:return"Activity"}if(typeof r=="object")switch(r.$$typeof){case k:return"Portal";case S:return(r.displayName||"Context")+".Provider";case M:return(r._context.displayName||"Context")+".Consumer";case G:var s=r.render;return r=r.displayName,r||(r=s.displayName||s.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case N:return s=r.displayName||null,s!==null?s:Te(r.type)||"Memo";case E:s=r._payload,r=r._init;try{return Te(r(s))}catch{}}return null}var Ie=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,re=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ye={pending:!1,data:null,method:null,action:null},me=[],O=-1;function K(r){return{current:r}}function ce(r){0>O||(r.current=me[O],me[O]=null,O--)}function le(r,s){O++,me[O]=r.current,r.current=s}var ae=K(null),je=K(null),be=K(null),Ce=K(null);function Oe(r,s){switch(le(be,s),le(je,r),le(ae,null),s.nodeType){case 9:case 11:r=(r=s.documentElement)&&(r=r.namespaceURI)?_x(r):0;break;default:if(r=s.tagName,s=s.namespaceURI)s=_x(s),r=wx(s,r);else switch(r){case"svg":r=1;break;case"math":r=2;break;default:r=0}}ce(ae),le(ae,r)}function Be(){ce(ae),ce(je),ce(be)}function Dt(r){r.memoizedState!==null&&le(Ce,r);var s=ae.current,l=wx(s,r.type);s!==l&&(le(je,r),le(ae,l))}function Tt(r){je.current===r&&(ce(ae),ce(je)),Ce.current===r&&(ce(Ce),wc._currentValue=ye)}var Ft=Object.prototype.hasOwnProperty,Ot=n.unstable_scheduleCallback,Ge=n.unstable_cancelCallback,ve=n.unstable_shouldYield,st=n.unstable_requestPaint,_e=n.unstable_now,gt=n.unstable_getCurrentPriorityLevel,tt=n.unstable_ImmediatePriority,Ue=n.unstable_UserBlockingPriority,ge=n.unstable_NormalPriority,V=n.unstable_LowPriority,X=n.unstable_IdlePriority,ie=n.log,we=n.unstable_setDisableYieldValue,pe=null,oe=null;function Ee(r){if(typeof ie=="function"&&we(r),oe&&typeof oe.setStrictMode=="function")try{oe.setStrictMode(pe,r)}catch{}}var Ve=Math.clz32?Math.clz32:ws,ft=Math.log,At=Math.LN2;function ws(r){return r>>>=0,r===0?32:31-(ft(r)/At|0)|0}var Or=256,Vr=4194304;function nr(r){var s=r&42;if(s!==0)return s;switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return r&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return r}}function js(r,s,l){var u=r.pendingLanes;if(u===0)return 0;var f=0,g=r.suspendedLanes,_=r.pingedLanes;r=r.warmLanes;var A=u&134217727;return A!==0?(u=A&~g,u!==0?f=nr(u):(_&=A,_!==0?f=nr(_):l||(l=A&~r,l!==0&&(f=nr(l))))):(A=u&~g,A!==0?f=nr(A):_!==0?f=nr(_):l||(l=u&~r,l!==0&&(f=nr(l)))),f===0?0:s!==0&&s!==f&&(s&g)===0&&(g=f&-f,l=s&-s,g>=l||g===32&&(l&4194048)!==0)?s:f}function Ns(r,s){return(r.pendingLanes&~(r.suspendedLanes&~r.pingedLanes)&s)===0}function ui(r,s){switch(r){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jl(){var r=Or;return Or<<=1,(Or&4194048)===0&&(Or=256),r}function Nl(){var r=Vr;return Vr<<=1,(Vr&62914560)===0&&(Vr=4194304),r}function Es(r){for(var s=[],l=0;31>l;l++)s.push(r);return s}function Ts(r,s){r.pendingLanes|=s,s!==268435456&&(r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0)}function El(r,s,l,u,f,g){var _=r.pendingLanes;r.pendingLanes=l,r.suspendedLanes=0,r.pingedLanes=0,r.warmLanes=0,r.expiredLanes&=l,r.entangledLanes&=l,r.errorRecoveryDisabledLanes&=l,r.shellSuspendCounter=0;var A=r.entanglements,B=r.expirationTimes,ee=r.hiddenUpdates;for(l=_&~l;0<l;){var ue=31-Ve(l),he=1<<ue;A[ue]=0,B[ue]=-1;var te=ee[ue];if(te!==null)for(ee[ue]=null,ue=0;ue<te.length;ue++){var ne=te[ue];ne!==null&&(ne.lane&=-536870913)}l&=~he}u!==0&&$r(r,u,0),g!==0&&f===0&&r.tag!==0&&(r.suspendedLanes|=g&~(_&~s))}function $r(r,s,l){r.pendingLanes|=s,r.suspendedLanes&=~s;var u=31-Ve(s);r.entangledLanes|=s,r.entanglements[u]=r.entanglements[u]|1073741824|l&4194090}function Tl(r,s){var l=r.entangledLanes|=s;for(r=r.entanglements;l;){var u=31-Ve(l),f=1<<u;f&s|r[u]&s&&(r[u]|=s),l&=~f}}function di(r){switch(r){case 2:r=1;break;case 8:r=4;break;case 32:r=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:r=128;break;case 268435456:r=134217728;break;default:r=0}return r}function so(r){return r&=-r,2<r?8<r?(r&134217727)!==0?32:268435456:8:2}function hi(){var r=re.p;return r!==0?r:(r=window.event,r===void 0?32:Fx(r.type))}function xu(r,s){var l=re.p;try{return re.p=r,s()}finally{re.p=l}}var Vt=Math.random().toString(36).slice(2),ln="__reactFiber$"+Vt,Jt="__reactProps$"+Vt,pr="__reactContainer$"+Vt,Al="__reactEvents$"+Vt,pf="__reactListeners$"+Vt,fi="__reactHandles$"+Vt,bu="__reactResources$"+Vt,aa="__reactMarker$"+Vt;function mi(r){delete r[ln],delete r[Jt],delete r[Al],delete r[pf],delete r[fi]}function As(r){var s=r[ln];if(s)return s;for(var l=r.parentNode;l;){if(s=l[pr]||l[ln]){if(l=s.alternate,s.child!==null||l!==null&&l.child!==null)for(r=Tx(r);r!==null;){if(l=r[ln])return l;r=Tx(r)}return s}r=l,l=r.parentNode}return null}function Kr(r){if(r=r[ln]||r[pr]){var s=r.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return r}return null}function Qr(r){var s=r.tag;if(s===5||s===26||s===27||s===6)return r.stateNode;throw Error(i(33))}function Un(r){var s=r[bu];return s||(s=r[bu]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function $t(r){r[aa]=!0}var Sl=new Set,io={};function Mr(r,s){Ss(r,s),Ss(r+"Capture",s)}function Ss(r,s){for(io[r]=s,r=0;r<s.length;r++)Sl.add(s[r])}var _u=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),wu={},oa={};function ju(r){return Ft.call(oa,r)?!0:Ft.call(wu,r)?!1:_u.test(r)?oa[r]=!0:(wu[r]=!0,!1)}function pi(r,s,l){if(ju(s))if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":r.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){r.removeAttribute(s);return}}r.setAttribute(s,""+l)}}function Yr(r,s,l){if(l===null)r.removeAttribute(s);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(s);return}r.setAttribute(s,""+l)}}function bn(r,s,l,u){if(u===null)r.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":r.removeAttribute(l);return}r.setAttributeNS(s,l,""+u)}}var la,Nu;function Rs(r){if(la===void 0)try{throw Error()}catch(l){var s=l.stack.trim().match(/\n( *(at )?)/);la=s&&s[1]||"",Nu=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+la+r+Nu}var ao=!1;function oo(r,s){if(!r||ao)return"";ao=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var he=function(){throw Error()};if(Object.defineProperty(he.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(he,[])}catch(ne){var te=ne}Reflect.construct(r,[],he)}else{try{he.call()}catch(ne){te=ne}r.call(he.prototype)}}else{try{throw Error()}catch(ne){te=ne}(he=r())&&typeof he.catch=="function"&&he.catch(function(){})}}catch(ne){if(ne&&te&&typeof ne.stack=="string")return[ne.stack,te.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=u.DetermineComponentFrameRoot(),_=g[0],A=g[1];if(_&&A){var B=_.split(`
`),ee=A.split(`
`);for(f=u=0;u<B.length&&!B[u].includes("DetermineComponentFrameRoot");)u++;for(;f<ee.length&&!ee[f].includes("DetermineComponentFrameRoot");)f++;if(u===B.length||f===ee.length)for(u=B.length-1,f=ee.length-1;1<=u&&0<=f&&B[u]!==ee[f];)f--;for(;1<=u&&0<=f;u--,f--)if(B[u]!==ee[f]){if(u!==1||f!==1)do if(u--,f--,0>f||B[u]!==ee[f]){var ue=`
`+B[u].replace(" at new "," at ");return r.displayName&&ue.includes("<anonymous>")&&(ue=ue.replace("<anonymous>",r.displayName)),ue}while(1<=u&&0<=f);break}}}finally{ao=!1,Error.prepareStackTrace=l}return(l=r?r.displayName||r.name:"")?Rs(l):""}function Rl(r){switch(r.tag){case 26:case 27:case 5:return Rs(r.type);case 16:return Rs("Lazy");case 13:return Rs("Suspense");case 19:return Rs("SuspenseList");case 0:case 15:return oo(r.type,!1);case 11:return oo(r.type.render,!1);case 1:return oo(r.type,!0);case 31:return Rs("Activity");default:return""}}function lo(r){try{var s="";do s+=Rl(r),r=r.return;while(r);return s}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}function zn(r){switch(typeof r){case"bigint":case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function kl(r){var s=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function gf(r){var s=kl(r)?"checked":"value",l=Object.getOwnPropertyDescriptor(r.constructor.prototype,s),u=""+r[s];if(!r.hasOwnProperty(s)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var f=l.get,g=l.set;return Object.defineProperty(r,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){u=""+_,g.call(this,_)}}),Object.defineProperty(r,s,{enumerable:l.enumerable}),{getValue:function(){return u},setValue:function(_){u=""+_},stopTracking:function(){r._valueTracker=null,delete r[s]}}}}function co(r){r._valueTracker||(r._valueTracker=gf(r))}function Cl(r){if(!r)return!1;var s=r._valueTracker;if(!s)return!0;var l=s.getValue(),u="";return r&&(u=kl(r)?r.checked?"true":"false":r.value),r=u,r!==l?(s.setValue(r),!0):!1}function ca(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}var yf=/[\n"\\]/g;function Zt(r){return r.replace(yf,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function rr(r,s,l,u,f,g,_,A){r.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?r.type=_:r.removeAttribute("type"),s!=null?_==="number"?(s===0&&r.value===""||r.value!=s)&&(r.value=""+zn(s)):r.value!==""+zn(s)&&(r.value=""+zn(s)):_!=="submit"&&_!=="reset"||r.removeAttribute("value"),s!=null?gi(r,_,zn(s)):l!=null?gi(r,_,zn(l)):u!=null&&r.removeAttribute("value"),f==null&&g!=null&&(r.defaultChecked=!!g),f!=null&&(r.checked=f&&typeof f!="function"&&typeof f!="symbol"),A!=null&&typeof A!="function"&&typeof A!="symbol"&&typeof A!="boolean"?r.name=""+zn(A):r.removeAttribute("name")}function ua(r,s,l,u,f,g,_,A){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(r.type=g),s!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||s!=null))return;l=l!=null?""+zn(l):"",s=s!=null?""+zn(s):l,A||s===r.value||(r.value=s),r.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,r.checked=A?r.checked:!!u,r.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(r.name=_)}function gi(r,s,l){s==="number"&&ca(r.ownerDocument)===r||r.defaultValue===""+l||(r.defaultValue=""+l)}function ks(r,s,l,u){if(r=r.options,s){s={};for(var f=0;f<l.length;f++)s["$"+l[f]]=!0;for(l=0;l<r.length;l++)f=s.hasOwnProperty("$"+r[l].value),r[l].selected!==f&&(r[l].selected=f),f&&u&&(r[l].defaultSelected=!0)}else{for(l=""+zn(l),s=null,f=0;f<r.length;f++){if(r[f].value===l){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}s!==null||r[f].disabled||(s=r[f])}s!==null&&(s.selected=!0)}}function _t(r,s,l){if(s!=null&&(s=""+zn(s),s!==r.value&&(r.value=s),l==null)){r.defaultValue!==s&&(r.defaultValue=s);return}r.defaultValue=l!=null?""+zn(l):""}function da(r,s,l,u){if(s==null){if(u!=null){if(l!=null)throw Error(i(92));if(Ie(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),s=l}l=zn(s),r.defaultValue=l,u=r.textContent,u===l&&u!==""&&u!==null&&(r.value=u)}function gr(r,s){if(s){var l=r.firstChild;if(l&&l===r.lastChild&&l.nodeType===3){l.nodeValue=s;return}}r.textContent=s}var ha=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Eu(r,s,l){var u=s.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?r.setProperty(s,""):s==="float"?r.cssFloat="":r[s]="":u?r.setProperty(s,l):typeof l!="number"||l===0||ha.has(s)?s==="float"?r.cssFloat=l:r[s]=(""+l).trim():r[s]=l+"px"}function Il(r,s,l){if(s!=null&&typeof s!="object")throw Error(i(62));if(r=r.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?r.setProperty(u,""):u==="float"?r.cssFloat="":r[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&l[f]!==u&&Eu(r,f,u)}else for(var g in s)s.hasOwnProperty(g)&&Eu(r,g,s[g])}function Dl(r){if(r.indexOf("-")===-1)return!1;switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),xf=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function uo(r){return xf.test(""+r)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":r}var Cs=null;function yr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var Is=null,Ds=null;function Ol(r){var s=Kr(r);if(s&&(r=s.stateNode)){var l=r[Jt]||null;e:switch(r=s.stateNode,s.type){case"input":if(rr(r,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),s=l.name,l.type==="radio"&&s!=null){for(l=r;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+Zt(""+s)+'"][type="radio"]'),s=0;s<l.length;s++){var u=l[s];if(u!==r&&u.form===r.form){var f=u[Jt]||null;if(!f)throw Error(i(90));rr(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<l.length;s++)u=l[s],u.form===r.form&&Cl(u)}break e;case"textarea":_t(r,l.value,l.defaultValue);break e;case"select":s=l.value,s!=null&&ks(r,!!l.multiple,s,!1)}}}var Wr=!1;function Tu(r,s,l){if(Wr)return r(s,l);Wr=!0;try{var u=r(s);return u}finally{if(Wr=!1,(Is!==null||Ds!==null)&&(xd(),Is&&(s=Is,r=Ds,Ds=Is=null,Ol(s),r)))for(s=0;s<r.length;s++)Ol(r[s])}}function fa(r,s){var l=r.stateNode;if(l===null)return null;var u=l[Jt]||null;if(u===null)return null;l=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(l&&typeof l!="function")throw Error(i(231,s,typeof l));return l}var Pr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vr=!1;if(Pr)try{var ma={};Object.defineProperty(ma,"passive",{get:function(){vr=!0}}),window.addEventListener("test",ma,ma),window.removeEventListener("test",ma,ma)}catch{vr=!1}var Xr=null,yi=null,Os=null;function Vl(){if(Os)return Os;var r,s=yi,l=s.length,u,f="value"in Xr?Xr.value:Xr.textContent,g=f.length;for(r=0;r<l&&s[r]===f[r];r++);var _=l-r;for(u=1;u<=_&&s[l-u]===f[g-u];u++);return Os=f.slice(r,1<u?1-u:void 0)}function Jr(r){var s=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&s===13&&(r=13)):r=s,r===10&&(r=13),32<=r||r===13?r:0}function Zr(){return!0}function Ml(){return!1}function mn(r){function s(l,u,f,g,_){this._reactName=l,this._targetInst=f,this.type=u,this.nativeEvent=g,this.target=_,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(l=r[A],this[A]=l?l(g):g[A]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Zr:Ml,this.isPropagationStopped=Ml,this}return x(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Zr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Zr)},persist:function(){},isPersistent:Zr}),s}var pt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ho=mn(pt),pa=x({},pt,{view:0,detail:0}),Au=mn(pa),fo,mo,es,ga=x({},pa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xa,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==es&&(es&&r.type==="mousemove"?(fo=r.screenX-es.screenX,mo=r.screenY-es.screenY):mo=fo=0,es=r),fo)},movementY:function(r){return"movementY"in r?r.movementY:mo}}),xr=mn(ga),Su=x({},ga,{dataTransfer:0}),bf=mn(Su),ya=x({},pa,{relatedTarget:0}),po=mn(ya),Pl=x({},pt,{animationName:0,elapsedTime:0,pseudoElement:0}),go=mn(Pl),Ru=x({},pt,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),yo=mn(Ru),_f=x({},pt,{data:0}),Ll=mn(_f),va={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ku={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ul(r){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(r):(r=Cu[r])?!!s[r]:!1}function xa(){return Ul}var Iu=x({},pa,{key:function(r){if(r.key){var s=va[r.key]||r.key;if(s!=="Unidentified")return s}return r.type==="keypress"?(r=Jr(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?ku[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xa,charCode:function(r){return r.type==="keypress"?Jr(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?Jr(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),vo=mn(Iu),Du=x({},ga,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),zl=mn(Du),Vs=x({},pa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xa}),Ou=mn(Vs),Vu=x({},pt,{propertyName:0,elapsedTime:0,pseudoElement:0}),Mu=mn(Vu),Pu=x({},ga,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),xo=mn(Pu),Fn=x({},pt,{newState:0,oldState:0}),Lu=mn(Fn),Uu=[9,13,27,32],ts=Pr&&"CompositionEvent"in window,h=null;Pr&&"documentMode"in document&&(h=document.documentMode);var v=Pr&&"TextEvent"in window&&!h,b=Pr&&(!ts||h&&8<h&&11>=h),C=" ",W=!1;function se(r,s){switch(r){case"keyup":return Uu.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ne(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var at=!1;function cn(r,s){switch(r){case"compositionend":return Ne(s);case"keypress":return s.which!==32?null:(W=!0,C);case"textInput":return r=s.data,r===C&&W?null:r;default:return null}}function ot(r,s){if(at)return r==="compositionend"||!ts&&se(r,s)?(r=Vl(),Os=yi=Xr=null,at=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return b&&s.locale!=="ko"?null:s.data;default:return null}}var pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function un(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s==="input"?!!pn[r.type]:s==="textarea"}function Ms(r,s,l,u){Is?Ds?Ds.push(u):Ds=[u]:Is=u,s=Ed(s,"onChange"),0<s.length&&(l=new ho("onChange","change",null,l,u),r.push({event:l,listeners:s}))}var _n=null,ns=null;function Fl(r){gx(r,0)}function zu(r){var s=Qr(r);if(Cl(s))return r}function P0(r,s){if(r==="change")return s}var L0=!1;if(Pr){var wf;if(Pr){var jf="oninput"in document;if(!jf){var U0=document.createElement("div");U0.setAttribute("oninput","return;"),jf=typeof U0.oninput=="function"}wf=jf}else wf=!1;L0=wf&&(!document.documentMode||9<document.documentMode)}function z0(){_n&&(_n.detachEvent("onpropertychange",F0),ns=_n=null)}function F0(r){if(r.propertyName==="value"&&zu(ns)){var s=[];Ms(s,ns,r,yr(r)),Tu(Fl,s)}}function Uj(r,s,l){r==="focusin"?(z0(),_n=s,ns=l,_n.attachEvent("onpropertychange",F0)):r==="focusout"&&z0()}function zj(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return zu(ns)}function Fj(r,s){if(r==="click")return zu(s)}function Bj(r,s){if(r==="input"||r==="change")return zu(s)}function qj(r,s){return r===s&&(r!==0||1/r===1/s)||r!==r&&s!==s}var sr=typeof Object.is=="function"?Object.is:qj;function Bl(r,s){if(sr(r,s))return!0;if(typeof r!="object"||r===null||typeof s!="object"||s===null)return!1;var l=Object.keys(r),u=Object.keys(s);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var f=l[u];if(!Ft.call(s,f)||!sr(r[f],s[f]))return!1}return!0}function B0(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function q0(r,s){var l=B0(r);r=0;for(var u;l;){if(l.nodeType===3){if(u=r+l.textContent.length,r<=s&&u>=s)return{node:l,offset:s-r};r=u}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=B0(l)}}function H0(r,s){return r&&s?r===s?!0:r&&r.nodeType===3?!1:s&&s.nodeType===3?H0(r,s.parentNode):"contains"in r?r.contains(s):r.compareDocumentPosition?!!(r.compareDocumentPosition(s)&16):!1:!1}function G0(r){r=r!=null&&r.ownerDocument!=null&&r.ownerDocument.defaultView!=null?r.ownerDocument.defaultView:window;for(var s=ca(r.document);s instanceof r.HTMLIFrameElement;){try{var l=typeof s.contentWindow.location.href=="string"}catch{l=!1}if(l)r=s.contentWindow;else break;s=ca(r.document)}return s}function Nf(r){var s=r&&r.nodeName&&r.nodeName.toLowerCase();return s&&(s==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||s==="textarea"||r.contentEditable==="true")}var Hj=Pr&&"documentMode"in document&&11>=document.documentMode,bo=null,Ef=null,ql=null,Tf=!1;function $0(r,s,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Tf||bo==null||bo!==ca(u)||(u=bo,"selectionStart"in u&&Nf(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),ql&&Bl(ql,u)||(ql=u,u=Ed(Ef,"onSelect"),0<u.length&&(s=new ho("onSelect","select",null,s,l),r.push({event:s,listeners:u}),s.target=bo)))}function ba(r,s){var l={};return l[r.toLowerCase()]=s.toLowerCase(),l["Webkit"+r]="webkit"+s,l["Moz"+r]="moz"+s,l}var _o={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionrun:ba("Transition","TransitionRun"),transitionstart:ba("Transition","TransitionStart"),transitioncancel:ba("Transition","TransitionCancel"),transitionend:ba("Transition","TransitionEnd")},Af={},K0={};Pr&&(K0=document.createElement("div").style,"AnimationEvent"in window||(delete _o.animationend.animation,delete _o.animationiteration.animation,delete _o.animationstart.animation),"TransitionEvent"in window||delete _o.transitionend.transition);function _a(r){if(Af[r])return Af[r];if(!_o[r])return r;var s=_o[r],l;for(l in s)if(s.hasOwnProperty(l)&&l in K0)return Af[r]=s[l];return r}var Q0=_a("animationend"),Y0=_a("animationiteration"),W0=_a("animationstart"),Gj=_a("transitionrun"),$j=_a("transitionstart"),Kj=_a("transitioncancel"),X0=_a("transitionend"),J0=new Map,Sf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Sf.push("scrollEnd");function Lr(r,s){J0.set(r,s),Mr(s,[r])}var Z0=new WeakMap;function br(r,s){if(typeof r=="object"&&r!==null){var l=Z0.get(r);return l!==void 0?l:(s={value:r,source:s,stack:lo(s)},Z0.set(r,s),s)}return{value:r,source:s,stack:lo(s)}}var _r=[],wo=0,Rf=0;function Fu(){for(var r=wo,s=Rf=wo=0;s<r;){var l=_r[s];_r[s++]=null;var u=_r[s];_r[s++]=null;var f=_r[s];_r[s++]=null;var g=_r[s];if(_r[s++]=null,u!==null&&f!==null){var _=u.pending;_===null?f.next=f:(f.next=_.next,_.next=f),u.pending=f}g!==0&&ey(l,f,g)}}function Bu(r,s,l,u){_r[wo++]=r,_r[wo++]=s,_r[wo++]=l,_r[wo++]=u,Rf|=u,r.lanes|=u,r=r.alternate,r!==null&&(r.lanes|=u)}function kf(r,s,l,u){return Bu(r,s,l,u),qu(r)}function jo(r,s){return Bu(r,null,null,s),qu(r)}function ey(r,s,l){r.lanes|=l;var u=r.alternate;u!==null&&(u.lanes|=l);for(var f=!1,g=r.return;g!==null;)g.childLanes|=l,u=g.alternate,u!==null&&(u.childLanes|=l),g.tag===22&&(r=g.stateNode,r===null||r._visibility&1||(f=!0)),r=g,g=g.return;return r.tag===3?(g=r.stateNode,f&&s!==null&&(f=31-Ve(l),r=g.hiddenUpdates,u=r[f],u===null?r[f]=[s]:u.push(s),s.lane=l|536870912),g):null}function qu(r){if(50<mc)throw mc=0,Mm=null,Error(i(185));for(var s=r.return;s!==null;)r=s,s=r.return;return r.tag===3?r.stateNode:null}var No={};function Qj(r,s,l,u){this.tag=r,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ir(r,s,l,u){return new Qj(r,s,l,u)}function Cf(r){return r=r.prototype,!(!r||!r.isReactComponent)}function Ps(r,s){var l=r.alternate;return l===null?(l=ir(r.tag,s,r.key,r.mode),l.elementType=r.elementType,l.type=r.type,l.stateNode=r.stateNode,l.alternate=r,r.alternate=l):(l.pendingProps=s,l.type=r.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=r.flags&65011712,l.childLanes=r.childLanes,l.lanes=r.lanes,l.child=r.child,l.memoizedProps=r.memoizedProps,l.memoizedState=r.memoizedState,l.updateQueue=r.updateQueue,s=r.dependencies,l.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},l.sibling=r.sibling,l.index=r.index,l.ref=r.ref,l.refCleanup=r.refCleanup,l}function ty(r,s){r.flags&=65011714;var l=r.alternate;return l===null?(r.childLanes=0,r.lanes=s,r.child=null,r.subtreeFlags=0,r.memoizedProps=null,r.memoizedState=null,r.updateQueue=null,r.dependencies=null,r.stateNode=null):(r.childLanes=l.childLanes,r.lanes=l.lanes,r.child=l.child,r.subtreeFlags=0,r.deletions=null,r.memoizedProps=l.memoizedProps,r.memoizedState=l.memoizedState,r.updateQueue=l.updateQueue,r.type=l.type,s=l.dependencies,r.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),r}function Hu(r,s,l,u,f,g){var _=0;if(u=r,typeof r=="function")Cf(r)&&(_=1);else if(typeof r=="string")_=WN(r,l,ae.current)?26:r==="html"||r==="head"||r==="body"?27:5;else e:switch(r){case T:return r=ir(31,l,s,f),r.elementType=T,r.lanes=g,r;case z:return wa(l.children,f,g,s);case $:_=8,f|=24;break;case U:return r=ir(12,l,s,f|2),r.elementType=U,r.lanes=g,r;case q:return r=ir(13,l,s,f),r.elementType=q,r.lanes=g,r;case R:return r=ir(19,l,s,f),r.elementType=R,r.lanes=g,r;default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case H:case S:_=10;break e;case M:_=9;break e;case G:_=11;break e;case N:_=14;break e;case E:_=16,u=null;break e}_=29,l=Error(i(130,r===null?"null":typeof r,"")),u=null}return s=ir(_,l,s,f),s.elementType=r,s.type=u,s.lanes=g,s}function wa(r,s,l,u){return r=ir(7,r,u,s),r.lanes=l,r}function If(r,s,l){return r=ir(6,r,null,s),r.lanes=l,r}function Df(r,s,l){return s=ir(4,r.children!==null?r.children:[],r.key,s),s.lanes=l,s.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},s}var Eo=[],To=0,Gu=null,$u=0,wr=[],jr=0,ja=null,Ls=1,Us="";function Na(r,s){Eo[To++]=$u,Eo[To++]=Gu,Gu=r,$u=s}function ny(r,s,l){wr[jr++]=Ls,wr[jr++]=Us,wr[jr++]=ja,ja=r;var u=Ls;r=Us;var f=32-Ve(u)-1;u&=~(1<<f),l+=1;var g=32-Ve(s)+f;if(30<g){var _=f-f%5;g=(u&(1<<_)-1).toString(32),u>>=_,f-=_,Ls=1<<32-Ve(s)+f|l<<f|u,Us=g+r}else Ls=1<<g|l<<f|u,Us=r}function Of(r){r.return!==null&&(Na(r,1),ny(r,1,0))}function Vf(r){for(;r===Gu;)Gu=Eo[--To],Eo[To]=null,$u=Eo[--To],Eo[To]=null;for(;r===ja;)ja=wr[--jr],wr[jr]=null,Us=wr[--jr],wr[jr]=null,Ls=wr[--jr],wr[jr]=null}var Bn=null,Bt=null,mt=!1,Ea=null,rs=!1,Mf=Error(i(519));function Ta(r){var s=Error(i(418,""));throw $l(br(s,r)),Mf}function ry(r){var s=r.stateNode,l=r.type,u=r.memoizedProps;switch(s[ln]=r,s[Jt]=u,l){case"dialog":et("cancel",s),et("close",s);break;case"iframe":case"object":case"embed":et("load",s);break;case"video":case"audio":for(l=0;l<gc.length;l++)et(gc[l],s);break;case"source":et("error",s);break;case"img":case"image":case"link":et("error",s),et("load",s);break;case"details":et("toggle",s);break;case"input":et("invalid",s),ua(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0),co(s);break;case"select":et("invalid",s);break;case"textarea":et("invalid",s),da(s,u.value,u.defaultValue,u.children),co(s)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||s.textContent===""+l||u.suppressHydrationWarning===!0||bx(s.textContent,l)?(u.popover!=null&&(et("beforetoggle",s),et("toggle",s)),u.onScroll!=null&&et("scroll",s),u.onScrollEnd!=null&&et("scrollend",s),u.onClick!=null&&(s.onclick=Td),s=!0):s=!1,s||Ta(r)}function sy(r){for(Bn=r.return;Bn;)switch(Bn.tag){case 5:case 13:rs=!1;return;case 27:case 3:rs=!0;return;default:Bn=Bn.return}}function Hl(r){if(r!==Bn)return!1;if(!mt)return sy(r),mt=!0,!1;var s=r.tag,l;if((l=s!==3&&s!==27)&&((l=s===5)&&(l=r.type,l=!(l!=="form"&&l!=="button")||Jm(r.type,r.memoizedProps)),l=!l),l&&Bt&&Ta(r),sy(r),s===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(i(317));e:{for(r=r.nextSibling,s=0;r;){if(r.nodeType===8)if(l=r.data,l==="/$"){if(s===0){Bt=zr(r.nextSibling);break e}s--}else l!=="$"&&l!=="$!"&&l!=="$?"||s++;r=r.nextSibling}Bt=null}}else s===27?(s=Bt,Di(r.type)?(r=np,np=null,Bt=r):Bt=s):Bt=Bn?zr(r.stateNode.nextSibling):null;return!0}function Gl(){Bt=Bn=null,mt=!1}function iy(){var r=Ea;return r!==null&&(Qn===null?Qn=r:Qn.push.apply(Qn,r),Ea=null),r}function $l(r){Ea===null?Ea=[r]:Ea.push(r)}var Pf=K(null),Aa=null,zs=null;function vi(r,s,l){le(Pf,s._currentValue),s._currentValue=l}function Fs(r){r._currentValue=Pf.current,ce(Pf)}function Lf(r,s,l){for(;r!==null;){var u=r.alternate;if((r.childLanes&s)!==s?(r.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),r===l)break;r=r.return}}function Uf(r,s,l,u){var f=r.child;for(f!==null&&(f.return=r);f!==null;){var g=f.dependencies;if(g!==null){var _=f.child;g=g.firstContext;e:for(;g!==null;){var A=g;g=f;for(var B=0;B<s.length;B++)if(A.context===s[B]){g.lanes|=l,A=g.alternate,A!==null&&(A.lanes|=l),Lf(g.return,l,r),u||(_=null);break e}g=A.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(i(341));_.lanes|=l,g=_.alternate,g!==null&&(g.lanes|=l),Lf(_,l,r),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===r){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function Kl(r,s,l,u){r=null;for(var f=s,g=!1;f!==null;){if(!g){if((f.flags&524288)!==0)g=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var A=f.type;sr(f.pendingProps.value,_.value)||(r!==null?r.push(A):r=[A])}}else if(f===Ce.current){if(_=f.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(r!==null?r.push(wc):r=[wc])}f=f.return}r!==null&&Uf(s,r,l,u),s.flags|=262144}function Ku(r){for(r=r.firstContext;r!==null;){if(!sr(r.context._currentValue,r.memoizedValue))return!0;r=r.next}return!1}function Sa(r){Aa=r,zs=null,r=r.dependencies,r!==null&&(r.firstContext=null)}function kn(r){return ay(Aa,r)}function Qu(r,s){return Aa===null&&Sa(r),ay(r,s)}function ay(r,s){var l=s._currentValue;if(s={context:s,memoizedValue:l,next:null},zs===null){if(r===null)throw Error(i(308));zs=s,r.dependencies={lanes:0,firstContext:s},r.flags|=524288}else zs=zs.next=s;return l}var Yj=typeof AbortController<"u"?AbortController:function(){var r=[],s=this.signal={aborted:!1,addEventListener:function(l,u){r.push(u)}};this.abort=function(){s.aborted=!0,r.forEach(function(l){return l()})}},Wj=n.unstable_scheduleCallback,Xj=n.unstable_NormalPriority,dn={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zf(){return{controller:new Yj,data:new Map,refCount:0}}function Ql(r){r.refCount--,r.refCount===0&&Wj(Xj,function(){r.controller.abort()})}var Yl=null,Ff=0,Ao=0,So=null;function Jj(r,s){if(Yl===null){var l=Yl=[];Ff=0,Ao=qm(),So={status:"pending",value:void 0,then:function(u){l.push(u)}}}return Ff++,s.then(oy,oy),s}function oy(){if(--Ff===0&&Yl!==null){So!==null&&(So.status="fulfilled");var r=Yl;Yl=null,Ao=0,So=null;for(var s=0;s<r.length;s++)(0,r[s])()}}function Zj(r,s){var l=[],u={status:"pending",value:null,reason:null,then:function(f){l.push(f)}};return r.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<l.length;f++)(0,l[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<l.length;f++)(0,l[f])(void 0)}),u}var ly=Z.S;Z.S=function(r,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&Jj(r,s),ly!==null&&ly(r,s)};var Ra=K(null);function Bf(){var r=Ra.current;return r!==null?r:St.pooledCache}function Yu(r,s){s===null?le(Ra,Ra.current):le(Ra,s.pool)}function cy(){var r=Bf();return r===null?null:{parent:dn._currentValue,pool:r}}var Wl=Error(i(460)),uy=Error(i(474)),Wu=Error(i(542)),qf={then:function(){}};function dy(r){return r=r.status,r==="fulfilled"||r==="rejected"}function Xu(){}function hy(r,s,l){switch(l=r[l],l===void 0?r.push(s):l!==s&&(s.then(Xu,Xu),s=l),s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,my(r),r;default:if(typeof s.status=="string")s.then(Xu,Xu);else{if(r=St,r!==null&&100<r.shellSuspendCounter)throw Error(i(482));r=s,r.status="pending",r.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw r=s.reason,my(r),r}throw Xl=s,Wl}}var Xl=null;function fy(){if(Xl===null)throw Error(i(459));var r=Xl;return Xl=null,r}function my(r){if(r===Wl||r===Wu)throw Error(i(483))}var xi=!1;function Hf(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gf(r,s){r=r.updateQueue,s.updateQueue===r&&(s.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,callbacks:null})}function bi(r){return{lane:r,tag:0,payload:null,callback:null,next:null}}function _i(r,s,l){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(yt&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=qu(r),ey(r,null,l),s}return Bu(r,u,s,l),qu(r)}function Jl(r,s,l){if(s=s.updateQueue,s!==null&&(s=s.shared,(l&4194048)!==0)){var u=s.lanes;u&=r.pendingLanes,l|=u,s.lanes=l,Tl(r,l)}}function $f(r,s){var l=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var f=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var _={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?f=g=_:g=g.next=_,l=l.next}while(l!==null);g===null?f=g=s:g=g.next=s}else f=g=s;l={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:g,shared:u.shared,callbacks:u.callbacks},r.updateQueue=l;return}r=l.lastBaseUpdate,r===null?l.firstBaseUpdate=s:r.next=s,l.lastBaseUpdate=s}var Kf=!1;function Zl(){if(Kf){var r=So;if(r!==null)throw r}}function ec(r,s,l,u){Kf=!1;var f=r.updateQueue;xi=!1;var g=f.firstBaseUpdate,_=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var B=A,ee=B.next;B.next=null,_===null?g=ee:_.next=ee,_=B;var ue=r.alternate;ue!==null&&(ue=ue.updateQueue,A=ue.lastBaseUpdate,A!==_&&(A===null?ue.firstBaseUpdate=ee:A.next=ee,ue.lastBaseUpdate=B))}if(g!==null){var he=f.baseState;_=0,ue=ee=B=null,A=g;do{var te=A.lane&-536870913,ne=te!==A.lane;if(ne?(lt&te)===te:(u&te)===te){te!==0&&te===Ao&&(Kf=!0),ue!==null&&(ue=ue.next={lane:0,tag:A.tag,payload:A.payload,callback:null,next:null});e:{var qe=r,ze=A;te=s;var Nt=l;switch(ze.tag){case 1:if(qe=ze.payload,typeof qe=="function"){he=qe.call(Nt,he,te);break e}he=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=ze.payload,te=typeof qe=="function"?qe.call(Nt,he,te):qe,te==null)break e;he=x({},he,te);break e;case 2:xi=!0}}te=A.callback,te!==null&&(r.flags|=64,ne&&(r.flags|=8192),ne=f.callbacks,ne===null?f.callbacks=[te]:ne.push(te))}else ne={lane:te,tag:A.tag,payload:A.payload,callback:A.callback,next:null},ue===null?(ee=ue=ne,B=he):ue=ue.next=ne,_|=te;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;ne=A,A=ne.next,ne.next=null,f.lastBaseUpdate=ne,f.shared.pending=null}}while(!0);ue===null&&(B=he),f.baseState=B,f.firstBaseUpdate=ee,f.lastBaseUpdate=ue,g===null&&(f.shared.lanes=0),Ri|=_,r.lanes=_,r.memoizedState=he}}function py(r,s){if(typeof r!="function")throw Error(i(191,r));r.call(s)}function gy(r,s){var l=r.callbacks;if(l!==null)for(r.callbacks=null,r=0;r<l.length;r++)py(l[r],s)}var Ro=K(null),Ju=K(0);function yy(r,s){r=Qs,le(Ju,r),le(Ro,s),Qs=r|s.baseLanes}function Qf(){le(Ju,Qs),le(Ro,Ro.current)}function Yf(){Qs=Ju.current,ce(Ro),ce(Ju)}var wi=0,Xe=null,wt=null,en=null,Zu=!1,ko=!1,ka=!1,ed=0,tc=0,Co=null,eN=0;function Kt(){throw Error(i(321))}function Wf(r,s){if(s===null)return!1;for(var l=0;l<s.length&&l<r.length;l++)if(!sr(r[l],s[l]))return!1;return!0}function Xf(r,s,l,u,f,g){return wi=g,Xe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Z.H=r===null||r.memoizedState===null?ev:tv,ka=!1,g=l(u,f),ka=!1,ko&&(g=xy(s,l,u,f)),vy(r),g}function vy(r){Z.H=ad;var s=wt!==null&&wt.next!==null;if(wi=0,en=wt=Xe=null,Zu=!1,tc=0,Co=null,s)throw Error(i(300));r===null||gn||(r=r.dependencies,r!==null&&Ku(r)&&(gn=!0))}function xy(r,s,l,u){Xe=r;var f=0;do{if(ko&&(Co=null),tc=0,ko=!1,25<=f)throw Error(i(301));if(f+=1,en=wt=null,r.updateQueue!=null){var g=r.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}Z.H=oN,g=s(l,u)}while(ko);return g}function tN(){var r=Z.H,s=r.useState()[0];return s=typeof s.then=="function"?nc(s):s,r=r.useState()[0],(wt!==null?wt.memoizedState:null)!==r&&(Xe.flags|=1024),s}function Jf(){var r=ed!==0;return ed=0,r}function Zf(r,s,l){s.updateQueue=r.updateQueue,s.flags&=-2053,r.lanes&=~l}function em(r){if(Zu){for(r=r.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Zu=!1}wi=0,en=wt=Xe=null,ko=!1,tc=ed=0,Co=null}function $n(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Xe.memoizedState=en=r:en=en.next=r,en}function tn(){if(wt===null){var r=Xe.alternate;r=r!==null?r.memoizedState:null}else r=wt.next;var s=en===null?Xe.memoizedState:en.next;if(s!==null)en=s,wt=r;else{if(r===null)throw Xe.alternate===null?Error(i(467)):Error(i(310));wt=r,r={memoizedState:wt.memoizedState,baseState:wt.baseState,baseQueue:wt.baseQueue,queue:wt.queue,next:null},en===null?Xe.memoizedState=en=r:en=en.next=r}return en}function tm(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function nc(r){var s=tc;return tc+=1,Co===null&&(Co=[]),r=hy(Co,r,s),s=Xe,(en===null?s.memoizedState:en.next)===null&&(s=s.alternate,Z.H=s===null||s.memoizedState===null?ev:tv),r}function td(r){if(r!==null&&typeof r=="object"){if(typeof r.then=="function")return nc(r);if(r.$$typeof===S)return kn(r)}throw Error(i(438,String(r)))}function nm(r){var s=null,l=Xe.updateQueue;if(l!==null&&(s=l.memoCache),s==null){var u=Xe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),l===null&&(l=tm(),Xe.updateQueue=l),l.memoCache=s,l=s.data[s.index],l===void 0)for(l=s.data[s.index]=Array(r),u=0;u<r;u++)l[u]=P;return s.index++,l}function Bs(r,s){return typeof s=="function"?s(r):s}function nd(r){var s=tn();return rm(s,wt,r)}function rm(r,s,l){var u=r.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var f=r.baseQueue,g=u.pending;if(g!==null){if(f!==null){var _=f.next;f.next=g.next,g.next=_}s.baseQueue=f=g,u.pending=null}if(g=r.baseState,f===null)r.memoizedState=g;else{s=f.next;var A=_=null,B=null,ee=s,ue=!1;do{var he=ee.lane&-536870913;if(he!==ee.lane?(lt&he)===he:(wi&he)===he){var te=ee.revertLane;if(te===0)B!==null&&(B=B.next={lane:0,revertLane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),he===Ao&&(ue=!0);else if((wi&te)===te){ee=ee.next,te===Ao&&(ue=!0);continue}else he={lane:0,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},B===null?(A=B=he,_=g):B=B.next=he,Xe.lanes|=te,Ri|=te;he=ee.action,ka&&l(g,he),g=ee.hasEagerState?ee.eagerState:l(g,he)}else te={lane:he,revertLane:ee.revertLane,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null},B===null?(A=B=te,_=g):B=B.next=te,Xe.lanes|=he,Ri|=he;ee=ee.next}while(ee!==null&&ee!==s);if(B===null?_=g:B.next=A,!sr(g,r.memoizedState)&&(gn=!0,ue&&(l=So,l!==null)))throw l;r.memoizedState=g,r.baseState=_,r.baseQueue=B,u.lastRenderedState=g}return f===null&&(u.lanes=0),[r.memoizedState,u.dispatch]}function sm(r){var s=tn(),l=s.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=r;var u=l.dispatch,f=l.pending,g=s.memoizedState;if(f!==null){l.pending=null;var _=f=f.next;do g=r(g,_.action),_=_.next;while(_!==f);sr(g,s.memoizedState)||(gn=!0),s.memoizedState=g,s.baseQueue===null&&(s.baseState=g),l.lastRenderedState=g}return[g,u]}function by(r,s,l){var u=Xe,f=tn(),g=mt;if(g){if(l===void 0)throw Error(i(407));l=l()}else l=s();var _=!sr((wt||f).memoizedState,l);_&&(f.memoizedState=l,gn=!0),f=f.queue;var A=jy.bind(null,u,f,r);if(rc(2048,8,A,[r]),f.getSnapshot!==s||_||en!==null&&en.memoizedState.tag&1){if(u.flags|=2048,Io(9,rd(),wy.bind(null,u,f,l,s),null),St===null)throw Error(i(349));g||(wi&124)!==0||_y(u,s,l)}return l}function _y(r,s,l){r.flags|=16384,r={getSnapshot:s,value:l},s=Xe.updateQueue,s===null?(s=tm(),Xe.updateQueue=s,s.stores=[r]):(l=s.stores,l===null?s.stores=[r]:l.push(r))}function wy(r,s,l,u){s.value=l,s.getSnapshot=u,Ny(s)&&Ey(r)}function jy(r,s,l){return l(function(){Ny(s)&&Ey(r)})}function Ny(r){var s=r.getSnapshot;r=r.value;try{var l=s();return!sr(r,l)}catch{return!0}}function Ey(r){var s=jo(r,2);s!==null&&ur(s,r,2)}function im(r){var s=$n();if(typeof r=="function"){var l=r;if(r=l(),ka){Ee(!0);try{l()}finally{Ee(!1)}}}return s.memoizedState=s.baseState=r,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:r},s}function Ty(r,s,l,u){return r.baseState=l,rm(r,wt,typeof u=="function"?u:Bs)}function nN(r,s,l,u,f){if(id(r))throw Error(i(485));if(r=s.action,r!==null){var g={payload:f,action:r,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){g.listeners.push(_)}};Z.T!==null?l(!0):g.isTransition=!1,u(g),l=s.pending,l===null?(g.next=s.pending=g,Ay(s,g)):(g.next=l.next,s.pending=l.next=g)}}function Ay(r,s){var l=s.action,u=s.payload,f=r.state;if(s.isTransition){var g=Z.T,_={};Z.T=_;try{var A=l(f,u),B=Z.S;B!==null&&B(_,A),Sy(r,s,A)}catch(ee){am(r,s,ee)}finally{Z.T=g}}else try{g=l(f,u),Sy(r,s,g)}catch(ee){am(r,s,ee)}}function Sy(r,s,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){Ry(r,s,u)},function(u){return am(r,s,u)}):Ry(r,s,l)}function Ry(r,s,l){s.status="fulfilled",s.value=l,ky(s),r.state=l,s=r.pending,s!==null&&(l=s.next,l===s?r.pending=null:(l=l.next,s.next=l,Ay(r,l)))}function am(r,s,l){var u=r.pending;if(r.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=l,ky(s),s=s.next;while(s!==u)}r.action=null}function ky(r){r=r.listeners;for(var s=0;s<r.length;s++)(0,r[s])()}function Cy(r,s){return s}function Iy(r,s){if(mt){var l=St.formState;if(l!==null){e:{var u=Xe;if(mt){if(Bt){t:{for(var f=Bt,g=rs;f.nodeType!==8;){if(!g){f=null;break t}if(f=zr(f.nextSibling),f===null){f=null;break t}}g=f.data,f=g==="F!"||g==="F"?f:null}if(f){Bt=zr(f.nextSibling),u=f.data==="F!";break e}}Ta(u)}u=!1}u&&(s=l[0])}}return l=$n(),l.memoizedState=l.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cy,lastRenderedState:s},l.queue=u,l=Xy.bind(null,Xe,u),u.dispatch=l,u=im(!1),g=dm.bind(null,Xe,!1,u.queue),u=$n(),f={state:s,dispatch:null,action:r,pending:null},u.queue=f,l=nN.bind(null,Xe,f,g,l),f.dispatch=l,u.memoizedState=r,[s,l,!1]}function Dy(r){var s=tn();return Oy(s,wt,r)}function Oy(r,s,l){if(s=rm(r,s,Cy)[0],r=nd(Bs)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=nc(s)}catch(_){throw _===Wl?Wu:_}else u=s;s=tn();var f=s.queue,g=f.dispatch;return l!==s.memoizedState&&(Xe.flags|=2048,Io(9,rd(),rN.bind(null,f,l),null)),[u,g,r]}function rN(r,s){r.action=s}function Vy(r){var s=tn(),l=wt;if(l!==null)return Oy(s,l,r);tn(),s=s.memoizedState,l=tn();var u=l.queue.dispatch;return l.memoizedState=r,[s,u,!1]}function Io(r,s,l,u){return r={tag:r,create:l,deps:u,inst:s,next:null},s=Xe.updateQueue,s===null&&(s=tm(),Xe.updateQueue=s),l=s.lastEffect,l===null?s.lastEffect=r.next=r:(u=l.next,l.next=r,r.next=u,s.lastEffect=r),r}function rd(){return{destroy:void 0,resource:void 0}}function My(){return tn().memoizedState}function sd(r,s,l,u){var f=$n();u=u===void 0?null:u,Xe.flags|=r,f.memoizedState=Io(1|s,rd(),l,u)}function rc(r,s,l,u){var f=tn();u=u===void 0?null:u;var g=f.memoizedState.inst;wt!==null&&u!==null&&Wf(u,wt.memoizedState.deps)?f.memoizedState=Io(s,g,l,u):(Xe.flags|=r,f.memoizedState=Io(1|s,g,l,u))}function Py(r,s){sd(8390656,8,r,s)}function Ly(r,s){rc(2048,8,r,s)}function Uy(r,s){return rc(4,2,r,s)}function zy(r,s){return rc(4,4,r,s)}function Fy(r,s){if(typeof s=="function"){r=r();var l=s(r);return function(){typeof l=="function"?l():s(null)}}if(s!=null)return r=r(),s.current=r,function(){s.current=null}}function By(r,s,l){l=l!=null?l.concat([r]):null,rc(4,4,Fy.bind(null,s,r),l)}function om(){}function qy(r,s){var l=tn();s=s===void 0?null:s;var u=l.memoizedState;return s!==null&&Wf(s,u[1])?u[0]:(l.memoizedState=[r,s],r)}function Hy(r,s){var l=tn();s=s===void 0?null:s;var u=l.memoizedState;if(s!==null&&Wf(s,u[1]))return u[0];if(u=r(),ka){Ee(!0);try{r()}finally{Ee(!1)}}return l.memoizedState=[u,s],u}function lm(r,s,l){return l===void 0||(wi&1073741824)!==0?r.memoizedState=s:(r.memoizedState=l,r=Kv(),Xe.lanes|=r,Ri|=r,l)}function Gy(r,s,l,u){return sr(l,s)?l:Ro.current!==null?(r=lm(r,l,u),sr(r,s)||(gn=!0),r):(wi&42)===0?(gn=!0,r.memoizedState=l):(r=Kv(),Xe.lanes|=r,Ri|=r,s)}function $y(r,s,l,u,f){var g=re.p;re.p=g!==0&&8>g?g:8;var _=Z.T,A={};Z.T=A,dm(r,!1,s,l);try{var B=f(),ee=Z.S;if(ee!==null&&ee(A,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var ue=Zj(B,u);sc(r,s,ue,cr(r))}else sc(r,s,u,cr(r))}catch(he){sc(r,s,{then:function(){},status:"rejected",reason:he},cr())}finally{re.p=g,Z.T=_}}function sN(){}function cm(r,s,l,u){if(r.tag!==5)throw Error(i(476));var f=Ky(r).queue;$y(r,f,s,ye,l===null?sN:function(){return Qy(r),l(u)})}function Ky(r){var s=r.memoizedState;if(s!==null)return s;s={memoizedState:ye,baseState:ye,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:ye},next:null};var l={};return s.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Bs,lastRenderedState:l},next:null},r.memoizedState=s,r=r.alternate,r!==null&&(r.memoizedState=s),s}function Qy(r){var s=Ky(r).next.queue;sc(r,s,{},cr())}function um(){return kn(wc)}function Yy(){return tn().memoizedState}function Wy(){return tn().memoizedState}function iN(r){for(var s=r.return;s!==null;){switch(s.tag){case 24:case 3:var l=cr();r=bi(l);var u=_i(s,r,l);u!==null&&(ur(u,s,l),Jl(u,s,l)),s={cache:zf()},r.payload=s;return}s=s.return}}function aN(r,s,l){var u=cr();l={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null},id(r)?Jy(s,l):(l=kf(r,s,l,u),l!==null&&(ur(l,r,u),Zy(l,s,u)))}function Xy(r,s,l){var u=cr();sc(r,s,l,u)}function sc(r,s,l,u){var f={lane:u,revertLane:0,action:l,hasEagerState:!1,eagerState:null,next:null};if(id(r))Jy(s,f);else{var g=r.alternate;if(r.lanes===0&&(g===null||g.lanes===0)&&(g=s.lastRenderedReducer,g!==null))try{var _=s.lastRenderedState,A=g(_,l);if(f.hasEagerState=!0,f.eagerState=A,sr(A,_))return Bu(r,s,f,0),St===null&&Fu(),!1}catch{}finally{}if(l=kf(r,s,f,u),l!==null)return ur(l,r,u),Zy(l,s,u),!0}return!1}function dm(r,s,l,u){if(u={lane:2,revertLane:qm(),action:u,hasEagerState:!1,eagerState:null,next:null},id(r)){if(s)throw Error(i(479))}else s=kf(r,l,u,2),s!==null&&ur(s,r,2)}function id(r){var s=r.alternate;return r===Xe||s!==null&&s===Xe}function Jy(r,s){ko=Zu=!0;var l=r.pending;l===null?s.next=s:(s.next=l.next,l.next=s),r.pending=s}function Zy(r,s,l){if((l&4194048)!==0){var u=s.lanes;u&=r.pendingLanes,l|=u,s.lanes=l,Tl(r,l)}}var ad={readContext:kn,use:td,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useLayoutEffect:Kt,useInsertionEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useSyncExternalStore:Kt,useId:Kt,useHostTransitionStatus:Kt,useFormState:Kt,useActionState:Kt,useOptimistic:Kt,useMemoCache:Kt,useCacheRefresh:Kt},ev={readContext:kn,use:td,useCallback:function(r,s){return $n().memoizedState=[r,s===void 0?null:s],r},useContext:kn,useEffect:Py,useImperativeHandle:function(r,s,l){l=l!=null?l.concat([r]):null,sd(4194308,4,Fy.bind(null,s,r),l)},useLayoutEffect:function(r,s){return sd(4194308,4,r,s)},useInsertionEffect:function(r,s){sd(4,2,r,s)},useMemo:function(r,s){var l=$n();s=s===void 0?null:s;var u=r();if(ka){Ee(!0);try{r()}finally{Ee(!1)}}return l.memoizedState=[u,s],u},useReducer:function(r,s,l){var u=$n();if(l!==void 0){var f=l(s);if(ka){Ee(!0);try{l(s)}finally{Ee(!1)}}}else f=s;return u.memoizedState=u.baseState=f,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:f},u.queue=r,r=r.dispatch=aN.bind(null,Xe,r),[u.memoizedState,r]},useRef:function(r){var s=$n();return r={current:r},s.memoizedState=r},useState:function(r){r=im(r);var s=r.queue,l=Xy.bind(null,Xe,s);return s.dispatch=l,[r.memoizedState,l]},useDebugValue:om,useDeferredValue:function(r,s){var l=$n();return lm(l,r,s)},useTransition:function(){var r=im(!1);return r=$y.bind(null,Xe,r.queue,!0,!1),$n().memoizedState=r,[!1,r]},useSyncExternalStore:function(r,s,l){var u=Xe,f=$n();if(mt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=s(),St===null)throw Error(i(349));(lt&124)!==0||_y(u,s,l)}f.memoizedState=l;var g={value:l,getSnapshot:s};return f.queue=g,Py(jy.bind(null,u,g,r),[r]),u.flags|=2048,Io(9,rd(),wy.bind(null,u,g,l,s),null),l},useId:function(){var r=$n(),s=St.identifierPrefix;if(mt){var l=Us,u=Ls;l=(u&~(1<<32-Ve(u)-1)).toString(32)+l,s=""+s+"R"+l,l=ed++,0<l&&(s+="H"+l.toString(32)),s+=""}else l=eN++,s=""+s+"r"+l.toString(32)+"";return r.memoizedState=s},useHostTransitionStatus:um,useFormState:Iy,useActionState:Iy,useOptimistic:function(r){var s=$n();s.memoizedState=s.baseState=r;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=l,s=dm.bind(null,Xe,!0,l),l.dispatch=s,[r,s]},useMemoCache:nm,useCacheRefresh:function(){return $n().memoizedState=iN.bind(null,Xe)}},tv={readContext:kn,use:td,useCallback:qy,useContext:kn,useEffect:Ly,useImperativeHandle:By,useInsertionEffect:Uy,useLayoutEffect:zy,useMemo:Hy,useReducer:nd,useRef:My,useState:function(){return nd(Bs)},useDebugValue:om,useDeferredValue:function(r,s){var l=tn();return Gy(l,wt.memoizedState,r,s)},useTransition:function(){var r=nd(Bs)[0],s=tn().memoizedState;return[typeof r=="boolean"?r:nc(r),s]},useSyncExternalStore:by,useId:Yy,useHostTransitionStatus:um,useFormState:Dy,useActionState:Dy,useOptimistic:function(r,s){var l=tn();return Ty(l,wt,r,s)},useMemoCache:nm,useCacheRefresh:Wy},oN={readContext:kn,use:td,useCallback:qy,useContext:kn,useEffect:Ly,useImperativeHandle:By,useInsertionEffect:Uy,useLayoutEffect:zy,useMemo:Hy,useReducer:sm,useRef:My,useState:function(){return sm(Bs)},useDebugValue:om,useDeferredValue:function(r,s){var l=tn();return wt===null?lm(l,r,s):Gy(l,wt.memoizedState,r,s)},useTransition:function(){var r=sm(Bs)[0],s=tn().memoizedState;return[typeof r=="boolean"?r:nc(r),s]},useSyncExternalStore:by,useId:Yy,useHostTransitionStatus:um,useFormState:Vy,useActionState:Vy,useOptimistic:function(r,s){var l=tn();return wt!==null?Ty(l,wt,r,s):(l.baseState=r,[r,l.queue.dispatch])},useMemoCache:nm,useCacheRefresh:Wy},Do=null,ic=0;function od(r){var s=ic;return ic+=1,Do===null&&(Do=[]),hy(Do,r,s)}function ac(r,s){s=s.props.ref,r.ref=s!==void 0?s:null}function ld(r,s){throw s.$$typeof===j?Error(i(525)):(r=Object.prototype.toString.call(s),Error(i(31,r==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":r)))}function nv(r){var s=r._init;return s(r._payload)}function rv(r){function s(Y,Q){if(r){var J=Y.deletions;J===null?(Y.deletions=[Q],Y.flags|=16):J.push(Q)}}function l(Y,Q){if(!r)return null;for(;Q!==null;)s(Y,Q),Q=Q.sibling;return null}function u(Y){for(var Q=new Map;Y!==null;)Y.key!==null?Q.set(Y.key,Y):Q.set(Y.index,Y),Y=Y.sibling;return Q}function f(Y,Q){return Y=Ps(Y,Q),Y.index=0,Y.sibling=null,Y}function g(Y,Q,J){return Y.index=J,r?(J=Y.alternate,J!==null?(J=J.index,J<Q?(Y.flags|=67108866,Q):J):(Y.flags|=67108866,Q)):(Y.flags|=1048576,Q)}function _(Y){return r&&Y.alternate===null&&(Y.flags|=67108866),Y}function A(Y,Q,J,de){return Q===null||Q.tag!==6?(Q=If(J,Y.mode,de),Q.return=Y,Q):(Q=f(Q,J),Q.return=Y,Q)}function B(Y,Q,J,de){var Re=J.type;return Re===z?ue(Y,Q,J.props.children,de,J.key):Q!==null&&(Q.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===E&&nv(Re)===Q.type)?(Q=f(Q,J.props),ac(Q,J),Q.return=Y,Q):(Q=Hu(J.type,J.key,J.props,null,Y.mode,de),ac(Q,J),Q.return=Y,Q)}function ee(Y,Q,J,de){return Q===null||Q.tag!==4||Q.stateNode.containerInfo!==J.containerInfo||Q.stateNode.implementation!==J.implementation?(Q=Df(J,Y.mode,de),Q.return=Y,Q):(Q=f(Q,J.children||[]),Q.return=Y,Q)}function ue(Y,Q,J,de,Re){return Q===null||Q.tag!==7?(Q=wa(J,Y.mode,de,Re),Q.return=Y,Q):(Q=f(Q,J),Q.return=Y,Q)}function he(Y,Q,J){if(typeof Q=="string"&&Q!==""||typeof Q=="number"||typeof Q=="bigint")return Q=If(""+Q,Y.mode,J),Q.return=Y,Q;if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case w:return J=Hu(Q.type,Q.key,Q.props,null,Y.mode,J),ac(J,Q),J.return=Y,J;case k:return Q=Df(Q,Y.mode,J),Q.return=Y,Q;case E:var de=Q._init;return Q=de(Q._payload),he(Y,Q,J)}if(Ie(Q)||D(Q))return Q=wa(Q,Y.mode,J,null),Q.return=Y,Q;if(typeof Q.then=="function")return he(Y,od(Q),J);if(Q.$$typeof===S)return he(Y,Qu(Y,Q),J);ld(Y,Q)}return null}function te(Y,Q,J,de){var Re=Q!==null?Q.key:null;if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return Re!==null?null:A(Y,Q,""+J,de);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case w:return J.key===Re?B(Y,Q,J,de):null;case k:return J.key===Re?ee(Y,Q,J,de):null;case E:return Re=J._init,J=Re(J._payload),te(Y,Q,J,de)}if(Ie(J)||D(J))return Re!==null?null:ue(Y,Q,J,de,null);if(typeof J.then=="function")return te(Y,Q,od(J),de);if(J.$$typeof===S)return te(Y,Q,Qu(Y,J),de);ld(Y,J)}return null}function ne(Y,Q,J,de,Re){if(typeof de=="string"&&de!==""||typeof de=="number"||typeof de=="bigint")return Y=Y.get(J)||null,A(Q,Y,""+de,Re);if(typeof de=="object"&&de!==null){switch(de.$$typeof){case w:return Y=Y.get(de.key===null?J:de.key)||null,B(Q,Y,de,Re);case k:return Y=Y.get(de.key===null?J:de.key)||null,ee(Q,Y,de,Re);case E:var Je=de._init;return de=Je(de._payload),ne(Y,Q,J,de,Re)}if(Ie(de)||D(de))return Y=Y.get(J)||null,ue(Q,Y,de,Re,null);if(typeof de.then=="function")return ne(Y,Q,J,od(de),Re);if(de.$$typeof===S)return ne(Y,Q,J,Qu(Q,de),Re);ld(Q,de)}return null}function qe(Y,Q,J,de){for(var Re=null,Je=null,De=Q,Fe=Q=0,vn=null;De!==null&&Fe<J.length;Fe++){De.index>Fe?(vn=De,De=null):vn=De.sibling;var dt=te(Y,De,J[Fe],de);if(dt===null){De===null&&(De=vn);break}r&&De&&dt.alternate===null&&s(Y,De),Q=g(dt,Q,Fe),Je===null?Re=dt:Je.sibling=dt,Je=dt,De=vn}if(Fe===J.length)return l(Y,De),mt&&Na(Y,Fe),Re;if(De===null){for(;Fe<J.length;Fe++)De=he(Y,J[Fe],de),De!==null&&(Q=g(De,Q,Fe),Je===null?Re=De:Je.sibling=De,Je=De);return mt&&Na(Y,Fe),Re}for(De=u(De);Fe<J.length;Fe++)vn=ne(De,Y,Fe,J[Fe],de),vn!==null&&(r&&vn.alternate!==null&&De.delete(vn.key===null?Fe:vn.key),Q=g(vn,Q,Fe),Je===null?Re=vn:Je.sibling=vn,Je=vn);return r&&De.forEach(function(Li){return s(Y,Li)}),mt&&Na(Y,Fe),Re}function ze(Y,Q,J,de){if(J==null)throw Error(i(151));for(var Re=null,Je=null,De=Q,Fe=Q=0,vn=null,dt=J.next();De!==null&&!dt.done;Fe++,dt=J.next()){De.index>Fe?(vn=De,De=null):vn=De.sibling;var Li=te(Y,De,dt.value,de);if(Li===null){De===null&&(De=vn);break}r&&De&&Li.alternate===null&&s(Y,De),Q=g(Li,Q,Fe),Je===null?Re=Li:Je.sibling=Li,Je=Li,De=vn}if(dt.done)return l(Y,De),mt&&Na(Y,Fe),Re;if(De===null){for(;!dt.done;Fe++,dt=J.next())dt=he(Y,dt.value,de),dt!==null&&(Q=g(dt,Q,Fe),Je===null?Re=dt:Je.sibling=dt,Je=dt);return mt&&Na(Y,Fe),Re}for(De=u(De);!dt.done;Fe++,dt=J.next())dt=ne(De,Y,Fe,dt.value,de),dt!==null&&(r&&dt.alternate!==null&&De.delete(dt.key===null?Fe:dt.key),Q=g(dt,Q,Fe),Je===null?Re=dt:Je.sibling=dt,Je=dt);return r&&De.forEach(function(lE){return s(Y,lE)}),mt&&Na(Y,Fe),Re}function Nt(Y,Q,J,de){if(typeof J=="object"&&J!==null&&J.type===z&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case w:e:{for(var Re=J.key;Q!==null;){if(Q.key===Re){if(Re=J.type,Re===z){if(Q.tag===7){l(Y,Q.sibling),de=f(Q,J.props.children),de.return=Y,Y=de;break e}}else if(Q.elementType===Re||typeof Re=="object"&&Re!==null&&Re.$$typeof===E&&nv(Re)===Q.type){l(Y,Q.sibling),de=f(Q,J.props),ac(de,J),de.return=Y,Y=de;break e}l(Y,Q);break}else s(Y,Q);Q=Q.sibling}J.type===z?(de=wa(J.props.children,Y.mode,de,J.key),de.return=Y,Y=de):(de=Hu(J.type,J.key,J.props,null,Y.mode,de),ac(de,J),de.return=Y,Y=de)}return _(Y);case k:e:{for(Re=J.key;Q!==null;){if(Q.key===Re)if(Q.tag===4&&Q.stateNode.containerInfo===J.containerInfo&&Q.stateNode.implementation===J.implementation){l(Y,Q.sibling),de=f(Q,J.children||[]),de.return=Y,Y=de;break e}else{l(Y,Q);break}else s(Y,Q);Q=Q.sibling}de=Df(J,Y.mode,de),de.return=Y,Y=de}return _(Y);case E:return Re=J._init,J=Re(J._payload),Nt(Y,Q,J,de)}if(Ie(J))return qe(Y,Q,J,de);if(D(J)){if(Re=D(J),typeof Re!="function")throw Error(i(150));return J=Re.call(J),ze(Y,Q,J,de)}if(typeof J.then=="function")return Nt(Y,Q,od(J),de);if(J.$$typeof===S)return Nt(Y,Q,Qu(Y,J),de);ld(Y,J)}return typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint"?(J=""+J,Q!==null&&Q.tag===6?(l(Y,Q.sibling),de=f(Q,J),de.return=Y,Y=de):(l(Y,Q),de=If(J,Y.mode,de),de.return=Y,Y=de),_(Y)):l(Y,Q)}return function(Y,Q,J,de){try{ic=0;var Re=Nt(Y,Q,J,de);return Do=null,Re}catch(De){if(De===Wl||De===Wu)throw De;var Je=ir(29,De,null,Y.mode);return Je.lanes=de,Je.return=Y,Je}finally{}}}var Oo=rv(!0),sv=rv(!1),Nr=K(null),ss=null;function ji(r){var s=r.alternate;le(hn,hn.current&1),le(Nr,r),ss===null&&(s===null||Ro.current!==null||s.memoizedState!==null)&&(ss=r)}function iv(r){if(r.tag===22){if(le(hn,hn.current),le(Nr,r),ss===null){var s=r.alternate;s!==null&&s.memoizedState!==null&&(ss=r)}}else Ni()}function Ni(){le(hn,hn.current),le(Nr,Nr.current)}function qs(r){ce(Nr),ss===r&&(ss=null),ce(hn)}var hn=K(0);function cd(r){for(var s=r;s!==null;){if(s.tag===13){var l=s.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||tp(l)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function hm(r,s,l,u){s=r.memoizedState,l=l(u,s),l=l==null?s:x({},s,l),r.memoizedState=l,r.lanes===0&&(r.updateQueue.baseState=l)}var fm={enqueueSetState:function(r,s,l){r=r._reactInternals;var u=cr(),f=bi(u);f.payload=s,l!=null&&(f.callback=l),s=_i(r,f,u),s!==null&&(ur(s,r,u),Jl(s,r,u))},enqueueReplaceState:function(r,s,l){r=r._reactInternals;var u=cr(),f=bi(u);f.tag=1,f.payload=s,l!=null&&(f.callback=l),s=_i(r,f,u),s!==null&&(ur(s,r,u),Jl(s,r,u))},enqueueForceUpdate:function(r,s){r=r._reactInternals;var l=cr(),u=bi(l);u.tag=2,s!=null&&(u.callback=s),s=_i(r,u,l),s!==null&&(ur(s,r,l),Jl(s,r,l))}};function av(r,s,l,u,f,g,_){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,g,_):s.prototype&&s.prototype.isPureReactComponent?!Bl(l,u)||!Bl(f,g):!0}function ov(r,s,l,u){r=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(l,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(l,u),s.state!==r&&fm.enqueueReplaceState(s,s.state,null)}function Ca(r,s){var l=s;if("ref"in s){l={};for(var u in s)u!=="ref"&&(l[u]=s[u])}if(r=r.defaultProps){l===s&&(l=x({},l));for(var f in r)l[f]===void 0&&(l[f]=r[f])}return l}var ud=typeof reportError=="function"?reportError:function(r){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof r=="object"&&r!==null&&typeof r.message=="string"?String(r.message):String(r),error:r});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",r);return}console.error(r)};function lv(r){ud(r)}function cv(r){console.error(r)}function uv(r){ud(r)}function dd(r,s){try{var l=r.onUncaughtError;l(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function dv(r,s,l){try{var u=r.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function mm(r,s,l){return l=bi(l),l.tag=3,l.payload={element:null},l.callback=function(){dd(r,s)},l}function hv(r){return r=bi(r),r.tag=3,r}function fv(r,s,l,u){var f=l.type.getDerivedStateFromError;if(typeof f=="function"){var g=u.value;r.payload=function(){return f(g)},r.callback=function(){dv(s,l,u)}}var _=l.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(r.callback=function(){dv(s,l,u),typeof f!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var A=u.stack;this.componentDidCatch(u.value,{componentStack:A!==null?A:""})})}function lN(r,s,l,u,f){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=l.alternate,s!==null&&Kl(s,l,f,!0),l=Nr.current,l!==null){switch(l.tag){case 13:return ss===null?Lm():l.alternate===null&&qt===0&&(qt=3),l.flags&=-257,l.flags|=65536,l.lanes=f,u===qf?l.flags|=16384:(s=l.updateQueue,s===null?l.updateQueue=new Set([u]):s.add(u),zm(r,u,f)),!1;case 22:return l.flags|=65536,u===qf?l.flags|=16384:(s=l.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=s):(l=s.retryQueue,l===null?s.retryQueue=new Set([u]):l.add(u)),zm(r,u,f)),!1}throw Error(i(435,l.tag))}return zm(r,u,f),Lm(),!1}if(mt)return s=Nr.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==Mf&&(r=Error(i(422),{cause:u}),$l(br(r,l)))):(u!==Mf&&(s=Error(i(423),{cause:u}),$l(br(s,l))),r=r.current.alternate,r.flags|=65536,f&=-f,r.lanes|=f,u=br(u,l),f=mm(r.stateNode,u,f),$f(r,f),qt!==4&&(qt=2)),!1;var g=Error(i(520),{cause:u});if(g=br(g,l),fc===null?fc=[g]:fc.push(g),qt!==4&&(qt=2),s===null)return!0;u=br(u,l),l=s;do{switch(l.tag){case 3:return l.flags|=65536,r=f&-f,l.lanes|=r,r=mm(l.stateNode,u,r),$f(l,r),!1;case 1:if(s=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(ki===null||!ki.has(g))))return l.flags|=65536,f&=-f,l.lanes|=f,f=hv(f),fv(f,r,l,u),$f(l,f),!1}l=l.return}while(l!==null);return!1}var mv=Error(i(461)),gn=!1;function wn(r,s,l,u){s.child=r===null?sv(s,null,l,u):Oo(s,r.child,l,u)}function pv(r,s,l,u,f){l=l.render;var g=s.ref;if("ref"in u){var _={};for(var A in u)A!=="ref"&&(_[A]=u[A])}else _=u;return Sa(s),u=Xf(r,s,l,_,g,f),A=Jf(),r!==null&&!gn?(Zf(r,s,f),Hs(r,s,f)):(mt&&A&&Of(s),s.flags|=1,wn(r,s,u,f),s.child)}function gv(r,s,l,u,f){if(r===null){var g=l.type;return typeof g=="function"&&!Cf(g)&&g.defaultProps===void 0&&l.compare===null?(s.tag=15,s.type=g,yv(r,s,g,u,f)):(r=Hu(l.type,null,u,s,s.mode,f),r.ref=s.ref,r.return=s,s.child=r)}if(g=r.child,!wm(r,f)){var _=g.memoizedProps;if(l=l.compare,l=l!==null?l:Bl,l(_,u)&&r.ref===s.ref)return Hs(r,s,f)}return s.flags|=1,r=Ps(g,u),r.ref=s.ref,r.return=s,s.child=r}function yv(r,s,l,u,f){if(r!==null){var g=r.memoizedProps;if(Bl(g,u)&&r.ref===s.ref)if(gn=!1,s.pendingProps=u=g,wm(r,f))(r.flags&131072)!==0&&(gn=!0);else return s.lanes=r.lanes,Hs(r,s,f)}return pm(r,s,l,u,f)}function vv(r,s,l){var u=s.pendingProps,f=u.children,g=r!==null?r.memoizedState:null;if(u.mode==="hidden"){if((s.flags&128)!==0){if(u=g!==null?g.baseLanes|l:l,r!==null){for(f=s.child=r.child,g=0;f!==null;)g=g|f.lanes|f.childLanes,f=f.sibling;s.childLanes=g&~u}else s.childLanes=0,s.child=null;return xv(r,s,u,l)}if((l&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},r!==null&&Yu(s,g!==null?g.cachePool:null),g!==null?yy(s,g):Qf(),iv(s);else return s.lanes=s.childLanes=536870912,xv(r,s,g!==null?g.baseLanes|l:l,l)}else g!==null?(Yu(s,g.cachePool),yy(s,g),Ni(),s.memoizedState=null):(r!==null&&Yu(s,null),Qf(),Ni());return wn(r,s,f,l),s.child}function xv(r,s,l,u){var f=Bf();return f=f===null?null:{parent:dn._currentValue,pool:f},s.memoizedState={baseLanes:l,cachePool:f},r!==null&&Yu(s,null),Qf(),iv(s),r!==null&&Kl(r,s,u,!0),null}function hd(r,s){var l=s.ref;if(l===null)r!==null&&r.ref!==null&&(s.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(r===null||r.ref!==l)&&(s.flags|=4194816)}}function pm(r,s,l,u,f){return Sa(s),l=Xf(r,s,l,u,void 0,f),u=Jf(),r!==null&&!gn?(Zf(r,s,f),Hs(r,s,f)):(mt&&u&&Of(s),s.flags|=1,wn(r,s,l,f),s.child)}function bv(r,s,l,u,f,g){return Sa(s),s.updateQueue=null,l=xy(s,u,l,f),vy(r),u=Jf(),r!==null&&!gn?(Zf(r,s,g),Hs(r,s,g)):(mt&&u&&Of(s),s.flags|=1,wn(r,s,l,g),s.child)}function _v(r,s,l,u,f){if(Sa(s),s.stateNode===null){var g=No,_=l.contextType;typeof _=="object"&&_!==null&&(g=kn(_)),g=new l(u,g),s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=fm,s.stateNode=g,g._reactInternals=s,g=s.stateNode,g.props=u,g.state=s.memoizedState,g.refs={},Hf(s),_=l.contextType,g.context=typeof _=="object"&&_!==null?kn(_):No,g.state=s.memoizedState,_=l.getDerivedStateFromProps,typeof _=="function"&&(hm(s,l,_,u),g.state=s.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(_=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),_!==g.state&&fm.enqueueReplaceState(g,g.state,null),ec(s,u,g,f),Zl(),g.state=s.memoizedState),typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(r===null){g=s.stateNode;var A=s.memoizedProps,B=Ca(l,A);g.props=B;var ee=g.context,ue=l.contextType;_=No,typeof ue=="object"&&ue!==null&&(_=kn(ue));var he=l.getDerivedStateFromProps;ue=typeof he=="function"||typeof g.getSnapshotBeforeUpdate=="function",A=s.pendingProps!==A,ue||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(A||ee!==_)&&ov(s,g,u,_),xi=!1;var te=s.memoizedState;g.state=te,ec(s,u,g,f),Zl(),ee=s.memoizedState,A||te!==ee||xi?(typeof he=="function"&&(hm(s,l,he,u),ee=s.memoizedState),(B=xi||av(s,l,B,u,te,ee,_))?(ue||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(s.flags|=4194308)):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=ee),g.props=u,g.state=ee,g.context=_,u=B):(typeof g.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{g=s.stateNode,Gf(r,s),_=s.memoizedProps,ue=Ca(l,_),g.props=ue,he=s.pendingProps,te=g.context,ee=l.contextType,B=No,typeof ee=="object"&&ee!==null&&(B=kn(ee)),A=l.getDerivedStateFromProps,(ee=typeof A=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_!==he||te!==B)&&ov(s,g,u,B),xi=!1,te=s.memoizedState,g.state=te,ec(s,u,g,f),Zl();var ne=s.memoizedState;_!==he||te!==ne||xi||r!==null&&r.dependencies!==null&&Ku(r.dependencies)?(typeof A=="function"&&(hm(s,l,A,u),ne=s.memoizedState),(ue=xi||av(s,l,ue,u,te,ne,B)||r!==null&&r.dependencies!==null&&Ku(r.dependencies))?(ee||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(u,ne,B),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(u,ne,B)),typeof g.componentDidUpdate=="function"&&(s.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof g.componentDidUpdate!="function"||_===r.memoizedProps&&te===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&te===r.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=ne),g.props=u,g.state=ne,g.context=B,u=ue):(typeof g.componentDidUpdate!="function"||_===r.memoizedProps&&te===r.memoizedState||(s.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||_===r.memoizedProps&&te===r.memoizedState||(s.flags|=1024),u=!1)}return g=u,hd(r,s),u=(s.flags&128)!==0,g||u?(g=s.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:g.render(),s.flags|=1,r!==null&&u?(s.child=Oo(s,r.child,null,f),s.child=Oo(s,null,l,f)):wn(r,s,l,f),s.memoizedState=g.state,r=s.child):r=Hs(r,s,f),r}function wv(r,s,l,u){return Gl(),s.flags|=256,wn(r,s,l,u),s.child}var gm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ym(r){return{baseLanes:r,cachePool:cy()}}function vm(r,s,l){return r=r!==null?r.childLanes&~l:0,s&&(r|=Er),r}function jv(r,s,l){var u=s.pendingProps,f=!1,g=(s.flags&128)!==0,_;if((_=g)||(_=r!==null&&r.memoizedState===null?!1:(hn.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,r===null){if(mt){if(f?ji(s):Ni(),mt){var A=Bt,B;if(B=A){e:{for(B=A,A=rs;B.nodeType!==8;){if(!A){A=null;break e}if(B=zr(B.nextSibling),B===null){A=null;break e}}A=B}A!==null?(s.memoizedState={dehydrated:A,treeContext:ja!==null?{id:Ls,overflow:Us}:null,retryLane:536870912,hydrationErrors:null},B=ir(18,null,null,0),B.stateNode=A,B.return=s,s.child=B,Bn=s,Bt=null,B=!0):B=!1}B||Ta(s)}if(A=s.memoizedState,A!==null&&(A=A.dehydrated,A!==null))return tp(A)?s.lanes=32:s.lanes=536870912,null;qs(s)}return A=u.children,u=u.fallback,f?(Ni(),f=s.mode,A=fd({mode:"hidden",children:A},f),u=wa(u,f,l,null),A.return=s,u.return=s,A.sibling=u,s.child=A,f=s.child,f.memoizedState=ym(l),f.childLanes=vm(r,_,l),s.memoizedState=gm,u):(ji(s),xm(s,A))}if(B=r.memoizedState,B!==null&&(A=B.dehydrated,A!==null)){if(g)s.flags&256?(ji(s),s.flags&=-257,s=bm(r,s,l)):s.memoizedState!==null?(Ni(),s.child=r.child,s.flags|=128,s=null):(Ni(),f=u.fallback,A=s.mode,u=fd({mode:"visible",children:u.children},A),f=wa(f,A,l,null),f.flags|=2,u.return=s,f.return=s,u.sibling=f,s.child=u,Oo(s,r.child,null,l),u=s.child,u.memoizedState=ym(l),u.childLanes=vm(r,_,l),s.memoizedState=gm,s=f);else if(ji(s),tp(A)){if(_=A.nextSibling&&A.nextSibling.dataset,_)var ee=_.dgst;_=ee,u=Error(i(419)),u.stack="",u.digest=_,$l({value:u,source:null,stack:null}),s=bm(r,s,l)}else if(gn||Kl(r,s,l,!1),_=(l&r.childLanes)!==0,gn||_){if(_=St,_!==null&&(u=l&-l,u=(u&42)!==0?1:di(u),u=(u&(_.suspendedLanes|l))!==0?0:u,u!==0&&u!==B.retryLane))throw B.retryLane=u,jo(r,u),ur(_,r,u),mv;A.data==="$?"||Lm(),s=bm(r,s,l)}else A.data==="$?"?(s.flags|=192,s.child=r.child,s=null):(r=B.treeContext,Bt=zr(A.nextSibling),Bn=s,mt=!0,Ea=null,rs=!1,r!==null&&(wr[jr++]=Ls,wr[jr++]=Us,wr[jr++]=ja,Ls=r.id,Us=r.overflow,ja=s),s=xm(s,u.children),s.flags|=4096);return s}return f?(Ni(),f=u.fallback,A=s.mode,B=r.child,ee=B.sibling,u=Ps(B,{mode:"hidden",children:u.children}),u.subtreeFlags=B.subtreeFlags&65011712,ee!==null?f=Ps(ee,f):(f=wa(f,A,l,null),f.flags|=2),f.return=s,u.return=s,u.sibling=f,s.child=u,u=f,f=s.child,A=r.child.memoizedState,A===null?A=ym(l):(B=A.cachePool,B!==null?(ee=dn._currentValue,B=B.parent!==ee?{parent:ee,pool:ee}:B):B=cy(),A={baseLanes:A.baseLanes|l,cachePool:B}),f.memoizedState=A,f.childLanes=vm(r,_,l),s.memoizedState=gm,u):(ji(s),l=r.child,r=l.sibling,l=Ps(l,{mode:"visible",children:u.children}),l.return=s,l.sibling=null,r!==null&&(_=s.deletions,_===null?(s.deletions=[r],s.flags|=16):_.push(r)),s.child=l,s.memoizedState=null,l)}function xm(r,s){return s=fd({mode:"visible",children:s},r.mode),s.return=r,r.child=s}function fd(r,s){return r=ir(22,r,null,s),r.lanes=0,r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},r}function bm(r,s,l){return Oo(s,r.child,null,l),r=xm(s,s.pendingProps.children),r.flags|=2,s.memoizedState=null,r}function Nv(r,s,l){r.lanes|=s;var u=r.alternate;u!==null&&(u.lanes|=s),Lf(r.return,s,l)}function _m(r,s,l,u,f){var g=r.memoizedState;g===null?r.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:f}:(g.isBackwards=s,g.rendering=null,g.renderingStartTime=0,g.last=u,g.tail=l,g.tailMode=f)}function Ev(r,s,l){var u=s.pendingProps,f=u.revealOrder,g=u.tail;if(wn(r,s,u.children,l),u=hn.current,(u&2)!==0)u=u&1|2,s.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=s.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&Nv(r,l,s);else if(r.tag===19)Nv(r,l,s);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break e;for(;r.sibling===null;){if(r.return===null||r.return===s)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}switch(le(hn,u),f){case"forwards":for(l=s.child,f=null;l!==null;)r=l.alternate,r!==null&&cd(r)===null&&(f=l),l=l.sibling;l=f,l===null?(f=s.child,s.child=null):(f=l.sibling,l.sibling=null),_m(s,!1,f,l,g);break;case"backwards":for(l=null,f=s.child,s.child=null;f!==null;){if(r=f.alternate,r!==null&&cd(r)===null){s.child=f;break}r=f.sibling,f.sibling=l,l=f,f=r}_m(s,!0,l,null,g);break;case"together":_m(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Hs(r,s,l){if(r!==null&&(s.dependencies=r.dependencies),Ri|=s.lanes,(l&s.childLanes)===0)if(r!==null){if(Kl(r,s,l,!1),(l&s.childLanes)===0)return null}else return null;if(r!==null&&s.child!==r.child)throw Error(i(153));if(s.child!==null){for(r=s.child,l=Ps(r,r.pendingProps),s.child=l,l.return=s;r.sibling!==null;)r=r.sibling,l=l.sibling=Ps(r,r.pendingProps),l.return=s;l.sibling=null}return s.child}function wm(r,s){return(r.lanes&s)!==0?!0:(r=r.dependencies,!!(r!==null&&Ku(r)))}function cN(r,s,l){switch(s.tag){case 3:Oe(s,s.stateNode.containerInfo),vi(s,dn,r.memoizedState.cache),Gl();break;case 27:case 5:Dt(s);break;case 4:Oe(s,s.stateNode.containerInfo);break;case 10:vi(s,s.type,s.memoizedProps.value);break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(ji(s),s.flags|=128,null):(l&s.child.childLanes)!==0?jv(r,s,l):(ji(s),r=Hs(r,s,l),r!==null?r.sibling:null);ji(s);break;case 19:var f=(r.flags&128)!==0;if(u=(l&s.childLanes)!==0,u||(Kl(r,s,l,!1),u=(l&s.childLanes)!==0),f){if(u)return Ev(r,s,l);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),le(hn,hn.current),u)break;return null;case 22:case 23:return s.lanes=0,vv(r,s,l);case 24:vi(s,dn,r.memoizedState.cache)}return Hs(r,s,l)}function Tv(r,s,l){if(r!==null)if(r.memoizedProps!==s.pendingProps)gn=!0;else{if(!wm(r,l)&&(s.flags&128)===0)return gn=!1,cN(r,s,l);gn=(r.flags&131072)!==0}else gn=!1,mt&&(s.flags&1048576)!==0&&ny(s,$u,s.index);switch(s.lanes=0,s.tag){case 16:e:{r=s.pendingProps;var u=s.elementType,f=u._init;if(u=f(u._payload),s.type=u,typeof u=="function")Cf(u)?(r=Ca(u,r),s.tag=1,s=_v(null,s,u,r,l)):(s.tag=0,s=pm(null,s,u,r,l));else{if(u!=null){if(f=u.$$typeof,f===G){s.tag=11,s=pv(null,s,u,r,l);break e}else if(f===N){s.tag=14,s=gv(null,s,u,r,l);break e}}throw s=Te(u)||u,Error(i(306,s,""))}}return s;case 0:return pm(r,s,s.type,s.pendingProps,l);case 1:return u=s.type,f=Ca(u,s.pendingProps),_v(r,s,u,f,l);case 3:e:{if(Oe(s,s.stateNode.containerInfo),r===null)throw Error(i(387));u=s.pendingProps;var g=s.memoizedState;f=g.element,Gf(r,s),ec(s,u,null,l);var _=s.memoizedState;if(u=_.cache,vi(s,dn,u),u!==g.cache&&Uf(s,[dn],l,!0),Zl(),u=_.element,g.isDehydrated)if(g={element:u,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=g,s.memoizedState=g,s.flags&256){s=wv(r,s,u,l);break e}else if(u!==f){f=br(Error(i(424)),s),$l(f),s=wv(r,s,u,l);break e}else{switch(r=s.stateNode.containerInfo,r.nodeType){case 9:r=r.body;break;default:r=r.nodeName==="HTML"?r.ownerDocument.body:r}for(Bt=zr(r.firstChild),Bn=s,mt=!0,Ea=null,rs=!0,l=sv(s,null,u,l),s.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(Gl(),u===f){s=Hs(r,s,l);break e}wn(r,s,u,l)}s=s.child}return s;case 26:return hd(r,s),r===null?(l=kx(s.type,null,s.pendingProps,null))?s.memoizedState=l:mt||(l=s.type,r=s.pendingProps,u=Ad(be.current).createElement(l),u[ln]=s,u[Jt]=r,Nn(u,l,r),$t(u),s.stateNode=u):s.memoizedState=kx(s.type,r.memoizedProps,s.pendingProps,r.memoizedState),null;case 27:return Dt(s),r===null&&mt&&(u=s.stateNode=Ax(s.type,s.pendingProps,be.current),Bn=s,rs=!0,f=Bt,Di(s.type)?(np=f,Bt=zr(u.firstChild)):Bt=f),wn(r,s,s.pendingProps.children,l),hd(r,s),r===null&&(s.flags|=4194304),s.child;case 5:return r===null&&mt&&((f=u=Bt)&&(u=PN(u,s.type,s.pendingProps,rs),u!==null?(s.stateNode=u,Bn=s,Bt=zr(u.firstChild),rs=!1,f=!0):f=!1),f||Ta(s)),Dt(s),f=s.type,g=s.pendingProps,_=r!==null?r.memoizedProps:null,u=g.children,Jm(f,g)?u=null:_!==null&&Jm(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=Xf(r,s,tN,null,null,l),wc._currentValue=f),hd(r,s),wn(r,s,u,l),s.child;case 6:return r===null&&mt&&((r=l=Bt)&&(l=LN(l,s.pendingProps,rs),l!==null?(s.stateNode=l,Bn=s,Bt=null,r=!0):r=!1),r||Ta(s)),null;case 13:return jv(r,s,l);case 4:return Oe(s,s.stateNode.containerInfo),u=s.pendingProps,r===null?s.child=Oo(s,null,u,l):wn(r,s,u,l),s.child;case 11:return pv(r,s,s.type,s.pendingProps,l);case 7:return wn(r,s,s.pendingProps,l),s.child;case 8:return wn(r,s,s.pendingProps.children,l),s.child;case 12:return wn(r,s,s.pendingProps.children,l),s.child;case 10:return u=s.pendingProps,vi(s,s.type,u.value),wn(r,s,u.children,l),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,Sa(s),f=kn(f),u=u(f),s.flags|=1,wn(r,s,u,l),s.child;case 14:return gv(r,s,s.type,s.pendingProps,l);case 15:return yv(r,s,s.type,s.pendingProps,l);case 19:return Ev(r,s,l);case 31:return u=s.pendingProps,l=s.mode,u={mode:u.mode,children:u.children},r===null?(l=fd(u,l),l.ref=s.ref,s.child=l,l.return=s,s=l):(l=Ps(r.child,u),l.ref=s.ref,s.child=l,l.return=s,s=l),s;case 22:return vv(r,s,l);case 24:return Sa(s),u=kn(dn),r===null?(f=Bf(),f===null&&(f=St,g=zf(),f.pooledCache=g,g.refCount++,g!==null&&(f.pooledCacheLanes|=l),f=g),s.memoizedState={parent:u,cache:f},Hf(s),vi(s,dn,f)):((r.lanes&l)!==0&&(Gf(r,s),ec(s,null,null,l),Zl()),f=r.memoizedState,g=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),vi(s,dn,u)):(u=g.cache,vi(s,dn,u),u!==f.cache&&Uf(s,[dn],l,!0))),wn(r,s,s.pendingProps.children,l),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function Gs(r){r.flags|=4}function Av(r,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)r.flags&=-16777217;else if(r.flags|=16777216,!Vx(s)){if(s=Nr.current,s!==null&&((lt&4194048)===lt?ss!==null:(lt&62914560)!==lt&&(lt&536870912)===0||s!==ss))throw Xl=qf,uy;r.flags|=8192}}function md(r,s){s!==null&&(r.flags|=4),r.flags&16384&&(s=r.tag!==22?Nl():536870912,r.lanes|=s,Lo|=s)}function oc(r,s){if(!mt)switch(r.tailMode){case"hidden":s=r.tail;for(var l=null;s!==null;)s.alternate!==null&&(l=s),s=s.sibling;l===null?r.tail=null:l.sibling=null;break;case"collapsed":l=r.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?s||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function Pt(r){var s=r.alternate!==null&&r.alternate.child===r.child,l=0,u=0;if(s)for(var f=r.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)l|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=l,s}function uN(r,s,l){var u=s.pendingProps;switch(Vf(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(s),null;case 1:return Pt(s),null;case 3:return l=s.stateNode,u=null,r!==null&&(u=r.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),Fs(dn),Be(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(r===null||r.child===null)&&(Hl(s)?Gs(s):r===null||r.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,iy())),Pt(s),null;case 26:return l=s.memoizedState,r===null?(Gs(s),l!==null?(Pt(s),Av(s,l)):(Pt(s),s.flags&=-16777217)):l?l!==r.memoizedState?(Gs(s),Pt(s),Av(s,l)):(Pt(s),s.flags&=-16777217):(r.memoizedProps!==u&&Gs(s),Pt(s),s.flags&=-16777217),null;case 27:Tt(s),l=be.current;var f=s.type;if(r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Gs(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Pt(s),null}r=ae.current,Hl(s)?ry(s):(r=Ax(f,u,l),s.stateNode=r,Gs(s))}return Pt(s),null;case 5:if(Tt(s),l=s.type,r!==null&&s.stateNode!=null)r.memoizedProps!==u&&Gs(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return Pt(s),null}if(r=ae.current,Hl(s))ry(s);else{switch(f=Ad(be.current),r){case 1:r=f.createElementNS("http://www.w3.org/2000/svg",l);break;case 2:r=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;default:switch(l){case"svg":r=f.createElementNS("http://www.w3.org/2000/svg",l);break;case"math":r=f.createElementNS("http://www.w3.org/1998/Math/MathML",l);break;case"script":r=f.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild);break;case"select":r=typeof u.is=="string"?f.createElement("select",{is:u.is}):f.createElement("select"),u.multiple?r.multiple=!0:u.size&&(r.size=u.size);break;default:r=typeof u.is=="string"?f.createElement(l,{is:u.is}):f.createElement(l)}}r[ln]=s,r[Jt]=u;e:for(f=s.child;f!==null;){if(f.tag===5||f.tag===6)r.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===s)break e;for(;f.sibling===null;){if(f.return===null||f.return===s)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}s.stateNode=r;e:switch(Nn(r,l,u),l){case"button":case"input":case"select":case"textarea":r=!!u.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&Gs(s)}}return Pt(s),s.flags&=-16777217,null;case 6:if(r&&s.stateNode!=null)r.memoizedProps!==u&&Gs(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(r=be.current,Hl(s)){if(r=s.stateNode,l=s.memoizedProps,u=null,f=Bn,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}r[ln]=s,r=!!(r.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||bx(r.nodeValue,l)),r||Ta(s)}else r=Ad(r).createTextNode(u),r[ln]=s,s.stateNode=r}return Pt(s),null;case 13:if(u=s.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(f=Hl(s),u!==null&&u.dehydrated!==null){if(r===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[ln]=s}else Gl(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;Pt(s),f=!1}else f=iy(),r!==null&&r.memoizedState!==null&&(r.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(qs(s),s):(qs(s),null)}if(qs(s),(s.flags&128)!==0)return s.lanes=l,s;if(l=u!==null,r=r!==null&&r.memoizedState!==null,l){u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool);var g=null;u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(g=u.memoizedState.cachePool.pool),g!==f&&(u.flags|=2048)}return l!==r&&l&&(s.child.flags|=8192),md(s,s.updateQueue),Pt(s),null;case 4:return Be(),r===null&&Km(s.stateNode.containerInfo),Pt(s),null;case 10:return Fs(s.type),Pt(s),null;case 19:if(ce(hn),f=s.memoizedState,f===null)return Pt(s),null;if(u=(s.flags&128)!==0,g=f.rendering,g===null)if(u)oc(f,!1);else{if(qt!==0||r!==null&&(r.flags&128)!==0)for(r=s.child;r!==null;){if(g=cd(r),g!==null){for(s.flags|=128,oc(f,!1),r=g.updateQueue,s.updateQueue=r,md(s,r),s.subtreeFlags=0,r=l,l=s.child;l!==null;)ty(l,r),l=l.sibling;return le(hn,hn.current&1|2),s.child}r=r.sibling}f.tail!==null&&_e()>yd&&(s.flags|=128,u=!0,oc(f,!1),s.lanes=4194304)}else{if(!u)if(r=cd(g),r!==null){if(s.flags|=128,u=!0,r=r.updateQueue,s.updateQueue=r,md(s,r),oc(f,!0),f.tail===null&&f.tailMode==="hidden"&&!g.alternate&&!mt)return Pt(s),null}else 2*_e()-f.renderingStartTime>yd&&l!==536870912&&(s.flags|=128,u=!0,oc(f,!1),s.lanes=4194304);f.isBackwards?(g.sibling=s.child,s.child=g):(r=f.last,r!==null?r.sibling=g:s.child=g,f.last=g)}return f.tail!==null?(s=f.tail,f.rendering=s,f.tail=s.sibling,f.renderingStartTime=_e(),s.sibling=null,r=hn.current,le(hn,u?r&1|2:r&1),s):(Pt(s),null);case 22:case 23:return qs(s),Yf(),u=s.memoizedState!==null,r!==null?r.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(l&536870912)!==0&&(s.flags&128)===0&&(Pt(s),s.subtreeFlags&6&&(s.flags|=8192)):Pt(s),l=s.updateQueue,l!==null&&md(s,l.retryQueue),l=null,r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==l&&(s.flags|=2048),r!==null&&ce(Ra),null;case 24:return l=null,r!==null&&(l=r.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),Fs(dn),Pt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function dN(r,s){switch(Vf(s),s.tag){case 1:return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 3:return Fs(dn),Be(),r=s.flags,(r&65536)!==0&&(r&128)===0?(s.flags=r&-65537|128,s):null;case 26:case 27:case 5:return Tt(s),null;case 13:if(qs(s),r=s.memoizedState,r!==null&&r.dehydrated!==null){if(s.alternate===null)throw Error(i(340));Gl()}return r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 19:return ce(hn),null;case 4:return Be(),null;case 10:return Fs(s.type),null;case 22:case 23:return qs(s),Yf(),r!==null&&ce(Ra),r=s.flags,r&65536?(s.flags=r&-65537|128,s):null;case 24:return Fs(dn),null;case 25:return null;default:return null}}function Sv(r,s){switch(Vf(s),s.tag){case 3:Fs(dn),Be();break;case 26:case 27:case 5:Tt(s);break;case 4:Be();break;case 13:qs(s);break;case 19:ce(hn);break;case 10:Fs(s.type);break;case 22:case 23:qs(s),Yf(),r!==null&&ce(Ra);break;case 24:Fs(dn)}}function lc(r,s){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&r)===r){u=void 0;var g=l.create,_=l.inst;u=g(),_.destroy=u}l=l.next}while(l!==f)}}catch(A){Et(s,s.return,A)}}function Ei(r,s,l){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var g=f.next;u=g;do{if((u.tag&r)===r){var _=u.inst,A=_.destroy;if(A!==void 0){_.destroy=void 0,f=s;var B=l,ee=A;try{ee()}catch(ue){Et(f,B,ue)}}}u=u.next}while(u!==g)}}catch(ue){Et(s,s.return,ue)}}function Rv(r){var s=r.updateQueue;if(s!==null){var l=r.stateNode;try{gy(s,l)}catch(u){Et(r,r.return,u)}}}function kv(r,s,l){l.props=Ca(r.type,r.memoizedProps),l.state=r.memoizedState;try{l.componentWillUnmount()}catch(u){Et(r,s,u)}}function cc(r,s){try{var l=r.ref;if(l!==null){switch(r.tag){case 26:case 27:case 5:var u=r.stateNode;break;case 30:u=r.stateNode;break;default:u=r.stateNode}typeof l=="function"?r.refCleanup=l(u):l.current=u}}catch(f){Et(r,s,f)}}function is(r,s){var l=r.ref,u=r.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(f){Et(r,s,f)}finally{r.refCleanup=null,r=r.alternate,r!=null&&(r.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(f){Et(r,s,f)}else l.current=null}function Cv(r){var s=r.type,l=r.memoizedProps,u=r.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break e;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(f){Et(r,r.return,f)}}function jm(r,s,l){try{var u=r.stateNode;IN(u,r.type,l,s),u[Jt]=s}catch(f){Et(r,r.return,f)}}function Iv(r){return r.tag===5||r.tag===3||r.tag===26||r.tag===27&&Di(r.type)||r.tag===4}function Nm(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Iv(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.tag===27&&Di(r.type)||r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Em(r,s,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(r,s):(s=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,s.appendChild(r),l=l._reactRootContainer,l!=null||s.onclick!==null||(s.onclick=Td));else if(u!==4&&(u===27&&Di(r.type)&&(l=r.stateNode,s=null),r=r.child,r!==null))for(Em(r,s,l),r=r.sibling;r!==null;)Em(r,s,l),r=r.sibling}function pd(r,s,l){var u=r.tag;if(u===5||u===6)r=r.stateNode,s?l.insertBefore(r,s):l.appendChild(r);else if(u!==4&&(u===27&&Di(r.type)&&(l=r.stateNode),r=r.child,r!==null))for(pd(r,s,l),r=r.sibling;r!==null;)pd(r,s,l),r=r.sibling}function Dv(r){var s=r.stateNode,l=r.memoizedProps;try{for(var u=r.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);Nn(s,u,l),s[ln]=r,s[Jt]=l}catch(g){Et(r,r.return,g)}}var $s=!1,Qt=!1,Tm=!1,Ov=typeof WeakSet=="function"?WeakSet:Set,yn=null;function hN(r,s){if(r=r.containerInfo,Wm=Dd,r=G0(r),Nf(r)){if("selectionStart"in r)var l={start:r.selectionStart,end:r.selectionEnd};else e:{l=(l=r.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var f=u.anchorOffset,g=u.focusNode;u=u.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var _=0,A=-1,B=-1,ee=0,ue=0,he=r,te=null;t:for(;;){for(var ne;he!==l||f!==0&&he.nodeType!==3||(A=_+f),he!==g||u!==0&&he.nodeType!==3||(B=_+u),he.nodeType===3&&(_+=he.nodeValue.length),(ne=he.firstChild)!==null;)te=he,he=ne;for(;;){if(he===r)break t;if(te===l&&++ee===f&&(A=_),te===g&&++ue===u&&(B=_),(ne=he.nextSibling)!==null)break;he=te,te=he.parentNode}he=ne}l=A===-1||B===-1?null:{start:A,end:B}}else l=null}l=l||{start:0,end:0}}else l=null;for(Xm={focusedElem:r,selectionRange:l},Dd=!1,yn=s;yn!==null;)if(s=yn,r=s.child,(s.subtreeFlags&1024)!==0&&r!==null)r.return=s,yn=r;else for(;yn!==null;){switch(s=yn,g=s.alternate,r=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((r&1024)!==0&&g!==null){r=void 0,l=s,f=g.memoizedProps,g=g.memoizedState,u=l.stateNode;try{var qe=Ca(l.type,f,l.elementType===l.type);r=u.getSnapshotBeforeUpdate(qe,g),u.__reactInternalSnapshotBeforeUpdate=r}catch(ze){Et(l,l.return,ze)}}break;case 3:if((r&1024)!==0){if(r=s.stateNode.containerInfo,l=r.nodeType,l===9)ep(r);else if(l===1)switch(r.nodeName){case"HEAD":case"HTML":case"BODY":ep(r);break;default:r.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((r&1024)!==0)throw Error(i(163))}if(r=s.sibling,r!==null){r.return=s.return,yn=r;break}yn=s.return}}function Vv(r,s,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Ti(r,l),u&4&&lc(5,l);break;case 1:if(Ti(r,l),u&4)if(r=l.stateNode,s===null)try{r.componentDidMount()}catch(_){Et(l,l.return,_)}else{var f=Ca(l.type,s.memoizedProps);s=s.memoizedState;try{r.componentDidUpdate(f,s,r.__reactInternalSnapshotBeforeUpdate)}catch(_){Et(l,l.return,_)}}u&64&&Rv(l),u&512&&cc(l,l.return);break;case 3:if(Ti(r,l),u&64&&(r=l.updateQueue,r!==null)){if(s=null,l.child!==null)switch(l.child.tag){case 27:case 5:s=l.child.stateNode;break;case 1:s=l.child.stateNode}try{gy(r,s)}catch(_){Et(l,l.return,_)}}break;case 27:s===null&&u&4&&Dv(l);case 26:case 5:Ti(r,l),s===null&&u&4&&Cv(l),u&512&&cc(l,l.return);break;case 12:Ti(r,l);break;case 13:Ti(r,l),u&4&&Lv(r,l),u&64&&(r=l.memoizedState,r!==null&&(r=r.dehydrated,r!==null&&(l=_N.bind(null,l),UN(r,l))));break;case 22:if(u=l.memoizedState!==null||$s,!u){s=s!==null&&s.memoizedState!==null||Qt,f=$s;var g=Qt;$s=u,(Qt=s)&&!g?Ai(r,l,(l.subtreeFlags&8772)!==0):Ti(r,l),$s=f,Qt=g}break;case 30:break;default:Ti(r,l)}}function Mv(r){var s=r.alternate;s!==null&&(r.alternate=null,Mv(s)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(s=r.stateNode,s!==null&&mi(s)),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}var Mt=null,Kn=!1;function Ks(r,s,l){for(l=l.child;l!==null;)Pv(r,s,l),l=l.sibling}function Pv(r,s,l){if(oe&&typeof oe.onCommitFiberUnmount=="function")try{oe.onCommitFiberUnmount(pe,l)}catch{}switch(l.tag){case 26:Qt||is(l,s),Ks(r,s,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Qt||is(l,s);var u=Mt,f=Kn;Di(l.type)&&(Mt=l.stateNode,Kn=!1),Ks(r,s,l),vc(l.stateNode),Mt=u,Kn=f;break;case 5:Qt||is(l,s);case 6:if(u=Mt,f=Kn,Mt=null,Ks(r,s,l),Mt=u,Kn=f,Mt!==null)if(Kn)try{(Mt.nodeType===9?Mt.body:Mt.nodeName==="HTML"?Mt.ownerDocument.body:Mt).removeChild(l.stateNode)}catch(g){Et(l,s,g)}else try{Mt.removeChild(l.stateNode)}catch(g){Et(l,s,g)}break;case 18:Mt!==null&&(Kn?(r=Mt,Ex(r.nodeType===9?r.body:r.nodeName==="HTML"?r.ownerDocument.body:r,l.stateNode),Tc(r)):Ex(Mt,l.stateNode));break;case 4:u=Mt,f=Kn,Mt=l.stateNode.containerInfo,Kn=!0,Ks(r,s,l),Mt=u,Kn=f;break;case 0:case 11:case 14:case 15:Qt||Ei(2,l,s),Qt||Ei(4,l,s),Ks(r,s,l);break;case 1:Qt||(is(l,s),u=l.stateNode,typeof u.componentWillUnmount=="function"&&kv(l,s,u)),Ks(r,s,l);break;case 21:Ks(r,s,l);break;case 22:Qt=(u=Qt)||l.memoizedState!==null,Ks(r,s,l),Qt=u;break;default:Ks(r,s,l)}}function Lv(r,s){if(s.memoizedState===null&&(r=s.alternate,r!==null&&(r=r.memoizedState,r!==null&&(r=r.dehydrated,r!==null))))try{Tc(r)}catch(l){Et(s,s.return,l)}}function fN(r){switch(r.tag){case 13:case 19:var s=r.stateNode;return s===null&&(s=r.stateNode=new Ov),s;case 22:return r=r.stateNode,s=r._retryCache,s===null&&(s=r._retryCache=new Ov),s;default:throw Error(i(435,r.tag))}}function Am(r,s){var l=fN(r);s.forEach(function(u){var f=wN.bind(null,r,u);l.has(u)||(l.add(u),u.then(f,f))})}function ar(r,s){var l=s.deletions;if(l!==null)for(var u=0;u<l.length;u++){var f=l[u],g=r,_=s,A=_;e:for(;A!==null;){switch(A.tag){case 27:if(Di(A.type)){Mt=A.stateNode,Kn=!1;break e}break;case 5:Mt=A.stateNode,Kn=!1;break e;case 3:case 4:Mt=A.stateNode.containerInfo,Kn=!0;break e}A=A.return}if(Mt===null)throw Error(i(160));Pv(g,_,f),Mt=null,Kn=!1,g=f.alternate,g!==null&&(g.return=null),f.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Uv(s,r),s=s.sibling}var Ur=null;function Uv(r,s){var l=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:ar(s,r),or(r),u&4&&(Ei(3,r,r.return),lc(3,r),Ei(5,r,r.return));break;case 1:ar(s,r),or(r),u&512&&(Qt||l===null||is(l,l.return)),u&64&&$s&&(r=r.updateQueue,r!==null&&(u=r.callbacks,u!==null&&(l=r.shared.hiddenCallbacks,r.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var f=Ur;if(ar(s,r),or(r),u&512&&(Qt||l===null||is(l,l.return)),u&4){var g=l!==null?l.memoizedState:null;if(u=r.memoizedState,l===null)if(u===null)if(r.stateNode===null){e:{u=r.type,l=r.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":g=f.getElementsByTagName("title")[0],(!g||g[aa]||g[ln]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=f.createElement(u),f.head.insertBefore(g,f.querySelector("head > title"))),Nn(g,u,l),g[ln]=r,$t(g),u=g;break e;case"link":var _=Dx("link","href",f).get(u+(l.href||""));if(_){for(var A=0;A<_.length;A++)if(g=_[A],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){_.splice(A,1);break t}}g=f.createElement(u),Nn(g,u,l),f.head.appendChild(g);break;case"meta":if(_=Dx("meta","content",f).get(u+(l.content||""))){for(A=0;A<_.length;A++)if(g=_[A],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){_.splice(A,1);break t}}g=f.createElement(u),Nn(g,u,l),f.head.appendChild(g);break;default:throw Error(i(468,u))}g[ln]=r,$t(g),u=g}r.stateNode=u}else Ox(f,r.type,r.stateNode);else r.stateNode=Ix(f,u,r.memoizedProps);else g!==u?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,u===null?Ox(f,r.type,r.stateNode):Ix(f,u,r.memoizedProps)):u===null&&r.stateNode!==null&&jm(r,r.memoizedProps,l.memoizedProps)}break;case 27:ar(s,r),or(r),u&512&&(Qt||l===null||is(l,l.return)),l!==null&&u&4&&jm(r,r.memoizedProps,l.memoizedProps);break;case 5:if(ar(s,r),or(r),u&512&&(Qt||l===null||is(l,l.return)),r.flags&32){f=r.stateNode;try{gr(f,"")}catch(ne){Et(r,r.return,ne)}}u&4&&r.stateNode!=null&&(f=r.memoizedProps,jm(r,f,l!==null?l.memoizedProps:f)),u&1024&&(Tm=!0);break;case 6:if(ar(s,r),or(r),u&4){if(r.stateNode===null)throw Error(i(162));u=r.memoizedProps,l=r.stateNode;try{l.nodeValue=u}catch(ne){Et(r,r.return,ne)}}break;case 3:if(kd=null,f=Ur,Ur=Sd(s.containerInfo),ar(s,r),Ur=f,or(r),u&4&&l!==null&&l.memoizedState.isDehydrated)try{Tc(s.containerInfo)}catch(ne){Et(r,r.return,ne)}Tm&&(Tm=!1,zv(r));break;case 4:u=Ur,Ur=Sd(r.stateNode.containerInfo),ar(s,r),or(r),Ur=u;break;case 12:ar(s,r),or(r);break;case 13:ar(s,r),or(r),r.child.flags&8192&&r.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Dm=_e()),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Am(r,u)));break;case 22:f=r.memoizedState!==null;var B=l!==null&&l.memoizedState!==null,ee=$s,ue=Qt;if($s=ee||f,Qt=ue||B,ar(s,r),Qt=ue,$s=ee,or(r),u&8192)e:for(s=r.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(l===null||B||$s||Qt||Ia(r)),l=null,s=r;;){if(s.tag===5||s.tag===26){if(l===null){B=l=s;try{if(g=B.stateNode,f)_=g.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{A=B.stateNode;var he=B.memoizedProps.style,te=he!=null&&he.hasOwnProperty("display")?he.display:null;A.style.display=te==null||typeof te=="boolean"?"":(""+te).trim()}}catch(ne){Et(B,B.return,ne)}}}else if(s.tag===6){if(l===null){B=s;try{B.stateNode.nodeValue=f?"":B.memoizedProps}catch(ne){Et(B,B.return,ne)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===r)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break e;for(;s.sibling===null;){if(s.return===null||s.return===r)break e;l===s&&(l=null),s=s.return}l===s&&(l=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=r.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Am(r,l))));break;case 19:ar(s,r),or(r),u&4&&(u=r.updateQueue,u!==null&&(r.updateQueue=null,Am(r,u)));break;case 30:break;case 21:break;default:ar(s,r),or(r)}}function or(r){var s=r.flags;if(s&2){try{for(var l,u=r.return;u!==null;){if(Iv(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var f=l.stateNode,g=Nm(r);pd(r,g,f);break;case 5:var _=l.stateNode;l.flags&32&&(gr(_,""),l.flags&=-33);var A=Nm(r);pd(r,A,_);break;case 3:case 4:var B=l.stateNode.containerInfo,ee=Nm(r);Em(r,ee,B);break;default:throw Error(i(161))}}catch(ue){Et(r,r.return,ue)}r.flags&=-3}s&4096&&(r.flags&=-4097)}function zv(r){if(r.subtreeFlags&1024)for(r=r.child;r!==null;){var s=r;zv(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),r=r.sibling}}function Ti(r,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Vv(r,s.alternate,s),s=s.sibling}function Ia(r){for(r=r.child;r!==null;){var s=r;switch(s.tag){case 0:case 11:case 14:case 15:Ei(4,s,s.return),Ia(s);break;case 1:is(s,s.return);var l=s.stateNode;typeof l.componentWillUnmount=="function"&&kv(s,s.return,l),Ia(s);break;case 27:vc(s.stateNode);case 26:case 5:is(s,s.return),Ia(s);break;case 22:s.memoizedState===null&&Ia(s);break;case 30:Ia(s);break;default:Ia(s)}r=r.sibling}}function Ai(r,s,l){for(l=l&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=r,g=s,_=g.flags;switch(g.tag){case 0:case 11:case 15:Ai(f,g,l),lc(4,g);break;case 1:if(Ai(f,g,l),u=g,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(ee){Et(u,u.return,ee)}if(u=g,f=u.updateQueue,f!==null){var A=u.stateNode;try{var B=f.shared.hiddenCallbacks;if(B!==null)for(f.shared.hiddenCallbacks=null,f=0;f<B.length;f++)py(B[f],A)}catch(ee){Et(u,u.return,ee)}}l&&_&64&&Rv(g),cc(g,g.return);break;case 27:Dv(g);case 26:case 5:Ai(f,g,l),l&&u===null&&_&4&&Cv(g),cc(g,g.return);break;case 12:Ai(f,g,l);break;case 13:Ai(f,g,l),l&&_&4&&Lv(f,g);break;case 22:g.memoizedState===null&&Ai(f,g,l),cc(g,g.return);break;case 30:break;default:Ai(f,g,l)}s=s.sibling}}function Sm(r,s){var l=null;r!==null&&r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),r=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(r=s.memoizedState.cachePool.pool),r!==l&&(r!=null&&r.refCount++,l!=null&&Ql(l))}function Rm(r,s){r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Ql(r))}function as(r,s,l,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Fv(r,s,l,u),s=s.sibling}function Fv(r,s,l,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:as(r,s,l,u),f&2048&&lc(9,s);break;case 1:as(r,s,l,u);break;case 3:as(r,s,l,u),f&2048&&(r=null,s.alternate!==null&&(r=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==r&&(s.refCount++,r!=null&&Ql(r)));break;case 12:if(f&2048){as(r,s,l,u),r=s.stateNode;try{var g=s.memoizedProps,_=g.id,A=g.onPostCommit;typeof A=="function"&&A(_,s.alternate===null?"mount":"update",r.passiveEffectDuration,-0)}catch(B){Et(s,s.return,B)}}else as(r,s,l,u);break;case 13:as(r,s,l,u);break;case 23:break;case 22:g=s.stateNode,_=s.alternate,s.memoizedState!==null?g._visibility&2?as(r,s,l,u):uc(r,s):g._visibility&2?as(r,s,l,u):(g._visibility|=2,Vo(r,s,l,u,(s.subtreeFlags&10256)!==0)),f&2048&&Sm(_,s);break;case 24:as(r,s,l,u),f&2048&&Rm(s.alternate,s);break;default:as(r,s,l,u)}}function Vo(r,s,l,u,f){for(f=f&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var g=r,_=s,A=l,B=u,ee=_.flags;switch(_.tag){case 0:case 11:case 15:Vo(g,_,A,B,f),lc(8,_);break;case 23:break;case 22:var ue=_.stateNode;_.memoizedState!==null?ue._visibility&2?Vo(g,_,A,B,f):uc(g,_):(ue._visibility|=2,Vo(g,_,A,B,f)),f&&ee&2048&&Sm(_.alternate,_);break;case 24:Vo(g,_,A,B,f),f&&ee&2048&&Rm(_.alternate,_);break;default:Vo(g,_,A,B,f)}s=s.sibling}}function uc(r,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var l=r,u=s,f=u.flags;switch(u.tag){case 22:uc(l,u),f&2048&&Sm(u.alternate,u);break;case 24:uc(l,u),f&2048&&Rm(u.alternate,u);break;default:uc(l,u)}s=s.sibling}}var dc=8192;function Mo(r){if(r.subtreeFlags&dc)for(r=r.child;r!==null;)Bv(r),r=r.sibling}function Bv(r){switch(r.tag){case 26:Mo(r),r.flags&dc&&r.memoizedState!==null&&JN(Ur,r.memoizedState,r.memoizedProps);break;case 5:Mo(r);break;case 3:case 4:var s=Ur;Ur=Sd(r.stateNode.containerInfo),Mo(r),Ur=s;break;case 22:r.memoizedState===null&&(s=r.alternate,s!==null&&s.memoizedState!==null?(s=dc,dc=16777216,Mo(r),dc=s):Mo(r));break;default:Mo(r)}}function qv(r){var s=r.alternate;if(s!==null&&(r=s.child,r!==null)){s.child=null;do s=r.sibling,r.sibling=null,r=s;while(r!==null)}}function hc(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];yn=u,Gv(u,r)}qv(r)}if(r.subtreeFlags&10256)for(r=r.child;r!==null;)Hv(r),r=r.sibling}function Hv(r){switch(r.tag){case 0:case 11:case 15:hc(r),r.flags&2048&&Ei(9,r,r.return);break;case 3:hc(r);break;case 12:hc(r);break;case 22:var s=r.stateNode;r.memoizedState!==null&&s._visibility&2&&(r.return===null||r.return.tag!==13)?(s._visibility&=-3,gd(r)):hc(r);break;default:hc(r)}}function gd(r){var s=r.deletions;if((r.flags&16)!==0){if(s!==null)for(var l=0;l<s.length;l++){var u=s[l];yn=u,Gv(u,r)}qv(r)}for(r=r.child;r!==null;){switch(s=r,s.tag){case 0:case 11:case 15:Ei(8,s,s.return),gd(s);break;case 22:l=s.stateNode,l._visibility&2&&(l._visibility&=-3,gd(s));break;default:gd(s)}r=r.sibling}}function Gv(r,s){for(;yn!==null;){var l=yn;switch(l.tag){case 0:case 11:case 15:Ei(8,l,s);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Ql(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,yn=u;else e:for(l=r;yn!==null;){u=yn;var f=u.sibling,g=u.return;if(Mv(u),u===l){yn=null;break e}if(f!==null){f.return=g,yn=f;break e}yn=g}}}var mN={getCacheForType:function(r){var s=kn(dn),l=s.data.get(r);return l===void 0&&(l=r(),s.data.set(r,l)),l}},pN=typeof WeakMap=="function"?WeakMap:Map,yt=0,St=null,Ze=null,lt=0,vt=0,lr=null,Si=!1,Po=!1,km=!1,Qs=0,qt=0,Ri=0,Da=0,Cm=0,Er=0,Lo=0,fc=null,Qn=null,Im=!1,Dm=0,yd=1/0,vd=null,ki=null,jn=0,Ci=null,Uo=null,zo=0,Om=0,Vm=null,$v=null,mc=0,Mm=null;function cr(){if((yt&2)!==0&&lt!==0)return lt&-lt;if(Z.T!==null){var r=Ao;return r!==0?r:qm()}return hi()}function Kv(){Er===0&&(Er=(lt&536870912)===0||mt?jl():536870912);var r=Nr.current;return r!==null&&(r.flags|=32),Er}function ur(r,s,l){(r===St&&(vt===2||vt===9)||r.cancelPendingCommit!==null)&&(Fo(r,0),Ii(r,lt,Er,!1)),Ts(r,l),((yt&2)===0||r!==St)&&(r===St&&((yt&2)===0&&(Da|=l),qt===4&&Ii(r,lt,Er,!1)),os(r))}function Qv(r,s,l){if((yt&6)!==0)throw Error(i(327));var u=!l&&(s&124)===0&&(s&r.expiredLanes)===0||Ns(r,s),f=u?vN(r,s):Um(r,s,!0),g=u;do{if(f===0){Po&&!u&&Ii(r,s,0,!1);break}else{if(l=r.current.alternate,g&&!gN(l)){f=Um(r,s,!1),g=!1;continue}if(f===2){if(g=s,r.errorRecoveryDisabledLanes&g)var _=0;else _=r.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var A=r;f=fc;var B=A.current.memoizedState.isDehydrated;if(B&&(Fo(A,_).flags|=256),_=Um(A,_,!1),_!==2){if(km&&!B){A.errorRecoveryDisabledLanes|=g,Da|=g,f=4;break e}g=Qn,Qn=f,g!==null&&(Qn===null?Qn=g:Qn.push.apply(Qn,g))}f=_}if(g=!1,f!==2)continue}}if(f===1){Fo(r,0),Ii(r,s,0,!0);break}e:{switch(u=r,g=f,g){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:Ii(u,s,Er,!Si);break e;case 2:Qn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Dm+300-_e(),10<f)){if(Ii(u,s,Er,!Si),js(u,0,!0)!==0)break e;u.timeoutHandle=jx(Yv.bind(null,u,l,Qn,vd,Im,s,Er,Da,Lo,Si,g,2,-0,0),f);break e}Yv(u,l,Qn,vd,Im,s,Er,Da,Lo,Si,g,0,-0,0)}}break}while(!0);os(r)}function Yv(r,s,l,u,f,g,_,A,B,ee,ue,he,te,ne){if(r.timeoutHandle=-1,he=s.subtreeFlags,(he&8192||(he&16785408)===16785408)&&(_c={stylesheets:null,count:0,unsuspend:XN},Bv(s),he=ZN(),he!==null)){r.cancelPendingCommit=he(nx.bind(null,r,s,g,l,u,f,_,A,B,ue,1,te,ne)),Ii(r,g,_,!ee);return}nx(r,s,g,l,u,f,_,A,B)}function gN(r){for(var s=r;;){var l=s.tag;if((l===0||l===11||l===15)&&s.flags&16384&&(l=s.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var f=l[u],g=f.getSnapshot;f=f.value;try{if(!sr(g(),f))return!1}catch{return!1}}if(l=s.child,s.subtreeFlags&16384&&l!==null)l.return=s,s=l;else{if(s===r)break;for(;s.sibling===null;){if(s.return===null||s.return===r)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Ii(r,s,l,u){s&=~Cm,s&=~Da,r.suspendedLanes|=s,r.pingedLanes&=~s,u&&(r.warmLanes|=s),u=r.expirationTimes;for(var f=s;0<f;){var g=31-Ve(f),_=1<<g;u[g]=-1,f&=~_}l!==0&&$r(r,l,s)}function xd(){return(yt&6)===0?(pc(0),!1):!0}function Pm(){if(Ze!==null){if(vt===0)var r=Ze.return;else r=Ze,zs=Aa=null,em(r),Do=null,ic=0,r=Ze;for(;r!==null;)Sv(r.alternate,r),r=r.return;Ze=null}}function Fo(r,s){var l=r.timeoutHandle;l!==-1&&(r.timeoutHandle=-1,ON(l)),l=r.cancelPendingCommit,l!==null&&(r.cancelPendingCommit=null,l()),Pm(),St=r,Ze=l=Ps(r.current,null),lt=s,vt=0,lr=null,Si=!1,Po=Ns(r,s),km=!1,Lo=Er=Cm=Da=Ri=qt=0,Qn=fc=null,Im=!1,(s&8)!==0&&(s|=s&32);var u=r.entangledLanes;if(u!==0)for(r=r.entanglements,u&=s;0<u;){var f=31-Ve(u),g=1<<f;s|=r[f],u&=~g}return Qs=s,Fu(),l}function Wv(r,s){Xe=null,Z.H=ad,s===Wl||s===Wu?(s=fy(),vt=3):s===uy?(s=fy(),vt=4):vt=s===mv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,lr=s,Ze===null&&(qt=1,dd(r,br(s,r.current)))}function Xv(){var r=Z.H;return Z.H=ad,r===null?ad:r}function Jv(){var r=Z.A;return Z.A=mN,r}function Lm(){qt=4,Si||(lt&4194048)!==lt&&Nr.current!==null||(Po=!0),(Ri&134217727)===0&&(Da&134217727)===0||St===null||Ii(St,lt,Er,!1)}function Um(r,s,l){var u=yt;yt|=2;var f=Xv(),g=Jv();(St!==r||lt!==s)&&(vd=null,Fo(r,s)),s=!1;var _=qt;e:do try{if(vt!==0&&Ze!==null){var A=Ze,B=lr;switch(vt){case 8:Pm(),_=6;break e;case 3:case 2:case 9:case 6:Nr.current===null&&(s=!0);var ee=vt;if(vt=0,lr=null,Bo(r,A,B,ee),l&&Po){_=0;break e}break;default:ee=vt,vt=0,lr=null,Bo(r,A,B,ee)}}yN(),_=qt;break}catch(ue){Wv(r,ue)}while(!0);return s&&r.shellSuspendCounter++,zs=Aa=null,yt=u,Z.H=f,Z.A=g,Ze===null&&(St=null,lt=0,Fu()),_}function yN(){for(;Ze!==null;)Zv(Ze)}function vN(r,s){var l=yt;yt|=2;var u=Xv(),f=Jv();St!==r||lt!==s?(vd=null,yd=_e()+500,Fo(r,s)):Po=Ns(r,s);e:do try{if(vt!==0&&Ze!==null){s=Ze;var g=lr;t:switch(vt){case 1:vt=0,lr=null,Bo(r,s,g,1);break;case 2:case 9:if(dy(g)){vt=0,lr=null,ex(s);break}s=function(){vt!==2&&vt!==9||St!==r||(vt=7),os(r)},g.then(s,s);break e;case 3:vt=7;break e;case 4:vt=5;break e;case 7:dy(g)?(vt=0,lr=null,ex(s)):(vt=0,lr=null,Bo(r,s,g,7));break;case 5:var _=null;switch(Ze.tag){case 26:_=Ze.memoizedState;case 5:case 27:var A=Ze;if(!_||Vx(_)){vt=0,lr=null;var B=A.sibling;if(B!==null)Ze=B;else{var ee=A.return;ee!==null?(Ze=ee,bd(ee)):Ze=null}break t}}vt=0,lr=null,Bo(r,s,g,5);break;case 6:vt=0,lr=null,Bo(r,s,g,6);break;case 8:Pm(),qt=6;break e;default:throw Error(i(462))}}xN();break}catch(ue){Wv(r,ue)}while(!0);return zs=Aa=null,Z.H=u,Z.A=f,yt=l,Ze!==null?0:(St=null,lt=0,Fu(),qt)}function xN(){for(;Ze!==null&&!ve();)Zv(Ze)}function Zv(r){var s=Tv(r.alternate,r,Qs);r.memoizedProps=r.pendingProps,s===null?bd(r):Ze=s}function ex(r){var s=r,l=s.alternate;switch(s.tag){case 15:case 0:s=bv(l,s,s.pendingProps,s.type,void 0,lt);break;case 11:s=bv(l,s,s.pendingProps,s.type.render,s.ref,lt);break;case 5:em(s);default:Sv(l,s),s=Ze=ty(s,Qs),s=Tv(l,s,Qs)}r.memoizedProps=r.pendingProps,s===null?bd(r):Ze=s}function Bo(r,s,l,u){zs=Aa=null,em(s),Do=null,ic=0;var f=s.return;try{if(lN(r,f,s,l,lt)){qt=1,dd(r,br(l,r.current)),Ze=null;return}}catch(g){if(f!==null)throw Ze=f,g;qt=1,dd(r,br(l,r.current)),Ze=null;return}s.flags&32768?(mt||u===1?r=!0:Po||(lt&536870912)!==0?r=!1:(Si=r=!0,(u===2||u===9||u===3||u===6)&&(u=Nr.current,u!==null&&u.tag===13&&(u.flags|=16384))),tx(s,r)):bd(s)}function bd(r){var s=r;do{if((s.flags&32768)!==0){tx(s,Si);return}r=s.return;var l=uN(s.alternate,s,Qs);if(l!==null){Ze=l;return}if(s=s.sibling,s!==null){Ze=s;return}Ze=s=r}while(s!==null);qt===0&&(qt=5)}function tx(r,s){do{var l=dN(r.alternate,r);if(l!==null){l.flags&=32767,Ze=l;return}if(l=r.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!s&&(r=r.sibling,r!==null)){Ze=r;return}Ze=r=l}while(r!==null);qt=6,Ze=null}function nx(r,s,l,u,f,g,_,A,B){r.cancelPendingCommit=null;do _d();while(jn!==0);if((yt&6)!==0)throw Error(i(327));if(s!==null){if(s===r.current)throw Error(i(177));if(g=s.lanes|s.childLanes,g|=Rf,El(r,l,g,_,A,B),r===St&&(Ze=St=null,lt=0),Uo=s,Ci=r,zo=l,Om=g,Vm=f,$v=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(r.callbackNode=null,r.callbackPriority=0,jN(ge,function(){return ox(),null})):(r.callbackNode=null,r.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=Z.T,Z.T=null,f=re.p,re.p=2,_=yt,yt|=4;try{hN(r,s,l)}finally{yt=_,re.p=f,Z.T=u}}jn=1,rx(),sx(),ix()}}function rx(){if(jn===1){jn=0;var r=Ci,s=Uo,l=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||l){l=Z.T,Z.T=null;var u=re.p;re.p=2;var f=yt;yt|=4;try{Uv(s,r);var g=Xm,_=G0(r.containerInfo),A=g.focusedElem,B=g.selectionRange;if(_!==A&&A&&A.ownerDocument&&H0(A.ownerDocument.documentElement,A)){if(B!==null&&Nf(A)){var ee=B.start,ue=B.end;if(ue===void 0&&(ue=ee),"selectionStart"in A)A.selectionStart=ee,A.selectionEnd=Math.min(ue,A.value.length);else{var he=A.ownerDocument||document,te=he&&he.defaultView||window;if(te.getSelection){var ne=te.getSelection(),qe=A.textContent.length,ze=Math.min(B.start,qe),Nt=B.end===void 0?ze:Math.min(B.end,qe);!ne.extend&&ze>Nt&&(_=Nt,Nt=ze,ze=_);var Y=q0(A,ze),Q=q0(A,Nt);if(Y&&Q&&(ne.rangeCount!==1||ne.anchorNode!==Y.node||ne.anchorOffset!==Y.offset||ne.focusNode!==Q.node||ne.focusOffset!==Q.offset)){var J=he.createRange();J.setStart(Y.node,Y.offset),ne.removeAllRanges(),ze>Nt?(ne.addRange(J),ne.extend(Q.node,Q.offset)):(J.setEnd(Q.node,Q.offset),ne.addRange(J))}}}}for(he=[],ne=A;ne=ne.parentNode;)ne.nodeType===1&&he.push({element:ne,left:ne.scrollLeft,top:ne.scrollTop});for(typeof A.focus=="function"&&A.focus(),A=0;A<he.length;A++){var de=he[A];de.element.scrollLeft=de.left,de.element.scrollTop=de.top}}Dd=!!Wm,Xm=Wm=null}finally{yt=f,re.p=u,Z.T=l}}r.current=s,jn=2}}function sx(){if(jn===2){jn=0;var r=Ci,s=Uo,l=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||l){l=Z.T,Z.T=null;var u=re.p;re.p=2;var f=yt;yt|=4;try{Vv(r,s.alternate,s)}finally{yt=f,re.p=u,Z.T=l}}jn=3}}function ix(){if(jn===4||jn===3){jn=0,st();var r=Ci,s=Uo,l=zo,u=$v;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?jn=5:(jn=0,Uo=Ci=null,ax(r,r.pendingLanes));var f=r.pendingLanes;if(f===0&&(ki=null),so(l),s=s.stateNode,oe&&typeof oe.onCommitFiberRoot=="function")try{oe.onCommitFiberRoot(pe,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=Z.T,f=re.p,re.p=2,Z.T=null;try{for(var g=r.onRecoverableError,_=0;_<u.length;_++){var A=u[_];g(A.value,{componentStack:A.stack})}}finally{Z.T=s,re.p=f}}(zo&3)!==0&&_d(),os(r),f=r.pendingLanes,(l&4194090)!==0&&(f&42)!==0?r===Mm?mc++:(mc=0,Mm=r):mc=0,pc(0)}}function ax(r,s){(r.pooledCacheLanes&=s)===0&&(s=r.pooledCache,s!=null&&(r.pooledCache=null,Ql(s)))}function _d(r){return rx(),sx(),ix(),ox()}function ox(){if(jn!==5)return!1;var r=Ci,s=Om;Om=0;var l=so(zo),u=Z.T,f=re.p;try{re.p=32>l?32:l,Z.T=null,l=Vm,Vm=null;var g=Ci,_=zo;if(jn=0,Uo=Ci=null,zo=0,(yt&6)!==0)throw Error(i(331));var A=yt;if(yt|=4,Hv(g.current),Fv(g,g.current,_,l),yt=A,pc(0,!1),oe&&typeof oe.onPostCommitFiberRoot=="function")try{oe.onPostCommitFiberRoot(pe,g)}catch{}return!0}finally{re.p=f,Z.T=u,ax(r,s)}}function lx(r,s,l){s=br(l,s),s=mm(r.stateNode,s,2),r=_i(r,s,2),r!==null&&(Ts(r,2),os(r))}function Et(r,s,l){if(r.tag===3)lx(r,r,l);else for(;s!==null;){if(s.tag===3){lx(s,r,l);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(ki===null||!ki.has(u))){r=br(l,r),l=hv(2),u=_i(s,l,2),u!==null&&(fv(l,u,s,r),Ts(u,2),os(u));break}}s=s.return}}function zm(r,s,l){var u=r.pingCache;if(u===null){u=r.pingCache=new pN;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(l)||(km=!0,f.add(l),r=bN.bind(null,r,s,l),s.then(r,r))}function bN(r,s,l){var u=r.pingCache;u!==null&&u.delete(s),r.pingedLanes|=r.suspendedLanes&l,r.warmLanes&=~l,St===r&&(lt&l)===l&&(qt===4||qt===3&&(lt&62914560)===lt&&300>_e()-Dm?(yt&2)===0&&Fo(r,0):Cm|=l,Lo===lt&&(Lo=0)),os(r)}function cx(r,s){s===0&&(s=Nl()),r=jo(r,s),r!==null&&(Ts(r,s),os(r))}function _N(r){var s=r.memoizedState,l=0;s!==null&&(l=s.retryLane),cx(r,l)}function wN(r,s){var l=0;switch(r.tag){case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(l=f.retryLane);break;case 19:u=r.stateNode;break;case 22:u=r.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),cx(r,l)}function jN(r,s){return Ot(r,s)}var wd=null,qo=null,Fm=!1,jd=!1,Bm=!1,Oa=0;function os(r){r!==qo&&r.next===null&&(qo===null?wd=qo=r:qo=qo.next=r),jd=!0,Fm||(Fm=!0,EN())}function pc(r,s){if(!Bm&&jd){Bm=!0;do for(var l=!1,u=wd;u!==null;){if(r!==0){var f=u.pendingLanes;if(f===0)var g=0;else{var _=u.suspendedLanes,A=u.pingedLanes;g=(1<<31-Ve(42|r)+1)-1,g&=f&~(_&~A),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,fx(u,g))}else g=lt,g=js(u,u===St?g:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(g&3)===0||Ns(u,g)||(l=!0,fx(u,g));u=u.next}while(l);Bm=!1}}function NN(){ux()}function ux(){jd=Fm=!1;var r=0;Oa!==0&&(DN()&&(r=Oa),Oa=0);for(var s=_e(),l=null,u=wd;u!==null;){var f=u.next,g=dx(u,s);g===0?(u.next=null,l===null?wd=f:l.next=f,f===null&&(qo=l)):(l=u,(r!==0||(g&3)!==0)&&(jd=!0)),u=f}pc(r)}function dx(r,s){for(var l=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,g=r.pendingLanes&-62914561;0<g;){var _=31-Ve(g),A=1<<_,B=f[_];B===-1?((A&l)===0||(A&u)!==0)&&(f[_]=ui(A,s)):B<=s&&(r.expiredLanes|=A),g&=~A}if(s=St,l=lt,l=js(r,r===s?l:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u=r.callbackNode,l===0||r===s&&(vt===2||vt===9)||r.cancelPendingCommit!==null)return u!==null&&u!==null&&Ge(u),r.callbackNode=null,r.callbackPriority=0;if((l&3)===0||Ns(r,l)){if(s=l&-l,s===r.callbackPriority)return s;switch(u!==null&&Ge(u),so(l)){case 2:case 8:l=Ue;break;case 32:l=ge;break;case 268435456:l=X;break;default:l=ge}return u=hx.bind(null,r),l=Ot(l,u),r.callbackPriority=s,r.callbackNode=l,s}return u!==null&&u!==null&&Ge(u),r.callbackPriority=2,r.callbackNode=null,2}function hx(r,s){if(jn!==0&&jn!==5)return r.callbackNode=null,r.callbackPriority=0,null;var l=r.callbackNode;if(_d()&&r.callbackNode!==l)return null;var u=lt;return u=js(r,r===St?u:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),u===0?null:(Qv(r,u,s),dx(r,_e()),r.callbackNode!=null&&r.callbackNode===l?hx.bind(null,r):null)}function fx(r,s){if(_d())return null;Qv(r,s,!0)}function EN(){VN(function(){(yt&6)!==0?Ot(tt,NN):ux()})}function qm(){return Oa===0&&(Oa=jl()),Oa}function mx(r){return r==null||typeof r=="symbol"||typeof r=="boolean"?null:typeof r=="function"?r:uo(""+r)}function px(r,s){var l=s.ownerDocument.createElement("input");return l.name=s.name,l.value=s.value,r.id&&l.setAttribute("form",r.id),s.parentNode.insertBefore(l,s),r=new FormData(r),l.parentNode.removeChild(l),r}function TN(r,s,l,u,f){if(s==="submit"&&l&&l.stateNode===f){var g=mx((f[Jt]||null).action),_=u.submitter;_&&(s=(s=_[Jt]||null)?mx(s.formAction):_.getAttribute("formAction"),s!==null&&(g=s,_=null));var A=new ho("action","action",null,u,f);r.push({event:A,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(Oa!==0){var B=_?px(f,_):new FormData(f);cm(l,{pending:!0,data:B,method:f.method,action:g},null,B)}}else typeof g=="function"&&(A.preventDefault(),B=_?px(f,_):new FormData(f),cm(l,{pending:!0,data:B,method:f.method,action:g},g,B))},currentTarget:f}]})}}for(var Hm=0;Hm<Sf.length;Hm++){var Gm=Sf[Hm],AN=Gm.toLowerCase(),SN=Gm[0].toUpperCase()+Gm.slice(1);Lr(AN,"on"+SN)}Lr(Q0,"onAnimationEnd"),Lr(Y0,"onAnimationIteration"),Lr(W0,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Gj,"onTransitionRun"),Lr($j,"onTransitionStart"),Lr(Kj,"onTransitionCancel"),Lr(X0,"onTransitionEnd"),Ss("onMouseEnter",["mouseout","mouseover"]),Ss("onMouseLeave",["mouseout","mouseover"]),Ss("onPointerEnter",["pointerout","pointerover"]),Ss("onPointerLeave",["pointerout","pointerover"]),Mr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RN=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gc));function gx(r,s){s=(s&4)!==0;for(var l=0;l<r.length;l++){var u=r[l],f=u.event;u=u.listeners;e:{var g=void 0;if(s)for(var _=u.length-1;0<=_;_--){var A=u[_],B=A.instance,ee=A.currentTarget;if(A=A.listener,B!==g&&f.isPropagationStopped())break e;g=A,f.currentTarget=ee;try{g(f)}catch(ue){ud(ue)}f.currentTarget=null,g=B}else for(_=0;_<u.length;_++){if(A=u[_],B=A.instance,ee=A.currentTarget,A=A.listener,B!==g&&f.isPropagationStopped())break e;g=A,f.currentTarget=ee;try{g(f)}catch(ue){ud(ue)}f.currentTarget=null,g=B}}}}function et(r,s){var l=s[Al];l===void 0&&(l=s[Al]=new Set);var u=r+"__bubble";l.has(u)||(yx(s,r,2,!1),l.add(u))}function $m(r,s,l){var u=0;s&&(u|=4),yx(l,r,u,s)}var Nd="_reactListening"+Math.random().toString(36).slice(2);function Km(r){if(!r[Nd]){r[Nd]=!0,Sl.forEach(function(l){l!=="selectionchange"&&(RN.has(l)||$m(l,!1,r),$m(l,!0,r))});var s=r.nodeType===9?r:r.ownerDocument;s===null||s[Nd]||(s[Nd]=!0,$m("selectionchange",!1,s))}}function yx(r,s,l,u){switch(Fx(s)){case 2:var f=nE;break;case 8:f=rE;break;default:f=op}l=f.bind(null,s,l,r),f=void 0,!vr||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(s,l,{capture:!0,passive:f}):r.addEventListener(s,l,!0):f!==void 0?r.addEventListener(s,l,{passive:f}):r.addEventListener(s,l,!1)}function Qm(r,s,l,u,f){var g=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var A=u.stateNode.containerInfo;if(A===f)break;if(_===4)for(_=u.return;_!==null;){var B=_.tag;if((B===3||B===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;A!==null;){if(_=As(A),_===null)return;if(B=_.tag,B===5||B===6||B===26||B===27){u=g=_;continue e}A=A.parentNode}}u=u.return}Tu(function(){var ee=g,ue=yr(l),he=[];e:{var te=J0.get(r);if(te!==void 0){var ne=ho,qe=r;switch(r){case"keypress":if(Jr(l)===0)break e;case"keydown":case"keyup":ne=vo;break;case"focusin":qe="focus",ne=po;break;case"focusout":qe="blur",ne=po;break;case"beforeblur":case"afterblur":ne=po;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ne=xr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ne=bf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ne=Ou;break;case Q0:case Y0:case W0:ne=go;break;case X0:ne=Mu;break;case"scroll":case"scrollend":ne=Au;break;case"wheel":ne=xo;break;case"copy":case"cut":case"paste":ne=yo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ne=zl;break;case"toggle":case"beforetoggle":ne=Lu}var ze=(s&4)!==0,Nt=!ze&&(r==="scroll"||r==="scrollend"),Y=ze?te!==null?te+"Capture":null:te;ze=[];for(var Q=ee,J;Q!==null;){var de=Q;if(J=de.stateNode,de=de.tag,de!==5&&de!==26&&de!==27||J===null||Y===null||(de=fa(Q,Y),de!=null&&ze.push(yc(Q,de,J))),Nt)break;Q=Q.return}0<ze.length&&(te=new ne(te,qe,null,l,ue),he.push({event:te,listeners:ze}))}}if((s&7)===0){e:{if(te=r==="mouseover"||r==="pointerover",ne=r==="mouseout"||r==="pointerout",te&&l!==Cs&&(qe=l.relatedTarget||l.fromElement)&&(As(qe)||qe[pr]))break e;if((ne||te)&&(te=ue.window===ue?ue:(te=ue.ownerDocument)?te.defaultView||te.parentWindow:window,ne?(qe=l.relatedTarget||l.toElement,ne=ee,qe=qe?As(qe):null,qe!==null&&(Nt=c(qe),ze=qe.tag,qe!==Nt||ze!==5&&ze!==27&&ze!==6)&&(qe=null)):(ne=null,qe=ee),ne!==qe)){if(ze=xr,de="onMouseLeave",Y="onMouseEnter",Q="mouse",(r==="pointerout"||r==="pointerover")&&(ze=zl,de="onPointerLeave",Y="onPointerEnter",Q="pointer"),Nt=ne==null?te:Qr(ne),J=qe==null?te:Qr(qe),te=new ze(de,Q+"leave",ne,l,ue),te.target=Nt,te.relatedTarget=J,de=null,As(ue)===ee&&(ze=new ze(Y,Q+"enter",qe,l,ue),ze.target=J,ze.relatedTarget=Nt,de=ze),Nt=de,ne&&qe)t:{for(ze=ne,Y=qe,Q=0,J=ze;J;J=Ho(J))Q++;for(J=0,de=Y;de;de=Ho(de))J++;for(;0<Q-J;)ze=Ho(ze),Q--;for(;0<J-Q;)Y=Ho(Y),J--;for(;Q--;){if(ze===Y||Y!==null&&ze===Y.alternate)break t;ze=Ho(ze),Y=Ho(Y)}ze=null}else ze=null;ne!==null&&vx(he,te,ne,ze,!1),qe!==null&&Nt!==null&&vx(he,Nt,qe,ze,!0)}}e:{if(te=ee?Qr(ee):window,ne=te.nodeName&&te.nodeName.toLowerCase(),ne==="select"||ne==="input"&&te.type==="file")var Re=P0;else if(un(te))if(L0)Re=Bj;else{Re=zj;var Je=Uj}else ne=te.nodeName,!ne||ne.toLowerCase()!=="input"||te.type!=="checkbox"&&te.type!=="radio"?ee&&Dl(ee.elementType)&&(Re=P0):Re=Fj;if(Re&&(Re=Re(r,ee))){Ms(he,Re,l,ue);break e}Je&&Je(r,te,ee),r==="focusout"&&ee&&te.type==="number"&&ee.memoizedProps.value!=null&&gi(te,"number",te.value)}switch(Je=ee?Qr(ee):window,r){case"focusin":(un(Je)||Je.contentEditable==="true")&&(bo=Je,Ef=ee,ql=null);break;case"focusout":ql=Ef=bo=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,$0(he,l,ue);break;case"selectionchange":if(Hj)break;case"keydown":case"keyup":$0(he,l,ue)}var De;if(ts)e:{switch(r){case"compositionstart":var Fe="onCompositionStart";break e;case"compositionend":Fe="onCompositionEnd";break e;case"compositionupdate":Fe="onCompositionUpdate";break e}Fe=void 0}else at?se(r,l)&&(Fe="onCompositionEnd"):r==="keydown"&&l.keyCode===229&&(Fe="onCompositionStart");Fe&&(b&&l.locale!=="ko"&&(at||Fe!=="onCompositionStart"?Fe==="onCompositionEnd"&&at&&(De=Vl()):(Xr=ue,yi="value"in Xr?Xr.value:Xr.textContent,at=!0)),Je=Ed(ee,Fe),0<Je.length&&(Fe=new Ll(Fe,r,null,l,ue),he.push({event:Fe,listeners:Je}),De?Fe.data=De:(De=Ne(l),De!==null&&(Fe.data=De)))),(De=v?cn(r,l):ot(r,l))&&(Fe=Ed(ee,"onBeforeInput"),0<Fe.length&&(Je=new Ll("onBeforeInput","beforeinput",null,l,ue),he.push({event:Je,listeners:Fe}),Je.data=De)),TN(he,r,ee,l,ue)}gx(he,s)})}function yc(r,s,l){return{instance:r,listener:s,currentTarget:l}}function Ed(r,s){for(var l=s+"Capture",u=[];r!==null;){var f=r,g=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||g===null||(f=fa(r,l),f!=null&&u.unshift(yc(r,f,g)),f=fa(r,s),f!=null&&u.push(yc(r,f,g))),r.tag===3)return u;r=r.return}return[]}function Ho(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5&&r.tag!==27);return r||null}function vx(r,s,l,u,f){for(var g=s._reactName,_=[];l!==null&&l!==u;){var A=l,B=A.alternate,ee=A.stateNode;if(A=A.tag,B!==null&&B===u)break;A!==5&&A!==26&&A!==27||ee===null||(B=ee,f?(ee=fa(l,g),ee!=null&&_.unshift(yc(l,ee,B))):f||(ee=fa(l,g),ee!=null&&_.push(yc(l,ee,B)))),l=l.return}_.length!==0&&r.push({event:s,listeners:_})}var kN=/\r\n?/g,CN=/\u0000|\uFFFD/g;function xx(r){return(typeof r=="string"?r:""+r).replace(kN,`
`).replace(CN,"")}function bx(r,s){return s=xx(s),xx(r)===s}function Td(){}function jt(r,s,l,u,f,g){switch(l){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||gr(r,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&gr(r,""+u);break;case"className":Yr(r,"class",u);break;case"tabIndex":Yr(r,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Yr(r,l,u);break;case"style":Il(r,u,g);break;case"data":if(s!=="object"){Yr(r,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||l!=="href")){r.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=uo(""+u),r.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){r.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(s!=="input"&&jt(r,s,"name",f.name,f,null),jt(r,s,"formEncType",f.formEncType,f,null),jt(r,s,"formMethod",f.formMethod,f,null),jt(r,s,"formTarget",f.formTarget,f,null)):(jt(r,s,"encType",f.encType,f,null),jt(r,s,"method",f.method,f,null),jt(r,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){r.removeAttribute(l);break}u=uo(""+u),r.setAttribute(l,u);break;case"onClick":u!=null&&(r.onclick=Td);break;case"onScroll":u!=null&&et("scroll",r);break;case"onScrollEnd":u!=null&&et("scrollend",r);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"multiple":r.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":r.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){r.removeAttribute("xlink:href");break}l=uo(""+u),r.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""+u):r.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,""):r.removeAttribute(l);break;case"capture":case"download":u===!0?r.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?r.setAttribute(l,u):r.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?r.setAttribute(l,u):r.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?r.removeAttribute(l):r.setAttribute(l,u);break;case"popover":et("beforetoggle",r),et("toggle",r),pi(r,"popover",u);break;case"xlinkActuate":bn(r,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":bn(r,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":bn(r,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":bn(r,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":bn(r,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":bn(r,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":bn(r,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":bn(r,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":bn(r,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":pi(r,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=vf.get(l)||l,pi(r,l,u))}}function Ym(r,s,l,u,f,g){switch(l){case"style":Il(r,u,g);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(f.children!=null)throw Error(i(60));r.innerHTML=l}}break;case"children":typeof u=="string"?gr(r,u):(typeof u=="number"||typeof u=="bigint")&&gr(r,""+u);break;case"onScroll":u!=null&&et("scroll",r);break;case"onScrollEnd":u!=null&&et("scrollend",r);break;case"onClick":u!=null&&(r.onclick=Td);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!io.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(f=l.endsWith("Capture"),s=l.slice(2,f?l.length-7:void 0),g=r[Jt]||null,g=g!=null?g[l]:null,typeof g=="function"&&r.removeEventListener(s,g,f),typeof u=="function")){typeof g!="function"&&g!==null&&(l in r?r[l]=null:r.hasAttribute(l)&&r.removeAttribute(l)),r.addEventListener(s,u,f);break e}l in r?r[l]=u:u===!0?r.setAttribute(l,""):pi(r,l,u)}}}function Nn(r,s,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":et("error",r),et("load",r);var u=!1,f=!1,g;for(g in l)if(l.hasOwnProperty(g)){var _=l[g];if(_!=null)switch(g){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:jt(r,s,g,_,l,null)}}f&&jt(r,s,"srcSet",l.srcSet,l,null),u&&jt(r,s,"src",l.src,l,null);return;case"input":et("invalid",r);var A=g=_=f=null,B=null,ee=null;for(u in l)if(l.hasOwnProperty(u)){var ue=l[u];if(ue!=null)switch(u){case"name":f=ue;break;case"type":_=ue;break;case"checked":B=ue;break;case"defaultChecked":ee=ue;break;case"value":g=ue;break;case"defaultValue":A=ue;break;case"children":case"dangerouslySetInnerHTML":if(ue!=null)throw Error(i(137,s));break;default:jt(r,s,u,ue,l,null)}}ua(r,g,A,B,ee,_,f,!1),co(r);return;case"select":et("invalid",r),u=_=g=null;for(f in l)if(l.hasOwnProperty(f)&&(A=l[f],A!=null))switch(f){case"value":g=A;break;case"defaultValue":_=A;break;case"multiple":u=A;default:jt(r,s,f,A,l,null)}s=g,l=_,r.multiple=!!u,s!=null?ks(r,!!u,s,!1):l!=null&&ks(r,!!u,l,!0);return;case"textarea":et("invalid",r),g=f=u=null;for(_ in l)if(l.hasOwnProperty(_)&&(A=l[_],A!=null))switch(_){case"value":u=A;break;case"defaultValue":f=A;break;case"children":g=A;break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(i(91));break;default:jt(r,s,_,A,l,null)}da(r,u,f,g),co(r);return;case"option":for(B in l)if(l.hasOwnProperty(B)&&(u=l[B],u!=null))switch(B){case"selected":r.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:jt(r,s,B,u,l,null)}return;case"dialog":et("beforetoggle",r),et("toggle",r),et("cancel",r),et("close",r);break;case"iframe":case"object":et("load",r);break;case"video":case"audio":for(u=0;u<gc.length;u++)et(gc[u],r);break;case"image":et("error",r),et("load",r);break;case"details":et("toggle",r);break;case"embed":case"source":case"link":et("error",r),et("load",r);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ee in l)if(l.hasOwnProperty(ee)&&(u=l[ee],u!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:jt(r,s,ee,u,l,null)}return;default:if(Dl(s)){for(ue in l)l.hasOwnProperty(ue)&&(u=l[ue],u!==void 0&&Ym(r,s,ue,u,l,void 0));return}}for(A in l)l.hasOwnProperty(A)&&(u=l[A],u!=null&&jt(r,s,A,u,l,null))}function IN(r,s,l,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,g=null,_=null,A=null,B=null,ee=null,ue=null;for(ne in l){var he=l[ne];if(l.hasOwnProperty(ne)&&he!=null)switch(ne){case"checked":break;case"value":break;case"defaultValue":B=he;default:u.hasOwnProperty(ne)||jt(r,s,ne,null,u,he)}}for(var te in u){var ne=u[te];if(he=l[te],u.hasOwnProperty(te)&&(ne!=null||he!=null))switch(te){case"type":g=ne;break;case"name":f=ne;break;case"checked":ee=ne;break;case"defaultChecked":ue=ne;break;case"value":_=ne;break;case"defaultValue":A=ne;break;case"children":case"dangerouslySetInnerHTML":if(ne!=null)throw Error(i(137,s));break;default:ne!==he&&jt(r,s,te,ne,u,he)}}rr(r,_,A,B,ee,ue,g,f);return;case"select":ne=_=A=te=null;for(g in l)if(B=l[g],l.hasOwnProperty(g)&&B!=null)switch(g){case"value":break;case"multiple":ne=B;default:u.hasOwnProperty(g)||jt(r,s,g,null,u,B)}for(f in u)if(g=u[f],B=l[f],u.hasOwnProperty(f)&&(g!=null||B!=null))switch(f){case"value":te=g;break;case"defaultValue":A=g;break;case"multiple":_=g;default:g!==B&&jt(r,s,f,g,u,B)}s=A,l=_,u=ne,te!=null?ks(r,!!l,te,!1):!!u!=!!l&&(s!=null?ks(r,!!l,s,!0):ks(r,!!l,l?[]:"",!1));return;case"textarea":ne=te=null;for(A in l)if(f=l[A],l.hasOwnProperty(A)&&f!=null&&!u.hasOwnProperty(A))switch(A){case"value":break;case"children":break;default:jt(r,s,A,null,u,f)}for(_ in u)if(f=u[_],g=l[_],u.hasOwnProperty(_)&&(f!=null||g!=null))switch(_){case"value":te=f;break;case"defaultValue":ne=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==g&&jt(r,s,_,f,u,g)}_t(r,te,ne);return;case"option":for(var qe in l)if(te=l[qe],l.hasOwnProperty(qe)&&te!=null&&!u.hasOwnProperty(qe))switch(qe){case"selected":r.selected=!1;break;default:jt(r,s,qe,null,u,te)}for(B in u)if(te=u[B],ne=l[B],u.hasOwnProperty(B)&&te!==ne&&(te!=null||ne!=null))switch(B){case"selected":r.selected=te&&typeof te!="function"&&typeof te!="symbol";break;default:jt(r,s,B,te,u,ne)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in l)te=l[ze],l.hasOwnProperty(ze)&&te!=null&&!u.hasOwnProperty(ze)&&jt(r,s,ze,null,u,te);for(ee in u)if(te=u[ee],ne=l[ee],u.hasOwnProperty(ee)&&te!==ne&&(te!=null||ne!=null))switch(ee){case"children":case"dangerouslySetInnerHTML":if(te!=null)throw Error(i(137,s));break;default:jt(r,s,ee,te,u,ne)}return;default:if(Dl(s)){for(var Nt in l)te=l[Nt],l.hasOwnProperty(Nt)&&te!==void 0&&!u.hasOwnProperty(Nt)&&Ym(r,s,Nt,void 0,u,te);for(ue in u)te=u[ue],ne=l[ue],!u.hasOwnProperty(ue)||te===ne||te===void 0&&ne===void 0||Ym(r,s,ue,te,u,ne);return}}for(var Y in l)te=l[Y],l.hasOwnProperty(Y)&&te!=null&&!u.hasOwnProperty(Y)&&jt(r,s,Y,null,u,te);for(he in u)te=u[he],ne=l[he],!u.hasOwnProperty(he)||te===ne||te==null&&ne==null||jt(r,s,he,te,u,ne)}var Wm=null,Xm=null;function Ad(r){return r.nodeType===9?r:r.ownerDocument}function _x(r){switch(r){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wx(r,s){if(r===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return r===1&&s==="foreignObject"?0:r}function Jm(r,s){return r==="textarea"||r==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Zm=null;function DN(){var r=window.event;return r&&r.type==="popstate"?r===Zm?!1:(Zm=r,!0):(Zm=null,!1)}var jx=typeof setTimeout=="function"?setTimeout:void 0,ON=typeof clearTimeout=="function"?clearTimeout:void 0,Nx=typeof Promise=="function"?Promise:void 0,VN=typeof queueMicrotask=="function"?queueMicrotask:typeof Nx<"u"?function(r){return Nx.resolve(null).then(r).catch(MN)}:jx;function MN(r){setTimeout(function(){throw r})}function Di(r){return r==="head"}function Ex(r,s){var l=s,u=0,f=0;do{var g=l.nextSibling;if(r.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"){if(0<u&&8>u){l=u;var _=r.ownerDocument;if(l&1&&vc(_.documentElement),l&2&&vc(_.body),l&4)for(l=_.head,vc(l),_=l.firstChild;_;){var A=_.nextSibling,B=_.nodeName;_[aa]||B==="SCRIPT"||B==="STYLE"||B==="LINK"&&_.rel.toLowerCase()==="stylesheet"||l.removeChild(_),_=A}}if(f===0){r.removeChild(g),Tc(s);return}f--}else l==="$"||l==="$?"||l==="$!"?f++:u=l.charCodeAt(0)-48;else u=0;l=g}while(l);Tc(s)}function ep(r){var s=r.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var l=s;switch(s=s.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":ep(l),mi(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}r.removeChild(l)}}function PN(r,s,l,u){for(;r.nodeType===1;){var f=l;if(r.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(r.nodeName!=="INPUT"||r.type!=="hidden"))break}else if(u){if(!r[aa])switch(s){case"meta":if(!r.hasAttribute("itemprop"))break;return r;case"link":if(g=r.getAttribute("rel"),g==="stylesheet"&&r.hasAttribute("data-precedence"))break;if(g!==f.rel||r.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||r.getAttribute("title")!==(f.title==null?null:f.title))break;return r;case"style":if(r.hasAttribute("data-precedence"))break;return r;case"script":if(g=r.getAttribute("src"),(g!==(f.src==null?null:f.src)||r.getAttribute("type")!==(f.type==null?null:f.type)||r.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&g&&r.hasAttribute("async")&&!r.hasAttribute("itemprop"))break;return r;default:return r}}else if(s==="input"&&r.type==="hidden"){var g=f.name==null?null:""+f.name;if(f.type==="hidden"&&r.getAttribute("name")===g)return r}else return r;if(r=zr(r.nextSibling),r===null)break}return null}function LN(r,s,l){if(s==="")return null;for(;r.nodeType!==3;)if((r.nodeType!==1||r.nodeName!=="INPUT"||r.type!=="hidden")&&!l||(r=zr(r.nextSibling),r===null))return null;return r}function tp(r){return r.data==="$!"||r.data==="$?"&&r.ownerDocument.readyState==="complete"}function UN(r,s){var l=r.ownerDocument;if(r.data!=="$?"||l.readyState==="complete")s();else{var u=function(){s(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),r._reactRetry=u}}function zr(r){for(;r!=null;r=r.nextSibling){var s=r.nodeType;if(s===1||s===3)break;if(s===8){if(s=r.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return r}var np=null;function Tx(r){r=r.previousSibling;for(var s=0;r;){if(r.nodeType===8){var l=r.data;if(l==="$"||l==="$!"||l==="$?"){if(s===0)return r;s--}else l==="/$"&&s++}r=r.previousSibling}return null}function Ax(r,s,l){switch(s=Ad(l),r){case"html":if(r=s.documentElement,!r)throw Error(i(452));return r;case"head":if(r=s.head,!r)throw Error(i(453));return r;case"body":if(r=s.body,!r)throw Error(i(454));return r;default:throw Error(i(451))}}function vc(r){for(var s=r.attributes;s.length;)r.removeAttributeNode(s[0]);mi(r)}var Tr=new Map,Sx=new Set;function Sd(r){return typeof r.getRootNode=="function"?r.getRootNode():r.nodeType===9?r:r.ownerDocument}var Ys=re.d;re.d={f:zN,r:FN,D:BN,C:qN,L:HN,m:GN,X:KN,S:$N,M:QN};function zN(){var r=Ys.f(),s=xd();return r||s}function FN(r){var s=Kr(r);s!==null&&s.tag===5&&s.type==="form"?Qy(s):Ys.r(r)}var Go=typeof document>"u"?null:document;function Rx(r,s,l){var u=Go;if(u&&typeof s=="string"&&s){var f=Zt(s);f='link[rel="'+r+'"][href="'+f+'"]',typeof l=="string"&&(f+='[crossorigin="'+l+'"]'),Sx.has(f)||(Sx.add(f),r={rel:r,crossOrigin:l,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),Nn(s,"link",r),$t(s),u.head.appendChild(s)))}}function BN(r){Ys.D(r),Rx("dns-prefetch",r,null)}function qN(r,s){Ys.C(r,s),Rx("preconnect",r,s)}function HN(r,s,l){Ys.L(r,s,l);var u=Go;if(u&&r&&s){var f='link[rel="preload"][as="'+Zt(s)+'"]';s==="image"&&l&&l.imageSrcSet?(f+='[imagesrcset="'+Zt(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(f+='[imagesizes="'+Zt(l.imageSizes)+'"]')):f+='[href="'+Zt(r)+'"]';var g=f;switch(s){case"style":g=$o(r);break;case"script":g=Ko(r)}Tr.has(g)||(r=x({rel:"preload",href:s==="image"&&l&&l.imageSrcSet?void 0:r,as:s},l),Tr.set(g,r),u.querySelector(f)!==null||s==="style"&&u.querySelector(xc(g))||s==="script"&&u.querySelector(bc(g))||(s=u.createElement("link"),Nn(s,"link",r),$t(s),u.head.appendChild(s)))}}function GN(r,s){Ys.m(r,s);var l=Go;if(l&&r){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+Zt(u)+'"][href="'+Zt(r)+'"]',g=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=Ko(r)}if(!Tr.has(g)&&(r=x({rel:"modulepreload",href:r},s),Tr.set(g,r),l.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(bc(g)))return}u=l.createElement("link"),Nn(u,"link",r),$t(u),l.head.appendChild(u)}}}function $N(r,s,l){Ys.S(r,s,l);var u=Go;if(u&&r){var f=Un(u).hoistableStyles,g=$o(r);s=s||"default";var _=f.get(g);if(!_){var A={loading:0,preload:null};if(_=u.querySelector(xc(g)))A.loading=5;else{r=x({rel:"stylesheet",href:r,"data-precedence":s},l),(l=Tr.get(g))&&rp(r,l);var B=_=u.createElement("link");$t(B),Nn(B,"link",r),B._p=new Promise(function(ee,ue){B.onload=ee,B.onerror=ue}),B.addEventListener("load",function(){A.loading|=1}),B.addEventListener("error",function(){A.loading|=2}),A.loading|=4,Rd(_,s,u)}_={type:"stylesheet",instance:_,count:1,state:A},f.set(g,_)}}}function KN(r,s){Ys.X(r,s);var l=Go;if(l&&r){var u=Un(l).hoistableScripts,f=Ko(r),g=u.get(f);g||(g=l.querySelector(bc(f)),g||(r=x({src:r,async:!0},s),(s=Tr.get(f))&&sp(r,s),g=l.createElement("script"),$t(g),Nn(g,"link",r),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function QN(r,s){Ys.M(r,s);var l=Go;if(l&&r){var u=Un(l).hoistableScripts,f=Ko(r),g=u.get(f);g||(g=l.querySelector(bc(f)),g||(r=x({src:r,async:!0,type:"module"},s),(s=Tr.get(f))&&sp(r,s),g=l.createElement("script"),$t(g),Nn(g,"link",r),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},u.set(f,g))}}function kx(r,s,l,u){var f=(f=be.current)?Sd(f):null;if(!f)throw Error(i(446));switch(r){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(s=$o(l.href),l=Un(f).hoistableStyles,u=l.get(s),u||(u={type:"style",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){r=$o(l.href);var g=Un(f).hoistableStyles,_=g.get(r);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(r,_),(g=f.querySelector(xc(r)))&&!g._p&&(_.instance=g,_.state.loading=5),Tr.has(r)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Tr.set(r,l),g||YN(f,r,l,_.state))),s&&u===null)throw Error(i(528,""));return _}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=l.async,l=l.src,typeof l=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ko(l),l=Un(f).hoistableScripts,u=l.get(s),u||(u={type:"script",instance:null,count:0,state:null},l.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,r))}}function $o(r){return'href="'+Zt(r)+'"'}function xc(r){return'link[rel="stylesheet"]['+r+"]"}function Cx(r){return x({},r,{"data-precedence":r.precedence,precedence:null})}function YN(r,s,l,u){r.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=r.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),Nn(s,"link",l),$t(s),r.head.appendChild(s))}function Ko(r){return'[src="'+Zt(r)+'"]'}function bc(r){return"script[async]"+r}function Ix(r,s,l){if(s.count++,s.instance===null)switch(s.type){case"style":var u=r.querySelector('style[data-href~="'+Zt(l.href)+'"]');if(u)return s.instance=u,$t(u),u;var f=x({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(r.ownerDocument||r).createElement("style"),$t(u),Nn(u,"style",f),Rd(u,l.precedence,r),s.instance=u;case"stylesheet":f=$o(l.href);var g=r.querySelector(xc(f));if(g)return s.state.loading|=4,s.instance=g,$t(g),g;u=Cx(l),(f=Tr.get(f))&&rp(u,f),g=(r.ownerDocument||r).createElement("link"),$t(g);var _=g;return _._p=new Promise(function(A,B){_.onload=A,_.onerror=B}),Nn(g,"link",u),s.state.loading|=4,Rd(g,l.precedence,r),s.instance=g;case"script":return g=Ko(l.src),(f=r.querySelector(bc(g)))?(s.instance=f,$t(f),f):(u=l,(f=Tr.get(g))&&(u=x({},l),sp(u,f)),r=r.ownerDocument||r,f=r.createElement("script"),$t(f),Nn(f,"link",u),r.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,Rd(u,l.precedence,r));return s.instance}function Rd(r,s,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,g=f,_=0;_<u.length;_++){var A=u[_];if(A.dataset.precedence===s)g=A;else if(g!==f)break}g?g.parentNode.insertBefore(r,g.nextSibling):(s=l.nodeType===9?l.head:l,s.insertBefore(r,s.firstChild))}function rp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.title==null&&(r.title=s.title)}function sp(r,s){r.crossOrigin==null&&(r.crossOrigin=s.crossOrigin),r.referrerPolicy==null&&(r.referrerPolicy=s.referrerPolicy),r.integrity==null&&(r.integrity=s.integrity)}var kd=null;function Dx(r,s,l){if(kd===null){var u=new Map,f=kd=new Map;f.set(l,u)}else f=kd,u=f.get(l),u||(u=new Map,f.set(l,u));if(u.has(r))return u;for(u.set(r,null),l=l.getElementsByTagName(r),f=0;f<l.length;f++){var g=l[f];if(!(g[aa]||g[ln]||r==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var _=g.getAttribute(s)||"";_=r+_;var A=u.get(_);A?A.push(g):u.set(_,[g])}}return u}function Ox(r,s,l){r=r.ownerDocument||r,r.head.insertBefore(l,s==="title"?r.querySelector("head > title"):null)}function WN(r,s,l){if(l===1||s.itemProp!=null)return!1;switch(r){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return r=s.disabled,typeof s.precedence=="string"&&r==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Vx(r){return!(r.type==="stylesheet"&&(r.state.loading&3)===0)}var _c=null;function XN(){}function JN(r,s,l){if(_c===null)throw Error(i(475));var u=_c;if(s.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var f=$o(l.href),g=r.querySelector(xc(f));if(g){r=g._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(u.count++,u=Cd.bind(u),r.then(u,u)),s.state.loading|=4,s.instance=g,$t(g);return}g=r.ownerDocument||r,l=Cx(l),(f=Tr.get(f))&&rp(l,f),g=g.createElement("link"),$t(g);var _=g;_._p=new Promise(function(A,B){_.onload=A,_.onerror=B}),Nn(g,"link",l),s.instance=g}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(s,r),(r=s.state.preload)&&(s.state.loading&3)===0&&(u.count++,s=Cd.bind(u),r.addEventListener("load",s),r.addEventListener("error",s))}}function ZN(){if(_c===null)throw Error(i(475));var r=_c;return r.stylesheets&&r.count===0&&ip(r,r.stylesheets),0<r.count?function(s){var l=setTimeout(function(){if(r.stylesheets&&ip(r,r.stylesheets),r.unsuspend){var u=r.unsuspend;r.unsuspend=null,u()}},6e4);return r.unsuspend=s,function(){r.unsuspend=null,clearTimeout(l)}}:null}function Cd(){if(this.count--,this.count===0){if(this.stylesheets)ip(this,this.stylesheets);else if(this.unsuspend){var r=this.unsuspend;this.unsuspend=null,r()}}}var Id=null;function ip(r,s){r.stylesheets=null,r.unsuspend!==null&&(r.count++,Id=new Map,s.forEach(eE,r),Id=null,Cd.call(r))}function eE(r,s){if(!(s.state.loading&4)){var l=Id.get(r);if(l)var u=l.get(null);else{l=new Map,Id.set(r,l);for(var f=r.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<f.length;g++){var _=f[g];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(l.set(_.dataset.precedence,_),u=_)}u&&l.set(null,u)}f=s.instance,_=f.getAttribute("data-precedence"),g=l.get(_)||u,g===u&&l.set(null,f),l.set(_,f),this.count++,u=Cd.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),g?g.parentNode.insertBefore(f,g.nextSibling):(r=r.nodeType===9?r.head:r,r.insertBefore(f,r.firstChild)),s.state.loading|=4}}var wc={$$typeof:S,Provider:null,Consumer:null,_currentValue:ye,_currentValue2:ye,_threadCount:0};function tE(r,s,l,u,f,g,_,A){this.tag=1,this.containerInfo=r,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Es(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Es(0),this.hiddenUpdates=Es(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=g,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=A,this.incompleteTransitions=new Map}function Mx(r,s,l,u,f,g,_,A,B,ee,ue,he){return r=new tE(r,s,l,_,A,B,ee,he),s=1,g===!0&&(s|=24),g=ir(3,null,null,s),r.current=g,g.stateNode=r,s=zf(),s.refCount++,r.pooledCache=s,s.refCount++,g.memoizedState={element:u,isDehydrated:l,cache:s},Hf(g),r}function Px(r){return r?(r=No,r):No}function Lx(r,s,l,u,f,g){f=Px(f),u.context===null?u.context=f:u.pendingContext=f,u=bi(s),u.payload={element:l},g=g===void 0?null:g,g!==null&&(u.callback=g),l=_i(r,u,s),l!==null&&(ur(l,r,s),Jl(l,r,s))}function Ux(r,s){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var l=r.retryLane;r.retryLane=l!==0&&l<s?l:s}}function ap(r,s){Ux(r,s),(r=r.alternate)&&Ux(r,s)}function zx(r){if(r.tag===13){var s=jo(r,67108864);s!==null&&ur(s,r,67108864),ap(r,67108864)}}var Dd=!0;function nE(r,s,l,u){var f=Z.T;Z.T=null;var g=re.p;try{re.p=2,op(r,s,l,u)}finally{re.p=g,Z.T=f}}function rE(r,s,l,u){var f=Z.T;Z.T=null;var g=re.p;try{re.p=8,op(r,s,l,u)}finally{re.p=g,Z.T=f}}function op(r,s,l,u){if(Dd){var f=lp(u);if(f===null)Qm(r,s,u,Od,l),Bx(r,u);else if(iE(f,r,s,l,u))u.stopPropagation();else if(Bx(r,u),s&4&&-1<sE.indexOf(r)){for(;f!==null;){var g=Kr(f);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var _=nr(g.pendingLanes);if(_!==0){var A=g;for(A.pendingLanes|=2,A.entangledLanes|=2;_;){var B=1<<31-Ve(_);A.entanglements[1]|=B,_&=~B}os(g),(yt&6)===0&&(yd=_e()+500,pc(0))}}break;case 13:A=jo(g,2),A!==null&&ur(A,g,2),xd(),ap(g,2)}if(g=lp(u),g===null&&Qm(r,s,u,Od,l),g===f)break;f=g}f!==null&&u.stopPropagation()}else Qm(r,s,u,null,l)}}function lp(r){return r=yr(r),cp(r)}var Od=null;function cp(r){if(Od=null,r=As(r),r!==null){var s=c(r);if(s===null)r=null;else{var l=s.tag;if(l===13){if(r=d(s),r!==null)return r;r=null}else if(l===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;r=null}else s!==r&&(r=null)}}return Od=r,null}function Fx(r){switch(r){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gt()){case tt:return 2;case Ue:return 8;case ge:case V:return 32;case X:return 268435456;default:return 32}default:return 32}}var up=!1,Oi=null,Vi=null,Mi=null,jc=new Map,Nc=new Map,Pi=[],sE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bx(r,s){switch(r){case"focusin":case"focusout":Oi=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":Mi=null;break;case"pointerover":case"pointerout":jc.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nc.delete(s.pointerId)}}function Ec(r,s,l,u,f,g){return r===null||r.nativeEvent!==g?(r={blockedOn:s,domEventName:l,eventSystemFlags:u,nativeEvent:g,targetContainers:[f]},s!==null&&(s=Kr(s),s!==null&&zx(s)),r):(r.eventSystemFlags|=u,s=r.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),r)}function iE(r,s,l,u,f){switch(s){case"focusin":return Oi=Ec(Oi,r,s,l,u,f),!0;case"dragenter":return Vi=Ec(Vi,r,s,l,u,f),!0;case"mouseover":return Mi=Ec(Mi,r,s,l,u,f),!0;case"pointerover":var g=f.pointerId;return jc.set(g,Ec(jc.get(g)||null,r,s,l,u,f)),!0;case"gotpointercapture":return g=f.pointerId,Nc.set(g,Ec(Nc.get(g)||null,r,s,l,u,f)),!0}return!1}function qx(r){var s=As(r.target);if(s!==null){var l=c(s);if(l!==null){if(s=l.tag,s===13){if(s=d(l),s!==null){r.blockedOn=s,xu(r.priority,function(){if(l.tag===13){var u=cr();u=di(u);var f=jo(l,u);f!==null&&ur(f,l,u),ap(l,u)}});return}}else if(s===3&&l.stateNode.current.memoizedState.isDehydrated){r.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Vd(r){if(r.blockedOn!==null)return!1;for(var s=r.targetContainers;0<s.length;){var l=lp(r.nativeEvent);if(l===null){l=r.nativeEvent;var u=new l.constructor(l.type,l);Cs=u,l.target.dispatchEvent(u),Cs=null}else return s=Kr(l),s!==null&&zx(s),r.blockedOn=l,!1;s.shift()}return!0}function Hx(r,s,l){Vd(r)&&l.delete(s)}function aE(){up=!1,Oi!==null&&Vd(Oi)&&(Oi=null),Vi!==null&&Vd(Vi)&&(Vi=null),Mi!==null&&Vd(Mi)&&(Mi=null),jc.forEach(Hx),Nc.forEach(Hx)}function Md(r,s){r.blockedOn===s&&(r.blockedOn=null,up||(up=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,aE)))}var Pd=null;function Gx(r){Pd!==r&&(Pd=r,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Pd===r&&(Pd=null);for(var s=0;s<r.length;s+=3){var l=r[s],u=r[s+1],f=r[s+2];if(typeof u!="function"){if(cp(u||l)===null)continue;break}var g=Kr(l);g!==null&&(r.splice(s,3),s-=3,cm(g,{pending:!0,data:f,method:l.method,action:u},u,f))}}))}function Tc(r){function s(B){return Md(B,r)}Oi!==null&&Md(Oi,r),Vi!==null&&Md(Vi,r),Mi!==null&&Md(Mi,r),jc.forEach(s),Nc.forEach(s);for(var l=0;l<Pi.length;l++){var u=Pi[l];u.blockedOn===r&&(u.blockedOn=null)}for(;0<Pi.length&&(l=Pi[0],l.blockedOn===null);)qx(l),l.blockedOn===null&&Pi.shift();if(l=(r.ownerDocument||r).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var f=l[u],g=l[u+1],_=f[Jt]||null;if(typeof g=="function")_||Gx(l);else if(_){var A=null;if(g&&g.hasAttribute("formAction")){if(f=g,_=g[Jt]||null)A=_.formAction;else if(cp(f)!==null)continue}else A=_.action;typeof A=="function"?l[u+1]=A:(l.splice(u,3),u-=3),Gx(l)}}}function dp(r){this._internalRoot=r}Ld.prototype.render=dp.prototype.render=function(r){var s=this._internalRoot;if(s===null)throw Error(i(409));var l=s.current,u=cr();Lx(l,u,r,s,null,null)},Ld.prototype.unmount=dp.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var s=r.containerInfo;Lx(r.current,2,null,r,null,null),xd(),s[pr]=null}};function Ld(r){this._internalRoot=r}Ld.prototype.unstable_scheduleHydration=function(r){if(r){var s=hi();r={blockedOn:null,target:r,priority:s};for(var l=0;l<Pi.length&&s!==0&&s<Pi[l].priority;l++);Pi.splice(l,0,r),l===0&&qx(r)}};var $x=e.version;if($x!=="19.1.0")throw Error(i(527,$x,"19.1.0"));re.findDOMNode=function(r){var s=r._reactInternals;if(s===void 0)throw typeof r.render=="function"?Error(i(188)):(r=Object.keys(r).join(","),Error(i(268,r)));return r=p(s),r=r!==null?y(r):null,r=r===null?null:r.stateNode,r};var oE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ud=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ud.isDisabled&&Ud.supportsFiber)try{pe=Ud.inject(oE),oe=Ud}catch{}}return Sc.createRoot=function(r,s){if(!o(r))throw Error(i(299));var l=!1,u="",f=lv,g=cv,_=uv,A=null;return s!=null&&(s.unstable_strictMode===!0&&(l=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(g=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(A=s.unstable_transitionCallbacks)),s=Mx(r,1,!1,null,null,l,u,f,g,_,A,null),r[pr]=s.current,Km(r),new dp(s)},Sc.hydrateRoot=function(r,s,l){if(!o(r))throw Error(i(299));var u=!1,f="",g=lv,_=cv,A=uv,B=null,ee=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(f=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(_=l.onCaughtError),l.onRecoverableError!==void 0&&(A=l.onRecoverableError),l.unstable_transitionCallbacks!==void 0&&(B=l.unstable_transitionCallbacks),l.formState!==void 0&&(ee=l.formState)),s=Mx(r,1,!0,s,l??null,u,f,g,_,A,B,ee),s.context=Px(null),l=s.current,u=cr(),u=di(u),f=bi(u),f.callback=null,_i(l,f,u),l=u,s.current.lanes=l,Ts(s,l),os(s),r[pr]=s.current,Km(r),new Ld(s)},Sc.version="19.1.0",Sc}var nb;function vE(){if(nb)return mp.exports;nb=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),mp.exports=yE(),mp.exports}var xE=vE();const bE=r_(xE);s_();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $c(){return $c=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},$c.apply(this,arguments)}var Ki;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Ki||(Ki={}));const rb="popstate";function _E(n){n===void 0&&(n={});function e(i,o){let{pathname:c,search:d,hash:m}=i.location;return Hp("",{pathname:c,search:d,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function t(i,o){return typeof o=="string"?o:ah(o)}return jE(e,t,null,n)}function Wt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function i_(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function wE(){return Math.random().toString(36).substr(2,8)}function sb(n,e){return{usr:n.state,key:n.key,idx:e}}function Hp(n,e,t,i){return t===void 0&&(t=null),$c({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?pl(e):e,{state:t,key:e&&e.key||i||wE()})}function ah(n){let{pathname:e="/",search:t="",hash:i=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function pl(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let i=n.indexOf("?");i>=0&&(e.search=n.substr(i),n=n.substr(0,i)),n&&(e.pathname=n)}return e}function jE(n,e,t,i){i===void 0&&(i={});let{window:o=document.defaultView,v5Compat:c=!1}=i,d=o.history,m=Ki.Pop,p=null,y=x();y==null&&(y=0,d.replaceState($c({},d.state,{idx:y}),""));function x(){return(d.state||{idx:null}).idx}function j(){m=Ki.Pop;let U=x(),H=U==null?null:U-y;y=U,p&&p({action:m,location:$.location,delta:H})}function w(U,H){m=Ki.Push;let M=Hp($.location,U,H);y=x()+1;let S=sb(M,y),G=$.createHref(M);try{d.pushState(S,"",G)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;o.location.assign(G)}c&&p&&p({action:m,location:$.location,delta:1})}function k(U,H){m=Ki.Replace;let M=Hp($.location,U,H);y=x();let S=sb(M,y),G=$.createHref(M);d.replaceState(S,"",G),c&&p&&p({action:m,location:$.location,delta:0})}function z(U){let H=o.location.origin!=="null"?o.location.origin:o.location.href,M=typeof U=="string"?U:ah(U);return M=M.replace(/ $/,"%20"),Wt(H,"No window.location.(origin|href) available to create URL for href: "+M),new URL(M,H)}let $={get action(){return m},get location(){return n(o,d)},listen(U){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(rb,j),p=U,()=>{o.removeEventListener(rb,j),p=null}},createHref(U){return e(o,U)},createURL:z,encodeLocation(U){let H=z(U);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:w,replace:k,go(U){return d.go(U)}};return $}var ib;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(ib||(ib={}));function NE(n,e,t){return t===void 0&&(t="/"),EE(n,e,t)}function EE(n,e,t,i){let o=typeof e=="string"?pl(e):e,c=wg(o.pathname||"/",t);if(c==null)return null;let d=a_(n);TE(d);let m=null;for(let p=0;m==null&&p<d.length;++p){let y=LE(c);m=VE(d[p],y)}return m}function a_(n,e,t,i){e===void 0&&(e=[]),t===void 0&&(t=[]),i===void 0&&(i="");let o=(c,d,m)=>{let p={relativePath:m===void 0?c.path||"":m,caseSensitive:c.caseSensitive===!0,childrenIndex:d,route:c};p.relativePath.startsWith("/")&&(Wt(p.relativePath.startsWith(i),'Absolute route path "'+p.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),p.relativePath=p.relativePath.slice(i.length));let y=Yi([i,p.relativePath]),x=t.concat(p);c.children&&c.children.length>0&&(Wt(c.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+y+'".')),a_(c.children,e,x,y)),!(c.path==null&&!c.index)&&e.push({path:y,score:DE(y,c.index),routesMeta:x})};return n.forEach((c,d)=>{var m;if(c.path===""||!((m=c.path)!=null&&m.includes("?")))o(c,d);else for(let p of o_(c.path))o(c,d,p)}),e}function o_(n){let e=n.split("/");if(e.length===0)return[];let[t,...i]=e,o=t.endsWith("?"),c=t.replace(/\?$/,"");if(i.length===0)return o?[c,""]:[c];let d=o_(i.join("/")),m=[];return m.push(...d.map(p=>p===""?c:[c,p].join("/"))),o&&m.push(...d),m.map(p=>n.startsWith("/")&&p===""?"/":p)}function TE(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:OE(e.routesMeta.map(i=>i.childrenIndex),t.routesMeta.map(i=>i.childrenIndex)))}const AE=/^:[\w-]+$/,SE=3,RE=2,kE=1,CE=10,IE=-2,ab=n=>n==="*";function DE(n,e){let t=n.split("/"),i=t.length;return t.some(ab)&&(i+=IE),e&&(i+=RE),t.filter(o=>!ab(o)).reduce((o,c)=>o+(AE.test(c)?SE:c===""?kE:CE),i)}function OE(n,e){return n.length===e.length&&n.slice(0,-1).every((i,o)=>i===e[o])?n[n.length-1]-e[e.length-1]:0}function VE(n,e,t){let{routesMeta:i}=n,o={},c="/",d=[];for(let m=0;m<i.length;++m){let p=i[m],y=m===i.length-1,x=c==="/"?e:e.slice(c.length)||"/",j=ME({path:p.relativePath,caseSensitive:p.caseSensitive,end:y},x),w=p.route;if(!j)return null;Object.assign(o,j.params),d.push({params:o,pathname:Yi([c,j.pathname]),pathnameBase:BE(Yi([c,j.pathnameBase])),route:w}),j.pathnameBase!=="/"&&(c=Yi([c,j.pathnameBase]))}return d}function ME(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,i]=PE(n.path,n.caseSensitive,n.end),o=e.match(t);if(!o)return null;let c=o[0],d=c.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:i.reduce((y,x,j)=>{let{paramName:w,isOptional:k}=x;if(w==="*"){let $=m[j]||"";d=c.slice(0,c.length-$.length).replace(/(.)\/+$/,"$1")}const z=m[j];return k&&!z?y[w]=void 0:y[w]=(z||"").replace(/%2F/g,"/"),y},{}),pathname:c,pathnameBase:d,pattern:n}}function PE(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),i_(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let i=[],o="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,m,p)=>(i.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(i.push({paramName:"*"}),o+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?o+="\\/*$":n!==""&&n!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),i]}function LE(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return i_(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function wg(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,i=n.charAt(t);return i&&i!=="/"?null:n.slice(t)||"/"}function UE(n,e){e===void 0&&(e="/");let{pathname:t,search:i="",hash:o=""}=typeof n=="string"?pl(n):n;return{pathname:t?t.startsWith("/")?t:zE(t,e):e,search:qE(i),hash:HE(o)}}function zE(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(o=>{o===".."?t.length>1&&t.pop():o!=="."&&t.push(o)}),t.length>1?t.join("/"):"/"}function vp(n,e,t,i){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function FE(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function jg(n,e){let t=FE(n);return e?t.map((i,o)=>o===t.length-1?i.pathname:i.pathnameBase):t.map(i=>i.pathnameBase)}function Ng(n,e,t,i){i===void 0&&(i=!1);let o;typeof n=="string"?o=pl(n):(o=$c({},n),Wt(!o.pathname||!o.pathname.includes("?"),vp("?","pathname","search",o)),Wt(!o.pathname||!o.pathname.includes("#"),vp("#","pathname","hash",o)),Wt(!o.search||!o.search.includes("#"),vp("#","search","hash",o)));let c=n===""||o.pathname==="",d=c?"/":o.pathname,m;if(d==null)m=t;else{let j=e.length-1;if(!i&&d.startsWith("..")){let w=d.split("/");for(;w[0]==="..";)w.shift(),j-=1;o.pathname=w.join("/")}m=j>=0?e[j]:"/"}let p=UE(o,m),y=d&&d!=="/"&&d.endsWith("/"),x=(c||d===".")&&t.endsWith("/");return!p.pathname.endsWith("/")&&(y||x)&&(p.pathname+="/"),p}const Yi=n=>n.join("/").replace(/\/\/+/g,"/"),BE=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),qE=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,HE=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function GE(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const l_=["post","put","patch","delete"];new Set(l_);const $E=["get",...l_];new Set($E);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kc(){return Kc=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},Kc.apply(this,arguments)}const Eg=F.createContext(null),KE=F.createContext(null),na=F.createContext(null),Ch=F.createContext(null),xs=F.createContext({outlet:null,matches:[],isDataRoute:!1}),c_=F.createContext(null);function QE(n,e){let{relative:t}=e===void 0?{}:e;gl()||Wt(!1);let{basename:i,navigator:o}=F.useContext(na),{hash:c,pathname:d,search:m}=d_(n,{relative:t}),p=d;return i!=="/"&&(p=d==="/"?i:Yi([i,d])),o.createHref({pathname:p,search:m,hash:c})}function gl(){return F.useContext(Ch)!=null}function yl(){return gl()||Wt(!1),F.useContext(Ch).location}function u_(n){F.useContext(na).static||F.useLayoutEffect(n)}function Ln(){let{isDataRoute:n}=F.useContext(xs);return n?cT():YE()}function YE(){gl()||Wt(!1);let n=F.useContext(Eg),{basename:e,future:t,navigator:i}=F.useContext(na),{matches:o}=F.useContext(xs),{pathname:c}=yl(),d=JSON.stringify(jg(o,t.v7_relativeSplatPath)),m=F.useRef(!1);return u_(()=>{m.current=!0}),F.useCallback(function(y,x){if(x===void 0&&(x={}),!m.current)return;if(typeof y=="number"){i.go(y);return}let j=Ng(y,JSON.parse(d),c,x.relative==="path");n==null&&e!=="/"&&(j.pathname=j.pathname==="/"?e:Yi([e,j.pathname])),(x.replace?i.replace:i.push)(j,x.state,x)},[e,i,d,c,n])}const WE=F.createContext(null);function XE(n){let e=F.useContext(xs).outlet;return e&&F.createElement(WE.Provider,{value:n},e)}function Za(){let{matches:n}=F.useContext(xs),e=n[n.length-1];return e?e.params:{}}function d_(n,e){let{relative:t}=e===void 0?{}:e,{future:i}=F.useContext(na),{matches:o}=F.useContext(xs),{pathname:c}=yl(),d=JSON.stringify(jg(o,i.v7_relativeSplatPath));return F.useMemo(()=>Ng(n,JSON.parse(d),c,t==="path"),[n,d,c,t])}function JE(n,e){return ZE(n,e)}function ZE(n,e,t,i){gl()||Wt(!1);let{navigator:o,static:c}=F.useContext(na),{matches:d}=F.useContext(xs),m=d[d.length-1],p=m?m.params:{};m&&m.pathname;let y=m?m.pathnameBase:"/";m&&m.route;let x=yl(),j;if(e){var w;let H=typeof e=="string"?pl(e):e;y==="/"||(w=H.pathname)!=null&&w.startsWith(y)||Wt(!1),j=H}else j=x;let k=j.pathname||"/",z=k;if(y!=="/"){let H=y.replace(/^\//,"").split("/");z="/"+k.replace(/^\//,"").split("/").slice(H.length).join("/")}let $=NE(n,{pathname:z}),U=sT($&&$.map(H=>Object.assign({},H,{params:Object.assign({},p,H.params),pathname:Yi([y,o.encodeLocation?o.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?y:Yi([y,o.encodeLocation?o.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),d,t,i);return e&&U?F.createElement(Ch.Provider,{value:{location:Kc({pathname:"/",search:"",hash:"",state:null,key:"default"},j),navigationType:Ki.Pop}},U):U}function eT(){let n=lT(),e=GE(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),t?F.createElement("pre",{style:o},t):null,null)}const tT=F.createElement(eT,null);class nT extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?F.createElement(xs.Provider,{value:this.props.routeContext},F.createElement(c_.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rT(n){let{routeContext:e,match:t,children:i}=n,o=F.useContext(Eg);return o&&o.static&&o.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=t.route.id),F.createElement(xs.Provider,{value:e},i)}function sT(n,e,t,i){var o;if(e===void 0&&(e=[]),t===void 0&&(t=null),i===void 0&&(i=null),n==null){var c;if(!t)return null;if(t.errors)n=t.matches;else if((c=i)!=null&&c.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let d=n,m=(o=t)==null?void 0:o.errors;if(m!=null){let x=d.findIndex(j=>j.route.id&&(m==null?void 0:m[j.route.id])!==void 0);x>=0||Wt(!1),d=d.slice(0,Math.min(d.length,x+1))}let p=!1,y=-1;if(t&&i&&i.v7_partialHydration)for(let x=0;x<d.length;x++){let j=d[x];if((j.route.HydrateFallback||j.route.hydrateFallbackElement)&&(y=x),j.route.id){let{loaderData:w,errors:k}=t,z=j.route.loader&&w[j.route.id]===void 0&&(!k||k[j.route.id]===void 0);if(j.route.lazy||z){p=!0,y>=0?d=d.slice(0,y+1):d=[d[0]];break}}}return d.reduceRight((x,j,w)=>{let k,z=!1,$=null,U=null;t&&(k=m&&j.route.id?m[j.route.id]:void 0,$=j.route.errorElement||tT,p&&(y<0&&w===0?(uT("route-fallback"),z=!0,U=null):y===w&&(z=!0,U=j.route.hydrateFallbackElement||null)));let H=e.concat(d.slice(0,w+1)),M=()=>{let S;return k?S=$:z?S=U:j.route.Component?S=F.createElement(j.route.Component,null):j.route.element?S=j.route.element:S=x,F.createElement(rT,{match:j,routeContext:{outlet:x,matches:H,isDataRoute:t!=null},children:S})};return t&&(j.route.ErrorBoundary||j.route.errorElement||w===0)?F.createElement(nT,{location:t.location,revalidation:t.revalidation,component:$,error:k,children:M(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):M()},null)}var h_=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(h_||{}),f_=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(f_||{});function iT(n){let e=F.useContext(Eg);return e||Wt(!1),e}function aT(n){let e=F.useContext(KE);return e||Wt(!1),e}function oT(n){let e=F.useContext(xs);return e||Wt(!1),e}function m_(n){let e=oT(),t=e.matches[e.matches.length-1];return t.route.id||Wt(!1),t.route.id}function lT(){var n;let e=F.useContext(c_),t=aT(),i=m_();return e!==void 0?e:(n=t.errors)==null?void 0:n[i]}function cT(){let{router:n}=iT(h_.UseNavigateStable),e=m_(f_.UseNavigateStable),t=F.useRef(!1);return u_(()=>{t.current=!0}),F.useCallback(function(o,c){c===void 0&&(c={}),t.current&&(typeof o=="number"?n.navigate(o):n.navigate(o,Kc({fromRouteId:e},c)))},[n,e])}const ob={};function uT(n,e,t){ob[n]||(ob[n]=!0)}function dT(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Ba(n){let{to:e,replace:t,state:i,relative:o}=n;gl()||Wt(!1);let{future:c,static:d}=F.useContext(na),{matches:m}=F.useContext(xs),{pathname:p}=yl(),y=Ln(),x=Ng(e,jg(m,c.v7_relativeSplatPath),p,o==="path"),j=JSON.stringify(x);return F.useEffect(()=>y(JSON.parse(j),{replace:t,state:i,relative:o}),[y,j,o,t,i]),null}function oh(n){return XE(n.context)}function nt(n){Wt(!1)}function hT(n){let{basename:e="/",children:t=null,location:i,navigationType:o=Ki.Pop,navigator:c,static:d=!1,future:m}=n;gl()&&Wt(!1);let p=e.replace(/^\/*/,"/"),y=F.useMemo(()=>({basename:p,navigator:c,static:d,future:Kc({v7_relativeSplatPath:!1},m)}),[p,m,c,d]);typeof i=="string"&&(i=pl(i));let{pathname:x="/",search:j="",hash:w="",state:k=null,key:z="default"}=i,$=F.useMemo(()=>{let U=wg(x,p);return U==null?null:{location:{pathname:U,search:j,hash:w,state:k,key:z},navigationType:o}},[p,x,j,w,k,z,o]);return $==null?null:F.createElement(na.Provider,{value:y},F.createElement(Ch.Provider,{children:t,value:$}))}function fT(n){let{children:e,location:t}=n;return JE(Gp(e),t)}new Promise(()=>{});function Gp(n,e){e===void 0&&(e=[]);let t=[];return F.Children.forEach(n,(i,o)=>{if(!F.isValidElement(i))return;let c=[...e,o];if(i.type===F.Fragment){t.push.apply(t,Gp(i.props.children,c));return}i.type!==nt&&Wt(!1),!i.props.index||!i.props.children||Wt(!1);let d={id:i.props.id||c.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(d.children=Gp(i.props.children,c)),t.push(d)}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $p(){return $p=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i])}return n},$p.apply(this,arguments)}function mT(n,e){if(n==null)return{};var t={},i=Object.keys(n),o,c;for(c=0;c<i.length;c++)o=i[c],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function pT(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function gT(n,e){return n.button===0&&(!e||e==="_self")&&!pT(n)}const yT=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vT="6";try{window.__reactRouterVersion=vT}catch{}const xT="startTransition",lb=fE[xT];function bT(n){let{basename:e,children:t,future:i,window:o}=n,c=F.useRef();c.current==null&&(c.current=_E({window:o,v5Compat:!0}));let d=c.current,[m,p]=F.useState({action:d.action,location:d.location}),{v7_startTransition:y}=i||{},x=F.useCallback(j=>{y&&lb?lb(()=>p(j)):p(j)},[p,y]);return F.useLayoutEffect(()=>d.listen(x),[d,x]),F.useEffect(()=>dT(i),[i]),F.createElement(hT,{basename:e,children:t,location:m.location,navigationType:m.action,navigator:d,future:i})}const _T=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ut=F.forwardRef(function(e,t){let{onClick:i,relative:o,reloadDocument:c,replace:d,state:m,target:p,to:y,preventScrollReset:x,viewTransition:j}=e,w=mT(e,yT),{basename:k}=F.useContext(na),z,$=!1;if(typeof y=="string"&&wT.test(y)&&(z=y,_T))try{let S=new URL(window.location.href),G=y.startsWith("//")?new URL(S.protocol+y):new URL(y),q=wg(G.pathname,k);G.origin===S.origin&&q!=null?y=q+G.search+G.hash:$=!0}catch{}let U=QE(y,{relative:o}),H=jT(y,{replace:d,state:m,target:p,preventScrollReset:x,relative:o,viewTransition:j});function M(S){i&&i(S),S.defaultPrevented||H(S)}return F.createElement("a",$p({},w,{href:z||U,onClick:$||c?i:M,ref:t,target:p}))});var cb;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(cb||(cb={}));var ub;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(ub||(ub={}));function jT(n,e){let{target:t,replace:i,state:o,preventScrollReset:c,relative:d,viewTransition:m}=e===void 0?{}:e,p=Ln(),y=yl(),x=d_(n,{relative:d});return F.useCallback(j=>{if(gT(j,t)){j.preventDefault();let w=i!==void 0?i:ah(y)===ah(x);p(n,{replace:w,state:o,preventScrollReset:c,relative:d,viewTransition:m})}},[y,p,x,i,o,t,n,c,d,m])}var db={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p_=function(n){const e=[];let t=0;for(let i=0;i<n.length;i++){let o=n.charCodeAt(i);o<128?e[t++]=o:o<2048?(e[t++]=o>>6|192,e[t++]=o&63|128):(o&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(o=65536+((o&1023)<<10)+(n.charCodeAt(++i)&1023),e[t++]=o>>18|240,e[t++]=o>>12&63|128,e[t++]=o>>6&63|128,e[t++]=o&63|128):(e[t++]=o>>12|224,e[t++]=o>>6&63|128,e[t++]=o&63|128)}return e},NT=function(n){const e=[];let t=0,i=0;for(;t<n.length;){const o=n[t++];if(o<128)e[i++]=String.fromCharCode(o);else if(o>191&&o<224){const c=n[t++];e[i++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=n[t++],d=n[t++],m=n[t++],p=((o&7)<<18|(c&63)<<12|(d&63)<<6|m&63)-65536;e[i++]=String.fromCharCode(55296+(p>>10)),e[i++]=String.fromCharCode(56320+(p&1023))}else{const c=n[t++],d=n[t++];e[i++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},g_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let o=0;o<n.length;o+=3){const c=n[o],d=o+1<n.length,m=d?n[o+1]:0,p=o+2<n.length,y=p?n[o+2]:0,x=c>>2,j=(c&3)<<4|m>>4;let w=(m&15)<<2|y>>6,k=y&63;p||(k=64,d||(w=64)),i.push(t[x],t[j],t[w],t[k])}return i.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(p_(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):NT(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let o=0;o<n.length;){const c=t[n.charAt(o++)],m=o<n.length?t[n.charAt(o)]:0;++o;const y=o<n.length?t[n.charAt(o)]:64;++o;const j=o<n.length?t[n.charAt(o)]:64;if(++o,c==null||m==null||y==null||j==null)throw new ET;const w=c<<2|m>>4;if(i.push(w),y!==64){const k=m<<4&240|y>>2;if(i.push(k),j!==64){const z=y<<6&192|j;i.push(z)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class ET extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TT=function(n){const e=p_(n);return g_.encodeByteArray(e,!0)},lh=function(n){return TT(n).replace(/\./g,"")},y_=function(n){try{return g_.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ST=()=>AT().__FIREBASE_DEFAULTS__,RT=()=>{if(typeof process>"u"||typeof db>"u")return;const n=db.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},kT=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&y_(n[1]);return e&&JSON.parse(e)},Ih=()=>{try{return ST()||RT()||kT()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},v_=n=>{var e,t;return(t=(e=Ih())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},x_=n=>{const e=v_(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},b_=()=>{var n;return(n=Ih())===null||n===void 0?void 0:n.config},__=n=>{var e;return(e=Ih())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w_(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",o=n.iat||0,c=n.sub||n.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},n);return[lh(JSON.stringify(t)),lh(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function IT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pn())}function DT(){var n;const e=(n=Ih())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function j_(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function VT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function MT(){const n=Pn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function PT(){return!DT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N_(){try{return typeof indexedDB=="object"}catch{return!1}}function E_(){return new Promise((n,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(i);o.onsuccess=()=>{o.result.close(),t||self.indexedDB.deleteDatabase(i),n(!0)},o.onupgradeneeded=()=>{t=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(t){e(t)}})}function LT(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UT="FirebaseError";class Dr extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=UT,Object.setPrototypeOf(this,Dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eo.prototype.create)}}class eo{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?zT(c,i):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new Dr(o,m,i)}}function zT(n,e){return n.replace(FT,(t,i)=>{const o=e[i];return o!=null?String(o):`<${i}?>`})}const FT=/\{\$([^}]+)}/g;function BT(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Qc(n,e){if(n===e)return!0;const t=Object.keys(n),i=Object.keys(e);for(const o of t){if(!i.includes(o))return!1;const c=n[o],d=e[o];if(hb(c)&&hb(d)){if(!Qc(c,d))return!1}else if(c!==d)return!1}for(const o of i)if(!t.includes(o))return!1;return!0}function hb(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(n){const e=[];for(const[t,i]of Object.entries(n))Array.isArray(i)?i.forEach(o=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Dc(n){const e={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[o,c]=i.split("=");e[decodeURIComponent(o)]=decodeURIComponent(c)}}),e}function Oc(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function qT(n,e){const t=new HT(n,e);return t.subscribe.bind(t)}class HT{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let o;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");GT(e,["next","error","complete"])?o=e:o={next:e,error:t,complete:i},o.next===void 0&&(o.next=xp),o.error===void 0&&(o.error=xp),o.complete===void 0&&(o.complete=xp);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function GT(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function xp(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $T=1e3,KT=2,QT=4*60*60*1e3,YT=.5;function fb(n,e=$T,t=KT){const i=e*Math.pow(t,n),o=Math.round(YT*i*(Math.random()-.5)*2);return Math.min(QT,i+o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rt(n){return n&&n._delegate?n._delegate:n}class Ir{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new CT;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:t});o&&i.resolve(o)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JT(e))try{this.getOrInitializeService({instanceIdentifier:La})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(t);try{const c=this.getOrInitializeService({instanceIdentifier:o});i.resolve(c)}catch{}}}}clearInstance(e=La){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=La){return this.instances.has(e)}getOptions(e=La){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[c,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(c);i===m&&d.resolve(o)}return o}onInit(e,t){var i;const o=this.normalizeInstanceIdentifier(t),c=(i=this.onInitCallbacks.get(o))!==null&&i!==void 0?i:new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const o of i)try{o(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:XT(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=La){return this.component?this.component.multipleInstances?e:La:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XT(n){return n===La?void 0:n}function JT(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new WT(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(it||(it={}));const eA={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},tA=it.INFO,nA={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},rA=(n,e,...t)=>{if(e<n.logLevel)return;const i=new Date().toISOString(),o=nA[e];if(o)console[o](`[${i}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Dh{constructor(e){this.name=e,this._logLevel=tA,this._logHandler=rA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const sA=(n,e)=>e.some(t=>n instanceof t);let mb,pb;function iA(){return mb||(mb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function aA(){return pb||(pb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const T_=new WeakMap,Kp=new WeakMap,A_=new WeakMap,bp=new WeakMap,Tg=new WeakMap;function oA(n){const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("success",c),n.removeEventListener("error",d)},c=()=>{t(Wi(n.result)),o()},d=()=>{i(n.error),o()};n.addEventListener("success",c),n.addEventListener("error",d)});return e.then(t=>{t instanceof IDBCursor&&T_.set(t,n)}).catch(()=>{}),Tg.set(e,n),e}function lA(n){if(Kp.has(n))return;const e=new Promise((t,i)=>{const o=()=>{n.removeEventListener("complete",c),n.removeEventListener("error",d),n.removeEventListener("abort",d)},c=()=>{t(),o()},d=()=>{i(n.error||new DOMException("AbortError","AbortError")),o()};n.addEventListener("complete",c),n.addEventListener("error",d),n.addEventListener("abort",d)});Kp.set(n,e)}let Qp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Kp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||A_.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function cA(n){Qp=n(Qp)}function uA(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=n.call(_p(this),e,...t);return A_.set(i,e.sort?e.sort():[e]),Wi(i)}:aA().includes(n)?function(...e){return n.apply(_p(this),e),Wi(T_.get(this))}:function(...e){return Wi(n.apply(_p(this),e))}}function dA(n){return typeof n=="function"?uA(n):(n instanceof IDBTransaction&&lA(n),sA(n,iA())?new Proxy(n,Qp):n)}function Wi(n){if(n instanceof IDBRequest)return oA(n);if(bp.has(n))return bp.get(n);const e=dA(n);return e!==n&&(bp.set(n,e),Tg.set(e,n)),e}const _p=n=>Tg.get(n);function S_(n,e,{blocked:t,upgrade:i,blocking:o,terminated:c}={}){const d=indexedDB.open(n,e),m=Wi(d);return i&&d.addEventListener("upgradeneeded",p=>{i(Wi(d.result),p.oldVersion,p.newVersion,Wi(d.transaction),p)}),t&&d.addEventListener("blocked",p=>t(p.oldVersion,p.newVersion,p)),m.then(p=>{c&&p.addEventListener("close",()=>c()),o&&p.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const hA=["get","getKey","getAll","getAllKeys","count"],fA=["put","add","delete","clear"],wp=new Map;function gb(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(wp.get(e))return wp.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,o=fA.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(o||hA.includes(t)))return;const c=async function(d,...m){const p=this.transaction(d,o?"readwrite":"readonly");let y=p.store;return i&&(y=y.index(m.shift())),(await Promise.all([y[t](...m),o&&p.done]))[0]};return wp.set(e,c),c}cA(n=>({...n,get:(e,t,i)=>gb(e,t)||n.get(e,t,i),has:(e,t)=>!!gb(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(pA(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function pA(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yp="@firebase/app",yb="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ri=new Dh("@firebase/app"),gA="@firebase/app-compat",yA="@firebase/analytics-compat",vA="@firebase/analytics",xA="@firebase/app-check-compat",bA="@firebase/app-check",_A="@firebase/auth",wA="@firebase/auth-compat",jA="@firebase/database",NA="@firebase/data-connect",EA="@firebase/database-compat",TA="@firebase/functions",AA="@firebase/functions-compat",SA="@firebase/installations",RA="@firebase/installations-compat",kA="@firebase/messaging",CA="@firebase/messaging-compat",IA="@firebase/performance",DA="@firebase/performance-compat",OA="@firebase/remote-config",VA="@firebase/remote-config-compat",MA="@firebase/storage",PA="@firebase/storage-compat",LA="@firebase/firestore",UA="@firebase/vertexai-preview",zA="@firebase/firestore-compat",FA="firebase",BA="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="[DEFAULT]",qA={[Yp]:"fire-core",[gA]:"fire-core-compat",[vA]:"fire-analytics",[yA]:"fire-analytics-compat",[bA]:"fire-app-check",[xA]:"fire-app-check-compat",[_A]:"fire-auth",[wA]:"fire-auth-compat",[jA]:"fire-rtdb",[NA]:"fire-data-connect",[EA]:"fire-rtdb-compat",[TA]:"fire-fn",[AA]:"fire-fn-compat",[SA]:"fire-iid",[RA]:"fire-iid-compat",[kA]:"fire-fcm",[CA]:"fire-fcm-compat",[IA]:"fire-perf",[DA]:"fire-perf-compat",[OA]:"fire-rc",[VA]:"fire-rc-compat",[MA]:"fire-gcs",[PA]:"fire-gcs-compat",[LA]:"fire-fst",[zA]:"fire-fst-compat",[UA]:"fire-vertex","fire-js":"fire-js",[FA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ch=new Map,HA=new Map,Xp=new Map;function vb(n,e){try{n.container.addComponent(e)}catch(t){ri.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function qr(n){const e=n.name;if(Xp.has(e))return ri.debug(`There were multiple attempts to register component ${e}.`),!1;Xp.set(e,n);for(const t of ch.values())vb(t,n);for(const t of HA.values())vb(t,n);return!0}function ra(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function us(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new eo("app","Firebase",GA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e,t,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ir("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=BA;function R_(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Wp,automaticDataCollectionEnabled:!1},e),o=i.name;if(typeof o!="string"||!o)throw Xi.create("bad-app-name",{appName:String(o)});if(t||(t=b_()),!t)throw Xi.create("no-options");const c=ch.get(o);if(c){if(Qc(t,c.options)&&Qc(i,c.config))return c;throw Xi.create("duplicate-app",{appName:o})}const d=new ZT(o);for(const p of Xp.values())d.addComponent(p);const m=new $A(t,i,d);return ch.set(o,m),m}function Oh(n=Wp){const e=ch.get(n);if(!e&&n===Wp&&b_())return R_();if(!e)throw Xi.create("no-app",{appName:n});return e}function Zn(n,e,t){var i;let o=(i=qA[n])!==null&&i!==void 0?i:n;t&&(o+=`-${t}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const m=[`Unable to register library "${o}" with version "${e}":`];c&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&m.push("and"),d&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ri.warn(m.join(" "));return}qr(new Ir(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KA="firebase-heartbeat-database",QA=1,Yc="firebase-heartbeat-store";let jp=null;function k_(){return jp||(jp=S_(KA,QA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Yc)}catch(t){console.warn(t)}}}}).catch(n=>{throw Xi.create("idb-open",{originalErrorMessage:n.message})})),jp}async function YA(n){try{const t=(await k_()).transaction(Yc),i=await t.objectStore(Yc).get(C_(n));return await t.done,i}catch(e){if(e instanceof Dr)ri.warn(e.message);else{const t=Xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ri.warn(t.message)}}}async function xb(n,e){try{const i=(await k_()).transaction(Yc,"readwrite");await i.objectStore(Yc).put(e,C_(n)),await i.done}catch(t){if(t instanceof Dr)ri.warn(t.message);else{const i=Xi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});ri.warn(i.message)}}}function C_(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WA=1024,XA=30*24*60*60*1e3;class JA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new eS(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,t;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=bb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c)?void 0:(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(d=>{const m=new Date(d.date).valueOf();return Date.now()-m<=XA}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ri.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=bb(),{heartbeatsToSend:i,unsentEntries:o}=ZA(this._heartbeatsCache.heartbeats),c=lh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=t,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(t){return ri.warn(t),""}}}function bb(){return new Date().toISOString().substring(0,10)}function ZA(n,e=WA){const t=[];let i=n.slice();for(const o of n){const c=t.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),_b(t)>e){c.dates.pop();break}}else if(t.push({agent:o.agent,dates:[o.date]}),_b(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class eS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return N_()?E_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await YA(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return xb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const o=await this.read();return xb(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function _b(n){return lh(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tS(n){qr(new Ir("platform-logger",e=>new mA(e),"PRIVATE")),qr(new Ir("heartbeat",e=>new JA(e),"PRIVATE")),Zn(Yp,yb,n),Zn(Yp,yb,"esm2017"),Zn("fire-js","")}tS("");function Ag(n,e){var t={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&e.indexOf(i)<0&&(t[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,i=Object.getOwnPropertySymbols(n);o<i.length;o++)e.indexOf(i[o])<0&&Object.prototype.propertyIsEnumerable.call(n,i[o])&&(t[i[o]]=n[i[o]]);return t}function I_(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nS=I_,D_=new eo("auth","Firebase",I_());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=new Dh("@firebase/auth");function rS(n,...e){uh.logLevel<=it.WARN&&uh.warn(`Auth (${to}): ${n}`,...e)}function Wd(n,...e){uh.logLevel<=it.ERROR&&uh.error(`Auth (${to}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hr(n,...e){throw Sg(n,...e)}function fs(n,...e){return Sg(n,...e)}function O_(n,e,t){const i=Object.assign(Object.assign({},nS()),{[e]:t});return new eo("auth","Firebase",i).create(e,{appName:n.name})}function ti(n){return O_(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Sg(n,...e){if(typeof n!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(t,...i)}return D_.create(n,...e)}function He(n,e,...t){if(!n)throw Sg(e,...t)}function Js(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Wd(e),new Error(e)}function si(n,e){n||Js(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jp(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function sS(){return wb()==="http:"||wb()==="https:"}function wb(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sS()||j_()||"connection"in navigator)?navigator.onLine:!0}function aS(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,t){this.shortDelay=e,this.longDelay=t,si(t>e,"Short delay should be less than long delay!"),this.isMobile=IT()||VT()}get(){return iS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(n,e){si(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=new au(3e4,6e4);function li(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function bs(n,e,t,i,o={}){return M_(n,o,async()=>{let c={},d={};i&&(e==="GET"?d=i:c={body:JSON.stringify(i)});const m=iu(Object.assign({key:n.config.apiKey},d)).slice(1),p=await n._getAdditionalHeaders();p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode);const y=Object.assign({method:e,headers:p},c);return OT()||(y.referrerPolicy="no-referrer"),V_.fetch()(P_(n,n.config.apiHost,t,m),y)})}async function M_(n,e,t){n._canInitEmulator=!1;const i=Object.assign(Object.assign({},oS),e);try{const o=new uS(n),c=await Promise.race([t(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw zd(n,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const m=c.ok?d.errorMessage:d.error.message,[p,y]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw zd(n,"credential-already-in-use",d);if(p==="EMAIL_EXISTS")throw zd(n,"email-already-in-use",d);if(p==="USER_DISABLED")throw zd(n,"user-disabled",d);const x=i[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw O_(n,x,y);Hr(n,x)}}catch(o){if(o instanceof Dr)throw o;Hr(n,"network-request-failed",{message:String(o)})}}async function ou(n,e,t,i,o={}){const c=await bs(n,e,t,i,o);return"mfaPendingCredential"in c&&Hr(n,"multi-factor-auth-required",{_serverResponse:c}),c}function P_(n,e,t,i){const o=`${e}${t}?${i}`;return n.config.emulator?Rg(n.config,o):`${n.config.apiScheme}://${o}`}function cS(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class uS{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(fs(this.auth,"network-request-failed")),lS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function zd(n,e,t){const i={appName:n.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const o=fs(n,e,i);return o.customData._tokenResponse=t,o}function jb(n){return n!==void 0&&n.enterprise!==void 0}class dS{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return cS(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function hS(n,e){return bs(n,"GET","/v2/recaptchaConfig",li(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fS(n,e){return bs(n,"POST","/v1/accounts:delete",e)}async function L_(n,e){return bs(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mS(n,e=!1){const t=Rt(n),i=await t.getIdToken(e),o=kg(i);He(o&&o.exp&&o.auth_time&&o.iat,t.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:o,token:i,authTime:Uc(Np(o.auth_time)),issuedAtTime:Uc(Np(o.iat)),expirationTime:Uc(Np(o.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Np(n){return Number(n)*1e3}function kg(n){const[e,t,i]=n.split(".");if(e===void 0||t===void 0||i===void 0)return Wd("JWT malformed, contained fewer than 3 sections"),null;try{const o=y_(t);return o?JSON.parse(o):(Wd("Failed to decode base64 JWT payload"),null)}catch(o){return Wd("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function Nb(n){const e=kg(n);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function il(n,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Dr&&pS(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function pS({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const o=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uc(this.lastLoginAt),this.creationTime=Uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dh(n){var e;const t=n.auth,i=await n.getIdToken(),o=await il(n,L_(t,{idToken:i}));He(o==null?void 0:o.users.length,t,"internal-error");const c=o.users[0];n._notifyReloadListener(c);const d=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?U_(c.providerUserInfo):[],m=vS(n.providerData,d),p=n.isAnonymous,y=!(n.email&&c.passwordHash)&&!(m!=null&&m.length),x=p?y:!1,j={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:m,metadata:new Zp(c.createdAt,c.lastLoginAt),isAnonymous:x};Object.assign(n,j)}async function yS(n){const e=Rt(n);await dh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function vS(n,e){return[...n.filter(i=>!e.some(o=>o.providerId===i.providerId)),...e]}function U_(n){return n.map(e=>{var{providerId:t}=e,i=Ag(e,["providerId"]);return{providerId:t,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xS(n,e){const t=await M_(n,{},async()=>{const i=iu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=n.config,d=P_(n,o,"/v1/token",`key=${c}`),m=await n._getAdditionalHeaders();return m["Content-Type"]="application/x-www-form-urlencoded",V_.fetch()(d,{method:"POST",headers:m,body:i})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function bS(n,e){return bs(n,"POST","/v2/accounts:revokeToken",li(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Nb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){He(e.length!==0,"internal-error");const t=Nb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:o,expiresIn:c}=await xS(e,t);this.updateTokensAndExpiration(i,o,Number(c))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:o,expirationTime:c}=t,d=new el;return i&&(He(typeof i=="string","internal-error",{appName:e}),d.refreshToken=i),o&&(He(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(He(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new el,this.toJSON())}_performRefresh(){return Js("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ui(n,e){He(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Zs{constructor(e){var{uid:t,auth:i,stsTokenManager:o}=e,c=Ag(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=i,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Zp(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const t=await il(this,this.stsTokenManager.getToken(this.auth,e));return He(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return mS(this,e)}reload(){return yS(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Zs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await dh(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(us(this.auth.app))return Promise.reject(ti(this.auth));const e=await this.getIdToken();return await il(this,fS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var i,o,c,d,m,p,y,x;const j=(i=t.displayName)!==null&&i!==void 0?i:void 0,w=(o=t.email)!==null&&o!==void 0?o:void 0,k=(c=t.phoneNumber)!==null&&c!==void 0?c:void 0,z=(d=t.photoURL)!==null&&d!==void 0?d:void 0,$=(m=t.tenantId)!==null&&m!==void 0?m:void 0,U=(p=t._redirectEventId)!==null&&p!==void 0?p:void 0,H=(y=t.createdAt)!==null&&y!==void 0?y:void 0,M=(x=t.lastLoginAt)!==null&&x!==void 0?x:void 0,{uid:S,emailVerified:G,isAnonymous:q,providerData:R,stsTokenManager:N}=t;He(S&&N,e,"internal-error");const E=el.fromJSON(this.name,N);He(typeof S=="string",e,"internal-error"),Ui(j,e.name),Ui(w,e.name),He(typeof G=="boolean",e,"internal-error"),He(typeof q=="boolean",e,"internal-error"),Ui(k,e.name),Ui(z,e.name),Ui($,e.name),Ui(U,e.name),Ui(H,e.name),Ui(M,e.name);const T=new Zs({uid:S,auth:e,email:w,emailVerified:G,displayName:j,isAnonymous:q,photoURL:z,phoneNumber:k,tenantId:$,stsTokenManager:E,createdAt:H,lastLoginAt:M});return R&&Array.isArray(R)&&(T.providerData=R.map(P=>Object.assign({},P))),U&&(T._redirectEventId=U),T}static async _fromIdTokenResponse(e,t,i=!1){const o=new el;o.updateFromServerResponse(t);const c=new Zs({uid:t.localId,auth:e,stsTokenManager:o,isAnonymous:i});return await dh(c),c}static async _fromGetAccountInfoResponse(e,t,i){const o=t.users[0];He(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?U_(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),m=new el;m.updateFromIdToken(i);const p=new Zs({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Zp(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(p,y),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eb=new Map;function ei(n){si(n instanceof Function,"Expected a class definition");let e=Eb.get(n);return e?(si(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Eb.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}z_.type="NONE";const Tb=z_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xd(n,e,t){return`firebase:${n}:${e}:${t}`}class tl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:o,name:c}=this.auth;this.fullUserKey=Xd(this.userKey,o.apiKey,c),this.fullPersistenceKey=Xd("persistence",o.apiKey,c),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Zs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new tl(ei(Tb),e,i);const o=(await Promise.all(t.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let c=o[0]||ei(Tb);const d=Xd(i,e.config.apiKey,e.name);let m=null;for(const y of t)try{const x=await y._get(d);if(x){const j=Zs._fromJSON(e,x);y!==c&&(m=j),c=y;break}}catch{}const p=o.filter(y=>y._shouldAllowMigration);return!c._shouldAllowMigration||!p.length?new tl(c,e,i):(c=p[0],m&&await c._set(d,m.toJSON()),await Promise.all(t.map(async y=>{if(y!==c)try{await y._remove(d)}catch{}})),new tl(c,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ab(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(H_(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(F_(e))return"Firefox";if(e.includes("silk/"))return"Silk";if($_(e))return"Blackberry";if(K_(e))return"Webos";if(B_(e))return"Safari";if((e.includes("chrome/")||q_(e))&&!e.includes("edge/"))return"Chrome";if(G_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(t);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function F_(n=Pn()){return/firefox\//i.test(n)}function B_(n=Pn()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function q_(n=Pn()){return/crios\//i.test(n)}function H_(n=Pn()){return/iemobile/i.test(n)}function G_(n=Pn()){return/android/i.test(n)}function $_(n=Pn()){return/blackberry/i.test(n)}function K_(n=Pn()){return/webos/i.test(n)}function Cg(n=Pn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function _S(n=Pn()){var e;return Cg(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function wS(){return MT()&&document.documentMode===10}function Q_(n=Pn()){return Cg(n)||G_(n)||K_(n)||$_(n)||/windows phone/i.test(n)||H_(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y_(n,e=[]){let t;switch(n){case"Browser":t=Ab(Pn());break;case"Worker":t=`${Ab(Pn())}-${n}`;break;default:t=n}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${to}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=c=>new Promise((d,m)=>{try{const p=e(c);d(p)}catch(p){m(p)}});i.onAbort=t,this.queue.push(i);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const o of t)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NS(n,e={}){return bs(n,"GET","/v2/passwordPolicy",li(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ES=6;class TS{constructor(e){var t,i,o,c;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=d.minPasswordLength)!==null&&t!==void 0?t:ES,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,i,o,c,d,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(t=p.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),p.isValid&&(p.isValid=(i=p.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(c=p.containsUppercaseLetter)!==null&&c!==void 0?c:!0),p.isValid&&(p.isValid=(d=p.containsNumericCharacter)!==null&&d!==void 0?d:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),o&&(t.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let o=0;o<e.length;o++)i=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e,t,i,o){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Sb(this),this.idTokenSubscription=new Sb(this),this.beforeStateQueue=new jS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=D_,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=ei(t)),this._initializationPromise=this.queue(async()=>{var i,o;if(!this._deleted&&(this.persistenceManager=await tl.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await L_(this,{idToken:e}),i=await Zs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(us(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(m,m))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let o=i,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,m=o==null?void 0:o._redirectEventId,p=await this.tryRedirectSignIn(e);(!d||d===m)&&(p!=null&&p.user)&&(o=p.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await dh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(us(this.app))return Promise.reject(ti(this));const t=e?Rt(e):null;return t&&He(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return us(this.app)?Promise.reject(ti(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return us(this.app)?Promise.reject(ti(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ei(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await NS(this),t=new TS(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new eo("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await bS(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&ei(e)||this._popupRedirectResolver;He(t,this,"argument-error"),this.redirectPersistenceManager=await tl.create(this,[ei(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,i;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,o){if(this._deleted)return()=>{};const c=typeof t=="function"?t:t.next.bind(t);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(m,this,"internal-error"),m.then(()=>{d||c(this.currentUser)}),typeof t=="function"){const p=e.addObserver(t,i,o);return()=>{d=!0,p()}}else{const p=e.addObserver(t);return()=>{d=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Y_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(t["X-Firebase-Client"]=i);const o=await this._getAppCheckToken();return o&&(t["X-Firebase-AppCheck"]=o),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&rS(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function sa(n){return Rt(n)}class Sb{constructor(e){this.auth=e,this.observer=null,this.addObserver=qT(t=>this.observer=t)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SS(n){Vh=n}function W_(n){return Vh.loadJS(n)}function RS(){return Vh.recaptchaEnterpriseScript}function kS(){return Vh.gapiScript}function CS(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const IS="recaptcha-enterprise",DS="NO_RECAPTCHA";class OS{constructor(e){this.type=IS,this.auth=sa(e)}async verify(e="verify",t=!1){async function i(c){if(!t){if(c.tenantId==null&&c._agentRecaptchaConfig!=null)return c._agentRecaptchaConfig.siteKey;if(c.tenantId!=null&&c._tenantRecaptchaConfigs[c.tenantId]!==void 0)return c._tenantRecaptchaConfigs[c.tenantId].siteKey}return new Promise(async(d,m)=>{hS(c,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const y=new dS(p);return c.tenantId==null?c._agentRecaptchaConfig=y:c._tenantRecaptchaConfigs[c.tenantId]=y,d(y.siteKey)}}).catch(p=>{m(p)})})}function o(c,d,m){const p=window.grecaptcha;jb(p)?p.enterprise.ready(()=>{p.enterprise.execute(c,{action:e}).then(y=>{d(y)}).catch(()=>{d(DS)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((c,d)=>{i(this.auth).then(m=>{if(!t&&jb(window.grecaptcha))o(m,c,d);else{if(typeof window>"u"){d(new Error("RecaptchaVerifier is only supported in browser"));return}let p=RS();p.length!==0&&(p+=m),W_(p).then(()=>{o(m,c,d)}).catch(y=>{d(y)})}}).catch(m=>{d(m)})})}}async function Rb(n,e,t,i=!1){const o=new OS(n);let c;try{c=await o.verify(t)}catch{c=await o.verify(t,!0)}const d=Object.assign({},e);return i?Object.assign(d,{captchaResp:c}):Object.assign(d,{captchaResponse:c}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function hh(n,e,t,i){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const c=await Rb(n,e,t,t==="getOobCode");return i(n,c)}else return i(n,e).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Rb(n,e,t,t==="getOobCode");return i(n,d)}else return Promise.reject(c)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VS(n,e){const t=ra(n,"auth");if(t.isInitialized()){const o=t.getImmediate(),c=t.getOptions();if(Qc(c,e??{}))return o;Hr(o,"already-initialized")}return t.initialize({options:e})}function MS(n,e){const t=(e==null?void 0:e.persistence)||[],i=(Array.isArray(t)?t:[t]).map(ei);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function PS(n,e,t){const i=sa(n);He(i._canInitEmulator,i,"emulator-config-failed"),He(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const o=!1,c=X_(e),{host:d,port:m}=LS(e),p=m===null?"":`:${m}`;i.config.emulator={url:`${c}//${d}${p}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:d,port:m,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})}),US()}function X_(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function LS(n){const e=X_(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(i);if(o){const c=o[1];return{host:c,port:kb(i.substr(c.length+1))}}else{const[c,d]=i.split(":");return{host:c,port:kb(d)}}}function kb(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function US(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Js("not implemented")}_getIdTokenResponse(e){return Js("not implemented")}_linkToIdToken(e,t){return Js("not implemented")}_getReauthenticationResolver(e){return Js("not implemented")}}async function zS(n,e){return bs(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FS(n,e){return ou(n,"POST","/v1/accounts:signInWithPassword",li(n,e))}async function BS(n,e){return bs(n,"POST","/v1/accounts:sendOobCode",li(n,e))}async function qS(n,e){return BS(n,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HS(n,e){return ou(n,"POST","/v1/accounts:signInWithEmailLink",li(n,e))}async function GS(n,e){return ou(n,"POST","/v1/accounts:signInWithEmailLink",li(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends Ig{constructor(e,t,i,o=null){super("password",i),this._email=e,this._password=t,this._tenantId=o}static _fromEmailAndPassword(e,t){return new Wc(e,t,"password")}static _fromEmailAndCode(e,t,i=null){return new Wc(e,t,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hh(e,t,"signInWithPassword",FS);case"emailLink":return HS(e,{email:this._email,oobCode:this._password});default:Hr(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const i={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return hh(e,i,"signUpPassword",zS);case"emailLink":return GS(e,{idToken:t,email:this._email,oobCode:this._password});default:Hr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nl(n,e){return ou(n,"POST","/v1/accounts:signInWithIdp",li(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="http://localhost";class Ga extends Ig{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ga(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Hr("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:o}=t,c=Ag(t,["providerId","signInMethod"]);if(!i||!o)return null;const d=new Ga(i,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const t=this.buildRequest();return nl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,nl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,nl(e,t)}buildRequest(){const e={requestUri:$S,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=iu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KS(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QS(n){const e=Dc(Oc(n)).link,t=e?Dc(Oc(e)).deep_link_id:null,i=Dc(Oc(n)).deep_link_id;return(i?Dc(Oc(i)).link:null)||i||t||e||n}class Dg{constructor(e){var t,i,o,c,d,m;const p=Dc(Oc(e)),y=(t=p.apiKey)!==null&&t!==void 0?t:null,x=(i=p.oobCode)!==null&&i!==void 0?i:null,j=KS((o=p.mode)!==null&&o!==void 0?o:null);He(y&&x&&j,"argument-error"),this.apiKey=y,this.operation=j,this.code=x,this.continueUrl=(c=p.continueUrl)!==null&&c!==void 0?c:null,this.languageCode=(d=p.languageCode)!==null&&d!==void 0?d:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const t=QS(e);try{return new Dg(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vl{constructor(){this.providerId=vl.PROVIDER_ID}static credential(e,t){return Wc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const i=Dg.parseLink(t);return He(i,"argument-error"),Wc._fromEmailAndCode(e,i.code,i.tenantId)}}vl.PROVIDER_ID="password";vl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";vl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lu extends J_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends lu{constructor(){super("facebook.com")}static credential(e){return Ga._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Fi.credential(e.oauthAccessToken)}catch{return null}}}Fi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Fi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends lu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ga._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return Bi.credential(t,i)}catch{return null}}}Bi.GOOGLE_SIGN_IN_METHOD="google.com";Bi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends lu{constructor(){super("github.com")}static credential(e){return Ga._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return qi.credential(e.oauthAccessToken)}catch{return null}}}qi.GITHUB_SIGN_IN_METHOD="github.com";qi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends lu{constructor(){super("twitter.com")}static credential(e,t){return Ga._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return Hi.credential(t,i)}catch{return null}}}Hi.TWITTER_SIGN_IN_METHOD="twitter.com";Hi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YS(n,e){return ou(n,"POST","/v1/accounts:signUp",li(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,o=!1){const c=await Zs._fromIdTokenResponse(e,i,o),d=Cb(i);return new $a({user:c,providerId:d,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const o=Cb(i);return new $a({user:e,providerId:o,_tokenResponse:i,operationType:t})}}function Cb(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh extends Dr{constructor(e,t,i,o){var c;super(t.code,t.message),this.operationType=i,this.user=o,Object.setPrototypeOf(this,fh.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,o){return new fh(e,t,i,o)}}function Z_(n,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?fh._fromErrorAndOperation(n,c,e,i):c})}async function WS(n,e,t=!1){const i=await il(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return $a._forOperation(n,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XS(n,e,t=!1){const{auth:i}=n;if(us(i.app))return Promise.reject(ti(i));const o="reauthenticate";try{const c=await il(n,Z_(i,o,e,n),t);He(c.idToken,i,"internal-error");const d=kg(c.idToken);He(d,i,"internal-error");const{sub:m}=d;return He(n.uid===m,i,"user-mismatch"),$a._forOperation(n,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&Hr(i,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ew(n,e,t=!1){if(us(n.app))return Promise.reject(ti(n));const i="signIn",o=await Z_(n,i,e),c=await $a._fromIdTokenResponse(n,i,o);return t||await n._updateCurrentUser(c.user),c}async function JS(n,e){return ew(sa(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tw(n){const e=sa(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ZS(n,e,t){const i=sa(n);await hh(i,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",qS)}async function nw(n,e,t){if(us(n.app))return Promise.reject(ti(n));const i=sa(n),d=await hh(i,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YS).catch(p=>{throw p.code==="auth/password-does-not-meet-requirements"&&tw(n),p}),m=await $a._fromIdTokenResponse(i,"signIn",d);return await i._updateCurrentUser(m.user),m}function e4(n,e,t){return us(n.app)?Promise.reject(ti(n)):JS(Rt(n),vl.credential(e,t)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&tw(n),i})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(n,e){return bs(n,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rw(n,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const i=Rt(n),c={idToken:await i.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},d=await il(i,t4(i.auth,c));i.displayName=d.displayName||null,i.photoURL=d.photoUrl||null;const m=i.providerData.find(({providerId:p})=>p==="password");m&&(m.displayName=i.displayName,m.photoURL=i.photoURL),await i._updateTokensIfNecessary(d)}function n4(n,e,t,i){return Rt(n).onIdTokenChanged(e,t,i)}function r4(n,e,t){return Rt(n).beforeAuthStateChanged(e,t)}function s4(n,e,t,i){return Rt(n).onAuthStateChanged(e,t,i)}function i4(n){return Rt(n).signOut()}const mh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(mh,"1"),this.storage.removeItem(mh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=1e3,o4=10;class iw extends sw{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Q_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),o=this.localCache[t];i!==o&&e(t,o,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((d,m,p)=>{this.notifyListeners(d,p)});return}const i=e.key;t?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(i);!t&&this.localCache[i]===d||this.notifyListeners(i,d)},c=this.storage.getItem(i);wS()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,o4):o()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},a4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}iw.type="LOCAL";const l4=iw;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw extends sw{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}aw.type="SESSION";const ow=aw;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c4(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(o=>o.isListeningto(e));if(t)return t;const i=new Mh(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:o,data:c}=t.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const m=Array.from(d).map(async y=>y(t.origin,c)),p=await c4(m);t.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:p})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Mh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(n="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((m,p)=>{const y=Og("",20);o.port1.start();const x=setTimeout(()=>{p(new Error("unsupported_event"))},i);d={messageChannel:o,onMessage(j){const w=j;if(w.data.eventId===y)switch(w.data.status){case"ack":clearTimeout(x),c=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),m(w.data.response);break;default:clearTimeout(x),clearTimeout(c),p(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:t},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ms(){return window}function d4(n){ms().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(){return typeof ms().WorkerGlobalScope<"u"&&typeof ms().importScripts=="function"}async function h4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function f4(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function m4(){return lw()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cw="firebaseLocalStorageDb",p4=1,ph="firebaseLocalStorage",uw="fbase_key";class cu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Ph(n,e){return n.transaction([ph],e?"readwrite":"readonly").objectStore(ph)}function g4(){const n=indexedDB.deleteDatabase(cw);return new cu(n).toPromise()}function eg(){const n=indexedDB.open(cw,p4);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(ph,{keyPath:uw})}catch(o){t(o)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(ph)?e(i):(i.close(),await g4(),e(await eg()))})})}async function Ib(n,e,t){const i=Ph(n,!0).put({[uw]:e,value:t});return new cu(i).toPromise()}async function y4(n,e){const t=Ph(n,!1).get(e),i=await new cu(t).toPromise();return i===void 0?null:i.value}function Db(n,e){const t=Ph(n,!0).delete(e);return new cu(t).toPromise()}const v4=800,x4=3;class dw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await eg(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>x4)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Mh._getInstance(m4()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await h4(),!this.activeServiceWorker)return;this.sender=new u4(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((t=i[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||f4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await eg();return await Ib(e,mh,"1"),await Db(e,mh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Ib(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>y4(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Db(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=Ph(o,!1).getAll();return new cu(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),t.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),t.push(o));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const o of Array.from(i))o(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),v4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dw.type="LOCAL";const b4=dw;new au(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _4(n,e){return e?ei(e):(He(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg extends Ig{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return nl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return nl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function w4(n){return ew(n.auth,new Vg(n),n.bypassAuthState)}function j4(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),XS(t,new Vg(n),n.bypassAuthState)}async function N4(n){const{auth:e,user:t}=n;return He(t,e,"internal-error"),WS(t,new Vg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hw{constructor(e,t,i,o,c=!1){this.auth=e,this.resolver=i,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:o,tenantId:c,error:d,type:m}=e;if(d){this.reject(d);return}const p={auth:this.auth,requestUri:t,sessionId:i,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return w4;case"linkViaPopup":case"linkViaRedirect":return N4;case"reauthViaPopup":case"reauthViaRedirect":return j4;default:Hr(this.auth,"internal-error")}}resolve(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){si(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4=new au(2e3,1e4);class Jo extends hw{constructor(e,t,i,o,c){super(e,t,o,c),this.provider=i,this.authWindow=null,this.pollId=null,Jo.currentPopupAction&&Jo.currentPopupAction.cancel(),Jo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){si(this.filter.length===1,"Popup operations only handle one event");const e=Og();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(fs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(fs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Jo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,i;if(!((i=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(fs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,E4.get())};e()}}Jo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="pendingRedirect",Jd=new Map;class A4 extends hw{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Jd.get(this.auth._key());if(!e){try{const i=await S4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Jd.set(this.auth._key(),e)}return this.bypassAuthState||Jd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function S4(n,e){const t=C4(e),i=k4(n);if(!await i._isAvailable())return!1;const o=await i._get(t)==="true";return await i._remove(t),o}function R4(n,e){Jd.set(n._key(),e)}function k4(n){return ei(n._redirectPersistence)}function C4(n){return Xd(T4,n.config.apiKey,n.name)}async function I4(n,e,t=!1){if(us(n.app))return Promise.reject(ti(n));const i=sa(n),o=_4(i,e),d=await new A4(i,o,t).execute();return d&&!t&&(delete d.user._redirectEventId,await i._persistUserIfCurrent(d.user),await i._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=10*60*1e3;class O4{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!V4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var i;if(e.error&&!fw(e)){const o=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";t.onError(fs(this.auth,o))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=D4&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ob(e))}saveEventToCache(e){this.cachedEventUids.add(Ob(e)),this.lastProcessedEventTime=Date.now()}}function Ob(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function fw({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function V4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fw(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M4(n,e={}){return bs(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,L4=/^https?/;async function U4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await M4(n);for(const t of e)try{if(z4(t))return}catch{}Hr(n,"unauthorized-domain")}function z4(n){const e=Jp(),{protocol:t,hostname:i}=new URL(e);if(n.startsWith("chrome-extension://")){const d=new URL(n);return d.hostname===""&&i===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&d.hostname===i}if(!L4.test(t))return!1;if(P4.test(n))return i===n;const o=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F4=new au(3e4,6e4);function Vb(){const n=ms().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function B4(n){return new Promise((e,t)=>{var i,o,c;function d(){Vb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Vb(),t(fs(n,"network-request-failed"))},timeout:F4.get()})}if(!((o=(i=ms().gapi)===null||i===void 0?void 0:i.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((c=ms().gapi)===null||c===void 0)&&c.load)d();else{const m=CS("iframefcb");return ms()[m]=()=>{gapi.load?d():t(fs(n,"network-request-failed"))},W_(`${kS()}?onload=${m}`).catch(p=>t(p))}}).catch(e=>{throw Zd=null,e})}let Zd=null;function q4(n){return Zd=Zd||B4(n),Zd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4=new au(5e3,15e3),G4="__/auth/iframe",$4="emulator/auth/iframe",K4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Q4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Y4(n){const e=n.config;He(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Rg(e,$4):`https://${n.config.authDomain}/${G4}`,i={apiKey:e.apiKey,appName:n.name,v:to},o=Q4.get(n.config.apiHost);o&&(i.eid=o);const c=n._getFrameworks();return c.length&&(i.fw=c.join(",")),`${t}?${iu(i).slice(1)}`}async function W4(n){const e=await q4(n),t=ms().gapi;return He(t,n,"internal-error"),e.open({where:document.body,url:Y4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:K4,dontclear:!0},i=>new Promise(async(o,c)=>{await i.restyle({setHideOnLeave:!1});const d=fs(n,"network-request-failed"),m=ms().setTimeout(()=>{c(d)},H4.get());function p(){ms().clearTimeout(m),o(i)}i.ping(p).then(p,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},J4=500,Z4=600,eR="_blank",tR="http://localhost";class Mb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nR(n,e,t,i=J4,o=Z4){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-i)/2,0).toString();let m="";const p=Object.assign(Object.assign({},X4),{width:i.toString(),height:o.toString(),top:c,left:d}),y=Pn().toLowerCase();t&&(m=q_(y)?eR:t),F_(y)&&(e=e||tR,p.scrollbars="yes");const x=Object.entries(p).reduce((w,[k,z])=>`${w}${k}=${z},`,"");if(_S(y)&&m!=="_self")return rR(e||"",m),new Mb(null);const j=window.open(e||"",m,x);He(j,n,"popup-blocked");try{j.focus()}catch{}return new Mb(j)}function rR(n,e){const t=document.createElement("a");t.href=n,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sR="__/auth/handler",iR="emulator/auth/handler",aR=encodeURIComponent("fac");async function Pb(n,e,t,i,o,c){He(n.config.authDomain,n,"auth-domain-config-required"),He(n.config.apiKey,n,"invalid-api-key");const d={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:i,v:to,eventId:o};if(e instanceof J_){e.setDefaultLanguage(n.languageCode),d.providerId=e.providerId||"",BT(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,j]of Object.entries({}))d[x]=j}if(e instanceof lu){const x=e.getScopes().filter(j=>j!=="");x.length>0&&(d.scopes=x.join(","))}n.tenantId&&(d.tid=n.tenantId);const m=d;for(const x of Object.keys(m))m[x]===void 0&&delete m[x];const p=await n._getAppCheckToken(),y=p?`#${aR}=${encodeURIComponent(p)}`:"";return`${oR(n)}?${iu(m).slice(1)}${y}`}function oR({config:n}){return n.emulator?Rg(n,iR):`https://${n.authDomain}/${sR}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep="webStorageSupport";class lR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ow,this._completeRedirectFn=I4,this._overrideRedirectResult=R4}async _openPopup(e,t,i,o){var c;si((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await Pb(e,t,i,Jp(),o);return nR(e,d,Og())}async _openRedirect(e,t,i,o){await this._originValidation(e);const c=await Pb(e,t,i,Jp(),o);return d4(c),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:o,promise:c}=this.eventManagers[t];return o?Promise.resolve(o):(si(c,"If manager is not set, promise should be"),c)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await W4(e),i=new O4(e);return t.register("authEvent",o=>(He(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:i.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ep,{type:Ep},o=>{var c;const d=(c=o==null?void 0:o[0])===null||c===void 0?void 0:c[Ep];d!==void 0&&t(!!d),Hr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=U4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Q_()||B_()||Cg()}}const cR=lR;var Lb="@firebase/auth",Ub="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dR(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hR(n){qr(new Ir("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=i.options;He(d&&!d.includes(":"),"invalid-api-key",{appName:i.name});const p={apiKey:d,authDomain:m,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Y_(n)},y=new AS(i,o,c,p);return MS(y,t),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),qr(new Ir("auth-internal",e=>{const t=sa(e.getProvider("auth").getImmediate());return(i=>new uR(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zn(Lb,Ub,dR(n)),Zn(Lb,Ub,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fR=5*60,mR=__("authIdTokenMaxAge")||fR;let zb=null;const pR=n=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>mR)return;const o=t==null?void 0:t.token;zb!==o&&(zb=o,await fetch(n,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function gR(n=Oh()){const e=ra(n,"auth");if(e.isInitialized())return e.getImmediate();const t=VS(n,{popupRedirectResolver:cR,persistence:[b4,l4,ow]}),i=__("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(i,location.origin);if(location.origin===c.origin){const d=pR(c.toString());r4(t,d,()=>d(t.currentUser)),n4(t,m=>d(m))}}const o=v_("auth");return o&&PS(t,`http://${o}`),t}function yR(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}SS({loadJS(n){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=e,i.onerror=o=>{const c=fs("internal-error");c.customData=o,t(c)},i.type="text/javascript",i.charset="UTF-8",yR().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hR("Browser");var Fb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qa,mw;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,E){function T(){}T.prototype=E.prototype,N.D=E.prototype,N.prototype=new T,N.prototype.constructor=N,N.C=function(P,L,D){for(var I=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)I[Te-2]=arguments[Te];return E.prototype[L].apply(P,I)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,t),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,E,T){T||(T=0);var P=Array(16);if(typeof E=="string")for(var L=0;16>L;++L)P[L]=E.charCodeAt(T++)|E.charCodeAt(T++)<<8|E.charCodeAt(T++)<<16|E.charCodeAt(T++)<<24;else for(L=0;16>L;++L)P[L]=E[T++]|E[T++]<<8|E[T++]<<16|E[T++]<<24;E=N.g[0],T=N.g[1],L=N.g[2];var D=N.g[3],I=E+(D^T&(L^D))+P[0]+3614090360&4294967295;E=T+(I<<7&4294967295|I>>>25),I=D+(L^E&(T^L))+P[1]+3905402710&4294967295,D=E+(I<<12&4294967295|I>>>20),I=L+(T^D&(E^T))+P[2]+606105819&4294967295,L=D+(I<<17&4294967295|I>>>15),I=T+(E^L&(D^E))+P[3]+3250441966&4294967295,T=L+(I<<22&4294967295|I>>>10),I=E+(D^T&(L^D))+P[4]+4118548399&4294967295,E=T+(I<<7&4294967295|I>>>25),I=D+(L^E&(T^L))+P[5]+1200080426&4294967295,D=E+(I<<12&4294967295|I>>>20),I=L+(T^D&(E^T))+P[6]+2821735955&4294967295,L=D+(I<<17&4294967295|I>>>15),I=T+(E^L&(D^E))+P[7]+4249261313&4294967295,T=L+(I<<22&4294967295|I>>>10),I=E+(D^T&(L^D))+P[8]+1770035416&4294967295,E=T+(I<<7&4294967295|I>>>25),I=D+(L^E&(T^L))+P[9]+2336552879&4294967295,D=E+(I<<12&4294967295|I>>>20),I=L+(T^D&(E^T))+P[10]+4294925233&4294967295,L=D+(I<<17&4294967295|I>>>15),I=T+(E^L&(D^E))+P[11]+2304563134&4294967295,T=L+(I<<22&4294967295|I>>>10),I=E+(D^T&(L^D))+P[12]+1804603682&4294967295,E=T+(I<<7&4294967295|I>>>25),I=D+(L^E&(T^L))+P[13]+4254626195&4294967295,D=E+(I<<12&4294967295|I>>>20),I=L+(T^D&(E^T))+P[14]+2792965006&4294967295,L=D+(I<<17&4294967295|I>>>15),I=T+(E^L&(D^E))+P[15]+1236535329&4294967295,T=L+(I<<22&4294967295|I>>>10),I=E+(L^D&(T^L))+P[1]+4129170786&4294967295,E=T+(I<<5&4294967295|I>>>27),I=D+(T^L&(E^T))+P[6]+3225465664&4294967295,D=E+(I<<9&4294967295|I>>>23),I=L+(E^T&(D^E))+P[11]+643717713&4294967295,L=D+(I<<14&4294967295|I>>>18),I=T+(D^E&(L^D))+P[0]+3921069994&4294967295,T=L+(I<<20&4294967295|I>>>12),I=E+(L^D&(T^L))+P[5]+3593408605&4294967295,E=T+(I<<5&4294967295|I>>>27),I=D+(T^L&(E^T))+P[10]+38016083&4294967295,D=E+(I<<9&4294967295|I>>>23),I=L+(E^T&(D^E))+P[15]+3634488961&4294967295,L=D+(I<<14&4294967295|I>>>18),I=T+(D^E&(L^D))+P[4]+3889429448&4294967295,T=L+(I<<20&4294967295|I>>>12),I=E+(L^D&(T^L))+P[9]+568446438&4294967295,E=T+(I<<5&4294967295|I>>>27),I=D+(T^L&(E^T))+P[14]+3275163606&4294967295,D=E+(I<<9&4294967295|I>>>23),I=L+(E^T&(D^E))+P[3]+4107603335&4294967295,L=D+(I<<14&4294967295|I>>>18),I=T+(D^E&(L^D))+P[8]+1163531501&4294967295,T=L+(I<<20&4294967295|I>>>12),I=E+(L^D&(T^L))+P[13]+2850285829&4294967295,E=T+(I<<5&4294967295|I>>>27),I=D+(T^L&(E^T))+P[2]+4243563512&4294967295,D=E+(I<<9&4294967295|I>>>23),I=L+(E^T&(D^E))+P[7]+1735328473&4294967295,L=D+(I<<14&4294967295|I>>>18),I=T+(D^E&(L^D))+P[12]+2368359562&4294967295,T=L+(I<<20&4294967295|I>>>12),I=E+(T^L^D)+P[5]+4294588738&4294967295,E=T+(I<<4&4294967295|I>>>28),I=D+(E^T^L)+P[8]+2272392833&4294967295,D=E+(I<<11&4294967295|I>>>21),I=L+(D^E^T)+P[11]+1839030562&4294967295,L=D+(I<<16&4294967295|I>>>16),I=T+(L^D^E)+P[14]+4259657740&4294967295,T=L+(I<<23&4294967295|I>>>9),I=E+(T^L^D)+P[1]+2763975236&4294967295,E=T+(I<<4&4294967295|I>>>28),I=D+(E^T^L)+P[4]+1272893353&4294967295,D=E+(I<<11&4294967295|I>>>21),I=L+(D^E^T)+P[7]+4139469664&4294967295,L=D+(I<<16&4294967295|I>>>16),I=T+(L^D^E)+P[10]+3200236656&4294967295,T=L+(I<<23&4294967295|I>>>9),I=E+(T^L^D)+P[13]+681279174&4294967295,E=T+(I<<4&4294967295|I>>>28),I=D+(E^T^L)+P[0]+3936430074&4294967295,D=E+(I<<11&4294967295|I>>>21),I=L+(D^E^T)+P[3]+3572445317&4294967295,L=D+(I<<16&4294967295|I>>>16),I=T+(L^D^E)+P[6]+76029189&4294967295,T=L+(I<<23&4294967295|I>>>9),I=E+(T^L^D)+P[9]+3654602809&4294967295,E=T+(I<<4&4294967295|I>>>28),I=D+(E^T^L)+P[12]+3873151461&4294967295,D=E+(I<<11&4294967295|I>>>21),I=L+(D^E^T)+P[15]+530742520&4294967295,L=D+(I<<16&4294967295|I>>>16),I=T+(L^D^E)+P[2]+3299628645&4294967295,T=L+(I<<23&4294967295|I>>>9),I=E+(L^(T|~D))+P[0]+4096336452&4294967295,E=T+(I<<6&4294967295|I>>>26),I=D+(T^(E|~L))+P[7]+1126891415&4294967295,D=E+(I<<10&4294967295|I>>>22),I=L+(E^(D|~T))+P[14]+2878612391&4294967295,L=D+(I<<15&4294967295|I>>>17),I=T+(D^(L|~E))+P[5]+4237533241&4294967295,T=L+(I<<21&4294967295|I>>>11),I=E+(L^(T|~D))+P[12]+1700485571&4294967295,E=T+(I<<6&4294967295|I>>>26),I=D+(T^(E|~L))+P[3]+2399980690&4294967295,D=E+(I<<10&4294967295|I>>>22),I=L+(E^(D|~T))+P[10]+4293915773&4294967295,L=D+(I<<15&4294967295|I>>>17),I=T+(D^(L|~E))+P[1]+2240044497&4294967295,T=L+(I<<21&4294967295|I>>>11),I=E+(L^(T|~D))+P[8]+1873313359&4294967295,E=T+(I<<6&4294967295|I>>>26),I=D+(T^(E|~L))+P[15]+4264355552&4294967295,D=E+(I<<10&4294967295|I>>>22),I=L+(E^(D|~T))+P[6]+2734768916&4294967295,L=D+(I<<15&4294967295|I>>>17),I=T+(D^(L|~E))+P[13]+1309151649&4294967295,T=L+(I<<21&4294967295|I>>>11),I=E+(L^(T|~D))+P[4]+4149444226&4294967295,E=T+(I<<6&4294967295|I>>>26),I=D+(T^(E|~L))+P[11]+3174756917&4294967295,D=E+(I<<10&4294967295|I>>>22),I=L+(E^(D|~T))+P[2]+718787259&4294967295,L=D+(I<<15&4294967295|I>>>17),I=T+(D^(L|~E))+P[9]+3951481745&4294967295,N.g[0]=N.g[0]+E&4294967295,N.g[1]=N.g[1]+(L+(I<<21&4294967295|I>>>11))&4294967295,N.g[2]=N.g[2]+L&4294967295,N.g[3]=N.g[3]+D&4294967295}i.prototype.u=function(N,E){E===void 0&&(E=N.length);for(var T=E-this.blockSize,P=this.B,L=this.h,D=0;D<E;){if(L==0)for(;D<=T;)o(this,N,D),D+=this.blockSize;if(typeof N=="string"){for(;D<E;)if(P[L++]=N.charCodeAt(D++),L==this.blockSize){o(this,P),L=0;break}}else for(;D<E;)if(P[L++]=N[D++],L==this.blockSize){o(this,P),L=0;break}}this.h=L,this.o+=E},i.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var E=1;E<N.length-8;++E)N[E]=0;var T=8*this.o;for(E=N.length-8;E<N.length;++E)N[E]=T&255,T/=256;for(this.u(N),N=Array(16),E=T=0;4>E;++E)for(var P=0;32>P;P+=8)N[T++]=this.g[E]>>>P&255;return N};function c(N,E){var T=m;return Object.prototype.hasOwnProperty.call(T,N)?T[N]:T[N]=E(N)}function d(N,E){this.h=E;for(var T=[],P=!0,L=N.length-1;0<=L;L--){var D=N[L]|0;P&&D==E||(T[L]=D,P=!1)}this.g=T}var m={};function p(N){return-128<=N&&128>N?c(N,function(E){return new d([E|0],0>E?-1:0)}):new d([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return j;if(0>N)return U(y(-N));for(var E=[],T=1,P=0;N>=T;P++)E[P]=N/T|0,T*=4294967296;return new d(E,0)}function x(N,E){if(N.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(N.charAt(0)=="-")return U(x(N.substring(1),E));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=y(Math.pow(E,8)),P=j,L=0;L<N.length;L+=8){var D=Math.min(8,N.length-L),I=parseInt(N.substring(L,L+D),E);8>D?(D=y(Math.pow(E,D)),P=P.j(D).add(y(I))):(P=P.j(T),P=P.add(y(I)))}return P}var j=p(0),w=p(1),k=p(16777216);n=d.prototype,n.m=function(){if($(this))return-U(this).m();for(var N=0,E=1,T=0;T<this.g.length;T++){var P=this.i(T);N+=(0<=P?P:4294967296+P)*E,E*=4294967296}return N},n.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(z(this))return"0";if($(this))return"-"+U(this).toString(N);for(var E=y(Math.pow(N,6)),T=this,P="";;){var L=G(T,E).g;T=H(T,L.j(E));var D=((0<T.g.length?T.g[0]:T.h)>>>0).toString(N);if(T=L,z(T))return D+P;for(;6>D.length;)D="0"+D;P=D+P}},n.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function z(N){if(N.h!=0)return!1;for(var E=0;E<N.g.length;E++)if(N.g[E]!=0)return!1;return!0}function $(N){return N.h==-1}n.l=function(N){return N=H(this,N),$(N)?-1:z(N)?0:1};function U(N){for(var E=N.g.length,T=[],P=0;P<E;P++)T[P]=~N.g[P];return new d(T,~N.h).add(w)}n.abs=function(){return $(this)?U(this):this},n.add=function(N){for(var E=Math.max(this.g.length,N.g.length),T=[],P=0,L=0;L<=E;L++){var D=P+(this.i(L)&65535)+(N.i(L)&65535),I=(D>>>16)+(this.i(L)>>>16)+(N.i(L)>>>16);P=I>>>16,D&=65535,I&=65535,T[L]=I<<16|D}return new d(T,T[T.length-1]&-2147483648?-1:0)};function H(N,E){return N.add(U(E))}n.j=function(N){if(z(this)||z(N))return j;if($(this))return $(N)?U(this).j(U(N)):U(U(this).j(N));if($(N))return U(this.j(U(N)));if(0>this.l(k)&&0>N.l(k))return y(this.m()*N.m());for(var E=this.g.length+N.g.length,T=[],P=0;P<2*E;P++)T[P]=0;for(P=0;P<this.g.length;P++)for(var L=0;L<N.g.length;L++){var D=this.i(P)>>>16,I=this.i(P)&65535,Te=N.i(L)>>>16,Ie=N.i(L)&65535;T[2*P+2*L]+=I*Ie,M(T,2*P+2*L),T[2*P+2*L+1]+=D*Ie,M(T,2*P+2*L+1),T[2*P+2*L+1]+=I*Te,M(T,2*P+2*L+1),T[2*P+2*L+2]+=D*Te,M(T,2*P+2*L+2)}for(P=0;P<E;P++)T[P]=T[2*P+1]<<16|T[2*P];for(P=E;P<2*E;P++)T[P]=0;return new d(T,0)};function M(N,E){for(;(N[E]&65535)!=N[E];)N[E+1]+=N[E]>>>16,N[E]&=65535,E++}function S(N,E){this.g=N,this.h=E}function G(N,E){if(z(E))throw Error("division by zero");if(z(N))return new S(j,j);if($(N))return E=G(U(N),E),new S(U(E.g),U(E.h));if($(E))return E=G(N,U(E)),new S(U(E.g),E.h);if(30<N.g.length){if($(N)||$(E))throw Error("slowDivide_ only works with positive integers.");for(var T=w,P=E;0>=P.l(N);)T=q(T),P=q(P);var L=R(T,1),D=R(P,1);for(P=R(P,2),T=R(T,2);!z(P);){var I=D.add(P);0>=I.l(N)&&(L=L.add(T),D=I),P=R(P,1),T=R(T,1)}return E=H(N,L.j(E)),new S(L,E)}for(L=j;0<=N.l(E);){for(T=Math.max(1,Math.floor(N.m()/E.m())),P=Math.ceil(Math.log(T)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),D=y(T),I=D.j(E);$(I)||0<I.l(N);)T-=P,D=y(T),I=D.j(E);z(D)&&(D=w),L=L.add(D),N=H(N,I)}return new S(L,N)}n.A=function(N){return G(this,N).h},n.and=function(N){for(var E=Math.max(this.g.length,N.g.length),T=[],P=0;P<E;P++)T[P]=this.i(P)&N.i(P);return new d(T,this.h&N.h)},n.or=function(N){for(var E=Math.max(this.g.length,N.g.length),T=[],P=0;P<E;P++)T[P]=this.i(P)|N.i(P);return new d(T,this.h|N.h)},n.xor=function(N){for(var E=Math.max(this.g.length,N.g.length),T=[],P=0;P<E;P++)T[P]=this.i(P)^N.i(P);return new d(T,this.h^N.h)};function q(N){for(var E=N.g.length+1,T=[],P=0;P<E;P++)T[P]=N.i(P)<<1|N.i(P-1)>>>31;return new d(T,N.h)}function R(N,E){var T=E>>5;E%=32;for(var P=N.g.length-T,L=[],D=0;D<P;D++)L[D]=0<E?N.i(D+T)>>>E|N.i(D+T+1)<<32-E:N.i(D+T);return new d(L,N.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,mw=i,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=x,qa=d}).apply(typeof Fb<"u"?Fb:typeof self<"u"?self:typeof window<"u"?window:{});var Fd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pw,Vc,gw,eh,tg,yw,vw,xw;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,v,b){return h==Array.prototype||h==Object.prototype||(h[v]=b.value),h};function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fd=="object"&&Fd];for(var v=0;v<h.length;++v){var b=h[v];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var i=t(this);function o(h,v){if(v)e:{var b=i;h=h.split(".");for(var C=0;C<h.length-1;C++){var W=h[C];if(!(W in b))break e;b=b[W]}h=h[h.length-1],C=b[h],v=v(C),v!=C&&v!=null&&e(b,h,{configurable:!0,writable:!0,value:v})}}function c(h,v){h instanceof String&&(h+="");var b=0,C=!1,W={next:function(){if(!C&&b<h.length){var se=b++;return{value:v(se,h[se]),done:!1}}return C=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}o("Array.prototype.values",function(h){return h||function(){return c(this,function(v,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function p(h){var v=typeof h;return v=v!="object"?v:h?Array.isArray(h)?"array":v:"null",v=="array"||v=="object"&&typeof h.length=="number"}function y(h){var v=typeof h;return v=="object"&&h!=null||v=="function"}function x(h,v,b){return h.call.apply(h.bind,arguments)}function j(h,v,b){if(!h)throw Error();if(2<arguments.length){var C=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,C),h.apply(v,W)}}return function(){return h.apply(v,arguments)}}function w(h,v,b){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:j,w.apply(null,arguments)}function k(h,v){var b=Array.prototype.slice.call(arguments,1);return function(){var C=b.slice();return C.push.apply(C,arguments),h.apply(this,C)}}function z(h,v){function b(){}b.prototype=v.prototype,h.aa=v.prototype,h.prototype=new b,h.prototype.constructor=h,h.Qb=function(C,W,se){for(var Ne=Array(arguments.length-2),at=2;at<arguments.length;at++)Ne[at-2]=arguments[at];return v.prototype[W].apply(C,Ne)}}function $(h){const v=h.length;if(0<v){const b=Array(v);for(let C=0;C<v;C++)b[C]=h[C];return b}return[]}function U(h,v){for(let b=1;b<arguments.length;b++){const C=arguments[b];if(p(C)){const W=h.length||0,se=C.length||0;h.length=W+se;for(let Ne=0;Ne<se;Ne++)h[W+Ne]=C[Ne]}else h.push(C)}}class H{constructor(v,b){this.i=v,this.j=b,this.h=0,this.g=null}get(){let v;return 0<this.h?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function M(h){return/^[\s\xa0]*$/.test(h)}function S(){var h=m.navigator;return h&&(h=h.userAgent)?h:""}function G(h){return G[" "](h),h}G[" "]=function(){};var q=S().indexOf("Gecko")!=-1&&!(S().toLowerCase().indexOf("webkit")!=-1&&S().indexOf("Edge")==-1)&&!(S().indexOf("Trident")!=-1||S().indexOf("MSIE")!=-1)&&S().indexOf("Edge")==-1;function R(h,v,b){for(const C in h)v.call(b,h[C],C,h)}function N(h,v){for(const b in h)v.call(void 0,h[b],b,h)}function E(h){const v={};for(const b in h)v[b]=h[b];return v}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(h,v){let b,C;for(let W=1;W<arguments.length;W++){C=arguments[W];for(b in C)h[b]=C[b];for(let se=0;se<T.length;se++)b=T[se],Object.prototype.hasOwnProperty.call(C,b)&&(h[b]=C[b])}}function L(h){var v=1;h=h.split(":");const b=[];for(;0<v&&h.length;)b.push(h.shift()),v--;return h.length&&b.push(h.join(":")),b}function D(h){m.setTimeout(()=>{throw h},0)}function I(){var h=me;let v=null;return h.g&&(v=h.g,h.g=h.g.next,h.g||(h.h=null),v.next=null),v}class Te{constructor(){this.h=this.g=null}add(v,b){const C=Ie.get();C.set(v,b),this.h?this.h.next=C:this.g=C,this.h=C}}var Ie=new H(()=>new Z,h=>h.reset());class Z{constructor(){this.next=this.g=this.h=null}set(v,b){this.h=v,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let re,ye=!1,me=new Te,O=()=>{const h=m.Promise.resolve(void 0);re=()=>{h.then(K)}};var K=()=>{for(var h;h=I();){try{h.h.call(h.g)}catch(b){D(b)}var v=Ie;v.j(h),100>v.h&&(v.h++,h.next=v.g,v.g=h)}ye=!1};function ce(){this.s=this.s,this.C=this.C}ce.prototype.s=!1,ce.prototype.ma=function(){this.s||(this.s=!0,this.N())},ce.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(h,v){this.type=h,this.g=this.target=v,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var ae=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var h=!1,v=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const b=()=>{};m.addEventListener("test",b,v),m.removeEventListener("test",b,v)}catch{}return h}();function je(h,v){if(le.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var b=this.type=h.type,C=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=v,v=h.relatedTarget){if(q){e:{try{G(v.nodeName);var W=!0;break e}catch{}W=!1}W||(v=null)}}else b=="mouseover"?v=h.fromElement:b=="mouseout"&&(v=h.toElement);this.relatedTarget=v,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:be[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&je.aa.h.call(this)}}z(je,le);var be={2:"touch",3:"pen",4:"mouse"};je.prototype.h=function(){je.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var Ce="closure_listenable_"+(1e6*Math.random()|0),Oe=0;function Be(h,v,b,C,W){this.listener=h,this.proxy=null,this.src=v,this.type=b,this.capture=!!C,this.ha=W,this.key=++Oe,this.da=this.fa=!1}function Dt(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Tt(h){this.src=h,this.g={},this.h=0}Tt.prototype.add=function(h,v,b,C,W){var se=h.toString();h=this.g[se],h||(h=this.g[se]=[],this.h++);var Ne=Ot(h,v,C,W);return-1<Ne?(v=h[Ne],b||(v.fa=!1)):(v=new Be(v,this.src,se,!!C,W),v.fa=b,h.push(v)),v};function Ft(h,v){var b=v.type;if(b in h.g){var C=h.g[b],W=Array.prototype.indexOf.call(C,v,void 0),se;(se=0<=W)&&Array.prototype.splice.call(C,W,1),se&&(Dt(v),h.g[b].length==0&&(delete h.g[b],h.h--))}}function Ot(h,v,b,C){for(var W=0;W<h.length;++W){var se=h[W];if(!se.da&&se.listener==v&&se.capture==!!b&&se.ha==C)return W}return-1}var Ge="closure_lm_"+(1e6*Math.random()|0),ve={};function st(h,v,b,C,W){if(Array.isArray(v)){for(var se=0;se<v.length;se++)st(h,v[se],b,C,W);return null}return b=we(b),h&&h[Ce]?h.K(v,b,y(C)?!!C.capture:!1,W):_e(h,v,b,!1,C,W)}function _e(h,v,b,C,W,se){if(!v)throw Error("Invalid event type");var Ne=y(W)?!!W.capture:!!W,at=X(h);if(at||(h[Ge]=at=new Tt(h)),b=at.add(v,b,C,Ne,se),b.proxy)return b;if(C=gt(),b.proxy=C,C.src=h,C.listener=b,h.addEventListener)ae||(W=Ne),W===void 0&&(W=!1),h.addEventListener(v.toString(),C,W);else if(h.attachEvent)h.attachEvent(ge(v.toString()),C);else if(h.addListener&&h.removeListener)h.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return b}function gt(){function h(b){return v.call(h.src,h.listener,b)}const v=V;return h}function tt(h,v,b,C,W){if(Array.isArray(v))for(var se=0;se<v.length;se++)tt(h,v[se],b,C,W);else C=y(C)?!!C.capture:!!C,b=we(b),h&&h[Ce]?(h=h.i,v=String(v).toString(),v in h.g&&(se=h.g[v],b=Ot(se,b,C,W),-1<b&&(Dt(se[b]),Array.prototype.splice.call(se,b,1),se.length==0&&(delete h.g[v],h.h--)))):h&&(h=X(h))&&(v=h.g[v.toString()],h=-1,v&&(h=Ot(v,b,C,W)),(b=-1<h?v[h]:null)&&Ue(b))}function Ue(h){if(typeof h!="number"&&h&&!h.da){var v=h.src;if(v&&v[Ce])Ft(v.i,h);else{var b=h.type,C=h.proxy;v.removeEventListener?v.removeEventListener(b,C,h.capture):v.detachEvent?v.detachEvent(ge(b),C):v.addListener&&v.removeListener&&v.removeListener(C),(b=X(v))?(Ft(b,h),b.h==0&&(b.src=null,v[Ge]=null)):Dt(h)}}}function ge(h){return h in ve?ve[h]:ve[h]="on"+h}function V(h,v){if(h.da)h=!0;else{v=new je(v,this);var b=h.listener,C=h.ha||h.src;h.fa&&Ue(h),h=b.call(C,v)}return h}function X(h){return h=h[Ge],h instanceof Tt?h:null}var ie="__closure_events_fn_"+(1e9*Math.random()>>>0);function we(h){return typeof h=="function"?h:(h[ie]||(h[ie]=function(v){return h.handleEvent(v)}),h[ie])}function pe(){ce.call(this),this.i=new Tt(this),this.M=this,this.F=null}z(pe,ce),pe.prototype[Ce]=!0,pe.prototype.removeEventListener=function(h,v,b,C){tt(this,h,v,b,C)};function oe(h,v){var b,C=h.F;if(C)for(b=[];C;C=C.F)b.push(C);if(h=h.M,C=v.type||v,typeof v=="string")v=new le(v,h);else if(v instanceof le)v.target=v.target||h;else{var W=v;v=new le(C,h),P(v,W)}if(W=!0,b)for(var se=b.length-1;0<=se;se--){var Ne=v.g=b[se];W=Ee(Ne,C,!0,v)&&W}if(Ne=v.g=h,W=Ee(Ne,C,!0,v)&&W,W=Ee(Ne,C,!1,v)&&W,b)for(se=0;se<b.length;se++)Ne=v.g=b[se],W=Ee(Ne,C,!1,v)&&W}pe.prototype.N=function(){if(pe.aa.N.call(this),this.i){var h=this.i,v;for(v in h.g){for(var b=h.g[v],C=0;C<b.length;C++)Dt(b[C]);delete h.g[v],h.h--}}this.F=null},pe.prototype.K=function(h,v,b,C){return this.i.add(String(h),v,!1,b,C)},pe.prototype.L=function(h,v,b,C){return this.i.add(String(h),v,!0,b,C)};function Ee(h,v,b,C){if(v=h.i.g[String(v)],!v)return!0;v=v.concat();for(var W=!0,se=0;se<v.length;++se){var Ne=v[se];if(Ne&&!Ne.da&&Ne.capture==b){var at=Ne.listener,cn=Ne.ha||Ne.src;Ne.fa&&Ft(h.i,Ne),W=at.call(cn,C)!==!1&&W}}return W&&!C.defaultPrevented}function Ve(h,v,b){if(typeof h=="function")b&&(h=w(h,b));else if(h&&typeof h.handleEvent=="function")h=w(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(v)?-1:m.setTimeout(h,v||0)}function ft(h){h.g=Ve(()=>{h.g=null,h.i&&(h.i=!1,ft(h))},h.l);const v=h.h;h.h=null,h.m.apply(null,v)}class At extends ce{constructor(v,b){super(),this.m=v,this.l=b,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:ft(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ws(h){ce.call(this),this.h=h,this.g={}}z(ws,ce);var Or=[];function Vr(h){R(h.g,function(v,b){this.g.hasOwnProperty(b)&&Ue(v)},h),h.g={}}ws.prototype.N=function(){ws.aa.N.call(this),Vr(this)},ws.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var nr=m.JSON.stringify,js=m.JSON.parse,Ns=class{stringify(h){return m.JSON.stringify(h,void 0)}parse(h){return m.JSON.parse(h,void 0)}};function ui(){}ui.prototype.h=null;function jl(h){return h.h||(h.h=h.i())}function Nl(){}var Es={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ts(){le.call(this,"d")}z(Ts,le);function El(){le.call(this,"c")}z(El,le);var $r={},Tl=null;function di(){return Tl=Tl||new pe}$r.La="serverreachability";function so(h){le.call(this,$r.La,h)}z(so,le);function hi(h){const v=di();oe(v,new so(v))}$r.STAT_EVENT="statevent";function xu(h,v){le.call(this,$r.STAT_EVENT,h),this.stat=v}z(xu,le);function Vt(h){const v=di();oe(v,new xu(v,h))}$r.Ma="timingevent";function ln(h,v){le.call(this,$r.Ma,h),this.size=v}z(ln,le);function Jt(h,v){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){h()},v)}function pr(){this.g=!0}pr.prototype.xa=function(){this.g=!1};function Al(h,v,b,C,W,se){h.info(function(){if(h.g)if(se)for(var Ne="",at=se.split("&"),cn=0;cn<at.length;cn++){var ot=at[cn].split("=");if(1<ot.length){var pn=ot[0];ot=ot[1];var un=pn.split("_");Ne=2<=un.length&&un[1]=="type"?Ne+(pn+"="+ot+"&"):Ne+(pn+"=redacted&")}}else Ne=null;else Ne=se;return"XMLHTTP REQ ("+C+") [attempt "+W+"]: "+v+`
`+b+`
`+Ne})}function pf(h,v,b,C,W,se,Ne){h.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+W+"]: "+v+`
`+b+`
`+se+" "+Ne})}function fi(h,v,b,C){h.info(function(){return"XMLHTTP TEXT ("+v+"): "+aa(h,b)+(C?" "+C:"")})}function bu(h,v){h.info(function(){return"TIMEOUT: "+v})}pr.prototype.info=function(){};function aa(h,v){if(!h.g)return v;if(!v)return null;try{var b=JSON.parse(v);if(b){for(h=0;h<b.length;h++)if(Array.isArray(b[h])){var C=b[h];if(!(2>C.length)){var W=C[1];if(Array.isArray(W)&&!(1>W.length)){var se=W[0];if(se!="noop"&&se!="stop"&&se!="close")for(var Ne=1;Ne<W.length;Ne++)W[Ne]=""}}}}return nr(b)}catch{return v}}var mi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},As={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Kr;function Qr(){}z(Qr,ui),Qr.prototype.g=function(){return new XMLHttpRequest},Qr.prototype.i=function(){return{}},Kr=new Qr;function Un(h,v,b,C){this.j=h,this.i=v,this.l=b,this.R=C||1,this.U=new ws(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new $t}function $t(){this.i=null,this.g="",this.h=!1}var Sl={},io={};function Mr(h,v,b){h.L=1,h.v=da(rr(v)),h.m=b,h.P=!0,Ss(h,null)}function Ss(h,v){h.F=Date.now(),oa(h),h.A=rr(h.v);var b=h.A,C=h.R;Array.isArray(C)||(C=[String(C)]),Ol(b.i,"t",C),h.C=0,b=h.j.J,h.h=new $t,h.g=Mu(h.j,b?v:null,!h.m),0<h.O&&(h.M=new At(w(h.Y,h,h.g),h.O)),v=h.U,b=h.g,C=h.ca;var W="readystatechange";Array.isArray(W)||(W&&(Or[0]=W.toString()),W=Or);for(var se=0;se<W.length;se++){var Ne=st(b,W[se],C||v.handleEvent,!1,v.h||v);if(!Ne)break;v.g[Ne.key]=Ne}v=h.H?E(h.H):{},h.m?(h.u||(h.u="POST"),v["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,v)):(h.u="GET",h.g.ea(h.A,h.u,null,v)),hi(),Al(h.i,h.u,h.A,h.l,h.R,h.m)}Un.prototype.ca=function(h){h=h.target;const v=this.M;v&&xr(h)==3?v.j():this.Y(h)},Un.prototype.Y=function(h){try{if(h==this.g)e:{const un=xr(this.g);var v=this.g.Ba();const Ms=this.g.Z();if(!(3>un)&&(un!=3||this.g&&(this.h.h||this.g.oa()||Su(this.g)))){this.J||un!=4||v==7||(v==8||0>=Ms?hi(3):hi(2)),pi(this);var b=this.g.Z();this.X=b;t:if(_u(this)){var C=Su(this.g);h="";var W=C.length,se=xr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){bn(this),Yr(this);var Ne="";break t}this.h.i=new m.TextDecoder}for(v=0;v<W;v++)this.h.h=!0,h+=this.h.i.decode(C[v],{stream:!(se&&v==W-1)});C.length=0,this.h.g+=h,this.C=0,Ne=this.h.g}else Ne=this.g.oa();if(this.o=b==200,pf(this.i,this.u,this.A,this.l,this.R,un,b),this.o){if(this.T&&!this.K){t:{if(this.g){var at,cn=this.g;if((at=cn.g?cn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!M(at)){var ot=at;break t}}ot=null}if(b=ot)fi(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,la(this,b);else{this.o=!1,this.s=3,Vt(12),bn(this),Yr(this);break e}}if(this.P){b=!0;let _n;for(;!this.J&&this.C<Ne.length;)if(_n=wu(this,Ne),_n==io){un==4&&(this.s=4,Vt(14),b=!1),fi(this.i,this.l,null,"[Incomplete Response]");break}else if(_n==Sl){this.s=4,Vt(15),fi(this.i,this.l,Ne,"[Invalid Chunk]"),b=!1;break}else fi(this.i,this.l,_n,null),la(this,_n);if(_u(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),un!=4||Ne.length!=0||this.h.h||(this.s=1,Vt(16),b=!1),this.o=this.o&&b,!b)fi(this.i,this.l,Ne,"[Invalid Chunked Response]"),bn(this),Yr(this);else if(0<Ne.length&&!this.W){this.W=!0;var pn=this.j;pn.g==this&&pn.ba&&!pn.M&&(pn.j.info("Great, no buffering proxy detected. Bytes received: "+Ne.length),xa(pn),pn.M=!0,Vt(11))}}else fi(this.i,this.l,Ne,null),la(this,Ne);un==4&&bn(this),this.o&&!this.J&&(un==4?Du(this.j,this):(this.o=!1,oa(this)))}else bf(this.g),b==400&&0<Ne.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),bn(this),Yr(this)}}}catch{}finally{}};function _u(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function wu(h,v){var b=h.C,C=v.indexOf(`
`,b);return C==-1?io:(b=Number(v.substring(b,C)),isNaN(b)?Sl:(C+=1,C+b>v.length?io:(v=v.slice(C,C+b),h.C=C+b,v)))}Un.prototype.cancel=function(){this.J=!0,bn(this)};function oa(h){h.S=Date.now()+h.I,ju(h,h.I)}function ju(h,v){if(h.B!=null)throw Error("WatchDog timer not null");h.B=Jt(w(h.ba,h),v)}function pi(h){h.B&&(m.clearTimeout(h.B),h.B=null)}Un.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(bu(this.i,this.A),this.L!=2&&(hi(),Vt(17)),bn(this),this.s=2,Yr(this)):ju(this,this.S-h)};function Yr(h){h.j.G==0||h.J||Du(h.j,h)}function bn(h){pi(h);var v=h.M;v&&typeof v.ma=="function"&&v.ma(),h.M=null,Vr(h.U),h.g&&(v=h.g,h.g=null,v.abort(),v.ma())}function la(h,v){try{var b=h.j;if(b.G!=0&&(b.g==h||Rl(b.h,h))){if(!h.K&&Rl(b.h,h)&&b.G==3){try{var C=b.Da.g.parse(v)}catch{C=null}if(Array.isArray(C)&&C.length==3){var W=C;if(W[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<h.F)vo(b),go(b);else break e;Ul(b),Vt(18)}}else b.za=W[1],0<b.za-b.T&&37500>W[2]&&b.F&&b.v==0&&!b.C&&(b.C=Jt(w(b.Za,b),6e3));if(1>=oo(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else Vs(b,11)}else if((h.K||b.g==h)&&vo(b),!M(v))for(W=b.Da.g.parse(v),v=0;v<W.length;v++){let ot=W[v];if(b.T=ot[0],ot=ot[1],b.G==2)if(ot[0]=="c"){b.K=ot[1],b.ia=ot[2];const pn=ot[3];pn!=null&&(b.la=pn,b.j.info("VER="+b.la));const un=ot[4];un!=null&&(b.Aa=un,b.j.info("SVER="+b.Aa));const Ms=ot[5];Ms!=null&&typeof Ms=="number"&&0<Ms&&(C=1.5*Ms,b.L=C,b.j.info("backChannelRequestTimeoutMs_="+C)),C=b;const _n=h.g;if(_n){const ns=_n.g?_n.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ns){var se=C.h;se.g||ns.indexOf("spdy")==-1&&ns.indexOf("quic")==-1&&ns.indexOf("h2")==-1||(se.j=se.l,se.g=new Set,se.h&&(lo(se,se.h),se.h=null))}if(C.D){const Fl=_n.g?_n.g.getResponseHeader("X-HTTP-Session-Id"):null;Fl&&(C.ya=Fl,_t(C.I,C.D,Fl))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-h.F,b.j.info("Handshake RTT: "+b.R+"ms")),C=b;var Ne=h;if(C.qa=Vu(C,C.J?C.ia:null,C.W),Ne.K){zn(C.h,Ne);var at=Ne,cn=C.L;cn&&(at.I=cn),at.B&&(pi(at),oa(at)),C.g=Ne}else Cu(C);0<b.i.length&&yo(b)}else ot[0]!="stop"&&ot[0]!="close"||Vs(b,7);else b.G==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?Vs(b,7):Pl(b):ot[0]!="noop"&&b.l&&b.l.ta(ot),b.v=0)}}hi(4)}catch{}}var Nu=class{constructor(h,v){this.g=h,this.map=v}};function Rs(h){this.l=h||10,m.PerformanceNavigationTiming?(h=m.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ao(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function oo(h){return h.h?1:h.g?h.g.size:0}function Rl(h,v){return h.h?h.h==v:h.g?h.g.has(v):!1}function lo(h,v){h.g?h.g.add(v):h.h=v}function zn(h,v){h.h&&h.h==v?h.h=null:h.g&&h.g.has(v)&&h.g.delete(v)}Rs.prototype.cancel=function(){if(this.i=kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function kl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let v=h.i;for(const b of h.g.values())v=v.concat(b.D);return v}return $(h.i)}function gf(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(p(h)){for(var v=[],b=h.length,C=0;C<b;C++)v.push(h[C]);return v}v=[],b=0;for(C in h)v[b++]=h[C];return v}function co(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(p(h)||typeof h=="string"){var v=[];h=h.length;for(var b=0;b<h;b++)v.push(b);return v}v=[],b=0;for(const C in h)v[b++]=C;return v}}}function Cl(h,v){if(h.forEach&&typeof h.forEach=="function")h.forEach(v,void 0);else if(p(h)||typeof h=="string")Array.prototype.forEach.call(h,v,void 0);else for(var b=co(h),C=gf(h),W=C.length,se=0;se<W;se++)v.call(void 0,C[se],b&&b[se],h)}var ca=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yf(h,v){if(h){h=h.split("&");for(var b=0;b<h.length;b++){var C=h[b].indexOf("="),W=null;if(0<=C){var se=h[b].substring(0,C);W=h[b].substring(C+1)}else se=h[b];v(se,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Zt(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Zt){this.h=h.h,ua(this,h.j),this.o=h.o,this.g=h.g,gi(this,h.s),this.l=h.l;var v=h.i,b=new Cs;b.i=v.i,v.g&&(b.g=new Map(v.g),b.h=v.h),ks(this,b),this.m=h.m}else h&&(v=String(h).match(ca))?(this.h=!1,ua(this,v[1]||"",!0),this.o=gr(v[2]||""),this.g=gr(v[3]||"",!0),gi(this,v[4]),this.l=gr(v[5]||"",!0),ks(this,v[6]||"",!0),this.m=gr(v[7]||"")):(this.h=!1,this.i=new Cs(null,this.h))}Zt.prototype.toString=function(){var h=[],v=this.j;v&&h.push(ha(v,Il,!0),":");var b=this.g;return(b||v=="file")&&(h.push("//"),(v=this.o)&&h.push(ha(v,Il,!0),"@"),h.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&h.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&h.push("/"),h.push(ha(b,b.charAt(0)=="/"?vf:Dl,!0))),(b=this.i.toString())&&h.push("?",b),(b=this.m)&&h.push("#",ha(b,uo)),h.join("")};function rr(h){return new Zt(h)}function ua(h,v,b){h.j=b?gr(v,!0):v,h.j&&(h.j=h.j.replace(/:$/,""))}function gi(h,v){if(v){if(v=Number(v),isNaN(v)||0>v)throw Error("Bad port number "+v);h.s=v}else h.s=null}function ks(h,v,b){v instanceof Cs?(h.i=v,Tu(h.i,h.h)):(b||(v=ha(v,xf)),h.i=new Cs(v,h.h))}function _t(h,v,b){h.i.set(v,b)}function da(h){return _t(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function gr(h,v){return h?v?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function ha(h,v,b){return typeof h=="string"?(h=encodeURI(h).replace(v,Eu),b&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function Eu(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Il=/[#\/\?@]/g,Dl=/[#\?:]/g,vf=/[#\?]/g,xf=/[#\?@]/g,uo=/#/g;function Cs(h,v){this.h=this.g=null,this.i=h||null,this.j=!!v}function yr(h){h.g||(h.g=new Map,h.h=0,h.i&&yf(h.i,function(v,b){h.add(decodeURIComponent(v.replace(/\+/g," ")),b)}))}n=Cs.prototype,n.add=function(h,v){yr(this),this.i=null,h=Wr(this,h);var b=this.g.get(h);return b||this.g.set(h,b=[]),b.push(v),this.h+=1,this};function Is(h,v){yr(h),v=Wr(h,v),h.g.has(v)&&(h.i=null,h.h-=h.g.get(v).length,h.g.delete(v))}function Ds(h,v){return yr(h),v=Wr(h,v),h.g.has(v)}n.forEach=function(h,v){yr(this),this.g.forEach(function(b,C){b.forEach(function(W){h.call(v,W,C,this)},this)},this)},n.na=function(){yr(this);const h=Array.from(this.g.values()),v=Array.from(this.g.keys()),b=[];for(let C=0;C<v.length;C++){const W=h[C];for(let se=0;se<W.length;se++)b.push(v[C])}return b},n.V=function(h){yr(this);let v=[];if(typeof h=="string")Ds(this,h)&&(v=v.concat(this.g.get(Wr(this,h))));else{h=Array.from(this.g.values());for(let b=0;b<h.length;b++)v=v.concat(h[b])}return v},n.set=function(h,v){return yr(this),this.i=null,h=Wr(this,h),Ds(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[v]),this.h+=1,this},n.get=function(h,v){return h?(h=this.V(h),0<h.length?String(h[0]):v):v};function Ol(h,v,b){Is(h,v),0<b.length&&(h.i=null,h.g.set(Wr(h,v),$(b)),h.h+=b.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],v=Array.from(this.g.keys());for(var b=0;b<v.length;b++){var C=v[b];const se=encodeURIComponent(String(C)),Ne=this.V(C);for(C=0;C<Ne.length;C++){var W=se;Ne[C]!==""&&(W+="="+encodeURIComponent(String(Ne[C]))),h.push(W)}}return this.i=h.join("&")};function Wr(h,v){return v=String(v),h.j&&(v=v.toLowerCase()),v}function Tu(h,v){v&&!h.j&&(yr(h),h.i=null,h.g.forEach(function(b,C){var W=C.toLowerCase();C!=W&&(Is(this,C),Ol(this,W,b))},h)),h.j=v}function fa(h,v){const b=new pr;if(m.Image){const C=new Image;C.onload=k(vr,b,"TestLoadImage: loaded",!0,v,C),C.onerror=k(vr,b,"TestLoadImage: error",!1,v,C),C.onabort=k(vr,b,"TestLoadImage: abort",!1,v,C),C.ontimeout=k(vr,b,"TestLoadImage: timeout",!1,v,C),m.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=h}else v(!1)}function Pr(h,v){const b=new pr,C=new AbortController,W=setTimeout(()=>{C.abort(),vr(b,"TestPingServer: timeout",!1,v)},1e4);fetch(h,{signal:C.signal}).then(se=>{clearTimeout(W),se.ok?vr(b,"TestPingServer: ok",!0,v):vr(b,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),vr(b,"TestPingServer: error",!1,v)})}function vr(h,v,b,C,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),C(b)}catch{}}function ma(){this.g=new Ns}function Xr(h,v,b){const C=b||"";try{Cl(h,function(W,se){let Ne=W;y(W)&&(Ne=nr(W)),v.push(C+se+"="+encodeURIComponent(Ne))})}catch(W){throw v.push(C+"type="+encodeURIComponent("_badmap")),W}}function yi(h){this.l=h.Ub||null,this.j=h.eb||!1}z(yi,ui),yi.prototype.g=function(){return new Os(this.l,this.j)},yi.prototype.i=function(h){return function(){return h}}({});function Os(h,v){pe.call(this),this.D=h,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}z(Os,pe),n=Os.prototype,n.open=function(h,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=v,this.readyState=1,Zr(this)},n.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const v={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(v.body=h),(this.D||m).fetch(new Request(this.A,v)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jr(this)),this.readyState=0},n.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,Zr(this)),this.g&&(this.readyState=3,Zr(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Vl(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Vl(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}n.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var v=h.value?h.value:new Uint8Array(0);(v=this.v.decode(v,{stream:!h.done}))&&(this.response=this.responseText+=v)}h.done?Jr(this):Zr(this),this.readyState==3&&Vl(this)}},n.Ra=function(h){this.g&&(this.response=this.responseText=h,Jr(this))},n.Qa=function(h){this.g&&(this.response=h,Jr(this))},n.ga=function(){this.g&&Jr(this)};function Jr(h){h.readyState=4,h.l=null,h.j=null,h.v=null,Zr(h)}n.setRequestHeader=function(h,v){this.u.append(h,v)},n.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],v=this.h.entries();for(var b=v.next();!b.done;)b=b.value,h.push(b[0]+": "+b[1]),b=v.next();return h.join(`\r
`)};function Zr(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Os.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ml(h){let v="";return R(h,function(b,C){v+=C,v+=":",v+=b,v+=`\r
`}),v}function mn(h,v,b){e:{for(C in b){var C=!1;break e}C=!0}C||(b=Ml(b),typeof h=="string"?b!=null&&encodeURIComponent(String(b)):_t(h,v,b))}function pt(h){pe.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}z(pt,pe);var ho=/^https?$/i,pa=["POST","PUT"];n=pt.prototype,n.Ha=function(h){this.J=h},n.ea=function(h,v,b,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);v=v?v.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Kr.g(),this.v=this.o?jl(this.o):jl(Kr),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(v,String(h),!0),this.B=!1}catch(se){Au(this,se);return}if(h=b||"",b=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var W in C)b.set(W,C[W]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const se of C.keys())b.set(se,C.get(se));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(b.keys()).find(se=>se.toLowerCase()=="content-type"),W=m.FormData&&h instanceof m.FormData,!(0<=Array.prototype.indexOf.call(pa,v,void 0))||C||W||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[se,Ne]of b)this.g.setRequestHeader(se,Ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ga(this),this.u=!0,this.g.send(h),this.u=!1}catch(se){Au(this,se)}};function Au(h,v){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=v,h.m=5,fo(h),es(h)}function fo(h){h.A||(h.A=!0,oe(h,"complete"),oe(h,"error"))}n.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,oe(this,"complete"),oe(this,"abort"),es(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),es(this,!0)),pt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?mo(this):this.bb())},n.bb=function(){mo(this)};function mo(h){if(h.h&&typeof d<"u"&&(!h.v[1]||xr(h)!=4||h.Z()!=2)){if(h.u&&xr(h)==4)Ve(h.Ea,0,h);else if(oe(h,"readystatechange"),xr(h)==4){h.h=!1;try{const Ne=h.Z();e:switch(Ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var b;if(!(b=v)){var C;if(C=Ne===0){var W=String(h.D).match(ca)[1]||null;!W&&m.self&&m.self.location&&(W=m.self.location.protocol.slice(0,-1)),C=!ho.test(W?W.toLowerCase():"")}b=C}if(b)oe(h,"complete"),oe(h,"success");else{h.m=6;try{var se=2<xr(h)?h.g.statusText:""}catch{se=""}h.l=se+" ["+h.Z()+"]",fo(h)}}finally{es(h)}}}}function es(h,v){if(h.g){ga(h);const b=h.g,C=h.v[0]?()=>{}:null;h.g=null,h.v=null,v||oe(h,"ready");try{b.onreadystatechange=C}catch{}}}function ga(h){h.I&&(m.clearTimeout(h.I),h.I=null)}n.isActive=function(){return!!this.g};function xr(h){return h.g?h.g.readyState:0}n.Z=function(){try{return 2<xr(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(h){if(this.g){var v=this.g.responseText;return h&&v.indexOf(h)==0&&(v=v.substring(h.length)),js(v)}};function Su(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function bf(h){const v={};h=(h.g&&2<=xr(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<h.length;C++){if(M(h[C]))continue;var b=L(h[C]);const W=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const se=v[W]||[];v[W]=se,se.push(b)}N(v,function(C){return C.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ya(h,v,b){return b&&b.internalChannelParams&&b.internalChannelParams[h]||v}function po(h){this.Aa=0,this.i=[],this.j=new pr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ya("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ya("baseRetryDelayMs",5e3,h),this.cb=ya("retryDelaySeedMs",1e4,h),this.Wa=ya("forwardChannelMaxRetries",2,h),this.wa=ya("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new Rs(h&&h.concurrentRequestLimit),this.Da=new ma,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=po.prototype,n.la=8,n.G=1,n.connect=function(h,v,b,C){Vt(0),this.W=h,this.H=v||{},b&&C!==void 0&&(this.H.OSID=b,this.H.OAID=C),this.F=this.X,this.I=Vu(this,null,this.W),yo(this)};function Pl(h){if(Ru(h),h.G==3){var v=h.U++,b=rr(h.I);if(_t(b,"SID",h.K),_t(b,"RID",v),_t(b,"TYPE","terminate"),va(h,b),v=new Un(h,h.j,v),v.L=2,v.v=da(rr(b)),b=!1,m.navigator&&m.navigator.sendBeacon)try{b=m.navigator.sendBeacon(v.v.toString(),"")}catch{}!b&&m.Image&&(new Image().src=v.v,b=!0),b||(v.g=Mu(v.j,null),v.g.ea(v.v)),v.F=Date.now(),oa(v)}Ou(h)}function go(h){h.g&&(xa(h),h.g.cancel(),h.g=null)}function Ru(h){go(h),h.u&&(m.clearTimeout(h.u),h.u=null),vo(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&m.clearTimeout(h.s),h.s=null)}function yo(h){if(!ao(h.h)&&!h.s){h.s=!0;var v=h.Ga;re||O(),ye||(re(),ye=!0),me.add(v,h),h.B=0}}function _f(h,v){return oo(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=v.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=Jt(w(h.Ga,h,v),zl(h,h.B)),h.B++,!0)}n.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const W=new Un(this,this.j,h);let se=this.o;if(this.S&&(se?(se=E(se),P(se,this.S)):se=this.S),this.m!==null||this.O||(W.H=se,se=null),this.P)e:{for(var v=0,b=0;b<this.i.length;b++){t:{var C=this.i[b];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(v+=C,4096<v){v=b;break e}if(v===4096||b===this.i.length-1){v=b+1;break e}}v=1e3}else v=1e3;v=ku(this,W,v),b=rr(this.I),_t(b,"RID",h),_t(b,"CVER",22),this.D&&_t(b,"X-HTTP-Session-Id",this.D),va(this,b),se&&(this.O?v="headers="+encodeURIComponent(String(Ml(se)))+"&"+v:this.m&&mn(b,this.m,se)),lo(this.h,W),this.Ua&&_t(b,"TYPE","init"),this.P?(_t(b,"$req",v),_t(b,"SID","null"),W.T=!0,Mr(W,b,null)):Mr(W,b,v),this.G=2}}else this.G==3&&(h?Ll(this,h):this.i.length==0||ao(this.h)||Ll(this))};function Ll(h,v){var b;v?b=v.l:b=h.U++;const C=rr(h.I);_t(C,"SID",h.K),_t(C,"RID",b),_t(C,"AID",h.T),va(h,C),h.m&&h.o&&mn(C,h.m,h.o),b=new Un(h,h.j,b,h.B+1),h.m===null&&(b.H=h.o),v&&(h.i=v.D.concat(h.i)),v=ku(h,b,1e3),b.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),lo(h.h,b),Mr(b,C,v)}function va(h,v){h.H&&R(h.H,function(b,C){_t(v,C,b)}),h.l&&Cl({},function(b,C){_t(v,C,b)})}function ku(h,v,b){b=Math.min(h.i.length,b);var C=h.l?w(h.l.Na,h.l,h):null;e:{var W=h.i;let se=-1;for(;;){const Ne=["count="+b];se==-1?0<b?(se=W[0].g,Ne.push("ofs="+se)):se=0:Ne.push("ofs="+se);let at=!0;for(let cn=0;cn<b;cn++){let ot=W[cn].g;const pn=W[cn].map;if(ot-=se,0>ot)se=Math.max(0,W[cn].g-100),at=!1;else try{Xr(pn,Ne,"req"+ot+"_")}catch{C&&C(pn)}}if(at){C=Ne.join("&");break e}}}return h=h.i.splice(0,b),v.D=h,C}function Cu(h){if(!h.g&&!h.u){h.Y=1;var v=h.Fa;re||O(),ye||(re(),ye=!0),me.add(v,h),h.v=0}}function Ul(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=Jt(w(h.Fa,h),zl(h,h.v)),h.v++,!0)}n.Fa=function(){if(this.u=null,Iu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=Jt(w(this.ab,this),h)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),go(this),Iu(this))};function xa(h){h.A!=null&&(m.clearTimeout(h.A),h.A=null)}function Iu(h){h.g=new Un(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var v=rr(h.qa);_t(v,"RID","rpc"),_t(v,"SID",h.K),_t(v,"AID",h.T),_t(v,"CI",h.F?"0":"1"),!h.F&&h.ja&&_t(v,"TO",h.ja),_t(v,"TYPE","xmlhttp"),va(h,v),h.m&&h.o&&mn(v,h.m,h.o),h.L&&(h.g.I=h.L);var b=h.g;h=h.ia,b.L=1,b.v=da(rr(v)),b.m=null,b.P=!0,Ss(b,h)}n.Za=function(){this.C!=null&&(this.C=null,go(this),Ul(this),Vt(19))};function vo(h){h.C!=null&&(m.clearTimeout(h.C),h.C=null)}function Du(h,v){var b=null;if(h.g==v){vo(h),xa(h),h.g=null;var C=2}else if(Rl(h.h,v))b=v.D,zn(h.h,v),C=1;else return;if(h.G!=0){if(v.o)if(C==1){b=v.m?v.m.length:0,v=Date.now()-v.F;var W=h.B;C=di(),oe(C,new ln(C,b)),yo(h)}else Cu(h);else if(W=v.s,W==3||W==0&&0<v.X||!(C==1&&_f(h,v)||C==2&&Ul(h)))switch(b&&0<b.length&&(v=h.h,v.i=v.i.concat(b)),W){case 1:Vs(h,5);break;case 4:Vs(h,10);break;case 3:Vs(h,6);break;default:Vs(h,2)}}}function zl(h,v){let b=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(b*=2),b*v}function Vs(h,v){if(h.j.info("Error code "+v),v==2){var b=w(h.fb,h),C=h.Xa;const W=!C;C=new Zt(C||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||ua(C,"https"),da(C),W?fa(C.toString(),b):Pr(C.toString(),b)}else Vt(2);h.G=0,h.l&&h.l.sa(v),Ou(h),Ru(h)}n.fb=function(h){h?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function Ou(h){if(h.G=0,h.ka=[],h.l){const v=kl(h.h);(v.length!=0||h.i.length!=0)&&(U(h.ka,v),U(h.ka,h.i),h.h.i.length=0,$(h.i),h.i.length=0),h.l.ra()}}function Vu(h,v,b){var C=b instanceof Zt?rr(b):new Zt(b);if(C.g!="")v&&(C.g=v+"."+C.g),gi(C,C.s);else{var W=m.location;C=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;var se=new Zt(null);C&&ua(se,C),v&&(se.g=v),W&&gi(se,W),b&&(se.l=b),C=se}return b=h.D,v=h.ya,b&&v&&_t(C,b,v),_t(C,"VER",h.la),va(h,C),C}function Mu(h,v,b){if(v&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return v=h.Ca&&!h.pa?new pt(new yi({eb:b})):new pt(h.pa),v.Ha(h.J),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Pu(){}n=Pu.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function xo(){}xo.prototype.g=function(h,v){return new Fn(h,v)};function Fn(h,v){pe.call(this),this.g=new po(v),this.l=h,this.h=v&&v.messageUrlParams||null,h=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(h?h["X-WebChannel-Content-Type"]=v.messageContentType:h={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.va&&(h?h["X-WebChannel-Client-Profile"]=v.va:h={"X-WebChannel-Client-Profile":v.va}),this.g.S=h,(h=v&&v.Sb)&&!M(h)&&(this.g.m=h),this.v=v&&v.supportsCrossDomainXhr||!1,this.u=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!M(v)&&(this.g.D=v,h=this.h,h!==null&&v in h&&(h=this.h,v in h&&delete h[v])),this.j=new ts(this)}z(Fn,pe),Fn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Fn.prototype.close=function(){Pl(this.g)},Fn.prototype.o=function(h){var v=this.g;if(typeof h=="string"){var b={};b.__data__=h,h=b}else this.u&&(b={},b.__data__=nr(h),h=b);v.i.push(new Nu(v.Ya++,h)),v.G==3&&yo(v)},Fn.prototype.N=function(){this.g.l=null,delete this.j,Pl(this.g),delete this.g,Fn.aa.N.call(this)};function Lu(h){Ts.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var v=h.__sm__;if(v){e:{for(const b in v){h=b;break e}h=void 0}(this.i=h)&&(h=this.i,v=v!==null&&h in v?v[h]:void 0),this.data=v}else this.data=h}z(Lu,Ts);function Uu(){El.call(this),this.status=1}z(Uu,El);function ts(h){this.g=h}z(ts,Pu),ts.prototype.ua=function(){oe(this.g,"a")},ts.prototype.ta=function(h){oe(this.g,new Lu(h))},ts.prototype.sa=function(h){oe(this.g,new Uu)},ts.prototype.ra=function(){oe(this.g,"b")},xo.prototype.createWebChannel=xo.prototype.g,Fn.prototype.send=Fn.prototype.o,Fn.prototype.open=Fn.prototype.m,Fn.prototype.close=Fn.prototype.close,xw=function(){return new xo},vw=function(){return di()},yw=$r,tg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},mi.NO_ERROR=0,mi.TIMEOUT=8,mi.HTTP_ERROR=6,eh=mi,As.COMPLETE="complete",gw=As,Nl.EventType=Es,Es.OPEN="a",Es.CLOSE="b",Es.ERROR="c",Es.MESSAGE="d",pe.prototype.listen=pe.prototype.K,Vc=Nl,pt.prototype.listenOnce=pt.prototype.L,pt.prototype.getLastError=pt.prototype.Ka,pt.prototype.getLastErrorCode=pt.prototype.Ba,pt.prototype.getStatus=pt.prototype.Z,pt.prototype.getResponseJson=pt.prototype.Oa,pt.prototype.getResponseText=pt.prototype.oa,pt.prototype.send=pt.prototype.ea,pt.prototype.setWithCredentials=pt.prototype.Ha,pw=pt}).apply(typeof Fd<"u"?Fd:typeof self<"u"?self:typeof window<"u"?window:{});const Bb="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class On{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}On.UNAUTHENTICATED=new On(null),On.GOOGLE_CREDENTIALS=new On("google-credentials-uid"),On.FIRST_PARTY=new On("first-party-uid"),On.MOCK_USER=new On("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xl="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ka=new Dh("@firebase/firestore");function Rc(){return Ka.logLevel}function ke(n,...e){if(Ka.logLevel<=it.DEBUG){const t=e.map(Mg);Ka.debug(`Firestore (${xl}): ${n}`,...t)}}function ii(n,...e){if(Ka.logLevel<=it.ERROR){const t=e.map(Mg);Ka.error(`Firestore (${xl}): ${n}`,...t)}}function al(n,...e){if(Ka.logLevel<=it.WARN){const t=e.map(Mg);Ka.warn(`Firestore (${xl}): ${n}`,...t)}}function Mg(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $e(n="Unexpected state"){const e=`FIRESTORE (${xl}) INTERNAL ASSERTION FAILED: `+n;throw ii(e),new Error(e)}function bt(n,e){n||$e()}function Qe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Se extends Dr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bw{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(On.UNAUTHENTICATED))}shutdown(){}}class xR{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class bR{constructor(e){this.t=e,this.currentUser=On.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){bt(this.o===void 0);let i=this.i;const o=p=>this.i!==i?(i=this.i,t(p)):Promise.resolve();let c=new ni;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new ni,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const p=c;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new ni)}},0),d()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(i=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(bt(typeof i.accessToken=="string"),new bw(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return bt(e===null||typeof e=="string"),new On(e)}}class _R{constructor(e,t,i){this.l=e,this.h=t,this.P=i,this.type="FirstParty",this.user=On.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class wR{constructor(e,t,i){this.l=e,this.h=t,this.P=i}getToken(){return Promise.resolve(new _R(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(On.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class jR{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NR{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){bt(this.o===void 0);const i=c=>{c.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${c.error.message}`);const d=c.token!==this.R;return this.R=c.token,ke("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?t(c.token):Promise.resolve()};this.o=c=>{e.enqueueRetryable(()=>i(c))};const o=c=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=c,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(c=>o(c)),setTimeout(()=>{if(!this.appCheck){const c=this.A.getImmediate({optional:!0});c?o(c):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(bt(typeof t.token=="string"),this.R=t.token,new jR(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ER(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<n;i++)t[i]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _w{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const o=ER(40);for(let c=0;c<o.length;++c)i.length<20&&o[c]<t&&(i+=e.charAt(o[c]%e.length))}return i}}function ht(n,e){return n<e?-1:n>e?1:0}function ol(n,e,t){return n.length===e.length&&n.every((i,o)=>t(i,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Se(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Se(fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Se(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Se(fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*t));return new Ye(t,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ht(this.nanoseconds,e.nanoseconds):ht(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Ke(e)}static min(){return new Ke(new Ye(0,0))}static max(){return new Ke(new Ye(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xc{constructor(e,t,i){t===void 0?t=0:t>e.length&&$e(),i===void 0?i=e.length-t:i>e.length-t&&$e(),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Xc.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Xc?e.forEach(i=>{t.push(i)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let o=0;o<i;o++){const c=e.get(o),d=t.get(o);if(c<d)return-1;if(c>d)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class It extends Xc{construct(e,t,i){return new It(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new Se(fe.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter(o=>o.length>0))}return new It(t)}static emptyPath(){return new It([])}}const TR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Tn extends Xc{construct(e,t,i){return new Tn(e,t,i)}static isValidIdentifier(e){return TR.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Tn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Tn(["__name__"])}static fromServerFormat(e){const t=[];let i="",o=0;const c=()=>{if(i.length===0)throw new Se(fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new Se(fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new Se(fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=p,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(i+=m,o++):(c(),o++)}if(c(),d)throw new Se(fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Tn(t)}static emptyPath(){return new Tn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(It.fromString(e))}static fromName(e){return new Me(It.fromString(e).popFirst(5))}static empty(){return new Me(It.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&It.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return It.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new It(e.slice()))}}function AR(n,e){const t=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,o=Ke.fromTimestamp(i===1e9?new Ye(t+1,0):new Ye(t,i));return new Zi(o,Me.empty(),e)}function SR(n){return new Zi(n.readTime,n.key,-1)}class Zi{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Zi(Ke.min(),Me.empty(),-1)}static max(){return new Zi(Ke.max(),Me.empty(),-1)}}function RR(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Me.comparator(n.documentKey,e.documentKey),t!==0?t:ht(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uu(n){if(n.code!==fe.FAILED_PRECONDITION||n.message!==kR)throw n;ke("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&$e(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new xe((i,o)=>{this.nextCallback=c=>{this.wrapSuccess(e,c).next(i,o)},this.catchCallback=c=>{this.wrapFailure(t,c).next(i,o)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof xe?t:xe.resolve(t)}catch(t){return xe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):xe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):xe.reject(t)}static resolve(e){return new xe((t,i)=>{t(e)})}static reject(e){return new xe((t,i)=>{i(e)})}static waitFor(e){return new xe((t,i)=>{let o=0,c=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++c,d&&c===o&&t()},p=>i(p))}),d=!0,c===o&&t()})}static or(e){let t=xe.resolve(!1);for(const i of e)t=t.next(o=>o?xe.resolve(o):i());return t}static forEach(e,t){const i=[];return e.forEach((o,c)=>{i.push(t.call(this,o,c))}),this.waitFor(i)}static mapArray(e,t){return new xe((i,o)=>{const c=e.length,d=new Array(c);let m=0;for(let p=0;p<c;p++){const y=p;t(e[y]).next(x=>{d[y]=x,++m,m===c&&i(d)},x=>o(x))}})}static doWhile(e,t){return new xe((i,o)=>{const c=()=>{e()===!0?t().next(()=>{c()},o):i()};c()})}}function IR(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function du(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ie(i),this.se=i=>t.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Pg.oe=-1;function Lh(n){return n==null}function gh(n){return n===0&&1/n==-1/0}function DR(n){return typeof n=="number"&&Number.isInteger(n)&&!gh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function no(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ww(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zt{constructor(e,t){this.comparator=e,this.root=t||En.EMPTY}insert(e,t){return new zt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,En.BLACK,null,null))}remove(e){return new zt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,En.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const o=this.comparator(e,i.key);if(o===0)return t+i.left.size;o<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,i)=>(e(t,i),!1))}toString(){const e=[];return this.inorderTraversal((t,i)=>(e.push(`${t}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bd(this.root,e,this.comparator,!0)}}class Bd{constructor(e,t,i,o){this.isReverse=o,this.nodeStack=[];let c=1;for(;!e.isEmpty();)if(c=t?i(e.key,t):1,t&&o&&(c*=-1),c<0)e=this.isReverse?e.left:e.right;else{if(c===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class En{constructor(e,t,i,o,c){this.key=e,this.value=t,this.color=i??En.RED,this.left=o??En.EMPTY,this.right=c??En.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,o,c){return new En(e??this.key,t??this.value,i??this.color,o??this.left,c??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let o=this;const c=i(e,o.key);return o=c<0?o.copy(null,null,null,o.left.insert(e,t,i),null):c===0?o.copy(null,t,null,null,null):o.copy(null,null,null,null,o.right.insert(e,t,i)),o.fixUp()}removeMin(){if(this.left.isEmpty())return En.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,o=this;if(t(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,t),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),t(e,o.key)===0){if(o.right.isEmpty())return En.EMPTY;i=o.right.min(),o=o.copy(i.key,i.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,t))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,En.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,En.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw $e();const e=this.left.check();if(e!==this.right.check())throw $e();return e+(this.isRed()?0:1)}}En.EMPTY=null,En.RED=!0,En.BLACK=!1;En.EMPTY=new class{constructor(){this.size=0}get key(){throw $e()}get value(){throw $e()}get color(){throw $e()}get left(){throw $e()}get right(){throw $e()}copy(e,t,i,o,c){return this}insert(e,t,i){return new En(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.comparator=e,this.data=new zt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,i)=>(e(t),!1))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const o=i.getNext();if(this.comparator(o.key,e[1])>=0)return;t(o.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Hb(this.data.getIterator())}getIteratorFrom(e){return new Hb(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(i=>{t=t.add(i)}),t}isEqual(e){if(!(e instanceof Sn)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=i.getNext().key;if(this.comparator(o,c)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Sn(this.comparator);return t.data=e,t}}class Hb{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.fields=e,e.sort(Tn.comparator)}static empty(){return new hr([])}unionWith(e){let t=new Sn(Tn.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new hr(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ol(this.fields,e.fields,(t,i)=>t.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(o){try{return atob(o)}catch(c){throw typeof DOMException<"u"&&c instanceof DOMException?new jw("Invalid base64 string: "+c):c}}(e);return new Rn(t)}static fromUint8Array(e){const t=function(o){let c="";for(let d=0;d<o.length;++d)c+=String.fromCharCode(o[d]);return c}(e);return new Rn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ht(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rn.EMPTY_BYTE_STRING=new Rn("");const OR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(n){if(bt(!!n),typeof n=="string"){let e=0;const t=OR.exec(n);if(bt(!!t),t[1]){let o=t[1];o=(o+"000000000").substr(0,9),e=Number(o)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Yt(n.seconds),nanos:Yt(n.nanos)}}function Yt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Qa(n){return typeof n=="string"?Rn.fromBase64String(n):Rn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function Ug(n){const e=n.mapValue.fields.__previous_value__;return Lg(e)?Ug(e):e}function Jc(n){const e=ea(n.mapValue.fields.__local_write_time__.timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(e,t,i,o,c,d,m,p,y){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=o,this.ssl=c,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=y}}class Zc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Zc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Zc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qd={mapValue:{}};function Ya(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Lg(n)?4:PR(n)?9007199254740991:MR(n)?10:11:$e()}function ys(n,e){if(n===e)return!0;const t=Ya(n);if(t!==Ya(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Jc(n).isEqual(Jc(e));case 3:return function(o,c){if(typeof o.timestampValue=="string"&&typeof c.timestampValue=="string"&&o.timestampValue.length===c.timestampValue.length)return o.timestampValue===c.timestampValue;const d=ea(o.timestampValue),m=ea(c.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(o,c){return Qa(o.bytesValue).isEqual(Qa(c.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(o,c){return Yt(o.geoPointValue.latitude)===Yt(c.geoPointValue.latitude)&&Yt(o.geoPointValue.longitude)===Yt(c.geoPointValue.longitude)}(n,e);case 2:return function(o,c){if("integerValue"in o&&"integerValue"in c)return Yt(o.integerValue)===Yt(c.integerValue);if("doubleValue"in o&&"doubleValue"in c){const d=Yt(o.doubleValue),m=Yt(c.doubleValue);return d===m?gh(d)===gh(m):isNaN(d)&&isNaN(m)}return!1}(n,e);case 9:return ol(n.arrayValue.values||[],e.arrayValue.values||[],ys);case 10:case 11:return function(o,c){const d=o.mapValue.fields||{},m=c.mapValue.fields||{};if(qb(d)!==qb(m))return!1;for(const p in d)if(d.hasOwnProperty(p)&&(m[p]===void 0||!ys(d[p],m[p])))return!1;return!0}(n,e);default:return $e()}}function eu(n,e){return(n.values||[]).find(t=>ys(t,e))!==void 0}function ll(n,e){if(n===e)return 0;const t=Ya(n),i=Ya(e);if(t!==i)return ht(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return ht(n.booleanValue,e.booleanValue);case 2:return function(c,d){const m=Yt(c.integerValue||c.doubleValue),p=Yt(d.integerValue||d.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(n,e);case 3:return Gb(n.timestampValue,e.timestampValue);case 4:return Gb(Jc(n),Jc(e));case 5:return ht(n.stringValue,e.stringValue);case 6:return function(c,d){const m=Qa(c),p=Qa(d);return m.compareTo(p)}(n.bytesValue,e.bytesValue);case 7:return function(c,d){const m=c.split("/"),p=d.split("/");for(let y=0;y<m.length&&y<p.length;y++){const x=ht(m[y],p[y]);if(x!==0)return x}return ht(m.length,p.length)}(n.referenceValue,e.referenceValue);case 8:return function(c,d){const m=ht(Yt(c.latitude),Yt(d.latitude));return m!==0?m:ht(Yt(c.longitude),Yt(d.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return $b(n.arrayValue,e.arrayValue);case 10:return function(c,d){var m,p,y,x;const j=c.fields||{},w=d.fields||{},k=(m=j.value)===null||m===void 0?void 0:m.arrayValue,z=(p=w.value)===null||p===void 0?void 0:p.arrayValue,$=ht(((y=k==null?void 0:k.values)===null||y===void 0?void 0:y.length)||0,((x=z==null?void 0:z.values)===null||x===void 0?void 0:x.length)||0);return $!==0?$:$b(k,z)}(n.mapValue,e.mapValue);case 11:return function(c,d){if(c===qd.mapValue&&d===qd.mapValue)return 0;if(c===qd.mapValue)return 1;if(d===qd.mapValue)return-1;const m=c.fields||{},p=Object.keys(m),y=d.fields||{},x=Object.keys(y);p.sort(),x.sort();for(let j=0;j<p.length&&j<x.length;++j){const w=ht(p[j],x[j]);if(w!==0)return w;const k=ll(m[p[j]],y[x[j]]);if(k!==0)return k}return ht(p.length,x.length)}(n.mapValue,e.mapValue);default:throw $e()}}function Gb(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return ht(n,e);const t=ea(n),i=ea(e),o=ht(t.seconds,i.seconds);return o!==0?o:ht(t.nanos,i.nanos)}function $b(n,e){const t=n.values||[],i=e.values||[];for(let o=0;o<t.length&&o<i.length;++o){const c=ll(t[o],i[o]);if(c)return c}return ht(t.length,i.length)}function cl(n){return ng(n)}function ng(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const i=ea(t);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Qa(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Me.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let i="[",o=!0;for(const c of t.values||[])o?o=!1:i+=",",i+=ng(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(t){const i=Object.keys(t.fields||{}).sort();let o="{",c=!0;for(const d of i)c?c=!1:o+=",",o+=`${d}:${ng(t.fields[d])}`;return o+"}"}(n.mapValue):$e()}function Kb(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function rg(n){return!!n&&"integerValue"in n}function zg(n){return!!n&&"arrayValue"in n}function Qb(n){return!!n&&"nullValue"in n}function Yb(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function th(n){return!!n&&"mapValue"in n}function MR(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function zc(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return no(n.mapValue.fields,(t,i)=>e.mapValue.fields[t]=zc(i)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=zc(n.arrayValue.values[t]);return e}return Object.assign({},n)}function PR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(e){this.value=e}static empty(){return new Wn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!th(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zc(t)}setAll(e){let t=Tn.emptyPath(),i={},o=[];e.forEach((d,m)=>{if(!t.isImmediateParentOf(m)){const p=this.getFieldsMap(t);this.applyChanges(p,i,o),i={},o=[],t=m.popLast()}d?i[m.lastSegment()]=zc(d):o.push(m.lastSegment())});const c=this.getFieldsMap(t);this.applyChanges(c,i,o)}delete(e){const t=this.field(e.popLast());th(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return ys(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let o=t.mapValue.fields[e.get(i)];th(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=o),t=o}return t.mapValue.fields}applyChanges(e,t,i){no(t,(o,c)=>e[o]=c);for(const o of i)delete e[o]}clone(){return new Wn(zc(this.value))}}function Nw(n){const e=[];return no(n.fields,(t,i)=>{const o=new Tn([t]);if(th(i)){const c=Nw(i.mapValue).fields;if(c.length===0)e.push(o);else for(const d of c)e.push(o.child(d))}else e.push(o)}),new hr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,t,i,o,c,d,m){this.key=e,this.documentType=t,this.version=i,this.readTime=o,this.createTime=c,this.data=d,this.documentState=m}static newInvalidDocument(e){return new Vn(e,0,Ke.min(),Ke.min(),Ke.min(),Wn.empty(),0)}static newFoundDocument(e,t,i,o){return new Vn(e,1,t,Ke.min(),i,o,0)}static newNoDocument(e,t){return new Vn(e,2,t,Ke.min(),Ke.min(),Wn.empty(),0)}static newUnknownDocument(e,t){return new Vn(e,3,t,Ke.min(),Ke.min(),Wn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Vn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Vn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,t){this.position=e,this.inclusive=t}}function Wb(n,e,t){let i=0;for(let o=0;o<n.position.length;o++){const c=e[o],d=n.position[o];if(c.field.isKeyField()?i=Me.comparator(Me.fromName(d.referenceValue),t.key):i=ll(d,t.data.field(c.field)),c.dir==="desc"&&(i*=-1),i!==0)break}return i}function Xb(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!ys(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,t="asc"){this.field=e,this.dir=t}}function LR(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{}class on extends Ew{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new zR(e,t,i):t==="array-contains"?new qR(e,i):t==="in"?new HR(e,i):t==="not-in"?new GR(e,i):t==="array-contains-any"?new $R(e,i):new on(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new FR(e,i):new BR(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(ll(t,this.value)):t!==null&&Ya(this.value)===Ya(t)&&this.matchesComparison(ll(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return $e()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Gr extends Ew{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Gr(e,t)}matches(e){return Tw(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Tw(n){return n.op==="and"}function Aw(n){return UR(n)&&Tw(n)}function UR(n){for(const e of n.filters)if(e instanceof Gr)return!1;return!0}function sg(n){if(n instanceof on)return n.field.canonicalString()+n.op.toString()+cl(n.value);if(Aw(n))return n.filters.map(e=>sg(e)).join(",");{const e=n.filters.map(t=>sg(t)).join(",");return`${n.op}(${e})`}}function Sw(n,e){return n instanceof on?function(i,o){return o instanceof on&&i.op===o.op&&i.field.isEqual(o.field)&&ys(i.value,o.value)}(n,e):n instanceof Gr?function(i,o){return o instanceof Gr&&i.op===o.op&&i.filters.length===o.filters.length?i.filters.reduce((c,d,m)=>c&&Sw(d,o.filters[m]),!0):!1}(n,e):void $e()}function Rw(n){return n instanceof on?function(t){return`${t.field.canonicalString()} ${t.op} ${cl(t.value)}`}(n):n instanceof Gr?function(t){return t.op.toString()+" {"+t.getFilters().map(Rw).join(" ,")+"}"}(n):"Filter"}class zR extends on{constructor(e,t,i){super(e,t,i),this.key=Me.fromName(i.referenceValue)}matches(e){const t=Me.comparator(e.key,this.key);return this.matchesComparison(t)}}class FR extends on{constructor(e,t){super(e,"in",t),this.keys=kw("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class BR extends on{constructor(e,t){super(e,"not-in",t),this.keys=kw("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function kw(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(i=>Me.fromName(i.referenceValue))}class qR extends on{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return zg(t)&&eu(t.arrayValue,this.value)}}class HR extends on{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&eu(this.value.arrayValue,t)}}class GR extends on{constructor(e,t){super(e,"not-in",t)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!eu(this.value.arrayValue,t)}}class $R extends on{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!zg(t)||!t.arrayValue.values)&&t.arrayValue.values.some(i=>eu(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(e,t=null,i=[],o=[],c=null,d=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=o,this.limit=c,this.startAt=d,this.endAt=m,this.ue=null}}function Jb(n,e=null,t=[],i=[],o=null,c=null,d=null){return new KR(n,e,t,i,o,c,d)}function Fg(n){const e=Qe(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(i=>sg(i)).join(","),t+="|ob:",t+=e.orderBy.map(i=>function(c){return c.field.canonicalString()+c.dir}(i)).join(","),Lh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(i=>cl(i)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(i=>cl(i)).join(",")),e.ue=t}return e.ue}function Bg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!LR(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Sw(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Xb(n.startAt,e.startAt)&&Xb(n.endAt,e.endAt)}function ig(n){return Me.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,t=null,i=[],o=[],c=null,d="F",m=null,p=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=o,this.limit=c,this.limitType=d,this.startAt=m,this.endAt=p,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function QR(n,e,t,i,o,c,d,m){return new bl(n,e,t,i,o,c,d,m)}function Uh(n){return new bl(n)}function Zb(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Cw(n){return n.collectionGroup!==null}function Fc(n){const e=Qe(n);if(e.ce===null){e.ce=[];const t=new Set;for(const c of e.explicitOrderBy)e.ce.push(c),t.add(c.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Sn(Tn.comparator);return d.filters.forEach(p=>{p.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(c=>{t.has(c.canonicalString())||c.isKeyField()||e.ce.push(new tu(c,i))}),t.has(Tn.keyField().canonicalString())||e.ce.push(new tu(Tn.keyField(),i))}return e.ce}function ps(n){const e=Qe(n);return e.le||(e.le=YR(e,Fc(n))),e.le}function YR(n,e){if(n.limitType==="F")return Jb(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(o=>{const c=o.dir==="desc"?"asc":"desc";return new tu(o.field,c)});const t=n.endAt?new yh(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new yh(n.startAt.position,n.startAt.inclusive):null;return Jb(n.path,n.collectionGroup,e,n.filters,n.limit,t,i)}}function ag(n,e){const t=n.filters.concat([e]);return new bl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function vh(n,e,t){return new bl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function zh(n,e){return Bg(ps(n),ps(e))&&n.limitType===e.limitType}function Iw(n){return`${Fg(ps(n))}|lt:${n.limitType}`}function Yo(n){return`Query(target=${function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map(o=>Rw(o)).join(", ")}]`),Lh(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(o=>cl(o)).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(o=>cl(o)).join(",")),`Target(${i})`}(ps(n))}; limitType=${n.limitType})`}function Fh(n,e){return e.isFoundDocument()&&function(i,o){const c=o.key.path;return i.collectionGroup!==null?o.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(c):Me.isDocumentKey(i.path)?i.path.isEqual(c):i.path.isImmediateParentOf(c)}(n,e)&&function(i,o){for(const c of Fc(i))if(!c.field.isKeyField()&&o.data.field(c.field)===null)return!1;return!0}(n,e)&&function(i,o){for(const c of i.filters)if(!c.matches(o))return!1;return!0}(n,e)&&function(i,o){return!(i.startAt&&!function(d,m,p){const y=Wb(d,m,p);return d.inclusive?y<=0:y<0}(i.startAt,Fc(i),o)||i.endAt&&!function(d,m,p){const y=Wb(d,m,p);return d.inclusive?y>=0:y>0}(i.endAt,Fc(i),o))}(n,e)}function WR(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Dw(n){return(e,t)=>{let i=!1;for(const o of Fc(n)){const c=XR(o,e,t);if(c!==0)return c;i=i||o.field.isKeyField()}return 0}}function XR(n,e,t){const i=n.field.isKeyField()?Me.comparator(e.key,t.key):function(c,d,m){const p=d.data.field(c),y=m.data.field(c);return p!==null&&y!==null?ll(p,y):$e()}(n.field,e,t);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return $e()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[o,c]of i)if(this.equalsFn(o,e))return c}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),o=this.inner[i];if(o===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let c=0;c<o.length;c++)if(this.equalsFn(o[c][0],e))return void(o[c]=[e,t]);o.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return i.length===1?delete this.inner[t]:i.splice(o,1),this.innerSize--,!0;return!1}forEach(e){no(this.inner,(t,i)=>{for(const[o,c]of i)e(o,c)})}isEmpty(){return ww(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=new zt(Me.comparator);function ai(){return JR}const Ow=new zt(Me.comparator);function Mc(...n){let e=Ow;for(const t of n)e=e.insert(t.key,t);return e}function Vw(n){let e=Ow;return n.forEach((t,i)=>e=e.insert(t,i.overlayedDocument)),e}function Ua(){return Bc()}function Mw(){return Bc()}function Bc(){return new _l(n=>n.toString(),(n,e)=>n.isEqual(e))}const ZR=new zt(Me.comparator),ek=new Sn(Me.comparator);function rt(...n){let e=ek;for(const t of n)e=e.add(t);return e}const tk=new Sn(ht);function nk(){return tk}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gh(e)?"-0":e}}function Pw(n){return{integerValue:""+n}}function rk(n,e){return DR(e)?Pw(e):qg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh{constructor(){this._=void 0}}function sk(n,e,t){return n instanceof nu?function(o,c){const d={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return c&&Lg(c)&&(c=Ug(c)),c&&(d.fields.__previous_value__=c),{mapValue:d}}(t,e):n instanceof ru?Uw(n,e):n instanceof su?zw(n,e):function(o,c){const d=Lw(o,c),m=e1(d)+e1(o.Pe);return rg(d)&&rg(o.Pe)?Pw(m):qg(o.serializer,m)}(n,e)}function ik(n,e,t){return n instanceof ru?Uw(n,e):n instanceof su?zw(n,e):t}function Lw(n,e){return n instanceof xh?function(i){return rg(i)||function(c){return!!c&&"doubleValue"in c}(i)}(e)?e:{integerValue:0}:null}class nu extends Bh{}class ru extends Bh{constructor(e){super(),this.elements=e}}function Uw(n,e){const t=Fw(e);for(const i of n.elements)t.some(o=>ys(o,i))||t.push(i);return{arrayValue:{values:t}}}class su extends Bh{constructor(e){super(),this.elements=e}}function zw(n,e){let t=Fw(e);for(const i of n.elements)t=t.filter(o=>!ys(o,i));return{arrayValue:{values:t}}}class xh extends Bh{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function e1(n){return Yt(n.integerValue||n.doubleValue)}function Fw(n){return zg(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e,t){this.field=e,this.transform=t}}function ok(n,e){return n.field.isEqual(e.field)&&function(i,o){return i instanceof ru&&o instanceof ru||i instanceof su&&o instanceof su?ol(i.elements,o.elements,ys):i instanceof xh&&o instanceof xh?ys(i.Pe,o.Pe):i instanceof nu&&o instanceof nu}(n.transform,e.transform)}class lk{constructor(e,t){this.version=e,this.transformResults=t}}class kr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kr}static exists(e){return new kr(void 0,e)}static updateTime(e){return new kr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class qh{}function Bw(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Hg(n.key,kr.none()):new hu(n.key,n.data,kr.none());{const t=n.data,i=Wn.empty();let o=new Sn(Tn.comparator);for(let c of e.fields)if(!o.has(c)){let d=t.field(c);d===null&&c.length>1&&(c=c.popLast(),d=t.field(c)),d===null?i.delete(c):i.set(c,d),o=o.add(c)}return new ia(n.key,i,new hr(o.toArray()),kr.none())}}function ck(n,e,t){n instanceof hu?function(o,c,d){const m=o.value.clone(),p=n1(o.fieldTransforms,c,d.transformResults);m.setAll(p),c.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(n,e,t):n instanceof ia?function(o,c,d){if(!nh(o.precondition,c))return void c.convertToUnknownDocument(d.version);const m=n1(o.fieldTransforms,c,d.transformResults),p=c.data;p.setAll(qw(o)),p.setAll(m),c.convertToFoundDocument(d.version,p).setHasCommittedMutations()}(n,e,t):function(o,c,d){c.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,t)}function qc(n,e,t,i){return n instanceof hu?function(c,d,m,p){if(!nh(c.precondition,d))return m;const y=c.value.clone(),x=r1(c.fieldTransforms,p,d);return y.setAll(x),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(n,e,t,i):n instanceof ia?function(c,d,m,p){if(!nh(c.precondition,d))return m;const y=r1(c.fieldTransforms,p,d),x=d.data;return x.setAll(qw(c)),x.setAll(y),d.convertToFoundDocument(d.version,x).setHasLocalMutations(),m===null?null:m.unionWith(c.fieldMask.fields).unionWith(c.fieldTransforms.map(j=>j.field))}(n,e,t,i):function(c,d,m){return nh(c.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(n,e,t)}function uk(n,e){let t=null;for(const i of n.fieldTransforms){const o=e.data.field(i.field),c=Lw(i.transform,o||null);c!=null&&(t===null&&(t=Wn.empty()),t.set(i.field,c))}return t||null}function t1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(i,o){return i===void 0&&o===void 0||!(!i||!o)&&ol(i,o,(c,d)=>ok(c,d))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class hu extends qh{constructor(e,t,i,o=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class ia extends qh{constructor(e,t,i,o,c=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=o,this.fieldTransforms=c,this.type=1}getFieldMask(){return this.fieldMask}}function qw(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const i=n.data.field(t);e.set(t,i)}}),e}function n1(n,e,t){const i=new Map;bt(n.length===t.length);for(let o=0;o<t.length;o++){const c=n[o],d=c.transform,m=e.data.field(c.field);i.set(c.field,ik(d,m,t[o]))}return i}function r1(n,e,t){const i=new Map;for(const o of n){const c=o.transform,d=t.data.field(o.field);i.set(o.field,sk(c,d,e))}return i}class Hg extends qh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class dk extends qh{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk{constructor(e,t,i,o){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=o}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let o=0;o<this.mutations.length;o++){const c=this.mutations[o];c.key.isEqual(e.key)&&ck(c,e,i[o])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=qc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=qc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=Mw();return this.mutations.forEach(o=>{const c=e.get(o.key),d=c.overlayedDocument;let m=this.applyToLocalView(d,c.mutatedFields);m=t.has(o.key)?null:m;const p=Bw(d,m);p!==null&&i.set(o.key,p),d.isValidDocument()||d.convertToNoDocument(Ke.min())}),i}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),rt())}isEqual(e){return this.batchId===e.batchId&&ol(this.mutations,e.mutations,(t,i)=>t1(t,i))&&ol(this.baseMutations,e.baseMutations,(t,i)=>t1(t,i))}}class Gg{constructor(e,t,i,o){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=o}static from(e,t,i){bt(e.mutations.length===i.length);let o=function(){return ZR}();const c=e.mutations;for(let d=0;d<c.length;d++)o=o.insert(c[d].key,i[d].version);return new Gg(e,t,i,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fk{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rn,ct;function pk(n){switch(n){default:return $e();case fe.CANCELLED:case fe.UNKNOWN:case fe.DEADLINE_EXCEEDED:case fe.RESOURCE_EXHAUSTED:case fe.INTERNAL:case fe.UNAVAILABLE:case fe.UNAUTHENTICATED:return!1;case fe.INVALID_ARGUMENT:case fe.NOT_FOUND:case fe.ALREADY_EXISTS:case fe.PERMISSION_DENIED:case fe.FAILED_PRECONDITION:case fe.ABORTED:case fe.OUT_OF_RANGE:case fe.UNIMPLEMENTED:case fe.DATA_LOSS:return!0}}function Hw(n){if(n===void 0)return ii("GRPC error has no .code"),fe.UNKNOWN;switch(n){case rn.OK:return fe.OK;case rn.CANCELLED:return fe.CANCELLED;case rn.UNKNOWN:return fe.UNKNOWN;case rn.DEADLINE_EXCEEDED:return fe.DEADLINE_EXCEEDED;case rn.RESOURCE_EXHAUSTED:return fe.RESOURCE_EXHAUSTED;case rn.INTERNAL:return fe.INTERNAL;case rn.UNAVAILABLE:return fe.UNAVAILABLE;case rn.UNAUTHENTICATED:return fe.UNAUTHENTICATED;case rn.INVALID_ARGUMENT:return fe.INVALID_ARGUMENT;case rn.NOT_FOUND:return fe.NOT_FOUND;case rn.ALREADY_EXISTS:return fe.ALREADY_EXISTS;case rn.PERMISSION_DENIED:return fe.PERMISSION_DENIED;case rn.FAILED_PRECONDITION:return fe.FAILED_PRECONDITION;case rn.ABORTED:return fe.ABORTED;case rn.OUT_OF_RANGE:return fe.OUT_OF_RANGE;case rn.UNIMPLEMENTED:return fe.UNIMPLEMENTED;case rn.DATA_LOSS:return fe.DATA_LOSS;default:return $e()}}(ct=rn||(rn={}))[ct.OK=0]="OK",ct[ct.CANCELLED=1]="CANCELLED",ct[ct.UNKNOWN=2]="UNKNOWN",ct[ct.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ct[ct.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ct[ct.NOT_FOUND=5]="NOT_FOUND",ct[ct.ALREADY_EXISTS=6]="ALREADY_EXISTS",ct[ct.PERMISSION_DENIED=7]="PERMISSION_DENIED",ct[ct.UNAUTHENTICATED=16]="UNAUTHENTICATED",ct[ct.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ct[ct.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ct[ct.ABORTED=10]="ABORTED",ct[ct.OUT_OF_RANGE=11]="OUT_OF_RANGE",ct[ct.UNIMPLEMENTED=12]="UNIMPLEMENTED",ct[ct.INTERNAL=13]="INTERNAL",ct[ct.UNAVAILABLE=14]="UNAVAILABLE",ct[ct.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gk(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yk=new qa([4294967295,4294967295],0);function s1(n){const e=gk().encode(n),t=new mw;return t.update(e),new Uint8Array(t.digest())}function i1(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),o=e.getUint32(8,!0),c=e.getUint32(12,!0);return[new qa([t,i],0),new qa([o,c],0)]}class $g{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Pc(`Invalid padding: ${t}`);if(i<0)throw new Pc(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Pc(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Pc(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=qa.fromNumber(this.Ie)}Ee(e,t,i){let o=e.add(t.multiply(qa.fromNumber(i)));return o.compare(yk)===1&&(o=new qa([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=s1(e),[i,o]=i1(t);for(let c=0;c<this.hashCount;c++){const d=this.Ee(i,o,c);if(!this.de(d))return!1}return!0}static create(e,t,i){const o=e%8==0?0:8-e%8,c=new Uint8Array(Math.ceil(e/8)),d=new $g(c,o,t);return i.forEach(m=>d.insert(m)),d}insert(e){if(this.Ie===0)return;const t=s1(e),[i,o]=i1(t);for(let c=0;c<this.hashCount;c++){const d=this.Ee(i,o,c);this.Ae(d)}}Ae(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Pc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hh{constructor(e,t,i,o,c){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=o,this.resolvedLimboDocuments=c}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const o=new Map;return o.set(e,fu.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Hh(Ke.min(),o,new zt(ht),ai(),rt())}}class fu{constructor(e,t,i,o,c){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=o,this.removedDocuments=c}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new fu(i,t,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rh{constructor(e,t,i,o){this.Re=e,this.removedTargetIds=t,this.key=i,this.Ve=o}}class Gw{constructor(e,t){this.targetId=e,this.me=t}}class $w{constructor(e,t,i=Rn.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=o}}class a1{constructor(){this.fe=0,this.ge=l1(),this.pe=Rn.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=rt(),t=rt(),i=rt();return this.ge.forEach((o,c)=>{switch(c){case 0:e=e.add(o);break;case 2:t=t.add(o);break;case 1:i=i.add(o);break;default:$e()}}),new fu(this.pe,this.ye,e,t,i)}Ce(){this.we=!1,this.ge=l1()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,bt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class vk{constructor(e){this.Le=e,this.Be=new Map,this.ke=ai(),this.qe=o1(),this.Qe=new zt(ht)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const i=this.Ge(t);switch(e.state){case 0:this.ze(t)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),i.De(e.resumeToken));break;default:$e()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((i,o)=>{this.ze(o)&&t(o)})}He(e){const t=e.targetId,i=e.me.count,o=this.Je(t);if(o){const c=o.target;if(ig(c))if(i===0){const d=new Me(c.path);this.Ue(t,d,Vn.newNoDocument(d,Ke.min()))}else bt(i===1);else{const d=this.Ye(t);if(d!==i){const m=this.Ze(e),p=m?this.Xe(m,e,d):1;if(p!==0){this.je(t);const y=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,y)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:o=0},hashCount:c=0}=t;let d,m;try{d=Qa(i).toUint8Array()}catch(p){if(p instanceof jw)return al("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new $g(d,o,c)}catch(p){return al(p instanceof Pc?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.Ie===0?null:m}Xe(e,t,i){return t.me.count===i-this.nt(e,t.targetId)?0:2}nt(e,t){const i=this.Le.getRemoteKeysForTarget(t);let o=0;return i.forEach(c=>{const d=this.Le.tt(),m=`projects/${d.projectId}/databases/${d.database}/documents/${c.path.canonicalString()}`;e.mightContain(m)||(this.Ue(t,c,null),o++)}),o}rt(e){const t=new Map;this.Be.forEach((c,d)=>{const m=this.Je(d);if(m){if(c.current&&ig(m.target)){const p=new Me(m.target.path);this.ke.get(p)!==null||this.it(d,p)||this.Ue(d,p,Vn.newNoDocument(p,e))}c.be&&(t.set(d,c.ve()),c.Ce())}});let i=rt();this.qe.forEach((c,d)=>{let m=!0;d.forEachWhile(p=>{const y=this.Je(p);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(i=i.add(c))}),this.ke.forEach((c,d)=>d.setReadTime(e));const o=new Hh(e,t,this.Qe,this.ke,i);return this.ke=ai(),this.qe=o1(),this.Qe=new zt(ht),o}$e(e,t){if(!this.ze(e))return;const i=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,i),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,i){if(!this.ze(e))return;const o=this.Ge(e);this.it(e,t)?o.Fe(t,1):o.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),i&&(this.ke=this.ke.insert(t,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new a1,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Sn(ht),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||ke("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new a1),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function o1(){return new zt(Me.comparator)}function l1(){return new zt(Me.comparator)}const xk={asc:"ASCENDING",desc:"DESCENDING"},bk={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_k={and:"AND",or:"OR"};class wk{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function og(n,e){return n.useProto3Json||Lh(e)?e:{value:e}}function bh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Kw(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function jk(n,e){return bh(n,e.toTimestamp())}function gs(n){return bt(!!n),Ke.fromTimestamp(function(t){const i=ea(t);return new Ye(i.seconds,i.nanos)}(n))}function Kg(n,e){return lg(n,e).canonicalString()}function lg(n,e){const t=function(o){return new It(["projects",o.projectId,"databases",o.database])}(n).child("documents");return e===void 0?t:t.child(e)}function Qw(n){const e=It.fromString(n);return bt(Zw(e)),e}function cg(n,e){return Kg(n.databaseId,e.path)}function Tp(n,e){const t=Qw(e);if(t.get(1)!==n.databaseId.projectId)throw new Se(fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Se(fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Me(Ww(t))}function Yw(n,e){return Kg(n.databaseId,e)}function Nk(n){const e=Qw(n);return e.length===4?It.emptyPath():Ww(e)}function ug(n){return new It(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function Ww(n){return bt(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function c1(n,e,t){return{name:cg(n,e),fields:t.value.mapValue.fields}}function Ek(n,e){let t;if("targetChange"in e){e.targetChange;const i=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:$e()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],c=function(y,x){return y.useProto3Json?(bt(x===void 0||typeof x=="string"),Rn.fromBase64String(x||"")):(bt(x===void 0||x instanceof Buffer||x instanceof Uint8Array),Rn.fromUint8Array(x||new Uint8Array))}(n,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(y){const x=y.code===void 0?fe.UNKNOWN:Hw(y.code);return new Se(x,y.message||"")}(d);t=new $w(i,o,c,m||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const o=Tp(n,i.document.name),c=gs(i.document.updateTime),d=i.document.createTime?gs(i.document.createTime):Ke.min(),m=new Wn({mapValue:{fields:i.document.fields}}),p=Vn.newFoundDocument(o,c,d,m),y=i.targetIds||[],x=i.removedTargetIds||[];t=new rh(y,x,p.key,p)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const o=Tp(n,i.document),c=i.readTime?gs(i.readTime):Ke.min(),d=Vn.newNoDocument(o,c),m=i.removedTargetIds||[];t=new rh([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const o=Tp(n,i.document),c=i.removedTargetIds||[];t=new rh([],c,o,null)}else{if(!("filter"in e))return $e();{e.filter;const i=e.filter;i.targetId;const{count:o=0,unchangedNames:c}=i,d=new mk(o,c),m=i.targetId;t=new Gw(m,d)}}return t}function Tk(n,e){let t;if(e instanceof hu)t={update:c1(n,e.key,e.value)};else if(e instanceof Hg)t={delete:cg(n,e.key)};else if(e instanceof ia)t={update:c1(n,e.key,e.data),updateMask:Vk(e.fieldMask)};else{if(!(e instanceof dk))return $e();t={verify:cg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(i=>function(c,d){const m=d.transform;if(m instanceof nu)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ru)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof su)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof xh)return{fieldPath:d.field.canonicalString(),increment:m.Pe};throw $e()}(0,i))),e.precondition.isNone||(t.currentDocument=function(o,c){return c.updateTime!==void 0?{updateTime:jk(o,c.updateTime)}:c.exists!==void 0?{exists:c.exists}:$e()}(n,e.precondition)),t}function Ak(n,e){return n&&n.length>0?(bt(e!==void 0),n.map(t=>function(o,c){let d=o.updateTime?gs(o.updateTime):gs(c);return d.isEqual(Ke.min())&&(d=gs(c)),new lk(d,o.transformResults||[])}(t,e))):[]}function Sk(n,e){return{documents:[Yw(n,e.path)]}}function Rk(n,e){const t={structuredQuery:{}},i=e.path;let o;e.collectionGroup!==null?(o=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=Yw(n,o);const c=function(y){if(y.length!==0)return Jw(Gr.create(y,"and"))}(e.filters);c&&(t.structuredQuery.where=c);const d=function(y){if(y.length!==0)return y.map(x=>function(w){return{field:Wo(w.field),direction:Ik(w.dir)}}(x))}(e.orderBy);d&&(t.structuredQuery.orderBy=d);const m=og(n,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{_t:t,parent:o}}function kk(n){let e=Nk(n.parent);const t=n.structuredQuery,i=t.from?t.from.length:0;let o=null;if(i>0){bt(i===1);const x=t.from[0];x.allDescendants?o=x.collectionId:e=e.child(x.collectionId)}let c=[];t.where&&(c=function(j){const w=Xw(j);return w instanceof Gr&&Aw(w)?w.getFilters():[w]}(t.where));let d=[];t.orderBy&&(d=function(j){return j.map(w=>function(z){return new tu(Xo(z.field),function(U){switch(U){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(z.direction))}(w))}(t.orderBy));let m=null;t.limit&&(m=function(j){let w;return w=typeof j=="object"?j.value:j,Lh(w)?null:w}(t.limit));let p=null;t.startAt&&(p=function(j){const w=!!j.before,k=j.values||[];return new yh(k,w)}(t.startAt));let y=null;return t.endAt&&(y=function(j){const w=!j.before,k=j.values||[];return new yh(k,w)}(t.endAt)),QR(e,o,d,c,m,"F",p,y)}function Ck(n,e){const t=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return $e()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function Xw(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Xo(t.unaryFilter.field);return on.create(i,"==",{doubleValue:NaN});case"IS_NULL":const o=Xo(t.unaryFilter.field);return on.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const c=Xo(t.unaryFilter.field);return on.create(c,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Xo(t.unaryFilter.field);return on.create(d,"!=",{nullValue:"NULL_VALUE"});default:return $e()}}(n):n.fieldFilter!==void 0?function(t){return on.create(Xo(t.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return $e()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Gr.create(t.compositeFilter.filters.map(i=>Xw(i)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return $e()}}(t.compositeFilter.op))}(n):$e()}function Ik(n){return xk[n]}function Dk(n){return bk[n]}function Ok(n){return _k[n]}function Wo(n){return{fieldPath:n.canonicalString()}}function Xo(n){return Tn.fromServerFormat(n.fieldPath)}function Jw(n){return n instanceof on?function(t){if(t.op==="=="){if(Yb(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NAN"}};if(Qb(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(Yb(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NOT_NAN"}};if(Qb(t.value))return{unaryFilter:{field:Wo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Wo(t.field),op:Dk(t.op),value:t.value}}}(n):n instanceof Gr?function(t){const i=t.getFilters().map(o=>Jw(o));return i.length===1?i[0]:{compositeFilter:{op:Ok(t.op),filters:i}}}(n):$e()}function Vk(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function Zw(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,t,i,o,c=Ke.min(),d=Ke.min(),m=Rn.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=o,this.snapshotVersion=c,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.ct=e}}function Pk(n){const e=kk({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?vh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lk{constructor(){this.un=new Uk}addToCollectionParentIndex(e,t){return this.un.add(t),xe.resolve()}getCollectionParents(e,t){return xe.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return xe.resolve()}deleteFieldIndex(e,t){return xe.resolve()}deleteAllFieldIndexes(e){return xe.resolve()}createTargetIndexes(e,t){return xe.resolve()}getDocumentsMatchingTarget(e,t){return xe.resolve(null)}getIndexType(e,t){return xe.resolve(0)}getFieldIndexes(e,t){return xe.resolve([])}getNextCollectionGroupToUpdate(e){return xe.resolve(null)}getMinOffset(e,t){return xe.resolve(Zi.min())}getMinOffsetFromCollectionGroup(e,t){return xe.resolve(Zi.min())}updateCollectionGroup(e,t,i){return xe.resolve()}updateIndexEntries(e,t){return xe.resolve()}}class Uk{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t]||new Sn(It.comparator),c=!o.has(i);return this.index[t]=o.add(i),c}has(e){const t=e.lastSegment(),i=e.popLast(),o=this.index[t];return o&&o.has(i)}getEntries(e){return(this.index[e]||new Sn(It.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new ul(0)}static kn(){return new ul(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zk{constructor(){this.changes=new _l(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Vn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?xe.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bk{constructor(e,t,i,o){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=o}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next(o=>(i=o,this.remoteDocumentCache.getEntry(e,t))).next(o=>(i!==null&&qc(i.mutation,o,hr.empty(),Ye.now()),o))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.getLocalViewOfDocuments(e,i,rt()).next(()=>i))}getLocalViewOfDocuments(e,t,i=rt()){const o=Ua();return this.populateOverlays(e,o,t).next(()=>this.computeViews(e,t,o,i).next(c=>{let d=Mc();return c.forEach((m,p)=>{d=d.insert(m,p.overlayedDocument)}),d}))}getOverlayedDocuments(e,t){const i=Ua();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,rt()))}populateOverlays(e,t,i){const o=[];return i.forEach(c=>{t.has(c)||o.push(c)}),this.documentOverlayCache.getOverlays(e,o).next(c=>{c.forEach((d,m)=>{t.set(d,m)})})}computeViews(e,t,i,o){let c=ai();const d=Bc(),m=function(){return Bc()}();return t.forEach((p,y)=>{const x=i.get(y.key);o.has(y.key)&&(x===void 0||x.mutation instanceof ia)?c=c.insert(y.key,y):x!==void 0?(d.set(y.key,x.mutation.getFieldMask()),qc(x.mutation,y,x.mutation.getFieldMask(),Ye.now())):d.set(y.key,hr.empty())}),this.recalculateAndSaveOverlays(e,c).next(p=>(p.forEach((y,x)=>d.set(y,x)),t.forEach((y,x)=>{var j;return m.set(y,new Fk(x,(j=d.get(y))!==null&&j!==void 0?j:null))}),m))}recalculateAndSaveOverlays(e,t){const i=Bc();let o=new zt((d,m)=>d-m),c=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(d=>{for(const m of d)m.keys().forEach(p=>{const y=t.get(p);if(y===null)return;let x=i.get(p)||hr.empty();x=m.applyToLocalView(y,x),i.set(p,x);const j=(o.get(m.batchId)||rt()).add(p);o=o.insert(m.batchId,j)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),y=p.key,x=p.value,j=Mw();x.forEach(w=>{if(!c.has(w)){const k=Bw(t.get(w),i.get(w));k!==null&&j.set(w,k),c=c.add(w)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,j))}return xe.waitFor(d)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,t,i,o){return function(d){return Me.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Cw(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,o):this.getDocumentsMatchingCollectionQuery(e,t,i,o)}getNextDocuments(e,t,i,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,o).next(c=>{const d=o-c.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,o-c.size):xe.resolve(Ua());let m=-1,p=c;return d.next(y=>xe.forEach(y,(x,j)=>(m<j.largestBatchId&&(m=j.largestBatchId),c.get(x)?xe.resolve():this.remoteDocumentCache.getEntry(e,x).next(w=>{p=p.insert(x,w)}))).next(()=>this.populateOverlays(e,y,c)).next(()=>this.computeViews(e,p,y,rt())).next(x=>({batchId:m,changes:Vw(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Me(t)).next(i=>{let o=Mc();return i.isFoundDocument()&&(o=o.insert(i.key,i)),o})}getDocumentsMatchingCollectionGroupQuery(e,t,i,o){const c=t.collectionGroup;let d=Mc();return this.indexManager.getCollectionParents(e,c).next(m=>xe.forEach(m,p=>{const y=function(j,w){return new bl(w,null,j.explicitOrderBy.slice(),j.filters.slice(),j.limit,j.limitType,j.startAt,j.endAt)}(t,p.child(c));return this.getDocumentsMatchingCollectionQuery(e,y,i,o).next(x=>{x.forEach((j,w)=>{d=d.insert(j,w)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,t,i,o){let c;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next(d=>(c=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,c,o))).next(d=>{c.forEach((p,y)=>{const x=y.getKey();d.get(x)===null&&(d=d.insert(x,Vn.newInvalidDocument(x)))});let m=Mc();return d.forEach((p,y)=>{const x=c.get(p);x!==void 0&&qc(x.mutation,y,hr.empty(),Ye.now()),Fh(t,y)&&(m=m.insert(p,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qk{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return xe.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(o){return{id:o.id,version:o.version,createTime:gs(o.createTime)}}(t)),xe.resolve()}getNamedQuery(e,t){return xe.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(o){return{name:o.name,query:Pk(o.bundledQuery),readTime:gs(o.readTime)}}(t)),xe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hk{constructor(){this.overlays=new zt(Me.comparator),this.Ir=new Map}getOverlay(e,t){return xe.resolve(this.overlays.get(t))}getOverlays(e,t){const i=Ua();return xe.forEach(t,o=>this.getOverlay(e,o).next(c=>{c!==null&&i.set(o,c)})).next(()=>i)}saveOverlays(e,t,i){return i.forEach((o,c)=>{this.ht(e,t,c)}),xe.resolve()}removeOverlaysForBatchId(e,t,i){const o=this.Ir.get(i);return o!==void 0&&(o.forEach(c=>this.overlays=this.overlays.remove(c)),this.Ir.delete(i)),xe.resolve()}getOverlaysForCollection(e,t,i){const o=Ua(),c=t.length+1,d=new Me(t.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const p=m.getNext().value,y=p.getKey();if(!t.isPrefixOf(y.path))break;y.path.length===c&&p.largestBatchId>i&&o.set(p.getKey(),p)}return xe.resolve(o)}getOverlaysForCollectionGroup(e,t,i,o){let c=new zt((y,x)=>y-x);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===t&&y.largestBatchId>i){let x=c.get(y.largestBatchId);x===null&&(x=Ua(),c=c.insert(y.largestBatchId,x)),x.set(y.getKey(),y)}}const m=Ua(),p=c.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((y,x)=>m.set(y,x)),!(m.size()>=o)););return xe.resolve(m)}ht(e,t,i){const o=this.overlays.get(i.key);if(o!==null){const d=this.Ir.get(o.largestBatchId).delete(i.key);this.Ir.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(i.key,new fk(t,i));let c=this.Ir.get(t);c===void 0&&(c=rt(),this.Ir.set(t,c)),this.Ir.set(t,c.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gk{constructor(){this.sessionToken=Rn.EMPTY_BYTE_STRING}getSessionToken(e){return xe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,xe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(){this.Tr=new Sn(xn.Er),this.dr=new Sn(xn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const i=new xn(e,t);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,t){e.forEach(i=>this.addReference(i,t))}removeReference(e,t){this.Vr(new xn(e,t))}mr(e,t){e.forEach(i=>this.removeReference(i,t))}gr(e){const t=new Me(new It([])),i=new xn(t,e),o=new xn(t,e+1),c=[];return this.dr.forEachInRange([i,o],d=>{this.Vr(d),c.push(d.key)}),c}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Me(new It([])),i=new xn(t,e),o=new xn(t,e+1);let c=rt();return this.dr.forEachInRange([i,o],d=>{c=c.add(d.key)}),c}containsKey(e){const t=new xn(e,0),i=this.Tr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class xn{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Me.comparator(e.key,t.key)||ht(e.wr,t.wr)}static Ar(e,t){return ht(e.wr,t.wr)||Me.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Sn(xn.Er)}checkEmpty(e){return xe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,o){const c=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new hk(c,t,i,o);this.mutationQueue.push(d);for(const m of o)this.br=this.br.add(new xn(m.key,c)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return xe.resolve(d)}lookupMutationBatch(e,t){return xe.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,o=this.vr(i),c=o<0?0:o;return xe.resolve(this.mutationQueue.length>c?this.mutationQueue[c]:null)}getHighestUnacknowledgedBatchId(){return xe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return xe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new xn(t,0),o=new xn(t,Number.POSITIVE_INFINITY),c=[];return this.br.forEachInRange([i,o],d=>{const m=this.Dr(d.wr);c.push(m)}),xe.resolve(c)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new Sn(ht);return t.forEach(o=>{const c=new xn(o,0),d=new xn(o,Number.POSITIVE_INFINITY);this.br.forEachInRange([c,d],m=>{i=i.add(m.wr)})}),xe.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,o=i.length+1;let c=i;Me.isDocumentKey(c)||(c=c.child(""));const d=new xn(new Me(c),0);let m=new Sn(ht);return this.br.forEachWhile(p=>{const y=p.key.path;return!!i.isPrefixOf(y)&&(y.length===o&&(m=m.add(p.wr)),!0)},d),xe.resolve(this.Cr(m))}Cr(e){const t=[];return e.forEach(i=>{const o=this.Dr(i);o!==null&&t.push(o)}),t}removeMutationBatch(e,t){bt(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return xe.forEach(t.mutations,o=>{const c=new xn(o.key,t.batchId);return i=i.delete(c),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,t){const i=new xn(t,0),o=this.br.firstAfterOrEqual(i);return xe.resolve(t.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,xe.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kk{constructor(e){this.Mr=e,this.docs=function(){return new zt(Me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,o=this.docs.get(i),c=o?o.size:0,d=this.Mr(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:d}),this.size+=d-c,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return xe.resolve(i?i.document.mutableCopy():Vn.newInvalidDocument(t))}getEntries(e,t){let i=ai();return t.forEach(o=>{const c=this.docs.get(o);i=i.insert(o,c?c.document.mutableCopy():Vn.newInvalidDocument(o))}),xe.resolve(i)}getDocumentsMatchingQuery(e,t,i,o){let c=ai();const d=t.path,m=new Me(d.child("")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:y,value:{document:x}}=p.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||RR(SR(x),i)<=0||(o.has(x.key)||Fh(t,x))&&(c=c.insert(x.key,x.mutableCopy()))}return xe.resolve(c)}getAllFromCollectionGroup(e,t,i,o){$e()}Or(e,t){return xe.forEach(this.docs,i=>t(i))}newChangeBuffer(e){return new Qk(this)}getSize(e){return xe.resolve(this.size)}}class Qk extends zk{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((i,o)=>{o.isValidDocument()?t.push(this.cr.addEntry(e,o)):this.cr.removeEntry(i)}),xe.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yk{constructor(e){this.persistence=e,this.Nr=new _l(t=>Fg(t),Bg),this.lastRemoteSnapshotVersion=Ke.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Qg,this.targetCount=0,this.kr=ul.Bn()}forEachTarget(e,t){return this.Nr.forEach((i,o)=>t(o)),xe.resolve()}getLastRemoteSnapshotVersion(e){return xe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return xe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),xe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.Lr&&(this.Lr=t),xe.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new ul(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,xe.resolve()}updateTargetData(e,t){return this.Kn(t),xe.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,xe.resolve()}removeTargets(e,t,i){let o=0;const c=[];return this.Nr.forEach((d,m)=>{m.sequenceNumber<=t&&i.get(m.targetId)===null&&(this.Nr.delete(d),c.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),xe.waitFor(c).next(()=>o)}getTargetCount(e){return xe.resolve(this.targetCount)}getTargetData(e,t){const i=this.Nr.get(t)||null;return xe.resolve(i)}addMatchingKeys(e,t,i){return this.Br.Rr(t,i),xe.resolve()}removeMatchingKeys(e,t,i){this.Br.mr(t,i);const o=this.persistence.referenceDelegate,c=[];return o&&t.forEach(d=>{c.push(o.markPotentiallyOrphaned(e,d))}),xe.waitFor(c)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),xe.resolve()}getMatchingKeysForTargetId(e,t){const i=this.Br.yr(t);return xe.resolve(i)}containsKey(e,t){return xe.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,t){this.qr={},this.overlays={},this.Qr=new Pg(0),this.Kr=!1,this.Kr=!0,this.$r=new Gk,this.referenceDelegate=e(this),this.Ur=new Yk(this),this.indexManager=new Lk,this.remoteDocumentCache=function(o){return new Kk(o)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new Mk(t),this.Gr=new qk(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Hk,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this.qr[e.toKey()];return i||(i=new $k(t,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,i){ke("MemoryPersistence","Starting transaction:",e);const o=new Xk(this.Qr.next());return this.referenceDelegate.zr(),i(o).next(c=>this.referenceDelegate.jr(o).next(()=>c)).toPromise().then(c=>(o.raiseOnCommittedEvent(),c))}Hr(e,t){return xe.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,t)))}}class Xk extends CR{constructor(e){super(),this.currentSequenceNumber=e}}class Yg{constructor(e){this.persistence=e,this.Jr=new Qg,this.Yr=null}static Zr(e){return new Yg(e)}get Xr(){if(this.Yr)return this.Yr;throw $e()}addReference(e,t,i){return this.Jr.addReference(i,t),this.Xr.delete(i.toString()),xe.resolve()}removeReference(e,t,i){return this.Jr.removeReference(i,t),this.Xr.add(i.toString()),xe.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),xe.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(o=>this.Xr.add(o.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next(o=>{o.forEach(c=>this.Xr.add(c.toString()))}).next(()=>i.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return xe.forEach(this.Xr,i=>{const o=Me.fromPath(i);return this.ei(e,o).next(c=>{c||t.removeEntry(o,Ke.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(i=>{i?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return xe.or([()=>xe.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,t,i,o){this.targetId=e,this.fromCache=t,this.$i=i,this.Ui=o}static Wi(e,t){let i=rt(),o=rt();for(const c of t.docChanges)switch(c.type){case 0:i=i.add(c.doc.key);break;case 1:o=o.add(c.doc.key)}return new Wg(e,t.fromCache,i,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jk{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zk{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return PT()?8:IR(Pn())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,i,o){const c={result:null};return this.Yi(e,t).next(d=>{c.result=d}).next(()=>{if(!c.result)return this.Zi(e,t,o,i).next(d=>{c.result=d})}).next(()=>{if(c.result)return;const d=new Jk;return this.Xi(e,t,d).next(m=>{if(c.result=m,this.zi)return this.es(e,t,d,m.size)})}).next(()=>c.result)}es(e,t,i,o){return i.documentReadCount<this.ji?(Rc()<=it.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",Yo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),xe.resolve()):(Rc()<=it.DEBUG&&ke("QueryEngine","Query:",Yo(t),"scans",i.documentReadCount,"local documents and returns",o,"documents as results."),i.documentReadCount>this.Hi*o?(Rc()<=it.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",Yo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ps(t))):xe.resolve())}Yi(e,t){if(Zb(t))return xe.resolve(null);let i=ps(t);return this.indexManager.getIndexType(e,i).next(o=>o===0?null:(t.limit!==null&&o===1&&(t=vh(t,null,"F"),i=ps(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next(c=>{const d=rt(...c);return this.Ji.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,i).next(p=>{const y=this.ts(t,m);return this.ns(t,y,d,p.readTime)?this.Yi(e,vh(t,null,"F")):this.rs(e,y,t,p)}))})))}Zi(e,t,i,o){return Zb(t)||o.isEqual(Ke.min())?xe.resolve(null):this.Ji.getDocuments(e,i).next(c=>{const d=this.ts(t,c);return this.ns(t,d,i,o)?xe.resolve(null):(Rc()<=it.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Yo(t)),this.rs(e,d,t,AR(o,-1)).next(m=>m))})}ts(e,t){let i=new Sn(Dw(e));return t.forEach((o,c)=>{Fh(e,c)&&(i=i.add(c))}),i}ns(e,t,i,o){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const c=e.limitType==="F"?t.last():t.first();return!!c&&(c.hasPendingWrites||c.version.compareTo(o)>0)}Xi(e,t,i){return Rc()<=it.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",Yo(t)),this.Ji.getDocumentsMatchingQuery(e,t,Zi.min(),i)}rs(e,t,i,o){return this.Ji.getDocumentsMatchingQuery(e,i,o).next(c=>(t.forEach(d=>{c=c.insert(d.key,d)}),c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eC{constructor(e,t,i,o){this.persistence=e,this.ss=t,this.serializer=o,this.os=new zt(ht),this._s=new _l(c=>Fg(c),Bg),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bk(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function tC(n,e,t,i){return new eC(n,e,t,i)}async function e2(n,e){const t=Qe(n);return await t.persistence.runTransaction("Handle user change","readonly",i=>{let o;return t.mutationQueue.getAllMutationBatches(i).next(c=>(o=c,t.ls(e),t.mutationQueue.getAllMutationBatches(i))).next(c=>{const d=[],m=[];let p=rt();for(const y of o){d.push(y.batchId);for(const x of y.mutations)p=p.add(x.key)}for(const y of c){m.push(y.batchId);for(const x of y.mutations)p=p.add(x.key)}return t.localDocuments.getDocuments(i,p).next(y=>({hs:y,removedBatchIds:d,addedBatchIds:m}))})})}function nC(n,e){const t=Qe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const o=e.batch.keys(),c=t.cs.newChangeBuffer({trackRemovals:!0});return function(m,p,y,x){const j=y.batch,w=j.keys();let k=xe.resolve();return w.forEach(z=>{k=k.next(()=>x.getEntry(p,z)).next($=>{const U=y.docVersions.get(z);bt(U!==null),$.version.compareTo(U)<0&&(j.applyToRemoteDocument($,y),$.isValidDocument()&&($.setReadTime(y.commitVersion),x.addEntry($)))})}),k.next(()=>m.mutationQueue.removeMutationBatch(p,j))}(t,i,e,c).next(()=>c.apply(i)).next(()=>t.mutationQueue.performConsistencyCheck(i)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(i,o,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(m){let p=rt();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(p=p.add(m.batch.mutations[y].key));return p}(e))).next(()=>t.localDocuments.getDocuments(i,o))})}function t2(n){const e=Qe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function rC(n,e){const t=Qe(n),i=e.snapshotVersion;let o=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",c=>{const d=t.cs.newChangeBuffer({trackRemovals:!0});o=t.os;const m=[];e.targetChanges.forEach((x,j)=>{const w=o.get(j);if(!w)return;m.push(t.Ur.removeMatchingKeys(c,x.removedDocuments,j).next(()=>t.Ur.addMatchingKeys(c,x.addedDocuments,j)));let k=w.withSequenceNumber(c.currentSequenceNumber);e.targetMismatches.get(j)!==null?k=k.withResumeToken(Rn.EMPTY_BYTE_STRING,Ke.min()).withLastLimboFreeSnapshotVersion(Ke.min()):x.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(x.resumeToken,i)),o=o.insert(j,k),function($,U,H){return $.resumeToken.approximateByteSize()===0||U.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(w,k,x)&&m.push(t.Ur.updateTargetData(c,k))});let p=ai(),y=rt();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(c,x))}),m.push(sC(c,d,e.documentUpdates).next(x=>{p=x.Ps,y=x.Is})),!i.isEqual(Ke.min())){const x=t.Ur.getLastRemoteSnapshotVersion(c).next(j=>t.Ur.setTargetsMetadata(c,c.currentSequenceNumber,i));m.push(x)}return xe.waitFor(m).next(()=>d.apply(c)).next(()=>t.localDocuments.getLocalViewOfDocuments(c,p,y)).next(()=>p)}).then(c=>(t.os=o,c))}function sC(n,e,t){let i=rt(),o=rt();return t.forEach(c=>i=i.add(c)),e.getEntries(n,i).next(c=>{let d=ai();return t.forEach((m,p)=>{const y=c.get(m);p.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(Ke.min())?(e.removeEntry(m,p.readTime),d=d.insert(m,p)):!y.isValidDocument()||p.version.compareTo(y.version)>0||p.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(p),d=d.insert(m,p)):ke("LocalStore","Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",p.version)}),{Ps:d,Is:o}})}function iC(n,e){const t=Qe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function aC(n,e){const t=Qe(n);return t.persistence.runTransaction("Allocate target","readwrite",i=>{let o;return t.Ur.getTargetData(i,e).next(c=>c?(o=c,xe.resolve(o)):t.Ur.allocateTargetId(i).next(d=>(o=new Qi(e,d,"TargetPurposeListen",i.currentSequenceNumber),t.Ur.addTargetData(i,o).next(()=>o))))}).then(i=>{const o=t.os.get(i.targetId);return(o===null||i.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(t.os=t.os.insert(i.targetId,i),t._s.set(e,i.targetId)),i})}async function dg(n,e,t){const i=Qe(n),o=i.os.get(e),c=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",c,d=>i.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!du(d))throw d;ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${d}`)}i.os=i.os.remove(e),i._s.delete(o.target)}function u1(n,e,t){const i=Qe(n);let o=Ke.min(),c=rt();return i.persistence.runTransaction("Execute query","readwrite",d=>function(p,y,x){const j=Qe(p),w=j._s.get(x);return w!==void 0?xe.resolve(j.os.get(w)):j.Ur.getTargetData(y,x)}(i,d,ps(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(d,m.targetId).next(p=>{c=p})}).next(()=>i.ss.getDocumentsMatchingQuery(d,e,t?o:Ke.min(),t?c:rt())).next(m=>(oC(i,WR(e),m),{documents:m,Ts:c})))}function oC(n,e,t){let i=n.us.get(e)||Ke.min();t.forEach((o,c)=>{c.readTime.compareTo(i)>0&&(i=c.readTime)}),n.us.set(e,i)}class d1{constructor(){this.activeTargetIds=nk()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class lC{constructor(){this.so=new d1,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,i){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new d1,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h1{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hd=null;function Ap(){return Hd===null?Hd=function(){return 268435456+Math.round(2147483648*Math.random())}():Hd++,"0x"+Hd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const In="WebChannelConnection";class hC extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),c=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+t.host,this.vo=`projects/${o}/databases/${c}`,this.Co=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${c}`}get Fo(){return!1}Mo(t,i,o,c,d){const m=Ap(),p=this.xo(t,i.toUriEncodedString());ke("RestConnection",`Sending RPC '${t}' ${m}:`,p,o);const y={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(y,c,d),this.No(t,p,y,o).then(x=>(ke("RestConnection",`Received RPC '${t}' ${m}: `,x),x),x=>{throw al("RestConnection",`RPC '${t}' ${m} failed with error: `,x,"url: ",p,"request:",o),x})}Lo(t,i,o,c,d,m){return this.Mo(t,i,o,c,d)}Oo(t,i,o){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xl}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((c,d)=>t[d]=c),o&&o.headers.forEach((c,d)=>t[d]=c)}xo(t,i){const o=uC[t];return`${this.Do}/v1/${i}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,i,o){const c=Ap();return new Promise((d,m)=>{const p=new pw;p.setWithCredentials(!0),p.listenOnce(gw.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case eh.NO_ERROR:const x=p.getResponseJson();ke(In,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(x)),d(x);break;case eh.TIMEOUT:ke(In,`RPC '${e}' ${c} timed out`),m(new Se(fe.DEADLINE_EXCEEDED,"Request time out"));break;case eh.HTTP_ERROR:const j=p.getStatus();if(ke(In,`RPC '${e}' ${c} failed with status:`,j,"response text:",p.getResponseText()),j>0){let w=p.getResponseJson();Array.isArray(w)&&(w=w[0]);const k=w==null?void 0:w.error;if(k&&k.status&&k.message){const z=function(U){const H=U.toLowerCase().replace(/_/g,"-");return Object.values(fe).indexOf(H)>=0?H:fe.UNKNOWN}(k.status);m(new Se(z,k.message))}else m(new Se(fe.UNKNOWN,"Server responded with status "+p.getStatus()))}else m(new Se(fe.UNAVAILABLE,"Connection failed."));break;default:$e()}}finally{ke(In,`RPC '${e}' ${c} completed.`)}});const y=JSON.stringify(o);ke(In,`RPC '${e}' ${c} sending request:`,o),p.send(t,"POST",y,i,15)})}Bo(e,t,i){const o=Ap(),c=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=xw(),m=vw(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(p.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(p.useFetchStreams=!0),this.Oo(p.initMessageHeaders,t,i),p.encodeInitMessageHeaders=!0;const x=c.join("");ke(In,`Creating RPC '${e}' stream ${o}: ${x}`,p);const j=d.createWebChannel(x,p);let w=!1,k=!1;const z=new dC({Io:U=>{k?ke(In,`Not sending because RPC '${e}' stream ${o} is closed:`,U):(w||(ke(In,`Opening RPC '${e}' stream ${o} transport.`),j.open(),w=!0),ke(In,`RPC '${e}' stream ${o} sending:`,U),j.send(U))},To:()=>j.close()}),$=(U,H,M)=>{U.listen(H,S=>{try{M(S)}catch(G){setTimeout(()=>{throw G},0)}})};return $(j,Vc.EventType.OPEN,()=>{k||(ke(In,`RPC '${e}' stream ${o} transport opened.`),z.yo())}),$(j,Vc.EventType.CLOSE,()=>{k||(k=!0,ke(In,`RPC '${e}' stream ${o} transport closed`),z.So())}),$(j,Vc.EventType.ERROR,U=>{k||(k=!0,al(In,`RPC '${e}' stream ${o} transport errored:`,U),z.So(new Se(fe.UNAVAILABLE,"The operation could not be completed")))}),$(j,Vc.EventType.MESSAGE,U=>{var H;if(!k){const M=U.data[0];bt(!!M);const S=M,G=S.error||((H=S[0])===null||H===void 0?void 0:H.error);if(G){ke(In,`RPC '${e}' stream ${o} received error:`,G);const q=G.status;let R=function(T){const P=rn[T];if(P!==void 0)return Hw(P)}(q),N=G.message;R===void 0&&(R=fe.INTERNAL,N="Unknown error status: "+q+" with message "+G.message),k=!0,z.So(new Se(R,N)),j.close()}else ke(In,`RPC '${e}' stream ${o} received:`,M),z.bo(M)}}),$(m,yw.STAT_EVENT,U=>{U.stat===tg.PROXY?ke(In,`RPC '${e}' stream ${o} detected buffering proxy`):U.stat===tg.NOPROXY&&ke(In,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{z.wo()},0),z}}function Sp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gh(n){return new wk(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e,t,i=1e3,o=1.5,c=6e4){this.ui=e,this.timerId=t,this.ko=i,this.qo=o,this.Qo=c,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),o=Math.max(0,t-i);o>0&&ke("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,o,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(e,t,i,o,c,d,m,p){this.ui=e,this.Ho=i,this.Jo=o,this.connection=c,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new n2(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===fe.RESOURCE_EXHAUSTED?(ii(t.toString()),ii("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,o])=>{this.Yo===t&&this.P_(i,o)},i=>{e(()=>{const o=new Se(fe.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(o)})})}P_(e,t){const i=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(o=>{i(()=>this.I_(o))}),this.stream.onMessage(o=>{i(()=>++this.e_==1?this.E_(o):this.onNext(o))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class fC extends r2{constructor(e,t,i,o,c,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,o,d),this.serializer=c}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=Ek(this.serializer,e),i=function(c){if(!("targetChange"in c))return Ke.min();const d=c.targetChange;return d.targetIds&&d.targetIds.length?Ke.min():d.readTime?gs(d.readTime):Ke.min()}(e);return this.listener.d_(t,i)}A_(e){const t={};t.database=ug(this.serializer),t.addTarget=function(c,d){let m;const p=d.target;if(m=ig(p)?{documents:Sk(c,p)}:{query:Rk(c,p)._t},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=Kw(c,d.resumeToken);const y=og(c,d.expectedCount);y!==null&&(m.expectedCount=y)}else if(d.snapshotVersion.compareTo(Ke.min())>0){m.readTime=bh(c,d.snapshotVersion.toTimestamp());const y=og(c,d.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const i=Ck(this.serializer,e);i&&(t.labels=i),this.a_(t)}R_(e){const t={};t.database=ug(this.serializer),t.removeTarget=e,this.a_(t)}}class mC extends r2{constructor(e,t,i,o,c,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,o,d),this.serializer=c}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return bt(!!e.streamToken),this.lastStreamToken=e.streamToken,bt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){bt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=Ak(e.writeResults,e.commitTime),i=gs(e.commitTime);return this.listener.g_(i,t)}p_(){const e={};e.database=ug(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(i=>Tk(this.serializer,i))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pC extends class{}{constructor(e,t,i,o){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=o,this.y_=!1}w_(){if(this.y_)throw new Se(fe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([c,d])=>this.connection.Mo(e,lg(t,i),o,c,d)).catch(c=>{throw c.name==="FirebaseError"?(c.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new Se(fe.UNKNOWN,c.toString())})}Lo(e,t,i,o,c){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Lo(e,lg(t,i),o,d,m,c)).catch(d=>{throw d.name==="FirebaseError"?(d.code===fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new Se(fe.UNKNOWN,d.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class gC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(ii(t),this.D_=!1):ke("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,t,i,o,c){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=c,this.k_._o(d=>{i.enqueueAndForget(async()=>{ro(this)&&(ke("RemoteStore","Restarting streams for network reachability change."),await async function(p){const y=Qe(p);y.L_.add(4),await mu(y),y.q_.set("Unknown"),y.L_.delete(4),await $h(y)}(this))})}),this.q_=new gC(i,o)}}async function $h(n){if(ro(n))for(const e of n.B_)await e(!0)}async function mu(n){for(const e of n.B_)await e(!1)}function s2(n,e){const t=Qe(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),e0(t)?Zg(t):wl(t).r_()&&Jg(t,e))}function Xg(n,e){const t=Qe(n),i=wl(t);t.N_.delete(e),i.r_()&&i2(t,e),t.N_.size===0&&(i.r_()?i.o_():ro(t)&&t.q_.set("Unknown"))}function Jg(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ke.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}wl(n).A_(e)}function i2(n,e){n.Q_.xe(e),wl(n).R_(e)}function Zg(n){n.Q_=new vk({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),wl(n).start(),n.q_.v_()}function e0(n){return ro(n)&&!wl(n).n_()&&n.N_.size>0}function ro(n){return Qe(n).L_.size===0}function a2(n){n.Q_=void 0}async function vC(n){n.q_.set("Online")}async function xC(n){n.N_.forEach((e,t)=>{Jg(n,e)})}async function bC(n,e){a2(n),e0(n)?(n.q_.M_(e),Zg(n)):n.q_.set("Unknown")}async function _C(n,e,t){if(n.q_.set("Online"),e instanceof $w&&e.state===2&&e.cause)try{await async function(o,c){const d=c.cause;for(const m of c.targetIds)o.N_.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.N_.delete(m),o.Q_.removeTarget(m))}(n,e)}catch(i){ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await _h(n,i)}else if(e instanceof rh?n.Q_.Ke(e):e instanceof Gw?n.Q_.He(e):n.Q_.We(e),!t.isEqual(Ke.min()))try{const i=await t2(n.localStore);t.compareTo(i)>=0&&await function(c,d){const m=c.Q_.rt(d);return m.targetChanges.forEach((p,y)=>{if(p.resumeToken.approximateByteSize()>0){const x=c.N_.get(y);x&&c.N_.set(y,x.withResumeToken(p.resumeToken,d))}}),m.targetMismatches.forEach((p,y)=>{const x=c.N_.get(p);if(!x)return;c.N_.set(p,x.withResumeToken(Rn.EMPTY_BYTE_STRING,x.snapshotVersion)),i2(c,p);const j=new Qi(x.target,p,y,x.sequenceNumber);Jg(c,j)}),c.remoteSyncer.applyRemoteEvent(m)}(n,t)}catch(i){ke("RemoteStore","Failed to raise snapshot:",i),await _h(n,i)}}async function _h(n,e,t){if(!du(e))throw e;n.L_.add(1),await mu(n),n.q_.set("Offline"),t||(t=()=>t2(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ke("RemoteStore","Retrying IndexedDB access"),await t(),n.L_.delete(1),await $h(n)})}function o2(n,e){return e().catch(t=>_h(n,t,e))}async function Kh(n){const e=Qe(n),t=ta(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;wC(e);)try{const o=await iC(e.localStore,i);if(o===null){e.O_.length===0&&t.o_();break}i=o.batchId,jC(e,o)}catch(o){await _h(e,o)}l2(e)&&c2(e)}function wC(n){return ro(n)&&n.O_.length<10}function jC(n,e){n.O_.push(e);const t=ta(n);t.r_()&&t.V_&&t.m_(e.mutations)}function l2(n){return ro(n)&&!ta(n).n_()&&n.O_.length>0}function c2(n){ta(n).start()}async function NC(n){ta(n).p_()}async function EC(n){const e=ta(n);for(const t of n.O_)e.m_(t.mutations)}async function TC(n,e,t){const i=n.O_.shift(),o=Gg.from(i,e,t);await o2(n,()=>n.remoteSyncer.applySuccessfulWrite(o)),await Kh(n)}async function AC(n,e){e&&ta(n).V_&&await async function(i,o){if(function(d){return pk(d)&&d!==fe.ABORTED}(o.code)){const c=i.O_.shift();ta(i).s_(),await o2(i,()=>i.remoteSyncer.rejectFailedWrite(c.batchId,o)),await Kh(i)}}(n,e),l2(n)&&c2(n)}async function f1(n,e){const t=Qe(n);t.asyncQueue.verifyOperationInProgress(),ke("RemoteStore","RemoteStore received new credentials");const i=ro(t);t.L_.add(3),await mu(t),i&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await $h(t)}async function SC(n,e){const t=Qe(n);e?(t.L_.delete(2),await $h(t)):e||(t.L_.add(2),await mu(t),t.q_.set("Unknown"))}function wl(n){return n.K_||(n.K_=function(t,i,o){const c=Qe(t);return c.w_(),new fC(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(n.datastore,n.asyncQueue,{Eo:vC.bind(null,n),Ro:xC.bind(null,n),mo:bC.bind(null,n),d_:_C.bind(null,n)}),n.B_.push(async e=>{e?(n.K_.s_(),e0(n)?Zg(n):n.q_.set("Unknown")):(await n.K_.stop(),a2(n))})),n.K_}function ta(n){return n.U_||(n.U_=function(t,i,o){const c=Qe(t);return c.w_(),new mC(i,c.connection,c.authCredentials,c.appCheckCredentials,c.serializer,o)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:NC.bind(null,n),mo:AC.bind(null,n),f_:EC.bind(null,n),g_:TC.bind(null,n)}),n.B_.push(async e=>{e?(n.U_.s_(),await Kh(n)):(await n.U_.stop(),n.O_.length>0&&(ke("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))})),n.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{constructor(e,t,i,o,c){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=o,this.removalCallback=c,this.deferred=new ni,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,o,c){const d=Date.now()+i,m=new t0(e,t,d,o,c);return m.start(i),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Se(fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function n0(n,e){if(ii("AsyncQueue",`${e}: ${n}`),du(n))return new Se(fe.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e){this.comparator=e?(t,i)=>e(t,i)||Me.comparator(t.key,i.key):(t,i)=>Me.comparator(t.key,i.key),this.keyedMap=Mc(),this.sortedSet=new zt(this.comparator)}static emptySet(e){return new rl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,i)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof rl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const o=t.getNext().key,c=i.getNext().key;if(!o.isEqual(c))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new rl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(){this.W_=new zt(Me.comparator)}track(e){const t=e.doc.key,i=this.W_.get(t);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(t,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(t):e.type===1&&i.type===2?this.W_=this.W_.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):$e():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,i)=>{e.push(i)}),e}}class dl{constructor(e,t,i,o,c,d,m,p,y){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=o,this.mutatedKeys=c,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=y}static fromInitialDocuments(e,t,i,o,c){const d=[];return t.forEach(m=>{d.push({type:0,doc:m})}),new dl(e,t,rl.emptySet(t),d,i,o,!0,!1,c)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let o=0;o<t.length;o++)if(t[o].type!==i[o].type||!t[o].doc.isEqual(i[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class kC{constructor(){this.queries=p1(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,i){const o=Qe(t),c=o.queries;o.queries=p1(),c.forEach((d,m)=>{for(const p of m.j_)p.onError(i)})})(this,new Se(fe.ABORTED,"Firestore shutting down"))}}function p1(){return new _l(n=>Iw(n),zh)}async function r0(n,e){const t=Qe(n);let i=3;const o=e.query;let c=t.queries.get(o);c?!c.H_()&&e.J_()&&(i=2):(c=new RC,i=e.J_()?0:1);try{switch(i){case 0:c.z_=await t.onListen(o,!0);break;case 1:c.z_=await t.onListen(o,!1);break;case 2:await t.onFirstRemoteStoreListen(o)}}catch(d){const m=n0(d,`Initialization of query '${Yo(e.query)}' failed`);return void e.onError(m)}t.queries.set(o,c),c.j_.push(e),e.Z_(t.onlineState),c.z_&&e.X_(c.z_)&&i0(t)}async function s0(n,e){const t=Qe(n),i=e.query;let o=3;const c=t.queries.get(i);if(c){const d=c.j_.indexOf(e);d>=0&&(c.j_.splice(d,1),c.j_.length===0?o=e.J_()?0:1:!c.H_()&&e.J_()&&(o=2))}switch(o){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function CC(n,e){const t=Qe(n);let i=!1;for(const o of e){const c=o.query,d=t.queries.get(c);if(d){for(const m of d.j_)m.X_(o)&&(i=!0);d.z_=o}}i&&i0(t)}function IC(n,e,t){const i=Qe(n),o=i.queries.get(e);if(o)for(const c of o.j_)c.onError(t);i.queries.delete(e)}function i0(n){n.Y_.forEach(e=>{e.next()})}var hg,g1;(g1=hg||(hg={})).ea="default",g1.Cache="cache";class a0{constructor(e,t,i){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const o of e.docChanges)o.type!==3&&i.push(o);e=new dl(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const i=t!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=dl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==hg.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u2{constructor(e){this.key=e}}class d2{constructor(e){this.key=e}}class DC{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=rt(),this.mutatedKeys=rt(),this.Aa=Dw(e),this.Ra=new rl(this.Aa)}get Va(){return this.Ta}ma(e,t){const i=t?t.fa:new m1,o=t?t.Ra:this.Ra;let c=t?t.mutatedKeys:this.mutatedKeys,d=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((x,j)=>{const w=o.get(x),k=Fh(this.query,j)?j:null,z=!!w&&this.mutatedKeys.has(w.key),$=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let U=!1;w&&k?w.data.isEqual(k.data)?z!==$&&(i.track({type:3,doc:k}),U=!0):this.ga(w,k)||(i.track({type:2,doc:k}),U=!0,(p&&this.Aa(k,p)>0||y&&this.Aa(k,y)<0)&&(m=!0)):!w&&k?(i.track({type:0,doc:k}),U=!0):w&&!k&&(i.track({type:1,doc:w}),U=!0,(p||y)&&(m=!0)),U&&(k?(d=d.add(k),c=$?c.add(x):c.delete(x)):(d=d.delete(x),c=c.delete(x)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const x=this.query.limitType==="F"?d.last():d.first();d=d.delete(x.key),c=c.delete(x.key),i.track({type:1,doc:x})}return{Ra:d,fa:i,ns:m,mutatedKeys:c}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,o){const c=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const d=e.fa.G_();d.sort((x,j)=>function(k,z){const $=U=>{switch(U){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return $e()}};return $(k)-$(z)}(x.type,j.type)||this.Aa(x.doc,j.doc)),this.pa(i),o=o!=null&&o;const m=t&&!o?this.ya():[],p=this.da.size===0&&this.current&&!o?1:0,y=p!==this.Ea;return this.Ea=p,d.length!==0||y?{snapshot:new dl(this.query,e.Ra,c,d,e.mutatedKeys,p===0,y,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:m}:{wa:m}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new m1,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=rt(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const t=[];return e.forEach(i=>{this.da.has(i)||t.push(new d2(i))}),this.da.forEach(i=>{e.has(i)||t.push(new u2(i))}),t}ba(e){this.Ta=e.Ts,this.da=rt();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return dl.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class OC{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class VC{constructor(e){this.key=e,this.va=!1}}class MC{constructor(e,t,i,o,c,d){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=o,this.currentUser=c,this.maxConcurrentLimboResolutions=d,this.Ca={},this.Fa=new _l(m=>Iw(m),zh),this.Ma=new Map,this.xa=new Set,this.Oa=new zt(Me.comparator),this.Na=new Map,this.La=new Qg,this.Ba={},this.ka=new Map,this.qa=ul.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function PC(n,e,t=!0){const i=y2(n);let o;const c=i.Fa.get(e);return c?(i.sharedClientState.addLocalQueryTarget(c.targetId),o=c.view.Da()):o=await h2(i,e,t,!0),o}async function LC(n,e){const t=y2(n);await h2(t,e,!0,!1)}async function h2(n,e,t,i){const o=await aC(n.localStore,ps(e)),c=o.targetId,d=n.sharedClientState.addLocalQueryTarget(c,t);let m;return i&&(m=await UC(n,e,c,d==="current",o.resumeToken)),n.isPrimaryClient&&t&&s2(n.remoteStore,o),m}async function UC(n,e,t,i,o){n.Ka=(j,w,k)=>async function($,U,H,M){let S=U.view.ma(H);S.ns&&(S=await u1($.localStore,U.query,!1).then(({documents:N})=>U.view.ma(N,S)));const G=M&&M.targetChanges.get(U.targetId),q=M&&M.targetMismatches.get(U.targetId)!=null,R=U.view.applyChanges(S,$.isPrimaryClient,G,q);return v1($,U.targetId,R.wa),R.snapshot}(n,j,w,k);const c=await u1(n.localStore,e,!0),d=new DC(e,c.Ts),m=d.ma(c.documents),p=fu.createSynthesizedTargetChangeForCurrentChange(t,i&&n.onlineState!=="Offline",o),y=d.applyChanges(m,n.isPrimaryClient,p);v1(n,t,y.wa);const x=new OC(e,t,d);return n.Fa.set(e,x),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),y.snapshot}async function zC(n,e,t){const i=Qe(n),o=i.Fa.get(e),c=i.Ma.get(o.targetId);if(c.length>1)return i.Ma.set(o.targetId,c.filter(d=>!zh(d,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(o.targetId),i.sharedClientState.isActiveQueryTarget(o.targetId)||await dg(i.localStore,o.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(o.targetId),t&&Xg(i.remoteStore,o.targetId),fg(i,o.targetId)}).catch(uu)):(fg(i,o.targetId),await dg(i.localStore,o.targetId,!0))}async function FC(n,e){const t=Qe(n),i=t.Fa.get(e),o=t.Ma.get(i.targetId);t.isPrimaryClient&&o.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Xg(t.remoteStore,i.targetId))}async function BC(n,e,t){const i=YC(n);try{const o=await function(d,m){const p=Qe(d),y=Ye.now(),x=m.reduce((k,z)=>k.add(z.key),rt());let j,w;return p.persistence.runTransaction("Locally write mutations","readwrite",k=>{let z=ai(),$=rt();return p.cs.getEntries(k,x).next(U=>{z=U,z.forEach((H,M)=>{M.isValidDocument()||($=$.add(H))})}).next(()=>p.localDocuments.getOverlayedDocuments(k,z)).next(U=>{j=U;const H=[];for(const M of m){const S=uk(M,j.get(M.key).overlayedDocument);S!=null&&H.push(new ia(M.key,S,Nw(S.value.mapValue),kr.exists(!0)))}return p.mutationQueue.addMutationBatch(k,y,H,m)}).next(U=>{w=U;const H=U.applyToLocalDocumentSet(j,$);return p.documentOverlayCache.saveOverlays(k,U.batchId,H)})}).then(()=>({batchId:w.batchId,changes:Vw(j)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(o.batchId),function(d,m,p){let y=d.Ba[d.currentUser.toKey()];y||(y=new zt(ht)),y=y.insert(m,p),d.Ba[d.currentUser.toKey()]=y}(i,o.batchId,t),await pu(i,o.changes),await Kh(i.remoteStore)}catch(o){const c=n0(o,"Failed to persist write");t.reject(c)}}async function f2(n,e){const t=Qe(n);try{const i=await rC(t.localStore,e);e.targetChanges.forEach((o,c)=>{const d=t.Na.get(c);d&&(bt(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?d.va=!0:o.modifiedDocuments.size>0?bt(d.va):o.removedDocuments.size>0&&(bt(d.va),d.va=!1))}),await pu(t,i,e)}catch(i){await uu(i)}}function y1(n,e,t){const i=Qe(n);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const o=[];i.Fa.forEach((c,d)=>{const m=d.view.Z_(e);m.snapshot&&o.push(m.snapshot)}),function(d,m){const p=Qe(d);p.onlineState=m;let y=!1;p.queries.forEach((x,j)=>{for(const w of j.j_)w.Z_(m)&&(y=!0)}),y&&i0(p)}(i.eventManager,e),o.length&&i.Ca.d_(o),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function qC(n,e,t){const i=Qe(n);i.sharedClientState.updateQueryState(e,"rejected",t);const o=i.Na.get(e),c=o&&o.key;if(c){let d=new zt(Me.comparator);d=d.insert(c,Vn.newNoDocument(c,Ke.min()));const m=rt().add(c),p=new Hh(Ke.min(),new Map,new zt(ht),d,m);await f2(i,p),i.Oa=i.Oa.remove(c),i.Na.delete(e),o0(i)}else await dg(i.localStore,e,!1).then(()=>fg(i,e,t)).catch(uu)}async function HC(n,e){const t=Qe(n),i=e.batch.batchId;try{const o=await nC(t.localStore,e);p2(t,i,null),m2(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await pu(t,o)}catch(o){await uu(o)}}async function GC(n,e,t){const i=Qe(n);try{const o=await function(d,m){const p=Qe(d);return p.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let x;return p.mutationQueue.lookupMutationBatch(y,m).next(j=>(bt(j!==null),x=j.keys(),p.mutationQueue.removeMutationBatch(y,j))).next(()=>p.mutationQueue.performConsistencyCheck(y)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(y,x,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,x)).next(()=>p.localDocuments.getDocuments(y,x))})}(i.localStore,e);p2(i,e,t),m2(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await pu(i,o)}catch(o){await uu(o)}}function m2(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function p2(n,e,t){const i=Qe(n);let o=i.Ba[i.currentUser.toKey()];if(o){const c=o.get(e);c&&(t?c.reject(t):c.resolve(),o=o.remove(e)),i.Ba[i.currentUser.toKey()]=o}}function fg(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const i of n.Ma.get(e))n.Fa.delete(i),t&&n.Ca.$a(i,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(i=>{n.La.containsKey(i)||g2(n,i)})}function g2(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);t!==null&&(Xg(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),o0(n))}function v1(n,e,t){for(const i of t)i instanceof u2?(n.La.addReference(i.key,e),$C(n,i)):i instanceof d2?(ke("SyncEngine","Document no longer in limbo: "+i.key),n.La.removeReference(i.key,e),n.La.containsKey(i.key)||g2(n,i.key)):$e()}function $C(n,e){const t=e.key,i=t.path.canonicalString();n.Oa.get(t)||n.xa.has(i)||(ke("SyncEngine","New document in limbo: "+t),n.xa.add(i),o0(n))}function o0(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new Me(It.fromString(e)),i=n.qa.next();n.Na.set(i,new VC(t)),n.Oa=n.Oa.insert(t,i),s2(n.remoteStore,new Qi(ps(Uh(t.path)),i,"TargetPurposeLimboResolution",Pg.oe))}}async function pu(n,e,t){const i=Qe(n),o=[],c=[],d=[];i.Fa.isEmpty()||(i.Fa.forEach((m,p)=>{d.push(i.Ka(p,e,t).then(y=>{var x;if((y||t)&&i.isPrimaryClient){const j=y?!y.fromCache:(x=t==null?void 0:t.targetChanges.get(p.targetId))===null||x===void 0?void 0:x.current;i.sharedClientState.updateQueryState(p.targetId,j?"current":"not-current")}if(y){o.push(y);const j=Wg.Wi(p.targetId,y);c.push(j)}}))}),await Promise.all(d),i.Ca.d_(o),await async function(p,y){const x=Qe(p);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",j=>xe.forEach(y,w=>xe.forEach(w.$i,k=>x.persistence.referenceDelegate.addReference(j,w.targetId,k)).next(()=>xe.forEach(w.Ui,k=>x.persistence.referenceDelegate.removeReference(j,w.targetId,k)))))}catch(j){if(!du(j))throw j;ke("LocalStore","Failed to update sequence numbers: "+j)}for(const j of y){const w=j.targetId;if(!j.fromCache){const k=x.os.get(w),z=k.snapshotVersion,$=k.withLastLimboFreeSnapshotVersion(z);x.os=x.os.insert(w,$)}}}(i.localStore,c))}async function KC(n,e){const t=Qe(n);if(!t.currentUser.isEqual(e)){ke("SyncEngine","User change. New user:",e.toKey());const i=await e2(t.localStore,e);t.currentUser=e,function(c,d){c.ka.forEach(m=>{m.forEach(p=>{p.reject(new Se(fe.CANCELLED,d))})}),c.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await pu(t,i.hs)}}function QC(n,e){const t=Qe(n),i=t.Na.get(e);if(i&&i.va)return rt().add(i.key);{let o=rt();const c=t.Ma.get(e);if(!c)return o;for(const d of c){const m=t.Fa.get(d);o=o.unionWith(m.view.Va)}return o}}function y2(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=f2.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QC.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qC.bind(null,e),e.Ca.d_=CC.bind(null,e.eventManager),e.Ca.$a=IC.bind(null,e.eventManager),e}function YC(n){const e=Qe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=HC.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=GC.bind(null,e),e}class wh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gh(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return tC(this.persistence,new Zk,e.initialUser,this.serializer)}Ga(e){return new Wk(Yg.Zr,this.serializer)}Wa(e){return new lC}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wh.provider={build:()=>new wh};class mg{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>y1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=KC.bind(null,this.syncEngine),await SC(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new kC}()}createDatastore(e){const t=Gh(e.databaseInfo.databaseId),i=function(c){return new hC(c)}(e.databaseInfo);return function(c,d,m,p){return new pC(c,d,m,p)}(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return function(i,o,c,d,m){return new yC(i,o,c,d,m)}(this.localStore,this.datastore,e.asyncQueue,t=>y1(this.syncEngine,t,0),function(){return h1.D()?new h1:new cC}())}createSyncEngine(e,t){return function(o,c,d,m,p,y,x){const j=new MC(o,c,d,m,p,y);return x&&(j.Qa=!0),j}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(o){const c=Qe(o);ke("RemoteStore","RemoteStore shutting down."),c.L_.add(5),await mu(c),c.k_.shutdown(),c.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}mg.provider={build:()=>new mg};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l0{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):ii("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WC{constructor(e,t,i,o,c){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this.databaseInfo=o,this.user=On.UNAUTHENTICATED,this.clientId=_w.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=c,this.authCredentials.start(i,async d=>{ke("FirestoreClient","Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(i,d=>(ke("FirestoreClient","Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ni;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=n0(t,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Rp(n,e){n.asyncQueue.verifyOperationInProgress(),ke("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let i=t.initialUser;n.setCredentialChangeListener(async o=>{i.isEqual(o)||(await e2(e.localStore,o),i=o)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function x1(n,e){n.asyncQueue.verifyOperationInProgress();const t=await XC(n);ke("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(i=>f1(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>f1(e.remoteStore,o)),n._onlineComponents=e}async function XC(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ke("FirestoreClient","Using user provided OfflineComponentProvider");try{await Rp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(o){return o.name==="FirebaseError"?o.code===fe.FAILED_PRECONDITION||o.code===fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(t))throw t;al("Error using user provided cache. Falling back to memory cache: "+t),await Rp(n,new wh)}}else ke("FirestoreClient","Using default OfflineComponentProvider"),await Rp(n,new wh);return n._offlineComponents}async function v2(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ke("FirestoreClient","Using user provided OnlineComponentProvider"),await x1(n,n._uninitializedComponentsProvider._online)):(ke("FirestoreClient","Using default OnlineComponentProvider"),await x1(n,new mg))),n._onlineComponents}function JC(n){return v2(n).then(e=>e.syncEngine)}async function jh(n){const e=await v2(n),t=e.eventManager;return t.onListen=PC.bind(null,e.syncEngine),t.onUnlisten=zC.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=LC.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=FC.bind(null,e.syncEngine),t}function ZC(n,e,t={}){const i=new ni;return n.asyncQueue.enqueueAndForget(async()=>function(c,d,m,p,y){const x=new l0({next:w=>{x.Za(),d.enqueueAndForget(()=>s0(c,j));const k=w.docs.has(m);!k&&w.fromCache?y.reject(new Se(fe.UNAVAILABLE,"Failed to get document because the client is offline.")):k&&w.fromCache&&p&&p.source==="server"?y.reject(new Se(fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):y.resolve(w)},error:w=>y.reject(w)}),j=new a0(Uh(m.path),x,{includeMetadataChanges:!0,_a:!0});return r0(c,j)}(await jh(n),n.asyncQueue,e,t,i)),i.promise}function eI(n,e,t={}){const i=new ni;return n.asyncQueue.enqueueAndForget(async()=>function(c,d,m,p,y){const x=new l0({next:w=>{x.Za(),d.enqueueAndForget(()=>s0(c,j)),w.fromCache&&p.source==="server"?y.reject(new Se(fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):y.resolve(w)},error:w=>y.reject(w)}),j=new a0(m,x,{includeMetadataChanges:!0,_a:!0});return r0(c,j)}(await jh(n),n.asyncQueue,e,t,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x2(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(n,e,t){if(!t)throw new Se(fe.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function tI(n,e,t,i){if(e===!0&&i===!0)throw new Se(fe.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function _1(n){if(!Me.isDocumentKey(n))throw new Se(fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function w1(n){if(Me.isDocumentKey(n))throw new Se(fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Qh(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":$e()}function er(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Se(fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Qh(n);throw new Se(fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function nI(n,e){if(e<=0)throw new Se(fe.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e){var t,i;if(e.host===void 0){if(e.ssl!==void 0)throw new Se(fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Se(fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}tI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=x2((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(c){if(c.timeoutSeconds!==void 0){if(isNaN(c.timeoutSeconds))throw new Se(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (must not be NaN)`);if(c.timeoutSeconds<5)throw new Se(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (minimum allowed value is 5)`);if(c.timeoutSeconds>30)throw new Se(fe.INVALID_ARGUMENT,`invalid long polling timeout: ${c.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,o){return i.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Yh{constructor(e,t,i,o){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new j1({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Se(fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Se(fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new j1(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new vR;switch(i.type){case"firstParty":return new wR(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new Se(fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const i=b1.get(t);i&&(ke("ComponentProvider","Removing Datastore"),b1.delete(t),i.terminate())}(this),Promise.resolve()}}function rI(n,e,t,i={}){var o;const c=(n=er(n,Yh))._getSettings(),d=`${e}:${t}`;if(c.host!=="firestore.googleapis.com"&&c.host!==d&&al("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},c),{host:d,ssl:!1})),i.mockUserToken){let m,p;if(typeof i.mockUserToken=="string")m=i.mockUserToken,p=On.MOCK_USER;else{m=w_(i.mockUserToken,(o=n._app)===null||o===void 0?void 0:o.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new Se(fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new On(y)}n._authCredentials=new xR(new bw(m,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new ci(this.firestore,e,this._query)}}class Mn{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ji(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Mn(this.firestore,e,this._key)}}class Ji extends ci{constructor(e,t,i){super(e,t,Uh(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Mn(this.firestore,null,new Me(e))}withConverter(e){return new Ji(this.firestore,e,this._path)}}function an(n,e,...t){if(n=Rt(n),b2("collection","path",e),n instanceof Yh){const i=It.fromString(e,...t);return w1(i),new Ji(n,null,i)}{if(!(n instanceof Mn||n instanceof Ji))throw new Se(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(It.fromString(e,...t));return w1(i),new Ji(n.firestore,null,i)}}function ut(n,e,...t){if(n=Rt(n),arguments.length===1&&(e=_w.newId()),b2("doc","path",e),n instanceof Yh){const i=It.fromString(e,...t);return _1(i),new Mn(n,null,new Me(i))}{if(!(n instanceof Mn||n instanceof Ji))throw new Se(fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(It.fromString(e,...t));return _1(i),new Mn(n.firestore,n instanceof Ji?n.converter:null,new Me(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new n2(this,"async_queue_retry"),this.Vu=()=>{const i=Sp();i&&ke("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const t=Sp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Sp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new ni;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!du(e))throw e;ke("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;const o=function(d){let m=d.message||"";return d.stack&&(m=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),m}(i);throw ii("INTERNAL UNHANDLED ERROR: ",o),i}).then(i=>(this.du=!1,i))));return this.mu=t,t}enqueueAfterDelay(e,t,i){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const o=t0.createAndSchedule(this,e,t,i,c=>this.yu(c));return this.Tu.push(o),o}fu(){this.Eu&&$e()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,i)=>t.targetTimeMs-i.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function E1(n){return function(t,i){if(typeof t!="object"||t===null)return!1;const o=t;for(const c of i)if(c in o&&typeof o[c]=="function")return!0;return!1}(n,["next","error","complete"])}class oi extends Yh{constructor(e,t,i,o){super(e,t,i,o),this.type="firestore",this._queue=new N1,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new N1(e),this._firestoreClient=void 0,await e}}}function sI(n,e){const t=typeof n=="object"?n:Oh(),i=typeof n=="string"?n:"(default)",o=ra(t,"firestore").getImmediate({identifier:i});if(!o._initialized){const c=x_("firestore");c&&rI(o,...c)}return o}function Wh(n){if(n._terminated)throw new Se(fe.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||iI(n),n._firestoreClient}function iI(n){var e,t,i;const o=n._freezeSettings(),c=function(m,p,y,x){return new VR(m,p,y,x.host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,x2(x.experimentalLongPollingOptions),x.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,o);n._componentsProvider||!((t=o.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((i=o.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(n._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),n._firestoreClient=new WC(n._authCredentials,n._appCheckCredentials,n._queue,c,n._componentsProvider&&function(m){const p=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(p),_online:p}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl{constructor(e){this._byteString=e}static fromBase64String(e){try{return new hl(Rn.fromBase64String(e))}catch(t){throw new Se(fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new hl(Rn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xh{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Se(fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Tn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Se(fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Se(fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ht(this._lat,e._lat)||ht(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,o){if(i.length!==o.length)return!1;for(let c=0;c<i.length;++c)if(i[c]!==o[c])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI=/^__.*__$/;class oI{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new ia(e,this.data,this.fieldMask,t,this.fieldTransforms):new hu(e,this.data,t,this.fieldTransforms)}}class _2{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return new ia(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function w2(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw $e()}}class d0{constructor(e,t,i,o,c,d){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=o,c===void 0&&this.vu(),this.fieldTransforms=c||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new d0(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.Ou(e),o}Nu(e){var t;const i=(t=this.path)===null||t===void 0?void 0:t.child(e),o=this.Fu({path:i,xu:!1});return o.vu(),o}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Nh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(w2(this.Cu)&&aI.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class lI{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||Gh(e)}Qu(e,t,i,o=!1){return new d0({Cu:e,methodName:t,qu:i,path:Tn.emptyPath(),xu:!1,ku:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Zh(n){const e=n._freezeSettings(),t=Gh(n._databaseId);return new lI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function j2(n,e,t,i,o,c={}){const d=n.Qu(c.merge||c.mergeFields?2:0,e,t,o);f0("Data must be an object, but it was:",d,i);const m=N2(i,d);let p,y;if(c.merge)p=new hr(d.fieldMask),y=d.fieldTransforms;else if(c.mergeFields){const x=[];for(const j of c.mergeFields){const w=pg(e,j,t);if(!d.contains(w))throw new Se(fe.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);T2(x,w)||x.push(w)}p=new hr(x),y=d.fieldTransforms.filter(j=>p.covers(j.field))}else p=null,y=d.fieldTransforms;return new oI(new Wn(m),p,y)}class ef extends Jh{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ef}}class h0 extends Jh{_toFieldTransform(e){return new ak(e.path,new nu)}isEqual(e){return e instanceof h0}}function cI(n,e,t,i){const o=n.Qu(1,e,t);f0("Data must be an object, but it was:",o,i);const c=[],d=Wn.empty();no(i,(p,y)=>{const x=m0(e,p,t);y=Rt(y);const j=o.Nu(x);if(y instanceof ef)c.push(x);else{const w=gu(y,j);w!=null&&(c.push(x),d.set(x,w))}});const m=new hr(c);return new _2(d,m,o.fieldTransforms)}function uI(n,e,t,i,o,c){const d=n.Qu(1,e,t),m=[pg(e,i,t)],p=[o];if(c.length%2!=0)throw new Se(fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<c.length;w+=2)m.push(pg(e,c[w])),p.push(c[w+1]);const y=[],x=Wn.empty();for(let w=m.length-1;w>=0;--w)if(!T2(y,m[w])){const k=m[w];let z=p[w];z=Rt(z);const $=d.Nu(k);if(z instanceof ef)y.push(k);else{const U=gu(z,$);U!=null&&(y.push(k),x.set(k,U))}}const j=new hr(y);return new _2(x,j,d.fieldTransforms)}function dI(n,e,t,i=!1){return gu(t,n.Qu(i?4:3,e))}function gu(n,e){if(E2(n=Rt(n)))return f0("Unsupported field value:",e,n),N2(n,e);if(n instanceof Jh)return function(i,o){if(!w2(o.Cu))throw o.Bu(`${i._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Bu(`${i._methodName}() is not currently supported inside arrays`);const c=i._toFieldTransform(o);c&&o.fieldTransforms.push(c)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,o){const c=[];let d=0;for(const m of i){let p=gu(m,o.Lu(d));p==null&&(p={nullValue:"NULL_VALUE"}),c.push(p),d++}return{arrayValue:{values:c}}}(n,e)}return function(i,o){if((i=Rt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return rk(o.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const c=Ye.fromDate(i);return{timestampValue:bh(o.serializer,c)}}if(i instanceof Ye){const c=new Ye(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:bh(o.serializer,c)}}if(i instanceof c0)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof hl)return{bytesValue:Kw(o.serializer,i._byteString)};if(i instanceof Mn){const c=o.databaseId,d=i.firestore._databaseId;if(!d.isEqual(c))throw o.Bu(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${c.projectId}/${c.database}`);return{referenceValue:Kg(i.firestore._databaseId||o.databaseId,i._key.path)}}if(i instanceof u0)return function(d,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:d.toArray().map(p=>{if(typeof p!="number")throw m.Bu("VectorValues must only contain numeric values.");return qg(m.serializer,p)})}}}}}}(i,o);throw o.Bu(`Unsupported field value: ${Qh(i)}`)}(n,e)}function N2(n,e){const t={};return ww(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):no(n,(i,o)=>{const c=gu(o,e.Mu(i));c!=null&&(t[i]=c)}),{mapValue:{fields:t}}}function E2(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ye||n instanceof c0||n instanceof hl||n instanceof Mn||n instanceof Jh||n instanceof u0)}function f0(n,e,t){if(!E2(t)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(t)){const i=Qh(t);throw i==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+i)}}function pg(n,e,t){if((e=Rt(e))instanceof Xh)return e._internalPath;if(typeof e=="string")return m0(n,e);throw Nh("Field path arguments must be of type string or ",n,!1,void 0,t)}const hI=new RegExp("[~\\*/\\[\\]]");function m0(n,e,t){if(e.search(hI)>=0)throw Nh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Xh(...e.split("."))._internalPath}catch{throw Nh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Nh(n,e,t,i,o){const c=i&&!i.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(c||d)&&(p+=" (found",c&&(p+=` in field ${i}`),d&&(p+=` in document ${o}`),p+=")"),new Se(fe.INVALID_ARGUMENT,m+n+p)}function T2(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A2{constructor(e,t,i,o,c){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=o,this._converter=c}get id(){return this._key.path.lastSegment()}get ref(){return new Mn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new fI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(tf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class fI extends A2{data(){return super.data()}}function tf(n,e){return typeof e=="string"?m0(n,e):e instanceof Xh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S2(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Se(fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class p0{}class g0 extends p0{}function Sr(n,e,...t){let i=[];e instanceof p0&&i.push(e),i=i.concat(t),function(c){const d=c.filter(p=>p instanceof y0).length,m=c.filter(p=>p instanceof nf).length;if(d>1||d>0&&m>0)throw new Se(fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const o of i)n=o._apply(n);return n}class nf extends g0{constructor(e,t,i){super(),this._field=e,this._op=t,this._value=i,this.type="where"}static _create(e,t,i){return new nf(e,t,i)}_apply(e){const t=this._parse(e);return R2(e._query,t),new ci(e.firestore,e.converter,ag(e._query,t))}_parse(e){const t=Zh(e.firestore);return function(c,d,m,p,y,x,j){let w;if(y.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new Se(fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){S1(j,x);const k=[];for(const z of j)k.push(A1(p,c,z));w={arrayValue:{values:k}}}else w=A1(p,c,j)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||S1(j,x),w=dI(m,d,j,x==="in"||x==="not-in");return on.create(y,x,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function Rr(n,e,t){const i=e,o=tf("where",n);return nf._create(o,i,t)}class y0 extends p0{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new y0(e,t)}_parse(e){const t=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return t.length===1?t[0]:Gr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(o,c){let d=o;const m=c.getFlattenedFilters();for(const p of m)R2(d,p),d=ag(d,p)}(e._query,t),new ci(e.firestore,e.converter,ag(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class v0 extends g0{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new v0(e,t)}_apply(e){const t=function(o,c,d){if(o.startAt!==null)throw new Se(fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new Se(fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tu(c,d)}(e._query,this._field,this._direction);return new ci(e.firestore,e.converter,function(o,c){const d=o.explicitOrderBy.concat([c]);return new bl(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}function fl(n,e="asc"){const t=e,i=tf("orderBy",n);return v0._create(i,t)}class x0 extends g0{constructor(e,t,i){super(),this.type=e,this._limit=t,this._limitType=i}static _create(e,t,i){return new x0(e,t,i)}_apply(e){return new ci(e.firestore,e.converter,vh(e._query,this._limit,this._limitType))}}function T1(n){return nI("limit",n),x0._create("limit",n,"F")}function A1(n,e,t){if(typeof(t=Rt(t))=="string"){if(t==="")throw new Se(fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cw(e)&&t.indexOf("/")!==-1)throw new Se(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const i=e.path.child(It.fromString(t));if(!Me.isDocumentKey(i))throw new Se(fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Kb(n,new Me(i))}if(t instanceof Mn)return Kb(n,t._key);throw new Se(fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qh(t)}.`)}function S1(n,e){if(!Array.isArray(n)||n.length===0)throw new Se(fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function R2(n,e){const t=function(o,c){for(const d of o)for(const m of d.getFlattenedFilters())if(c.indexOf(m.op)>=0)return m.op;return null}(n.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Se(fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Se(fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class mI{convertValue(e,t="none"){switch(Ya(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Qa(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw $e()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return no(e,(o,c)=>{i[o]=this.convertValue(c,t)}),i}convertVectorValue(e){var t,i,o;const c=(o=(i=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||i===void 0?void 0:i.values)===null||o===void 0?void 0:o.map(d=>Yt(d.doubleValue));return new u0(c)}convertGeoPoint(e){return new c0(Yt(e.latitude),Yt(e.longitude))}convertArray(e,t){return(e.values||[]).map(i=>this.convertValue(i,t))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Ug(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(Jc(e));default:return null}}convertTimestamp(e){const t=ea(e);return new Ye(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=It.fromString(e);bt(Zw(i));const o=new Zc(i.get(1),i.get(3)),c=new Me(i.popFirst(5));return o.isEqual(t)||ii(`Document ${c} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2(n,e,t){let i;return i=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class C2 extends A2{constructor(e,t,i,o,c,d){super(e,t,i,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=c}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(tf("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}}class sh extends C2{data(e={}){return super.data(e)}}class I2{constructor(e,t,i,o){this._firestore=e,this._userDataWriter=t,this._snapshot=o,this.metadata=new Lc(o.hasPendingWrites,o.fromCache),this.query=i}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(i=>{e.call(t,new sh(this._firestore,this._userDataWriter,i.key,i,new Lc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Se(fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,c){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(m=>{const p=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Lc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>c||m.type!==3).map(m=>{const p=new sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Lc(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,x=-1;return m.type!==0&&(y=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),x=d.indexOf(m.doc.key)),{type:pI(m.type),doc:p,oldIndex:y,newIndex:x}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function pI(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return $e()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function An(n){n=er(n,Mn);const e=er(n.firestore,oi);return ZC(Wh(e),n._key).then(t=>D2(e,n,t))}class b0 extends mI{constructor(e){super(),this.firestore=e}convertBytes(e){return new hl(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Mn(this.firestore,null,t)}}function Cr(n){n=er(n,ci);const e=er(n.firestore,oi),t=Wh(e),i=new b0(e);return S2(n._query),eI(t,n._query).then(o=>new I2(e,i,n,o))}function rf(n,e,t){n=er(n,Mn);const i=er(n.firestore,oi),o=k2(n.converter,e,t);return sf(i,[j2(Zh(i),"setDoc",n._key,o,n.converter!==null,t).toMutation(n._key,kr.none())])}function Gn(n,e,t,...i){n=er(n,Mn);const o=er(n.firestore,oi),c=Zh(o);let d;return d=typeof(e=Rt(e))=="string"||e instanceof Xh?uI(c,"updateDoc",n._key,e,t,i):cI(c,"updateDoc",n._key,e),sf(o,[d.toMutation(n._key,kr.exists(!0))])}function gI(n){return sf(er(n.firestore,oi),[new Hg(n._key,kr.none())])}function ml(n,e){const t=er(n.firestore,oi),i=ut(n),o=k2(n.converter,e);return sf(t,[j2(Zh(n.firestore),"addDoc",i._key,o,n.converter!==null,{}).toMutation(i._key,kr.exists(!1))]).then(()=>i)}function R1(n,...e){var t,i,o;n=Rt(n);let c={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||E1(e[d])||(c=e[d],d++);const m={includeMetadataChanges:c.includeMetadataChanges,source:c.source};if(E1(e[d])){const j=e[d];e[d]=(t=j.next)===null||t===void 0?void 0:t.bind(j),e[d+1]=(i=j.error)===null||i===void 0?void 0:i.bind(j),e[d+2]=(o=j.complete)===null||o===void 0?void 0:o.bind(j)}let p,y,x;if(n instanceof Mn)y=er(n.firestore,oi),x=Uh(n._key.path),p={next:j=>{e[d]&&e[d](D2(y,n,j))},error:e[d+1],complete:e[d+2]};else{const j=er(n,ci);y=er(j.firestore,oi),x=j._query;const w=new b0(y);p={next:k=>{e[d]&&e[d](new I2(y,w,j,k))},error:e[d+1],complete:e[d+2]},S2(n._query)}return function(w,k,z,$){const U=new l0($),H=new a0(k,U,z);return w.asyncQueue.enqueueAndForget(async()=>r0(await jh(w),H)),()=>{U.Za(),w.asyncQueue.enqueueAndForget(async()=>s0(await jh(w),H))}}(Wh(y),x,m,p)}function sf(n,e){return function(i,o){const c=new ni;return i.asyncQueue.enqueueAndForget(async()=>BC(await JC(i),o,c)),c.promise}(Wh(n),e)}function D2(n,e,t){const i=t.docs.get(e._key),o=new b0(n);return new C2(n,o,e._key,i,new Lc(t.hasPendingWrites,t.fromCache),e.converter)}function vs(){return new h0("serverTimestamp")}(function(e,t=!0){(function(o){xl=o})(to),qr(new Ir("firestore",(i,{instanceIdentifier:o,options:c})=>{const d=i.getProvider("app").getImmediate(),m=new oi(new bR(i.getProvider("auth-internal")),new NR(i.getProvider("app-check-internal")),function(y,x){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new Se(fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zc(y.options.projectId,x)}(d,o),d);return c=Object.assign({useFetchStreams:t},c),m._setSettings(c),m},"PUBLIC").setMultipleInstances(!0)),Zn(Bb,"4.7.3",e),Zn(Bb,"4.7.3","esm2017")})();var yI="firebase",vI="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Zn(yI,vI,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2="firebasestorage.googleapis.com",V2="storageBucket",xI=2*60*1e3,bI=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt extends Dr{constructor(e,t,i=0){super(kp(e),`Firebase Storage: ${t} (${kp(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Gt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return kp(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ht;(function(n){n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ht||(Ht={}));function kp(n){return"storage/"+n}function _0(){const n="An unknown error occurred, please check the error payload for server response.";return new Gt(Ht.UNKNOWN,n)}function _I(n){return new Gt(Ht.OBJECT_NOT_FOUND,"Object '"+n+"' does not exist.")}function wI(n){return new Gt(Ht.QUOTA_EXCEEDED,"Quota for bucket '"+n+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function jI(){const n="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Gt(Ht.UNAUTHENTICATED,n)}function NI(){return new Gt(Ht.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function EI(n){return new Gt(Ht.UNAUTHORIZED,"User does not have permission to access '"+n+"'.")}function TI(){return new Gt(Ht.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function AI(){return new Gt(Ht.CANCELED,"User canceled the upload/download.")}function SI(n){return new Gt(Ht.INVALID_URL,"Invalid URL '"+n+"'.")}function RI(n){return new Gt(Ht.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}function kI(){return new Gt(Ht.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+V2+"' property when initializing the app?")}function CI(){return new Gt(Ht.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function II(){return new Gt(Ht.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function DI(n){return new Gt(Ht.UNSUPPORTED_ENVIRONMENT,`${n} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function gg(n){return new Gt(Ht.INVALID_ARGUMENT,n)}function M2(){return new Gt(Ht.APP_DELETED,"The Firebase app was deleted.")}function OI(n){return new Gt(Ht.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Hc(n,e){return new Gt(Ht.INVALID_FORMAT,"String does not match format '"+n+"': "+e)}function kc(n){throw new Gt(Ht.INTERNAL_ERROR,"Internal error: "+n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fr{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let i;try{i=fr.makeFromUrl(e,t)}catch{return new fr(e,"")}if(i.path==="")return i;throw RI(e)}static makeFromUrl(e,t){let i=null;const o="([A-Za-z0-9.\\-_]+)";function c(G){G.path.charAt(G.path.length-1)==="/"&&(G.path_=G.path_.slice(0,-1))}const d="(/(.*))?$",m=new RegExp("^gs://"+o+d,"i"),p={bucket:1,path:3};function y(G){G.path_=decodeURIComponent(G.path)}const x="v[A-Za-z0-9_]+",j=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",k=new RegExp(`^https?://${j}/${x}/b/${o}/o${w}`,"i"),z={bucket:1,path:3},$=t===O2?"(?:storage.googleapis.com|storage.cloud.google.com)":t,U="([^?#]*)",H=new RegExp(`^https?://${$}/${o}/${U}`,"i"),S=[{regex:m,indices:p,postModify:c},{regex:k,indices:z,postModify:y},{regex:H,indices:{bucket:1,path:2},postModify:y}];for(let G=0;G<S.length;G++){const q=S[G],R=q.regex.exec(e);if(R){const N=R[q.indices.bucket];let E=R[q.indices.path];E||(E=""),i=new fr(N,E),q.postModify(i);break}}if(i==null)throw SI(e);return i}}class VI{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MI(n,e,t){let i=1,o=null,c=null,d=!1,m=0;function p(){return m===2}let y=!1;function x(...U){y||(y=!0,e.apply(null,U))}function j(U){o=setTimeout(()=>{o=null,n(k,p())},U)}function w(){c&&clearTimeout(c)}function k(U,...H){if(y){w();return}if(U){w(),x.call(null,U,...H);return}if(p()||d){w(),x.call(null,U,...H);return}i<64&&(i*=2);let S;m===1?(m=2,S=0):S=(i+Math.random())*1e3,j(S)}let z=!1;function $(U){z||(z=!0,w(),!y&&(o!==null?(U||(m=2),clearTimeout(o),j(0)):U||(m=1)))}return j(0),c=setTimeout(()=>{d=!0,$(!0)},t),$}function PI(n){n(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LI(n){return n!==void 0}function UI(n){return typeof n=="object"&&!Array.isArray(n)}function w0(n){return typeof n=="string"||n instanceof String}function k1(n){return j0()&&n instanceof Blob}function j0(){return typeof Blob<"u"}function C1(n,e,t,i){if(i<e)throw gg(`Invalid value for '${n}'. Expected ${e} or greater.`);if(i>t)throw gg(`Invalid value for '${n}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N0(n,e,t){let i=e;return t==null&&(i=`https://${e}`),`${t}://${i}/v0${n}`}function P2(n){const e=encodeURIComponent;let t="?";for(const i in n)if(n.hasOwnProperty(i)){const o=e(i)+"="+e(n[i]);t=t+o+"&"}return t=t.slice(0,-1),t}var Ha;(function(n){n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT"})(Ha||(Ha={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(n,e){const t=n>=500&&n<600,o=[408,429].indexOf(n)!==-1,c=e.indexOf(n)!==-1;return t||o||c}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FI{constructor(e,t,i,o,c,d,m,p,y,x,j,w=!0){this.url_=e,this.method_=t,this.headers_=i,this.body_=o,this.successCodes_=c,this.additionalRetryCodes_=d,this.callback_=m,this.errorCallback_=p,this.timeout_=y,this.progressCallback_=x,this.connectionFactory_=j,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((k,z)=>{this.resolve_=k,this.reject_=z,this.start_()})}start_(){const e=(i,o)=>{if(o){i(!1,new Gd(!1,null,!0));return}const c=this.connectionFactory_();this.pendingConnection_=c;const d=m=>{const p=m.loaded,y=m.lengthComputable?m.total:-1;this.progressCallback_!==null&&this.progressCallback_(p,y)};this.progressCallback_!==null&&c.addUploadProgressListener(d),c.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&c.removeUploadProgressListener(d),this.pendingConnection_=null;const m=c.getErrorCode()===Ha.NO_ERROR,p=c.getStatus();if(!m||zI(p,this.additionalRetryCodes_)&&this.retry){const x=c.getErrorCode()===Ha.ABORT;i(!1,new Gd(!1,null,x));return}const y=this.successCodes_.indexOf(p)!==-1;i(!0,new Gd(y,c))})},t=(i,o)=>{const c=this.resolve_,d=this.reject_,m=o.connection;if(o.wasSuccessCode)try{const p=this.callback_(m,m.getResponse());LI(p)?c(p):c()}catch(p){d(p)}else if(m!==null){const p=_0();p.serverResponse=m.getErrorText(),this.errorCallback_?d(this.errorCallback_(m,p)):d(p)}else if(o.canceled){const p=this.appDelete_?M2():AI();d(p)}else{const p=TI();d(p)}};this.canceled_?t(!1,new Gd(!1,null,!0)):this.backoffId_=MI(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&PI(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Gd{constructor(e,t,i){this.wasSuccessCode=e,this.connection=t,this.canceled=!!i}}function BI(n,e){e!==null&&e.length>0&&(n.Authorization="Firebase "+e)}function qI(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function HI(n,e){e&&(n["X-Firebase-GMPID"]=e)}function GI(n,e){e!==null&&(n["X-Firebase-AppCheck"]=e)}function $I(n,e,t,i,o,c,d=!0){const m=P2(n.urlParams),p=n.url+m,y=Object.assign({},n.headers);return HI(y,e),BI(y,t),qI(y,c),GI(y,i),new FI(p,n.method,y,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,o,d)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function QI(...n){const e=KI();if(e!==void 0){const t=new e;for(let i=0;i<n.length;i++)t.append(n[i]);return t.getBlob()}else{if(j0())return new Blob(n);throw new Gt(Ht.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function YI(n,e,t){return n.webkitSlice?n.webkitSlice(e,t):n.mozSlice?n.mozSlice(e,t):n.slice?n.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WI(n){if(typeof atob>"u")throw DI("base-64");return atob(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ds={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Cp{constructor(e,t){this.data=e,this.contentType=t||null}}function XI(n,e){switch(n){case ds.RAW:return new Cp(L2(e));case ds.BASE64:case ds.BASE64URL:return new Cp(U2(n,e));case ds.DATA_URL:return new Cp(ZI(e),e6(e))}throw _0()}function L2(n){const e=[];for(let t=0;t<n.length;t++){let i=n.charCodeAt(t);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|i&63);else if((i&64512)===55296)if(!(t<n.length-1&&(n.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const c=i,d=n.charCodeAt(++t);i=65536|(c&1023)<<10|d&1023,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|i&63)}else(i&64512)===56320?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|i&63)}return new Uint8Array(e)}function JI(n){let e;try{e=decodeURIComponent(n)}catch{throw Hc(ds.DATA_URL,"Malformed data URL.")}return L2(e)}function U2(n,e){switch(n){case ds.BASE64:{const o=e.indexOf("-")!==-1,c=e.indexOf("_")!==-1;if(o||c)throw Hc(n,"Invalid character '"+(o?"-":"_")+"' found: is it base64url encoded?");break}case ds.BASE64URL:{const o=e.indexOf("+")!==-1,c=e.indexOf("/")!==-1;if(o||c)throw Hc(n,"Invalid character '"+(o?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=WI(e)}catch(o){throw o.message.includes("polyfill")?o:Hc(n,"Invalid character found")}const i=new Uint8Array(t.length);for(let o=0;o<t.length;o++)i[o]=t.charCodeAt(o);return i}class z2{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Hc(ds.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const i=t[1]||null;i!=null&&(this.base64=t6(i,";base64"),this.contentType=this.base64?i.substring(0,i.length-7):i),this.rest=e.substring(e.indexOf(",")+1)}}function ZI(n){const e=new z2(n);return e.base64?U2(ds.BASE64,e.rest):JI(e.rest)}function e6(n){return new z2(n).contentType}function t6(n,e){return n.length>=e.length?n.substring(n.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(e,t){let i=0,o="";k1(e)?(this.data_=e,i=e.size,o=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),i=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),i=e.length),this.size_=i,this.type_=o}size(){return this.size_}type(){return this.type_}slice(e,t){if(k1(this.data_)){const i=this.data_,o=YI(i,e,t);return o===null?null:new Gi(o)}else{const i=new Uint8Array(this.data_.buffer,e,t-e);return new Gi(i,!0)}}static getBlob(...e){if(j0()){const t=e.map(i=>i instanceof Gi?i.data_:i);return new Gi(QI.apply(null,t))}else{const t=e.map(d=>w0(d)?XI(ds.RAW,d).data:d.data_);let i=0;t.forEach(d=>{i+=d.byteLength});const o=new Uint8Array(i);let c=0;return t.forEach(d=>{for(let m=0;m<d.length;m++)o[c++]=d[m]}),new Gi(o,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F2(n){let e;try{e=JSON.parse(n)}catch{return null}return UI(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n6(n){if(n.length===0)return null;const e=n.lastIndexOf("/");return e===-1?"":n.slice(0,e)}function r6(n,e){const t=e.split("/").filter(i=>i.length>0).join("/");return n.length===0?t:n+"/"+t}function B2(n){const e=n.lastIndexOf("/",n.length-2);return e===-1?n:n.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(n,e){return e}class qn{constructor(e,t,i,o){this.server=e,this.local=t||e,this.writable=!!i,this.xform=o||s6}}let $d=null;function i6(n){return!w0(n)||n.length<2?n:B2(n)}function q2(){if($d)return $d;const n=[];n.push(new qn("bucket")),n.push(new qn("generation")),n.push(new qn("metageneration")),n.push(new qn("name","fullPath",!0));function e(c,d){return i6(d)}const t=new qn("name");t.xform=e,n.push(t);function i(c,d){return d!==void 0?Number(d):d}const o=new qn("size");return o.xform=i,n.push(o),n.push(new qn("timeCreated")),n.push(new qn("updated")),n.push(new qn("md5Hash",null,!0)),n.push(new qn("cacheControl",null,!0)),n.push(new qn("contentDisposition",null,!0)),n.push(new qn("contentEncoding",null,!0)),n.push(new qn("contentLanguage",null,!0)),n.push(new qn("contentType",null,!0)),n.push(new qn("metadata","customMetadata",!0)),$d=n,$d}function a6(n,e){function t(){const i=n.bucket,o=n.fullPath,c=new fr(i,o);return e._makeStorageReference(c)}Object.defineProperty(n,"ref",{get:t})}function o6(n,e,t){const i={};i.type="file";const o=t.length;for(let c=0;c<o;c++){const d=t[c];i[d.local]=d.xform(i,e[d.server])}return a6(i,n),i}function H2(n,e,t){const i=F2(e);return i===null?null:o6(n,i,t)}function l6(n,e,t,i){const o=F2(e);if(o===null||!w0(o.downloadTokens))return null;const c=o.downloadTokens;if(c.length===0)return null;const d=encodeURIComponent;return c.split(",").map(y=>{const x=n.bucket,j=n.fullPath,w="/b/"+d(x)+"/o/"+d(j),k=N0(w,t,i),z=P2({alt:"media",token:y});return k+z})[0]}function c6(n,e){const t={},i=e.length;for(let o=0;o<i;o++){const c=e[o];c.writable&&(t[c.server]=n[c.local])}return JSON.stringify(t)}class G2{constructor(e,t,i,o){this.url=e,this.method=t,this.handler=i,this.timeout=o,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $2(n){if(!n)throw _0()}function u6(n,e){function t(i,o){const c=H2(n,o,e);return $2(c!==null),c}return t}function d6(n,e){function t(i,o){const c=H2(n,o,e);return $2(c!==null),l6(c,o,n.host,n._protocol)}return t}function K2(n){function e(t,i){let o;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?o=NI():o=jI():t.getStatus()===402?o=wI(n.bucket):t.getStatus()===403?o=EI(n.path):o=i,o.status=t.getStatus(),o.serverResponse=i.serverResponse,o}return e}function h6(n){const e=K2(n);function t(i,o){let c=e(i,o);return i.getStatus()===404&&(c=_I(n.path)),c.serverResponse=o.serverResponse,c}return t}function f6(n,e,t){const i=e.fullServerUrl(),o=N0(i,n.host,n._protocol),c="GET",d=n.maxOperationRetryTime,m=new G2(o,c,d6(n,t),d);return m.errorHandler=h6(e),m}function m6(n,e){return n&&n.contentType||e&&e.type()||"application/octet-stream"}function p6(n,e,t){const i=Object.assign({},t);return i.fullPath=n.path,i.size=e.size(),i.contentType||(i.contentType=m6(null,e)),i}function g6(n,e,t,i,o){const c=e.bucketOnlyServerUrl(),d={"X-Goog-Upload-Protocol":"multipart"};function m(){let S="";for(let G=0;G<2;G++)S=S+Math.random().toString().slice(2);return S}const p=m();d["Content-Type"]="multipart/related; boundary="+p;const y=p6(e,i,o),x=c6(y,t),j="--"+p+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+x+`\r
--`+p+`\r
Content-Type: `+y.contentType+`\r
\r
`,w=`\r
--`+p+"--",k=Gi.getBlob(j,i,w);if(k===null)throw CI();const z={name:y.fullPath},$=N0(c,n.host,n._protocol),U="POST",H=n.maxUploadRetryTime,M=new G2($,U,u6(n,t),H);return M.urlParams=z,M.headers=d,M.body=k.uploadData(),M.errorHandler=K2(e),M}class y6{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Ha.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Ha.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Ha.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,i,o){if(this.sent_)throw kc("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),o!==void 0)for(const c in o)o.hasOwnProperty(c)&&this.xhr_.setRequestHeader(c,o[c].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw kc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw kc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw kc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw kc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class v6 extends y6{initXhr(){this.xhr_.responseType="text"}}function Q2(){return new v6}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wa{constructor(e,t){this._service=e,t instanceof fr?this._location=t:this._location=fr.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Wa(e,t)}get root(){const e=new fr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return B2(this._location.path)}get storage(){return this._service}get parent(){const e=n6(this._location.path);if(e===null)return null;const t=new fr(this._location.bucket,e);return new Wa(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw OI(e)}}function x6(n,e,t){n._throwIfRoot("uploadBytes");const i=g6(n.storage,n._location,q2(),new Gi(e,!0),t);return n.storage.makeRequestWithTokens(i,Q2).then(o=>({metadata:o,ref:n}))}function b6(n){n._throwIfRoot("getDownloadURL");const e=f6(n.storage,n._location,q2());return n.storage.makeRequestWithTokens(e,Q2).then(t=>{if(t===null)throw II();return t})}function _6(n,e){const t=r6(n._location.path,e),i=new fr(n._location.bucket,t);return new Wa(n.storage,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w6(n){return/^[A-Za-z]+:\/\//.test(n)}function j6(n,e){return new Wa(n,e)}function Y2(n,e){if(n instanceof E0){const t=n;if(t._bucket==null)throw kI();const i=new Wa(t,t._bucket);return e!=null?Y2(i,e):i}else return e!==void 0?_6(n,e):n}function N6(n,e){if(e&&w6(e)){if(n instanceof E0)return j6(n,e);throw gg("To use ref(service, url), the first argument must be a Storage instance.")}else return Y2(n,e)}function I1(n,e){const t=e==null?void 0:e[V2];return t==null?null:fr.makeFromBucketSpec(t,n)}function E6(n,e,t,i={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:o}=i;o&&(n._overrideAuthToken=typeof o=="string"?o:w_(o,n.app.options.projectId))}class E0{constructor(e,t,i,o,c){this.app=e,this._authProvider=t,this._appCheckProvider=i,this._url=o,this._firebaseVersion=c,this._bucket=null,this._host=O2,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=xI,this._maxUploadRetryTime=bI,this._requests=new Set,o!=null?this._bucket=fr.makeFromBucketSpec(o,this._host):this._bucket=I1(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=fr.makeFromBucketSpec(this._url,e):this._bucket=I1(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){C1("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){C1("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Wa(this,e)}_makeRequest(e,t,i,o,c=!0){if(this._deleted)return new VI(M2());{const d=$I(e,this._appId,i,o,t,this._firebaseVersion,c);return this._requests.add(d),d.getPromise().then(()=>this._requests.delete(d),()=>this._requests.delete(d)),d}}async makeRequestWithTokens(e,t){const[i,o]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,i,o).getPromise()}}const D1="@firebase/storage",O1="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="storage";function af(n,e,t){return n=Rt(n),x6(n,e,t)}function of(n){return n=Rt(n),b6(n)}function lf(n,e){return n=Rt(n),N6(n,e)}function T0(n=Oh(),e){n=Rt(n);const i=ra(n,W2).getImmediate({identifier:e}),o=x_("storage");return o&&T6(i,...o),i}function T6(n,e,t,i={}){E6(n,e,t,i)}function A6(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),i=n.getProvider("auth-internal"),o=n.getProvider("app-check-internal");return new E0(t,i,o,e,to)}function S6(){qr(new Ir(W2,A6,"PUBLIC").setMultipleInstances(!0)),Zn(D1,O1,""),Zn(D1,O1,"esm2017")}S6();const X2="@firebase/installations",A0="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=1e4,Z2=`w:${A0}`,ej="FIS_v2",R6="https://firebaseinstallations.googleapis.com/v1",k6=60*60*1e3,C6="installations",I6="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Xa=new eo(C6,I6,D6);function tj(n){return n instanceof Dr&&n.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nj({projectId:n}){return`${R6}/projects/${n}/installations`}function rj(n){return{token:n.token,requestStatus:2,expiresIn:V6(n.expiresIn),creationTime:Date.now()}}async function sj(n,e){const i=(await e.json()).error;return Xa.create("request-failed",{requestName:n,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function ij({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function O6(n,{refreshToken:e}){const t=ij(n);return t.append("Authorization",M6(e)),t}async function aj(n){const e=await n();return e.status>=500&&e.status<600?n():e}function V6(n){return Number(n.replace("s","000"))}function M6(n){return`${ej} ${n}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P6({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const i=nj(n),o=ij(n),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const d={fid:t,authVersion:ej,appId:n.appId,sdkVersion:Z2},m={method:"POST",headers:o,body:JSON.stringify(d)},p=await aj(()=>fetch(i,m));if(p.ok){const y=await p.json();return{fid:y.fid||t,registrationStatus:2,refreshToken:y.refreshToken,authToken:rj(y.authToken)}}else throw await sj("Create Installation",p)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oj(n){return new Promise(e=>{setTimeout(e,n)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L6(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6=/^[cdef][\w-]{21}$/,yg="";function z6(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=F6(n);return U6.test(t)?t:yg}catch{return yg}}function F6(n){return L6(n).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(n){return`${n.appName}!${n.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lj=new Map;function cj(n,e){const t=cf(n);uj(t,e),B6(t,e)}function uj(n,e){const t=lj.get(n);if(t)for(const i of t)i(e)}function B6(n,e){const t=q6();t&&t.postMessage({key:n,fid:e}),H6()}let za=null;function q6(){return!za&&"BroadcastChannel"in self&&(za=new BroadcastChannel("[Firebase] FID Change"),za.onmessage=n=>{uj(n.data.key,n.data.fid)}),za}function H6(){lj.size===0&&za&&(za.close(),za=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G6="firebase-installations-database",$6=1,Ja="firebase-installations-store";let Ip=null;function S0(){return Ip||(Ip=S_(G6,$6,{upgrade:(n,e)=>{switch(e){case 0:n.createObjectStore(Ja)}}})),Ip}async function Eh(n,e){const t=cf(n),o=(await S0()).transaction(Ja,"readwrite"),c=o.objectStore(Ja),d=await c.get(t);return await c.put(e,t),await o.done,(!d||d.fid!==e.fid)&&cj(n,e.fid),e}async function dj(n){const e=cf(n),i=(await S0()).transaction(Ja,"readwrite");await i.objectStore(Ja).delete(e),await i.done}async function uf(n,e){const t=cf(n),o=(await S0()).transaction(Ja,"readwrite"),c=o.objectStore(Ja),d=await c.get(t),m=e(d);return m===void 0?await c.delete(t):await c.put(m,t),await o.done,m&&(!d||d.fid!==m.fid)&&cj(n,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R0(n){let e;const t=await uf(n.appConfig,i=>{const o=K6(i),c=Q6(n,o);return e=c.registrationPromise,c.installationEntry});return t.fid===yg?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function K6(n){const e=n||{fid:z6(),registrationStatus:0};return hj(e)}function Q6(n,e){if(e.registrationStatus===0){if(!navigator.onLine){const o=Promise.reject(Xa.create("app-offline"));return{installationEntry:e,registrationPromise:o}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=Y6(n,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:W6(n)}:{installationEntry:e}}async function Y6(n,e){try{const t=await P6(n,e);return Eh(n.appConfig,t)}catch(t){throw tj(t)&&t.customData.serverCode===409?await dj(n.appConfig):await Eh(n.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function W6(n){let e=await V1(n.appConfig);for(;e.registrationStatus===1;)await oj(100),e=await V1(n.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await R0(n);return i||t}return e}function V1(n){return uf(n,e=>{if(!e)throw Xa.create("installation-not-found");return hj(e)})}function hj(n){return X6(n)?{fid:n.fid,registrationStatus:0}:n}function X6(n){return n.registrationStatus===1&&n.registrationTime+J2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J6({appConfig:n,heartbeatServiceProvider:e},t){const i=Z6(n,t),o=O6(n,t),c=e.getImmediate({optional:!0});if(c){const y=await c.getHeartbeatsHeader();y&&o.append("x-firebase-client",y)}const d={installation:{sdkVersion:Z2,appId:n.appId}},m={method:"POST",headers:o,body:JSON.stringify(d)},p=await aj(()=>fetch(i,m));if(p.ok){const y=await p.json();return rj(y)}else throw await sj("Generate Auth Token",p)}function Z6(n,{fid:e}){return`${nj(n)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k0(n,e=!1){let t;const i=await uf(n.appConfig,c=>{if(!fj(c))throw Xa.create("not-registered");const d=c.authToken;if(!e&&n3(d))return c;if(d.requestStatus===1)return t=e3(n,e),c;{if(!navigator.onLine)throw Xa.create("app-offline");const m=s3(c);return t=t3(n,m),m}});return t?await t:i.authToken}async function e3(n,e){let t=await M1(n.appConfig);for(;t.authToken.requestStatus===1;)await oj(100),t=await M1(n.appConfig);const i=t.authToken;return i.requestStatus===0?k0(n,e):i}function M1(n){return uf(n,e=>{if(!fj(e))throw Xa.create("not-registered");const t=e.authToken;return i3(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function t3(n,e){try{const t=await J6(n,e),i=Object.assign(Object.assign({},e),{authToken:t});return await Eh(n.appConfig,i),t}catch(t){if(tj(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await dj(n.appConfig);else{const i=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Eh(n.appConfig,i)}throw t}}function fj(n){return n!==void 0&&n.registrationStatus===2}function n3(n){return n.requestStatus===2&&!r3(n)}function r3(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+k6}function s3(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function i3(n){return n.requestStatus===1&&n.requestTime+J2<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function a3(n){const e=n,{installationEntry:t,registrationPromise:i}=await R0(e);return i?i.catch(console.error):k0(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o3(n,e=!1){const t=n;return await l3(t),(await k0(t,e)).token}async function l3(n){const{registrationPromise:e}=await R0(n);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c3(n){if(!n||!n.options)throw Dp("App Configuration");if(!n.name)throw Dp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Dp(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}function Dp(n){return Xa.create("missing-app-config-values",{valueName:n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj="installations",u3="installations-internal",d3=n=>{const e=n.getProvider("app").getImmediate(),t=c3(e),i=ra(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},h3=n=>{const e=n.getProvider("app").getImmediate(),t=ra(e,mj).getImmediate();return{getId:()=>a3(t),getToken:o=>o3(t,o)}};function f3(){qr(new Ir(mj,d3,"PUBLIC")),qr(new Ir(u3,h3,"PRIVATE"))}f3();Zn(X2,A0);Zn(X2,A0,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Th="analytics",m3="firebase_id",p3="origin",g3=60*1e3,y3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",C0="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tr=new Dh("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},mr=new eo("analytics","Analytics",v3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x3(n){if(!n.startsWith(C0)){const e=mr.create("invalid-gtag-resource",{gtagURL:n});return tr.warn(e.message),""}return n}function pj(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function b3(n,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(n,e)),t}function _3(n,e){const t=b3("firebase-js-sdk-policy",{createScriptURL:x3}),i=document.createElement("script"),o=`${C0}?l=${n}&id=${e}`;i.src=t?t==null?void 0:t.createScriptURL(o):o,i.async=!0,document.head.appendChild(i)}function w3(n){let e=[];return Array.isArray(window[n])?e=window[n]:window[n]=e,e}async function j3(n,e,t,i,o,c){const d=i[o];try{if(d)await e[d];else{const p=(await pj(t)).find(y=>y.measurementId===o);p&&await e[p.appId]}}catch(m){tr.error(m)}n("config",o,c)}async function N3(n,e,t,i,o){try{let c=[];if(o&&o.send_to){let d=o.send_to;Array.isArray(d)||(d=[d]);const m=await pj(t);for(const p of d){const y=m.find(j=>j.measurementId===p),x=y&&e[y.appId];if(x)c.push(x);else{c=[];break}}}c.length===0&&(c=Object.values(e)),await Promise.all(c),n("event",i,o||{})}catch(c){tr.error(c)}}function E3(n,e,t,i){async function o(c,...d){try{if(c==="event"){const[m,p]=d;await N3(n,e,t,m,p)}else if(c==="config"){const[m,p]=d;await j3(n,e,t,i,m,p)}else if(c==="consent"){const[m,p]=d;n("consent",m,p)}else if(c==="get"){const[m,p,y]=d;n("get",m,p,y)}else if(c==="set"){const[m]=d;n("set",m)}else n(c,...d)}catch(m){tr.error(m)}}return o}function T3(n,e,t,i,o){let c=function(...d){window[i].push(arguments)};return window[o]&&typeof window[o]=="function"&&(c=window[o]),window[o]=E3(c,n,e,t),{gtagCore:c,wrappedGtag:window[o]}}function A3(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(C0)&&t.src.includes(n))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S3=30,R3=1e3;class k3{constructor(e={},t=R3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const gj=new k3;function C3(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}async function I3(n){var e;const{appId:t,apiKey:i}=n,o={method:"GET",headers:C3(i)},c=y3.replace("{app-id}",t),d=await fetch(c,o);if(d.status!==200&&d.status!==304){let m="";try{const p=await d.json();!((e=p.error)===null||e===void 0)&&e.message&&(m=p.error.message)}catch{}throw mr.create("config-fetch-failed",{httpStatus:d.status,responseMessage:m})}return d.json()}async function D3(n,e=gj,t){const{appId:i,apiKey:o,measurementId:c}=n.options;if(!i)throw mr.create("no-app-id");if(!o){if(c)return{measurementId:c,appId:i};throw mr.create("no-api-key")}const d=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new M3;return setTimeout(async()=>{m.abort()},g3),yj({appId:i,apiKey:o,measurementId:c},d,m,e)}async function yj(n,{throttleEndTimeMillis:e,backoffCount:t},i,o=gj){var c;const{appId:d,measurementId:m}=n;try{await O3(i,e)}catch(p){if(m)return tr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${p==null?void 0:p.message}]`),{appId:d,measurementId:m};throw p}try{const p=await I3(n);return o.deleteThrottleMetadata(d),p}catch(p){const y=p;if(!V3(y)){if(o.deleteThrottleMetadata(d),m)return tr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${y==null?void 0:y.message}]`),{appId:d,measurementId:m};throw p}const x=Number((c=y==null?void 0:y.customData)===null||c===void 0?void 0:c.httpStatus)===503?fb(t,o.intervalMillis,S3):fb(t,o.intervalMillis),j={throttleEndTimeMillis:Date.now()+x,backoffCount:t+1};return o.setThrottleMetadata(d,j),tr.debug(`Calling attemptFetch again in ${x} millis`),yj(n,j,i,o)}}function O3(n,e){return new Promise((t,i)=>{const o=Math.max(e-Date.now(),0),c=setTimeout(t,o);n.addEventListener(()=>{clearTimeout(c),i(mr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function V3(n){if(!(n instanceof Dr)||!n.customData)return!1;const e=Number(n.customData.httpStatus);return e===429||e===500||e===503||e===504}class M3{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function P3(n,e,t,i,o){if(o&&o.global){n("event",t,i);return}else{const c=await e,d=Object.assign(Object.assign({},i),{send_to:c});n("event",t,d)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L3(){if(N_())try{await E_()}catch(n){return tr.warn(mr.create("indexeddb-unavailable",{errorInfo:n==null?void 0:n.toString()}).message),!1}else return tr.warn(mr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function U3(n,e,t,i,o,c,d){var m;const p=D3(n);p.then(k=>{t[k.measurementId]=k.appId,n.options.measurementId&&k.measurementId!==n.options.measurementId&&tr.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${k.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(k=>tr.error(k)),e.push(p);const y=L3().then(k=>{if(k)return i.getId()}),[x,j]=await Promise.all([p,y]);A3(c)||_3(c,x.measurementId),o("js",new Date);const w=(m=d==null?void 0:d.config)!==null&&m!==void 0?m:{};return w[p3]="firebase",w.update=!0,j!=null&&(w[m3]=j),o("config",x.measurementId,w),x.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z3{constructor(e){this.app=e}_delete(){return delete Gc[this.app.options.appId],Promise.resolve()}}let Gc={},P1=[];const L1={};let Op="dataLayer",F3="gtag",U1,vj,z1=!1;function B3(){const n=[];if(j_()&&n.push("This is a browser extension environment."),LT()||n.push("Cookies are not available."),n.length>0){const e=n.map((i,o)=>`(${o+1}) ${i}`).join(" "),t=mr.create("invalid-analytics-context",{errorInfo:e});tr.warn(t.message)}}function q3(n,e,t){B3();const i=n.options.appId;if(!i)throw mr.create("no-app-id");if(!n.options.apiKey)if(n.options.measurementId)tr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw mr.create("no-api-key");if(Gc[i]!=null)throw mr.create("already-exists",{id:i});if(!z1){w3(Op);const{wrappedGtag:c,gtagCore:d}=T3(Gc,P1,L1,Op,F3);vj=c,U1=d,z1=!0}return Gc[i]=U3(n,P1,L1,e,U1,Op,t),new z3(n)}function H3(n=Oh()){n=Rt(n);const e=ra(n,Th);return e.isInitialized()?e.getImmediate():G3(n)}function G3(n,e={}){const t=ra(n,Th);if(t.isInitialized()){const o=t.getImmediate();if(Qc(e,t.getOptions()))return o;throw mr.create("already-initialized")}return t.initialize({options:e})}function $3(n,e,t,i){n=Rt(n),P3(vj,Gc[n.app.options.appId],e,t,i).catch(o=>tr.error(o))}const F1="@firebase/analytics",B1="0.10.8";function K3(){qr(new Ir(Th,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),o=e.getProvider("installations-internal").getImmediate();return q3(i,o,t)},"PUBLIC")),qr(new Ir("analytics-internal",n,"PRIVATE")),Zn(F1,B1),Zn(F1,B1,"esm2017");function n(e){try{const t=e.getProvider(Th).getImmediate();return{logEvent:(i,o,c)=>$3(t,i,o,c)}}catch(t){throw mr.create("interop-component-reg-failed",{reason:t})}}}K3();var ls={};const Fr={apiKey:ls.REACT_APP_FIREBASE_API_KEY,authDomain:ls.REACT_APP_FIREBASE_AUTH_DOMAIN,projectId:ls.REACT_APP_FIREBASE_PROJECT_ID,storageBucket:ls.REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:ls.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:ls.REACT_APP_FIREBASE_APP_ID,measurementId:ls.REACT_APP_FIREBASE_MEASUREMENT_ID};console.log("Firebase omgevingsvariabelen status:");console.log("API Key aanwezig:",!!ls.REACT_APP_FIREBASE_API_KEY);console.log("Auth Domain aanwezig:",!!ls.REACT_APP_FIREBASE_AUTH_DOMAIN);console.log("Project ID aanwezig:",!!ls.REACT_APP_FIREBASE_PROJECT_ID);Fr.apiKey||(console.warn("Firebase configuratie niet gevonden in environment variables. Gebruik van fallback configuratie. Voor productieomgevingen, zorg ervoor dat je .env.local correct is ingesteld."),Fr.apiKey="AIzaSyAiTY14VexbFUQTf3yKhDPhrCtKjRzhMwQ",Fr.authDomain="pitchpro-29e90.firebaseapp.com",Fr.projectId="pitchpro-29e90",Fr.storageBucket="pitchpro-29e90.firebasestorage.app",Fr.messagingSenderId="121788535713",Fr.appId="1:121788535713:web:9c5ddf4ff9af0a0e2ff1e0",Fr.measurementId="G-QGBR93ZYCM");console.log("Firebase configuratie:",{...Fr,apiKey:Fr.apiKey?"AANWEZIG":"ONTBREEKT"});const df=R_(Fr),cs=gR(df),Le=sI(df),xj=T0(df);typeof window<"u"&&H3(df);function hf(n){return n?n.role==="werkzoekende"||n.role==="jobseeker":!1}function ff(n){return n?n.role==="recruiter":!1}function bj(n){return n?hf(n)?"jobseeker":ff(n)?"recruiter":null:null}const _j=F.createContext(void 0),kt=()=>{const n=F.useContext(_j);if(n===void 0)throw new Error("useAuth moet binnen een AuthProvider gebruikt worden");return n},Q3=({children:n})=>{const[e,t]=F.useState(null),[i,o]=F.useState(null),[c,d]=F.useState(!0),[m,p]=F.useState(null);console.log("AuthProvider initialiseren...");const y=(S,G)=>{var E,T,P,L,D,I,Te,Ie,Z,re,ye,me,O,K,ce,le;console.log("Normalizing user data for:",G,S);let q=S.role||S.userType||"werkzoekende";q==="jobseeker"&&(q="werkzoekende",console.warn('Converted English role "jobseeker" to Dutch "werkzoekende"'));let R=S.userType||q;R==="jobseeker"&&(R="werkzoekende");const N={id:G,email:S.email||"",displayName:S.displayName||S.name||"",photoURL:S.photoURL||S.avatar||"",bio:S.bio||"",phone:S.phone||"",role:q,userType:R,createdAt:S.createdAt||new Date,updatedAt:S.updatedAt||new Date,profile:S.profile?{...S.profile}:{}};return hf(N)?(N.profile||(N.profile={}),N.profile.skills=S.skills||((E=S.profile)==null?void 0:E.skills)||[],N.profile.education=S.education||((T=S.profile)==null?void 0:T.education)||[],N.profile.experience=S.experience||((P=S.profile)==null?void 0:P.experience)||[],N.profile.cv=S.cv||((L=S.profile)==null?void 0:L.cv)||"",N.profile.portfolio=S.portfolio||((D=S.profile)==null?void 0:D.portfolio)||"",N.profile.linkedin=S.linkedin||((I=S.profile)==null?void 0:I.linkedin)||"",N.profile.address=S.address||((Te=S.profile)==null?void 0:Te.address)||"",N.profile.city=S.city||((Ie=S.profile)==null?void 0:Ie.city)||""):ff(N)&&(N.profile||(N.profile={}),N.profile.companyName=S.companyName||((Z=S.profile)==null?void 0:Z.companyName)||"",N.profile.companyDescription=S.companyDescription||((re=S.profile)==null?void 0:re.companyDescription)||"",N.profile.kvkNumber=S.kvkNumber||((ye=S.profile)==null?void 0:ye.kvkNumber)||"",N.profile.website=S.website||((me=S.profile)==null?void 0:me.website)||"",N.profile.companyLogo=S.companyLogo||((O=S.profile)==null?void 0:O.companyLogo)||"",N.profile.industry=S.industry||((K=S.profile)==null?void 0:K.industry)||"",N.profile.companySize=S.companySize||((ce=S.profile)==null?void 0:ce.companySize)||"",N.profile.companyLocation=S.companyLocation||((le=S.profile)==null?void 0:le.companyLocation)||""),console.debug("Normalized user data:",{id:N.id,email:N.email,role:N.role,userType:N.userType,hasProfile:!!N.profile&&Object.keys(N.profile).length>0}),N},x=async(S,G,q,R)=>{console.log("Nieuw gebruikersprofiel aanmaken voor",S);const N=ut(Le,"users",S),E={id:S,email:G||"",displayName:q,fullName:q,role:R,userType:R,createdAt:new Date,updatedAt:new Date};let T;return R==="werkzoekende"?T={...E,profile:{skills:[],availability:"",cv:"",linkedin:"",portfolio:"",experience:"",education:[]}}:T={...E,profile:{company:"",position:"",companyLogo:"",companyWebsite:"",companyDescription:"",kvkNumber:""}},await rf(N,T),console.log("Gebruikersprofiel aangemaakt:",R),T},j=async(S,G,q,R)=>{try{const E=(await nw(cs,S,G)).user;await rw(E,{displayName:q});const T=await x(E.uid,E.email||"",q,R);o(T)}catch(N){throw console.error("Fout bij registratie:",N),N}},w=async(S,G)=>{try{console.log("Inlogpoging voor:",S),await e4(cs,S,G),console.log("Inloggen succesvol")}catch(q){throw console.error("Fout bij inloggen:",q),console.error("Fout code:",q.code),console.error("Fout bericht:",q.message),q}},k=async()=>{try{await i4(cs)}catch(S){throw console.error("Fout bij uitloggen:",S),S}},z=async S=>{try{await ZS(cs,S)}catch(G){throw console.error("Fout bij wachtwoord reset:",G),G}},$=async S=>{try{console.log("Bezig met laden van gebruikersprofiel voor",S);const G=ut(Le,"users",S),q=await An(G);if(q.exists()){const R=q.data();console.log("Ruwe gebruikersdata uit Firestore:",R),R.email||(console.warn("Gebruikersprofiel heeft geen email - proberen te repareren"),e!=null&&e.email&&(await Gn(G,{email:e.email}),R.email=e.email));const N={...R,id:S};!N.role&&!N.userType&&(console.warn("Gebruikersprofiel heeft geen rol - proberen te repareren"),N.role="werkzoekende",await Gn(G,{role:"werkzoekende",userType:"werkzoekende"})),(!N.profile||Object.keys(N.profile||{}).length===0)&&(console.warn("Gebruikersprofiel heeft geen profiel object - proberen te repareren"),N.role==="werkzoekende"||N.userType==="werkzoekende"?(N.profile={skills:[],availability:"",cv:"",linkedin:"",portfolio:"",experience:"",education:[]},await Gn(G,{profile:N.profile})):(N.role==="recruiter"||N.userType==="recruiter")&&(N.profile={company:"",position:"",companyLogo:"",companyWebsite:"",companyDescription:"",kvkNumber:""},await Gn(G,{profile:N.profile})));const E=y(N,S);console.log("Genormaliseerde gebruikersdata:",E);const T=bj(E);T?(console.log("Gebruikersprofiel geladen met rol:",T),o(E)):(console.warn("Gebruikersprofiel heeft geen geldige rol - zetten op null"),o(null))}else console.error("Geen gebruikersprofiel gevonden in Firestore"),o(null)}catch(G){throw console.error("Fout bij laden gebruikersprofiel:",G),o(null),G}},U=async()=>{if(!e)throw new Error("Kan profiel niet verversen: gebruiker niet ingelogd");try{await $(e.uid);return}catch(S){throw console.error("Fout bij verversen gebruikersprofiel:",S),S}},H=async(S,G)=>{if(!e)throw new Error("Je moet ingelogd zijn om een profiel aan te maken");try{const q=await x(e.uid,e.email||"",S||e.displayName||"Gebruiker",G);return o(q),q}catch(q){throw console.error("Fout bij aanmaken/updaten profiel:",q),q}};F.useEffect(()=>{console.log("Auth state verandering monitoren opstarten...");const S=setTimeout(()=>{console.log("VEILIGHEIDSTIMER: loading geforceerd op false na timeout"),d(!1),p(new Error("Het profiel kon niet tijdig worden geladen. Probeer het opnieuw."))},15e3);try{const G=s4(cs,async q=>{try{if(console.log("Auth state verandering gedetecteerd:",q?"Gebruiker aanwezig":"Geen gebruiker"),t(q),q)try{await $(q.uid)}catch(R){console.error("Fout bij laden gebruikersprofiel:",R),o(null),R instanceof Error?p(R):p(new Error("Onbekende fout bij laden gebruikersprofiel"))}else o(null);console.log("Loading status wordt op false gezet"),d(!1),clearTimeout(S)}catch(R){console.error("Onverwachte fout in auth state verandering handler:",R),d(!1),clearTimeout(S),R instanceof Error?p(R):p(new Error("Onverwachte fout in auth state verandering handler"))}});return()=>{G(),clearTimeout(S)}}catch(G){return console.error("Kritieke fout bij initialiseren Firebase Auth:",G),d(!1),clearTimeout(S),G instanceof Error?p(G):p(new Error("Kritieke fout bij initialiseren Firebase Auth")),()=>{}}},[]),console.log("AuthProvider rendering met loading status:",c,"authError:",m?"JA":"NEE");const M={currentUser:e,userProfile:i,loading:c,authError:m,register:j,login:w,logout:k,resetPassword:z,createOrUpdateProfile:H,refreshUserProfile:U};return a.jsx(_j.Provider,{value:M,children:!c&&n})},wj=F.createContext(void 0),I0=()=>{const n=F.useContext(wj);if(n===void 0)throw new Error("useMessages moet binnen een MessageProvider gebruikt worden");return n},Y3=({children:n})=>{const{currentUser:e}=kt(),[t,i]=F.useState([]),[o,c]=F.useState(null),[d,m]=F.useState([]),[p,y]=F.useState(!0),[x,j]=F.useState(!1),[w,k]=F.useState(null);F.useEffect(()=>{if(!e){i([]),c(null),m([]),y(!1);return}y(!0),k(null);const G=an(Le,"chats"),q=Sr(G,Rr("participants","array-contains",e.uid),fl("lastMessageTimestamp","desc")),R=R1(q,async N=>{try{const E=N.docs.map(async L=>{var ye,me;const D=L.data(),I=D.participants.find(O=>O!==e.uid);if(!I)return console.error("Geen andere gebruiker gevonden in chat",D.id),null;const Te=ut(Le,"users",I),Ie=await An(Te);if(!Ie.exists())return console.error("Gebruiker niet gevonden",I),null;const Z=Ie.data();let re=0;return typeof D.unreadCount=="number"?re=D.unreadCount:typeof D.unreadCount=="object"&&D.unreadCount!==null&&(re=D.unreadCount[e.uid]||0),{...D,id:L.id,otherUser:{id:I,displayName:Z.displayName||Z.name||"Onbekende gebruiker",photoURL:Z.photoURL||Z.profileImage||Z.profilePhoto||((ye=Z.profile)==null?void 0:ye.profilePhoto)||((me=Z.profile)==null?void 0:me.profileImage)||"",role:Z.role||Z.userType||""},unreadCount:re}}),P=(await Promise.all(E)).filter(L=>L!==null);i(P),y(!1)}catch(E){console.error("Fout bij het ophalen van chats:",E),k("Kon chats niet laden. Probeer het later opnieuw."),y(!1)}},N=>{console.error("Fout bij chat subscription:",N),k("Kon chats niet laden. Probeer het later opnieuw."),y(!1)});return()=>R()},[e]),F.useEffect(()=>{if(!o){m([]);return}j(!0);const G=an(Le,"chats",o.id,"messages"),q=Sr(G,fl("timestamp","asc")),R=R1(q,N=>{const E=N.docs.map(T=>({...T.data(),id:T.id}));m(E),j(!1)},N=>{console.error("Fout bij messages subscription:",N),k("Kon berichten niet laden. Probeer het later opnieuw."),j(!1)});return()=>R()},[o]);const z=async(G,q)=>{if(!e)throw new Error("Je moet ingelogd zijn om berichten te sturen");try{const R={senderId:e.uid,text:q,timestamp:Ye.now(),read:!1};await ml(an(Le,"chats",G,"messages"),R);const N=await An(ut(Le,"chats",G));if(!N.exists())throw new Error("Chat niet gevonden");const E=N.data(),T=E.participants.find(L=>L!==e.uid);if(!T)throw new Error("Kon andere gebruiker in de chat niet vinden");const P={lastMessage:q,lastMessageTimestamp:Ye.now(),updatedAt:Ye.now()};typeof E.unreadCount=="number"?P.unreadCount={[e.uid]:0,[T]:(E.unreadCount||0)+1}:P[`unreadCount.${T}`]=(E.unreadCount[T]||0)+1,await Gn(ut(Le,"chats",G),P)}catch(R){throw console.error("Fout bij het verzenden van bericht:",R),new Error("Kon bericht niet verzenden. Probeer het later opnieuw.")}},$=async G=>{if(!e)throw new Error("Je moet ingelogd zijn om een chat te starten");try{const q=Sr(an(Le,"chats"),Rr("participants","array-contains",e.uid)),N=(await Cr(q)).docs.find(T=>T.data().participants.includes(G));return N?N.id:(await ml(an(Le,"chats"),{participants:[e.uid,G],lastMessage:"",lastMessageTimestamp:Ye.now(),createdAt:Ye.now(),updatedAt:Ye.now(),unreadCount:{[e.uid]:0,[G]:0}})).id}catch(q){throw console.error("Fout bij het aanmaken van een nieuwe chat:",q),new Error("Kon geen nieuwe chat starten. Probeer het later opnieuw.")}},U=async G=>{try{const q=t.find(R=>R.id===G);if(q)c(q),await H(G);else{if(!(await An(ut(Le,"chats",G))).exists())throw new Error("Chat bestaat niet");k("Chat kon niet worden gevonden.")}}catch(q){console.error("Fout bij het instellen van actieve chat:",q),k("Kon de chat niet openen. Probeer het later opnieuw.")}},H=async G=>{if(e)try{const q=await An(ut(Le,"chats",G));if(!q.exists())return;typeof q.data().unreadCount=="number"?await Gn(ut(Le,"chats",G),{unreadCount:0}):await Gn(ut(Le,"chats",G),{[`unreadCount.${e.uid}`]:0});const N=an(Le,"chats",G,"messages"),E=Sr(N,Rr("senderId","!=",e.uid),Rr("read","==",!1)),T=await Cr(E),P=new Array;T.docs.forEach(L=>{P.push(Gn(L.ref,{read:!0}))}),await Promise.all(P)}catch(q){console.error("Fout bij het markeren van berichten als gelezen:",q)}},S={chats:t,activeChat:o,messages:d,loadingChats:p,loadingMessages:x,error:w,sendMessage:z,createNewChat:$,setActiveChatById:U,markChatAsRead:H,getUnreadCount:()=>e?t.reduce((G,q)=>{let R=0;return typeof q.unreadCount=="number"?R=q.unreadCount:typeof q.unreadCount=="object"&&q.unreadCount!==null&&(R=q.unreadCount[e.uid]||0),G+R},0):0};return a.jsx(wj.Provider,{value:S,children:n})},jj=F.createContext(void 0),Nj=()=>{const n=F.useContext(jj);if(n===void 0)throw new Error("useFavorites moet binnen een FavoritesProvider gebruikt worden");return n},W3=({children:n})=>{const[e,t]=F.useState([]),[i,o]=F.useState(!1),[c,d]=F.useState(null),{currentUser:m,userProfile:p}=kt(),y=async()=>{if(!m){t([]);return}o(!0),d(null);try{const $=an(Le,"favorites"),U=Sr($,Rr("userId","==",m.uid)),H=await Cr(U),M=[];H.forEach(S=>{var q;const G=S.data();M.push({id:S.id,jobId:G.jobId,userId:G.userId,createdAt:((q=G.createdAt)==null?void 0:q.toDate())||new Date,job:G.job||void 0})}),console.log(`${M.length} favorieten geladen voor gebruiker ${m.uid}`),t(M)}catch($){console.error("Fout bij ophalen favorieten:",$),d($ instanceof Error?$:new Error("Onbekende fout bij ophalen favorieten"))}finally{o(!1)}},x=async($,U)=>{if(!m)throw new Error("Je moet ingelogd zijn om een vacature als favoriet te markeren");o(!0),d(null);try{const H=`${m.uid}_${$}`,M=ut(Le,"favorites",H),S={jobId:$,userId:m.uid,createdAt:new Date,job:{id:$,title:U.title||"Onbekende functie",company:U.company||"Onbekend bedrijf",location:U.location||"Locatie onbekend",salary:U.salary}},G={id:H,...S};t(q=>q.some(R=>R.jobId===$)?q:[...q,G]),await rf(M,S),console.log(`Favoriet toegevoegd met ID: ${H}`)}catch(H){throw console.error("Fout bij toevoegen favoriet:",H),d(H instanceof Error?H:new Error("Onbekende fout bij toevoegen favoriet")),y(),H}finally{o(!1)}},j=async $=>{if(!m)throw new Error("Je moet ingelogd zijn om een favoriet te verwijderen");o(!0),d(null);try{const U=`${m.uid}_${$}`,H=ut(Le,"favorites",U);t(M=>M.filter(S=>S.jobId!==$)),await gI(H),console.log(`Favoriet verwijderd met ID: ${U}`)}catch(U){throw console.error("Fout bij verwijderen favoriet:",U),d(U instanceof Error?U:new Error("Onbekende fout bij verwijderen favoriet")),y(),U}finally{o(!1)}},w=$=>e.some(U=>U.jobId===$),k=async()=>{await y()};F.useEffect(()=>{m?(console.log("Gebruiker aangemeld, favorieten ophalen..."),y()):(console.log("Geen gebruiker, favorieten leegmaken"),t([]))},[m]);const z={favorites:e,loading:i,error:c,addFavorite:x,removeFavorite:j,isFavorite:w,refreshFavorites:k};return a.jsx(jj.Provider,{value:z,children:n})};var yu=n=>n.type==="checkbox",Fa=n=>n instanceof Date,Hn=n=>n==null;const Ej=n=>typeof n=="object";var Xt=n=>!Hn(n)&&!Array.isArray(n)&&Ej(n)&&!Fa(n),Tj=n=>Xt(n)&&n.target?yu(n.target)?n.target.checked:n.target.value:n,X3=n=>n.substring(0,n.search(/\.\d+(\.|$)/))||n,Aj=(n,e)=>n.has(X3(e)),J3=n=>{const e=n.constructor&&n.constructor.prototype;return Xt(e)&&e.hasOwnProperty("isPrototypeOf")},D0=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Lt(n){let e;const t=Array.isArray(n),i=typeof FileList<"u"?n instanceof FileList:!1;if(n instanceof Date)e=new Date(n);else if(n instanceof Set)e=new Set(n);else if(!(D0&&(n instanceof Blob||i))&&(t||Xt(n)))if(e=t?[]:{},!t&&!J3(n))e=n;else for(const o in n)n.hasOwnProperty(o)&&(e[o]=Lt(n[o]));else return n;return e}var vu=n=>Array.isArray(n)?n.filter(Boolean):[],Ct=n=>n===void 0,Ae=(n,e,t)=>{if(!e||!Xt(n))return t;const i=vu(e.split(/[,[\].]+?/)).reduce((o,c)=>Hn(o)?o:o[c],n);return Ct(i)||i===n?Ct(n[e])?t:n[e]:i},dr=n=>typeof n=="boolean",O0=n=>/^\w*$/.test(n),Sj=n=>vu(n.replace(/["|']|\]/g,"").split(/\.|\[/)),xt=(n,e,t)=>{let i=-1;const o=O0(e)?[e]:Sj(e),c=o.length,d=c-1;for(;++i<c;){const m=o[i];let p=t;if(i!==d){const y=n[m];p=Xt(y)||Array.isArray(y)?y:isNaN(+o[i+1])?{}:[]}if(m==="__proto__"||m==="constructor"||m==="prototype")return;n[m]=p,n=n[m]}};const Ah={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Ar={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ws={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},Z3=Pe.createContext(null),mf=()=>Pe.useContext(Z3);var Rj=(n,e,t,i=!0)=>{const o={defaultValues:e._defaultValues};for(const c in n)Object.defineProperty(o,c,{get:()=>{const d=c;return e._proxyFormState[d]!==Ar.all&&(e._proxyFormState[d]=!i||Ar.all),t&&(t[d]=!0),n[d]}});return o};function eD(n){const e=mf(),{control:t=e.control,disabled:i,name:o,exact:c}=n||{},[d,m]=Pe.useState(t._formState),p=Pe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),y=Pe.useRef(o);return y.current=o,Pe.useEffect(()=>t._subscribe({name:y.current,formState:p.current,exact:c,callback:x=>{!i&&m({...t._formState,...x})}}),[t,i,c]),Pe.useEffect(()=>{p.current.isValid&&t._setValid(!0)},[t]),Pe.useMemo(()=>Rj(d,t,p.current,!1),[d,t])}var hs=n=>typeof n=="string",kj=(n,e,t,i,o)=>hs(n)?(i&&e.watch.add(n),Ae(t,n,o)):Array.isArray(n)?n.map(c=>(i&&e.watch.add(c),Ae(t,c))):(i&&(e.watchAll=!0),t);function tD(n){const e=mf(),{control:t=e.control,name:i,defaultValue:o,disabled:c,exact:d}=n||{},m=Pe.useRef(i),p=Pe.useRef(o);m.current=i,Pe.useEffect(()=>t._subscribe({name:m.current,formState:{values:!0},exact:d,callback:j=>!c&&x(kj(m.current,t._names,j.values||t._formValues,!1,p.current))}),[t,c,d]);const[y,x]=Pe.useState(t._getWatch(i,o));return Pe.useEffect(()=>t._removeUnmounted()),y}function nD(n){const e=mf(),{name:t,disabled:i,control:o=e.control,shouldUnregister:c}=n,d=Aj(o._names.array,t),m=tD({control:o,name:t,defaultValue:Ae(o._formValues,t,Ae(o._defaultValues,t,n.defaultValue)),exact:!0}),p=eD({control:o,name:t,exact:!0}),y=Pe.useRef(n),x=Pe.useRef(o.register(t,{...n.rules,value:m,...dr(n.disabled)?{disabled:n.disabled}:{}})),j=Pe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!Ae(p.errors,t)},isDirty:{enumerable:!0,get:()=>!!Ae(p.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!Ae(p.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!Ae(p.validatingFields,t)},error:{enumerable:!0,get:()=>Ae(p.errors,t)}}),[p,t]),w=Pe.useCallback(U=>x.current.onChange({target:{value:Tj(U),name:t},type:Ah.CHANGE}),[t]),k=Pe.useCallback(()=>x.current.onBlur({target:{value:Ae(o._formValues,t),name:t},type:Ah.BLUR}),[t,o._formValues]),z=Pe.useCallback(U=>{const H=Ae(o._fields,t);H&&U&&(H._f.ref={focus:()=>U.focus(),select:()=>U.select(),setCustomValidity:M=>U.setCustomValidity(M),reportValidity:()=>U.reportValidity()})},[o._fields,t]),$=Pe.useMemo(()=>({name:t,value:m,...dr(i)||p.disabled?{disabled:p.disabled||i}:{},onChange:w,onBlur:k,ref:z}),[t,i,p.disabled,w,k,z,m]);return Pe.useEffect(()=>{const U=o._options.shouldUnregister||c;o.register(t,{...y.current.rules,...dr(y.current.disabled)?{disabled:y.current.disabled}:{}});const H=(M,S)=>{const G=Ae(o._fields,M);G&&G._f&&(G._f.mount=S)};if(H(t,!0),U){const M=Lt(Ae(o._options.defaultValues,t));xt(o._defaultValues,t,M),Ct(Ae(o._formValues,t))&&xt(o._formValues,t,M)}return!d&&o.register(t),()=>{(d?U&&!o._state.action:U)?o.unregister(t):H(t,!1)}},[t,o,d,c]),Pe.useEffect(()=>{o._setDisabledField({disabled:i,name:t})},[i,t,o]),Pe.useMemo(()=>({field:$,formState:p,fieldState:j}),[$,p,j])}const rD=n=>n.render(nD(n));var sD=(n,e,t,i,o)=>e?{...t[n],types:{...t[n]&&t[n].types?t[n].types:{},[i]:o||!0}}:{},Xn=n=>Array.isArray(n)?n:[n],q1=()=>{let n=[];return{get observers(){return n},next:o=>{for(const c of n)c.next&&c.next(o)},subscribe:o=>(n.push(o),{unsubscribe:()=>{n=n.filter(c=>c!==o)}}),unsubscribe:()=>{n=[]}}},vg=n=>Hn(n)||!Ej(n);function $i(n,e){if(vg(n)||vg(e))return n===e;if(Fa(n)&&Fa(e))return n.getTime()===e.getTime();const t=Object.keys(n),i=Object.keys(e);if(t.length!==i.length)return!1;for(const o of t){const c=n[o];if(!i.includes(o))return!1;if(o!=="ref"){const d=e[o];if(Fa(c)&&Fa(d)||Xt(c)&&Xt(d)||Array.isArray(c)&&Array.isArray(d)?!$i(c,d):c!==d)return!1}}return!0}var Dn=n=>Xt(n)&&!Object.keys(n).length,V0=n=>n.type==="file",Br=n=>typeof n=="function",Sh=n=>{if(!D0)return!1;const e=n?n.ownerDocument:0;return n instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Cj=n=>n.type==="select-multiple",M0=n=>n.type==="radio",iD=n=>M0(n)||yu(n),Vp=n=>Sh(n)&&n.isConnected;function aD(n,e){const t=e.slice(0,-1).length;let i=0;for(;i<t;)n=Ct(n)?i++:n[e[i++]];return n}function oD(n){for(const e in n)if(n.hasOwnProperty(e)&&!Ct(n[e]))return!1;return!0}function sn(n,e){const t=Array.isArray(e)?e:O0(e)?[e]:Sj(e),i=t.length===1?n:aD(n,t),o=t.length-1,c=t[o];return i&&delete i[c],o!==0&&(Xt(i)&&Dn(i)||Array.isArray(i)&&oD(i))&&sn(n,t.slice(0,-1)),n}var Ij=n=>{for(const e in n)if(Br(n[e]))return!0;return!1};function Rh(n,e={}){const t=Array.isArray(n);if(Xt(n)||t)for(const i in n)Array.isArray(n[i])||Xt(n[i])&&!Ij(n[i])?(e[i]=Array.isArray(n[i])?[]:{},Rh(n[i],e[i])):Hn(n[i])||(e[i]=!0);return e}function Dj(n,e,t){const i=Array.isArray(n);if(Xt(n)||i)for(const o in n)Array.isArray(n[o])||Xt(n[o])&&!Ij(n[o])?Ct(e)||vg(t[o])?t[o]=Array.isArray(n[o])?Rh(n[o],[]):{...Rh(n[o])}:Dj(n[o],Hn(e)?{}:e[o],t[o]):t[o]=!$i(n[o],e[o]);return t}var Cc=(n,e)=>Dj(n,e,Rh(e));const H1={value:!1,isValid:!1},G1={value:!0,isValid:!0};var Oj=n=>{if(Array.isArray(n)){if(n.length>1){const e=n.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return n[0].checked&&!n[0].disabled?n[0].attributes&&!Ct(n[0].attributes.value)?Ct(n[0].value)||n[0].value===""?G1:{value:n[0].value,isValid:!0}:G1:H1}return H1},Vj=(n,{valueAsNumber:e,valueAsDate:t,setValueAs:i})=>Ct(n)?n:e?n===""?NaN:n&&+n:t&&hs(n)?new Date(n):i?i(n):n;const $1={isValid:!1,value:null};var Mj=n=>Array.isArray(n)?n.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,$1):$1;function K1(n){const e=n.ref;return V0(e)?e.files:M0(e)?Mj(n.refs).value:Cj(e)?[...e.selectedOptions].map(({value:t})=>t):yu(e)?Oj(n.refs).value:Vj(Ct(e.value)?n.ref.value:e.value,n)}var lD=(n,e,t,i)=>{const o={};for(const c of n){const d=Ae(e,c);d&&xt(o,c,d._f)}return{criteriaMode:t,names:[...n],fields:o,shouldUseNativeValidation:i}},kh=n=>n instanceof RegExp,Ic=n=>Ct(n)?n:kh(n)?n.source:Xt(n)?kh(n.value)?n.value.source:n.value:n,Zo=n=>({isOnSubmit:!n||n===Ar.onSubmit,isOnBlur:n===Ar.onBlur,isOnChange:n===Ar.onChange,isOnAll:n===Ar.all,isOnTouch:n===Ar.onTouched});const Q1="AsyncFunction";var cD=n=>!!n&&!!n.validate&&!!(Br(n.validate)&&n.validate.constructor.name===Q1||Xt(n.validate)&&Object.values(n.validate).find(e=>e.constructor.name===Q1)),uD=n=>n.mount&&(n.required||n.min||n.max||n.maxLength||n.minLength||n.pattern||n.validate),xg=(n,e,t)=>!t&&(e.watchAll||e.watch.has(n)||[...e.watch].some(i=>n.startsWith(i)&&/^\.\w+/.test(n.slice(i.length))));const sl=(n,e,t,i)=>{for(const o of t||Object.keys(n)){const c=Ae(n,o);if(c){const{_f:d,...m}=c;if(d){if(d.refs&&d.refs[0]&&e(d.refs[0],o)&&!i)return!0;if(d.ref&&e(d.ref,d.name)&&!i)return!0;if(sl(m,e))break}else if(Xt(m)&&sl(m,e))break}}};function Y1(n,e,t){const i=Ae(n,t);if(i||O0(t))return{error:i,name:t};const o=t.split(".");for(;o.length;){const c=o.join("."),d=Ae(e,c),m=Ae(n,c);if(d&&!Array.isArray(d)&&t!==c)return{name:t};if(m&&m.type)return{name:c,error:m};o.pop()}return{name:t}}var dD=(n,e,t,i)=>{t(n);const{name:o,...c}=n;return Dn(c)||Object.keys(c).length>=Object.keys(e).length||Object.keys(c).find(d=>e[d]===(!i||Ar.all))},hD=(n,e,t)=>!n||!e||n===e||Xn(n).some(i=>i&&(t?i===e:i.startsWith(e)||e.startsWith(i))),fD=(n,e,t,i,o)=>o.isOnAll?!1:!t&&o.isOnTouch?!(e||n):(t?i.isOnBlur:o.isOnBlur)?!n:(t?i.isOnChange:o.isOnChange)?n:!0,mD=(n,e)=>!vu(Ae(n,e)).length&&sn(n,e),Pj=(n,e,t)=>{const i=Xn(Ae(n,t));return xt(i,"root",e[t]),xt(n,t,i),n},ih=n=>hs(n);function W1(n,e,t="validate"){if(ih(n)||Array.isArray(n)&&n.every(ih)||dr(n)&&!n)return{type:t,message:ih(n)?n:"",ref:e}}var Qo=n=>Xt(n)&&!kh(n)?n:{value:n,message:""},bg=async(n,e,t,i,o,c)=>{const{ref:d,refs:m,required:p,maxLength:y,minLength:x,min:j,max:w,pattern:k,validate:z,name:$,valueAsNumber:U,mount:H}=n._f,M=Ae(t,$);if(!H||e.has($))return{};const S=m?m[0]:d,G=D=>{o&&S.reportValidity&&(S.setCustomValidity(dr(D)?"":D||""),S.reportValidity())},q={},R=M0(d),N=yu(d),E=R||N,T=(U||V0(d))&&Ct(d.value)&&Ct(M)||Sh(d)&&d.value===""||M===""||Array.isArray(M)&&!M.length,P=sD.bind(null,$,i,q),L=(D,I,Te,Ie=Ws.maxLength,Z=Ws.minLength)=>{const re=D?I:Te;q[$]={type:D?Ie:Z,message:re,ref:d,...P(D?Ie:Z,re)}};if(c?!Array.isArray(M)||!M.length:p&&(!E&&(T||Hn(M))||dr(M)&&!M||N&&!Oj(m).isValid||R&&!Mj(m).isValid)){const{value:D,message:I}=ih(p)?{value:!!p,message:p}:Qo(p);if(D&&(q[$]={type:Ws.required,message:I,ref:S,...P(Ws.required,I)},!i))return G(I),q}if(!T&&(!Hn(j)||!Hn(w))){let D,I;const Te=Qo(w),Ie=Qo(j);if(!Hn(M)&&!isNaN(M)){const Z=d.valueAsNumber||M&&+M;Hn(Te.value)||(D=Z>Te.value),Hn(Ie.value)||(I=Z<Ie.value)}else{const Z=d.valueAsDate||new Date(M),re=O=>new Date(new Date().toDateString()+" "+O),ye=d.type=="time",me=d.type=="week";hs(Te.value)&&M&&(D=ye?re(M)>re(Te.value):me?M>Te.value:Z>new Date(Te.value)),hs(Ie.value)&&M&&(I=ye?re(M)<re(Ie.value):me?M<Ie.value:Z<new Date(Ie.value))}if((D||I)&&(L(!!D,Te.message,Ie.message,Ws.max,Ws.min),!i))return G(q[$].message),q}if((y||x)&&!T&&(hs(M)||c&&Array.isArray(M))){const D=Qo(y),I=Qo(x),Te=!Hn(D.value)&&M.length>+D.value,Ie=!Hn(I.value)&&M.length<+I.value;if((Te||Ie)&&(L(Te,D.message,I.message),!i))return G(q[$].message),q}if(k&&!T&&hs(M)){const{value:D,message:I}=Qo(k);if(kh(D)&&!M.match(D)&&(q[$]={type:Ws.pattern,message:I,ref:d,...P(Ws.pattern,I)},!i))return G(I),q}if(z){if(Br(z)){const D=await z(M,t),I=W1(D,S);if(I&&(q[$]={...I,...P(Ws.validate,I.message)},!i))return G(I.message),q}else if(Xt(z)){let D={};for(const I in z){if(!Dn(D)&&!i)break;const Te=W1(await z[I](M,t),S,I);Te&&(D={...Te,...P(I,Te.message)},G(Te.message),i&&(q[$]=D))}if(!Dn(D)&&(q[$]={ref:S,...D},!i))return q}}return G(!0),q};const pD={mode:Ar.onSubmit,reValidateMode:Ar.onChange,shouldFocusError:!0};function gD(n={}){let e={...pD,...n},t={submitCount:0,isDirty:!1,isLoading:Br(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const i={};let o=Xt(e.defaultValues)||Xt(e.values)?Lt(e.values||e.defaultValues)||{}:{},c=e.shouldUnregister?{}:Lt(o),d={action:!1,mount:!1,watch:!1},m={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},p,y=0;const x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let j={...x};const w={array:q1(),state:q1()},k=Zo(e.mode),z=Zo(e.reValidateMode),$=e.criteriaMode===Ar.all,U=V=>X=>{clearTimeout(y),y=setTimeout(V,X)},H=async V=>{if(!e.disabled&&(x.isValid||j.isValid||V)){const X=e.resolver?Dn((await T()).errors):await L(i,!0);X!==t.isValid&&w.state.next({isValid:X})}},M=(V,X)=>{!e.disabled&&(x.isValidating||x.validatingFields||j.isValidating||j.validatingFields)&&((V||Array.from(m.mount)).forEach(ie=>{ie&&(X?xt(t.validatingFields,ie,X):sn(t.validatingFields,ie))}),w.state.next({validatingFields:t.validatingFields,isValidating:!Dn(t.validatingFields)}))},S=(V,X=[],ie,we,pe=!0,oe=!0)=>{if(we&&ie&&!e.disabled){if(d.action=!0,oe&&Array.isArray(Ae(i,V))){const Ee=ie(Ae(i,V),we.argA,we.argB);pe&&xt(i,V,Ee)}if(oe&&Array.isArray(Ae(t.errors,V))){const Ee=ie(Ae(t.errors,V),we.argA,we.argB);pe&&xt(t.errors,V,Ee),mD(t.errors,V)}if((x.touchedFields||j.touchedFields)&&oe&&Array.isArray(Ae(t.touchedFields,V))){const Ee=ie(Ae(t.touchedFields,V),we.argA,we.argB);pe&&xt(t.touchedFields,V,Ee)}(x.dirtyFields||j.dirtyFields)&&(t.dirtyFields=Cc(o,c)),w.state.next({name:V,isDirty:I(V,X),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else xt(c,V,X)},G=(V,X)=>{xt(t.errors,V,X),w.state.next({errors:t.errors})},q=V=>{t.errors=V,w.state.next({errors:t.errors,isValid:!1})},R=(V,X,ie,we)=>{const pe=Ae(i,V);if(pe){const oe=Ae(c,V,Ct(ie)?Ae(o,V):ie);Ct(oe)||we&&we.defaultChecked||X?xt(c,V,X?oe:K1(pe._f)):Z(V,oe),d.mount&&H()}},N=(V,X,ie,we,pe)=>{let oe=!1,Ee=!1;const Ve={name:V};if(!e.disabled){if(!ie||we){(x.isDirty||j.isDirty)&&(Ee=t.isDirty,t.isDirty=Ve.isDirty=I(),oe=Ee!==Ve.isDirty);const ft=$i(Ae(o,V),X);Ee=!!Ae(t.dirtyFields,V),ft?sn(t.dirtyFields,V):xt(t.dirtyFields,V,!0),Ve.dirtyFields=t.dirtyFields,oe=oe||(x.dirtyFields||j.dirtyFields)&&Ee!==!ft}if(ie){const ft=Ae(t.touchedFields,V);ft||(xt(t.touchedFields,V,ie),Ve.touchedFields=t.touchedFields,oe=oe||(x.touchedFields||j.touchedFields)&&ft!==ie)}oe&&pe&&w.state.next(Ve)}return oe?Ve:{}},E=(V,X,ie,we)=>{const pe=Ae(t.errors,V),oe=(x.isValid||j.isValid)&&dr(X)&&t.isValid!==X;if(e.delayError&&ie?(p=U(()=>G(V,ie)),p(e.delayError)):(clearTimeout(y),p=null,ie?xt(t.errors,V,ie):sn(t.errors,V)),(ie?!$i(pe,ie):pe)||!Dn(we)||oe){const Ee={...we,...oe&&dr(X)?{isValid:X}:{},errors:t.errors,name:V};t={...t,...Ee},w.state.next(Ee)}},T=async V=>{M(V,!0);const X=await e.resolver(c,e.context,lD(V||m.mount,i,e.criteriaMode,e.shouldUseNativeValidation));return M(V),X},P=async V=>{const{errors:X}=await T(V);if(V)for(const ie of V){const we=Ae(X,ie);we?xt(t.errors,ie,we):sn(t.errors,ie)}else t.errors=X;return X},L=async(V,X,ie={valid:!0})=>{for(const we in V){const pe=V[we];if(pe){const{_f:oe,...Ee}=pe;if(oe){const Ve=m.array.has(oe.name),ft=pe._f&&cD(pe._f);ft&&x.validatingFields&&M([we],!0);const At=await bg(pe,m.disabled,c,$,e.shouldUseNativeValidation&&!X,Ve);if(ft&&x.validatingFields&&M([we]),At[oe.name]&&(ie.valid=!1,X))break;!X&&(Ae(At,oe.name)?Ve?Pj(t.errors,At,oe.name):xt(t.errors,oe.name,At[oe.name]):sn(t.errors,oe.name))}!Dn(Ee)&&await L(Ee,X,ie)}}return ie.valid},D=()=>{for(const V of m.unMount){const X=Ae(i,V);X&&(X._f.refs?X._f.refs.every(ie=>!Vp(ie)):!Vp(X._f.ref))&&Be(V)}m.unMount=new Set},I=(V,X)=>!e.disabled&&(V&&X&&xt(c,V,X),!$i(ce(),o)),Te=(V,X,ie)=>kj(V,m,{...d.mount?c:Ct(X)?o:hs(V)?{[V]:X}:X},ie,X),Ie=V=>vu(Ae(d.mount?c:o,V,e.shouldUnregister?Ae(o,V,[]):[])),Z=(V,X,ie={})=>{const we=Ae(i,V);let pe=X;if(we){const oe=we._f;oe&&(!oe.disabled&&xt(c,V,Vj(X,oe)),pe=Sh(oe.ref)&&Hn(X)?"":X,Cj(oe.ref)?[...oe.ref.options].forEach(Ee=>Ee.selected=pe.includes(Ee.value)):oe.refs?yu(oe.ref)?oe.refs.length>1?oe.refs.forEach(Ee=>(!Ee.defaultChecked||!Ee.disabled)&&(Ee.checked=Array.isArray(pe)?!!pe.find(Ve=>Ve===Ee.value):pe===Ee.value)):oe.refs[0]&&(oe.refs[0].checked=!!pe):oe.refs.forEach(Ee=>Ee.checked=Ee.value===pe):V0(oe.ref)?oe.ref.value="":(oe.ref.value=pe,oe.ref.type||w.state.next({name:V,values:Lt(c)})))}(ie.shouldDirty||ie.shouldTouch)&&N(V,pe,ie.shouldTouch,ie.shouldDirty,!0),ie.shouldValidate&&K(V)},re=(V,X,ie)=>{for(const we in X){const pe=X[we],oe=`${V}.${we}`,Ee=Ae(i,oe);(m.array.has(V)||Xt(pe)||Ee&&!Ee._f)&&!Fa(pe)?re(oe,pe,ie):Z(oe,pe,ie)}},ye=(V,X,ie={})=>{const we=Ae(i,V),pe=m.array.has(V),oe=Lt(X);xt(c,V,oe),pe?(w.array.next({name:V,values:Lt(c)}),(x.isDirty||x.dirtyFields||j.isDirty||j.dirtyFields)&&ie.shouldDirty&&w.state.next({name:V,dirtyFields:Cc(o,c),isDirty:I(V,oe)})):we&&!we._f&&!Hn(oe)?re(V,oe,ie):Z(V,oe,ie),xg(V,m)&&w.state.next({...t}),w.state.next({name:d.mount?V:void 0,values:Lt(c)})},me=async V=>{d.mount=!0;const X=V.target;let ie=X.name,we=!0;const pe=Ae(i,ie),oe=Ee=>{we=Number.isNaN(Ee)||Fa(Ee)&&isNaN(Ee.getTime())||$i(Ee,Ae(c,ie,Ee))};if(pe){let Ee,Ve;const ft=X.type?K1(pe._f):Tj(V),At=V.type===Ah.BLUR||V.type===Ah.FOCUS_OUT,ws=!uD(pe._f)&&!e.resolver&&!Ae(t.errors,ie)&&!pe._f.deps||fD(At,Ae(t.touchedFields,ie),t.isSubmitted,z,k),Or=xg(ie,m,At);xt(c,ie,ft),At?(pe._f.onBlur&&pe._f.onBlur(V),p&&p(0)):pe._f.onChange&&pe._f.onChange(V);const Vr=N(ie,ft,At),nr=!Dn(Vr)||Or;if(!At&&w.state.next({name:ie,type:V.type,values:Lt(c)}),ws)return(x.isValid||j.isValid)&&(e.mode==="onBlur"?At&&H():At||H()),nr&&w.state.next({name:ie,...Or?{}:Vr});if(!At&&Or&&w.state.next({...t}),e.resolver){const{errors:js}=await T([ie]);if(oe(ft),we){const Ns=Y1(t.errors,i,ie),ui=Y1(js,i,Ns.name||ie);Ee=ui.error,ie=ui.name,Ve=Dn(js)}}else M([ie],!0),Ee=(await bg(pe,m.disabled,c,$,e.shouldUseNativeValidation))[ie],M([ie]),oe(ft),we&&(Ee?Ve=!1:(x.isValid||j.isValid)&&(Ve=await L(i,!0)));we&&(pe._f.deps&&K(pe._f.deps),E(ie,Ve,Ee,Vr))}},O=(V,X)=>{if(Ae(t.errors,X)&&V.focus)return V.focus(),1},K=async(V,X={})=>{let ie,we;const pe=Xn(V);if(e.resolver){const oe=await P(Ct(V)?V:pe);ie=Dn(oe),we=V?!pe.some(Ee=>Ae(oe,Ee)):ie}else V?(we=(await Promise.all(pe.map(async oe=>{const Ee=Ae(i,oe);return await L(Ee&&Ee._f?{[oe]:Ee}:Ee)}))).every(Boolean),!(!we&&!t.isValid)&&H()):we=ie=await L(i);return w.state.next({...!hs(V)||(x.isValid||j.isValid)&&ie!==t.isValid?{}:{name:V},...e.resolver||!V?{isValid:ie}:{},errors:t.errors}),X.shouldFocus&&!we&&sl(i,O,V?pe:m.mount),we},ce=V=>{const X={...d.mount?c:o};return Ct(V)?X:hs(V)?Ae(X,V):V.map(ie=>Ae(X,ie))},le=(V,X)=>({invalid:!!Ae((X||t).errors,V),isDirty:!!Ae((X||t).dirtyFields,V),error:Ae((X||t).errors,V),isValidating:!!Ae(t.validatingFields,V),isTouched:!!Ae((X||t).touchedFields,V)}),ae=V=>{V&&Xn(V).forEach(X=>sn(t.errors,X)),w.state.next({errors:V?t.errors:{}})},je=(V,X,ie)=>{const we=(Ae(i,V,{_f:{}})._f||{}).ref,pe=Ae(t.errors,V)||{},{ref:oe,message:Ee,type:Ve,...ft}=pe;xt(t.errors,V,{...ft,...X,ref:we}),w.state.next({name:V,errors:t.errors,isValid:!1}),ie&&ie.shouldFocus&&we&&we.focus&&we.focus()},be=(V,X)=>Br(V)?w.state.subscribe({next:ie=>V(Te(void 0,X),ie)}):Te(V,X,!0),Ce=V=>w.state.subscribe({next:X=>{hD(V.name,X.name,V.exact)&&dD(X,V.formState||x,tt,V.reRenderRoot)&&V.callback({values:{...c},...t,...X})}}).unsubscribe,Oe=V=>(d.mount=!0,j={...j,...V.formState},Ce({...V,formState:j})),Be=(V,X={})=>{for(const ie of V?Xn(V):m.mount)m.mount.delete(ie),m.array.delete(ie),X.keepValue||(sn(i,ie),sn(c,ie)),!X.keepError&&sn(t.errors,ie),!X.keepDirty&&sn(t.dirtyFields,ie),!X.keepTouched&&sn(t.touchedFields,ie),!X.keepIsValidating&&sn(t.validatingFields,ie),!e.shouldUnregister&&!X.keepDefaultValue&&sn(o,ie);w.state.next({values:Lt(c)}),w.state.next({...t,...X.keepDirty?{isDirty:I()}:{}}),!X.keepIsValid&&H()},Dt=({disabled:V,name:X})=>{(dr(V)&&d.mount||V||m.disabled.has(X))&&(V?m.disabled.add(X):m.disabled.delete(X))},Tt=(V,X={})=>{let ie=Ae(i,V);const we=dr(X.disabled)||dr(e.disabled);return xt(i,V,{...ie||{},_f:{...ie&&ie._f?ie._f:{ref:{name:V}},name:V,mount:!0,...X}}),m.mount.add(V),ie?Dt({disabled:dr(X.disabled)?X.disabled:e.disabled,name:V}):R(V,!0,X.value),{...we?{disabled:X.disabled||e.disabled}:{},...e.progressive?{required:!!X.required,min:Ic(X.min),max:Ic(X.max),minLength:Ic(X.minLength),maxLength:Ic(X.maxLength),pattern:Ic(X.pattern)}:{},name:V,onChange:me,onBlur:me,ref:pe=>{if(pe){Tt(V,X),ie=Ae(i,V);const oe=Ct(pe.value)&&pe.querySelectorAll&&pe.querySelectorAll("input,select,textarea")[0]||pe,Ee=iD(oe),Ve=ie._f.refs||[];if(Ee?Ve.find(ft=>ft===oe):oe===ie._f.ref)return;xt(i,V,{_f:{...ie._f,...Ee?{refs:[...Ve.filter(Vp),oe,...Array.isArray(Ae(o,V))?[{}]:[]],ref:{type:oe.type,name:V}}:{ref:oe}}}),R(V,!1,void 0,oe)}else ie=Ae(i,V,{}),ie._f&&(ie._f.mount=!1),(e.shouldUnregister||X.shouldUnregister)&&!(Aj(m.array,V)&&d.action)&&m.unMount.add(V)}}},Ft=()=>e.shouldFocusError&&sl(i,O,m.mount),Ot=V=>{dr(V)&&(w.state.next({disabled:V}),sl(i,(X,ie)=>{const we=Ae(i,ie);we&&(X.disabled=we._f.disabled||V,Array.isArray(we._f.refs)&&we._f.refs.forEach(pe=>{pe.disabled=we._f.disabled||V}))},0,!1))},Ge=(V,X)=>async ie=>{let we;ie&&(ie.preventDefault&&ie.preventDefault(),ie.persist&&ie.persist());let pe=Lt(c);if(w.state.next({isSubmitting:!0}),e.resolver){const{errors:oe,values:Ee}=await T();t.errors=oe,pe=Ee}else await L(i);if(m.disabled.size)for(const oe of m.disabled)xt(pe,oe,void 0);if(sn(t.errors,"root"),Dn(t.errors)){w.state.next({errors:{}});try{await V(pe,ie)}catch(oe){we=oe}}else X&&await X({...t.errors},ie),Ft(),setTimeout(Ft);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Dn(t.errors)&&!we,submitCount:t.submitCount+1,errors:t.errors}),we)throw we},ve=(V,X={})=>{Ae(i,V)&&(Ct(X.defaultValue)?ye(V,Lt(Ae(o,V))):(ye(V,X.defaultValue),xt(o,V,Lt(X.defaultValue))),X.keepTouched||sn(t.touchedFields,V),X.keepDirty||(sn(t.dirtyFields,V),t.isDirty=X.defaultValue?I(V,Lt(Ae(o,V))):I()),X.keepError||(sn(t.errors,V),x.isValid&&H()),w.state.next({...t}))},st=(V,X={})=>{const ie=V?Lt(V):o,we=Lt(ie),pe=Dn(V),oe=pe?o:we;if(X.keepDefaultValues||(o=ie),!X.keepValues){if(X.keepDirtyValues){const Ee=new Set([...m.mount,...Object.keys(Cc(o,c))]);for(const Ve of Array.from(Ee))Ae(t.dirtyFields,Ve)?xt(oe,Ve,Ae(c,Ve)):ye(Ve,Ae(oe,Ve))}else{if(D0&&Ct(V))for(const Ee of m.mount){const Ve=Ae(i,Ee);if(Ve&&Ve._f){const ft=Array.isArray(Ve._f.refs)?Ve._f.refs[0]:Ve._f.ref;if(Sh(ft)){const At=ft.closest("form");if(At){At.reset();break}}}}for(const Ee of m.mount)ye(Ee,Ae(oe,Ee))}c=Lt(oe),w.array.next({values:{...oe}}),w.state.next({values:{...oe}})}m={mount:X.keepDirtyValues?m.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},d.mount=!x.isValid||!!X.keepIsValid||!!X.keepDirtyValues,d.watch=!!e.shouldUnregister,w.state.next({submitCount:X.keepSubmitCount?t.submitCount:0,isDirty:pe?!1:X.keepDirty?t.isDirty:!!(X.keepDefaultValues&&!$i(V,o)),isSubmitted:X.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:pe?{}:X.keepDirtyValues?X.keepDefaultValues&&c?Cc(o,c):t.dirtyFields:X.keepDefaultValues&&V?Cc(o,V):X.keepDirty?t.dirtyFields:{},touchedFields:X.keepTouched?t.touchedFields:{},errors:X.keepErrors?t.errors:{},isSubmitSuccessful:X.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},_e=(V,X)=>st(Br(V)?V(c):V,X),gt=(V,X={})=>{const ie=Ae(i,V),we=ie&&ie._f;if(we){const pe=we.refs?we.refs[0]:we.ref;pe.focus&&(pe.focus(),X.shouldSelect&&Br(pe.select)&&pe.select())}},tt=V=>{t={...t,...V}},ge={control:{register:Tt,unregister:Be,getFieldState:le,handleSubmit:Ge,setError:je,_subscribe:Ce,_runSchema:T,_getWatch:Te,_getDirty:I,_setValid:H,_setFieldArray:S,_setDisabledField:Dt,_setErrors:q,_getFieldArray:Ie,_reset:st,_resetDefaultValues:()=>Br(e.defaultValues)&&e.defaultValues().then(V=>{_e(V,e.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:Ot,_subjects:w,_proxyFormState:x,get _fields(){return i},get _formValues(){return c},get _state(){return d},set _state(V){d=V},get _defaultValues(){return o},get _names(){return m},set _names(V){m=V},get _formState(){return t},get _options(){return e},set _options(V){e={...e,...V}}},subscribe:Oe,trigger:K,register:Tt,handleSubmit:Ge,watch:be,setValue:ye,getValues:ce,reset:_e,resetField:ve,clearErrors:ae,unregister:Be,setError:je,setFocus:gt,getFieldState:le};return{...ge,formControl:ge}}var zi=()=>{const n=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=(Math.random()*16+n)%16|0;return(e=="x"?t:t&3|8).toString(16)})},Mp=(n,e,t={})=>t.shouldFocus||Ct(t.shouldFocus)?t.focusName||`${n}.${Ct(t.focusIndex)?e:t.focusIndex}.`:"",Pp=(n,e)=>[...n,...Xn(e)],Lp=n=>Array.isArray(n)?n.map(()=>{}):void 0;function Up(n,e,t){return[...n.slice(0,e),...Xn(t),...n.slice(e)]}var zp=(n,e,t)=>Array.isArray(n)?(Ct(n[t])&&(n[t]=void 0),n.splice(t,0,n.splice(e,1)[0]),n):[],Fp=(n,e)=>[...Xn(e),...Xn(n)];function yD(n,e){let t=0;const i=[...n];for(const o of e)i.splice(o-t,1),t++;return vu(i).length?i:[]}var Bp=(n,e)=>Ct(e)?[]:yD(n,Xn(e).sort((t,i)=>t-i)),qp=(n,e,t)=>{[n[e],n[t]]=[n[t],n[e]]},X1=(n,e,t)=>(n[e]=t,n);function Va(n){const e=mf(),{control:t=e.control,name:i,keyName:o="id",shouldUnregister:c,rules:d}=n,[m,p]=Pe.useState(t._getFieldArray(i)),y=Pe.useRef(t._getFieldArray(i).map(zi)),x=Pe.useRef(m),j=Pe.useRef(i),w=Pe.useRef(!1);j.current=i,x.current=m,t._names.array.add(i),d&&t.register(i,d),Pe.useEffect(()=>t._subjects.array.subscribe({next:({values:R,name:N})=>{if(N===j.current||!N){const E=Ae(R,j.current);Array.isArray(E)&&(p(E),y.current=E.map(zi))}}}).unsubscribe,[t]);const k=Pe.useCallback(R=>{w.current=!0,t._setFieldArray(i,R)},[t,i]),z=(R,N)=>{const E=Xn(Lt(R)),T=Pp(t._getFieldArray(i),E);t._names.focus=Mp(i,T.length-1,N),y.current=Pp(y.current,E.map(zi)),k(T),p(T),t._setFieldArray(i,T,Pp,{argA:Lp(R)})},$=(R,N)=>{const E=Xn(Lt(R)),T=Fp(t._getFieldArray(i),E);t._names.focus=Mp(i,0,N),y.current=Fp(y.current,E.map(zi)),k(T),p(T),t._setFieldArray(i,T,Fp,{argA:Lp(R)})},U=R=>{const N=Bp(t._getFieldArray(i),R);y.current=Bp(y.current,R),k(N),p(N),!Array.isArray(Ae(t._fields,i))&&xt(t._fields,i,void 0),t._setFieldArray(i,N,Bp,{argA:R})},H=(R,N,E)=>{const T=Xn(Lt(N)),P=Up(t._getFieldArray(i),R,T);t._names.focus=Mp(i,R,E),y.current=Up(y.current,R,T.map(zi)),k(P),p(P),t._setFieldArray(i,P,Up,{argA:R,argB:Lp(N)})},M=(R,N)=>{const E=t._getFieldArray(i);qp(E,R,N),qp(y.current,R,N),k(E),p(E),t._setFieldArray(i,E,qp,{argA:R,argB:N},!1)},S=(R,N)=>{const E=t._getFieldArray(i);zp(E,R,N),zp(y.current,R,N),k(E),p(E),t._setFieldArray(i,E,zp,{argA:R,argB:N},!1)},G=(R,N)=>{const E=Lt(N),T=X1(t._getFieldArray(i),R,E);y.current=[...T].map((P,L)=>!P||L===R?zi():y.current[L]),k(T),p([...T]),t._setFieldArray(i,T,X1,{argA:R,argB:E},!0,!1)},q=R=>{const N=Xn(Lt(R));y.current=N.map(zi),k([...N]),p([...N]),t._setFieldArray(i,[...N],E=>E,{},!0,!1)};return Pe.useEffect(()=>{if(t._state.action=!1,xg(i,t._names)&&t._subjects.state.next({...t._formState}),w.current&&(!Zo(t._options.mode).isOnSubmit||t._formState.isSubmitted)&&!Zo(t._options.reValidateMode).isOnSubmit)if(t._options.resolver)t._runSchema([i]).then(R=>{const N=Ae(R.errors,i),E=Ae(t._formState.errors,i);(E?!N&&E.type||N&&(E.type!==N.type||E.message!==N.message):N&&N.type)&&(N?xt(t._formState.errors,i,N):sn(t._formState.errors,i),t._subjects.state.next({errors:t._formState.errors}))});else{const R=Ae(t._fields,i);R&&R._f&&!(Zo(t._options.reValidateMode).isOnSubmit&&Zo(t._options.mode).isOnSubmit)&&bg(R,t._names.disabled,t._formValues,t._options.criteriaMode===Ar.all,t._options.shouldUseNativeValidation,!0).then(N=>!Dn(N)&&t._subjects.state.next({errors:Pj(t._formState.errors,N,i)}))}t._subjects.state.next({name:i,values:Lt(t._formValues)}),t._names.focus&&sl(t._fields,(R,N)=>{if(t._names.focus&&N.startsWith(t._names.focus)&&R.focus)return R.focus(),1}),t._names.focus="",t._setValid(),w.current=!1},[m,i,t]),Pe.useEffect(()=>(!Ae(t._formValues,i)&&t._setFieldArray(i),()=>{const R=(N,E)=>{const T=Ae(t._fields,N);T&&T._f&&(T._f.mount=E)};t._options.shouldUnregister||c?t.unregister(i):R(i,!1)}),[i,t,o,c]),{swap:Pe.useCallback(M,[k,i,t]),move:Pe.useCallback(S,[k,i,t]),prepend:Pe.useCallback($,[k,i,t]),append:Pe.useCallback(z,[k,i,t]),remove:Pe.useCallback(U,[k,i,t]),insert:Pe.useCallback(H,[k,i,t]),update:Pe.useCallback(G,[k,i,t]),replace:Pe.useCallback(q,[k,i,t]),fields:Pe.useMemo(()=>m.map((R,N)=>({...R,[o]:y.current[N]||zi()})),[m,o])}}function _s(n={}){const e=Pe.useRef(void 0),t=Pe.useRef(void 0),[i,o]=Pe.useState({isDirty:!1,isValidating:!1,isLoading:Br(n.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1,defaultValues:Br(n.defaultValues)?void 0:n.defaultValues});e.current||(e.current={...n.formControl?n.formControl:gD(n),formState:i},n.formControl&&n.defaultValues&&!Br(n.defaultValues)&&n.formControl.reset(n.defaultValues,n.resetOptions));const c=e.current.control;return c._options=n,Pe.useLayoutEffect(()=>c._subscribe({formState:c._proxyFormState,callback:()=>o({...c._formState}),reRenderRoot:!0}),[c]),Pe.useEffect(()=>c._disableForm(n.disabled),[c,n.disabled]),Pe.useEffect(()=>{if(c._proxyFormState.isDirty){const d=c._getDirty();d!==i.isDirty&&c._subjects.state.next({isDirty:d})}},[c,i.isDirty]),Pe.useEffect(()=>{n.values&&!$i(n.values,t.current)?(c._reset(n.values,c._options.resetOptions),t.current=n.values,o(d=>({...d}))):c._resetDefaultValues()},[n.values,c]),Pe.useEffect(()=>{n.errors&&!Dn(n.errors)&&c._setErrors(n.errors)},[n.errors,c]),Pe.useEffect(()=>{c._state.mount||(c._setValid(),c._state.mount=!0),c._state.watch&&(c._state.watch=!1,c._subjects.state.next({...c._formState})),c._removeUnmounted()}),Pe.useEffect(()=>{n.shouldUnregister&&c._subjects.state.next({values:c._getWatch()})},[n.shouldUnregister,c]),e.current.formState=Rj(i,c),e.current}const vD=()=>{const{register:n,handleSubmit:e,formState:{errors:t},setValue:i}=_s(),{login:o}=kt(),[c,d]=F.useState(!1),[m,p]=F.useState(null),[y,x]=F.useState(!1),j=async k=>{try{p(null),d(!0),await o(k.email,k.password)}catch(z){console.error("Inloggen mislukt:",z),z.code==="auth/user-not-found"||z.code==="auth/wrong-password"?p("Inloggen mislukt. Controleer je e-mail en wachtwoord."):z.code==="auth/too-many-requests"?p("Te veel inlogpogingen. Probeer het later opnieuw of reset je wachtwoord."):z.code==="auth/network-request-failed"?p("Netwerkprobleem. Controleer je internetverbinding en probeer het opnieuw."):z.code==="auth/user-disabled"?p("Dit account is uitgeschakeld. Neem contact op met de beheerder."):z.code==="auth/invalid-email"?p("Ongeldig e-mailadres. Controleer je e-mail en probeer het opnieuw."):p(`Inloggen mislukt: ${z.message||"Onbekende fout"}`)}finally{d(!1)}},w=async()=>{try{p(null),d(!0);const k="test@example.com",z="test123456",$="Test Gebruiker";console.log("Test gebruiker aanmaken:",k);const H=(await nw(cs,k,z)).user;await rw(H,{displayName:$});const M=ut(Le,"users",H.uid);await rf(M,{id:H.uid,email:k,displayName:$,role:"werkzoekende",createdAt:new Date,updatedAt:new Date,profile:{skills:[]}}),console.log("Test gebruiker aangemaakt:",H.uid),i("email",k),i("password",z),alert("Test gebruiker aangemaakt! Email: test@example.com, Wachtwoord: test123456")}catch(k){console.error("Fout bij aanmaken test gebruiker:",k),k.code==="auth/email-already-in-use"?p("Deze test gebruiker bestaat al, je kunt proberen in te loggen met email: test@example.com, wachtwoord: test123456"):p("Kon test gebruiker niet aanmaken: "+k.message)}finally{d(!1)}};return a.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-md w-full",children:[a.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-800",children:"Inloggen"}),m&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",role:"alert",children:a.jsx("span",{className:"block sm:inline",children:m})}),a.jsxs("form",{onSubmit:e(j),className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail"}),a.jsx("input",{id:"email",type:"email",...n("email",{required:"E-mail is verplicht",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Voer een geldig e-mailadres in"}}),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${t.email?"border-red-500":"border-gray-300"}`}),t.email&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.email.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Wachtwoord"}),a.jsx("input",{id:"password",type:"password",...n("password",{required:"Wachtwoord is verplicht",minLength:{value:6,message:"Wachtwoord moet minimaal 6 tekens bevatten"}}),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${t.password?"border-red-500":"border-gray-300"}`}),t.password&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.password.message})]}),a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Onthoud mij"})]}),a.jsx("div",{className:"text-sm",children:a.jsx(Ut,{to:"/reset-password",className:"font-medium text-primary-600 hover:text-primary-500",children:"Wachtwoord vergeten?"})})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:c,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:c?"Inloggen...":"Inloggen"})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Nog geen account?"," ",a.jsx(Ut,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"Registreer hier"})]})}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("button",{type:"button",onClick:()=>x(!y),className:"text-xs text-gray-500 hover:text-gray-700",children:y?"Debug mode verbergen":"Debug opties"})}),y&&a.jsxs("div",{className:"mt-4 p-3 bg-gray-100 rounded-md",children:[a.jsx("h3",{className:"font-medium text-sm mb-2",children:"Debug opties"}),a.jsx("button",{type:"button",onClick:w,disabled:c,className:"w-full text-sm py-1 px-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-200",children:"Test gebruiker aanmaken"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Dit maakt een test gebruiker aan met email: test@example.com en wachtwoord: test123456"})]})]})},xD=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4 py-12 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-extrabold text-primary-600 mb-2",children:"PitchPro"}),a.jsx("p",{className:"text-gray-600",children:"Het platform voor werkzoekenden en recruiters"})]}),a.jsx(vD,{})]})}),bD=()=>{const{register:n,handleSubmit:e,watch:t,formState:{errors:i}}=_s({defaultValues:{role:"werkzoekende"}}),{register:o}=kt(),[c,d]=F.useState(!1),[m,p]=F.useState(null),y=t("password"),x=async j=>{try{if(p(null),d(!0),j.password!==j.confirmPassword){p("Wachtwoorden komen niet overeen");return}await o(j.email,j.password,j.displayName,j.role)}catch(w){console.error("Registratie fout:",w),w.code==="auth/email-already-in-use"?p("Dit e-mailadres is al in gebruik"):p("Registratie mislukt. Probeer het later opnieuw.")}finally{d(!1)}};return a.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-md w-full",children:[a.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-800",children:"Registreren"}),m&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",role:"alert",children:a.jsx("span",{className:"block sm:inline",children:m})}),a.jsxs("form",{onSubmit:e(x),className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Naam"}),a.jsx("input",{id:"displayName",type:"text",...n("displayName",{required:"Naam is verplicht",minLength:{value:2,message:"Naam moet minimaal 2 tekens bevatten"}}),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${i.displayName?"border-red-500":"border-gray-300"}`}),i.displayName&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.displayName.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail"}),a.jsx("input",{id:"email",type:"email",...n("email",{required:"E-mail is verplicht",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Voer een geldig e-mailadres in"}}),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${i.email?"border-red-500":"border-gray-300"}`}),i.email&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.email.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Wachtwoord"}),a.jsx("input",{id:"password",type:"password",...n("password",{required:"Wachtwoord is verplicht",minLength:{value:6,message:"Wachtwoord moet minimaal 6 tekens bevatten"}}),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${i.password?"border-red-500":"border-gray-300"}`}),i.password&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.password.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bevestig wachtwoord"}),a.jsx("input",{id:"confirmPassword",type:"password",...n("confirmPassword",{required:"Bevestig je wachtwoord",validate:j=>j===y||"Wachtwoorden komen niet overeen"}),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${i.confirmPassword?"border-red-500":"border-gray-300"}`}),i.confirmPassword&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:i.confirmPassword.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ik ben een"}),a.jsxs("div",{className:"mt-2 flex space-x-4",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"werkzoekende",type:"radio",value:"werkzoekende",...n("role"),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),a.jsx("label",{htmlFor:"werkzoekende",className:"ml-2 block text-sm text-gray-700",children:"Werkzoekende"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"recruiter",type:"radio",value:"recruiter",...n("role"),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),a.jsx("label",{htmlFor:"recruiter",className:"ml-2 block text-sm text-gray-700",children:"Recruiter"})]})]})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:c,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:c?"Registreren...":"Registreren"})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Heb je al een account?"," ",a.jsx(Ut,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Log hier in"})]})})]})},_D=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4 py-12 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-extrabold text-primary-600 mb-2",children:"PitchPro"}),a.jsx("p",{className:"text-gray-600",children:"Word lid van het platform voor werkzoekenden en recruiters"})]}),a.jsx(bD,{})]})}),wD=()=>{const{register:n,handleSubmit:e,formState:{errors:t}}=_s(),{resetPassword:i}=kt(),[o,c]=F.useState(!1),[d,m]=F.useState(null),[p,y]=F.useState(null),x=async j=>{try{m(null),y(null),c(!0),await i(j.email),y("Een e-mail met instructies is verzonden naar je e-mailadres")}catch(w){console.error("Wachtwoord reset fout:",w),m("Er is een fout opgetreden bij het verzenden van de resetlink. Controleer je e-mailadres.")}finally{c(!1)}};return a.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-md w-full",children:[a.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-800",children:"Wachtwoord herstellen"}),d&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",role:"alert",children:a.jsx("span",{className:"block sm:inline",children:d})}),p&&a.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",role:"alert",children:a.jsx("span",{className:"block sm:inline",children:p})}),a.jsxs("form",{onSubmit:e(x),className:"space-y-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail"}),a.jsx("input",{id:"email",type:"email",...n("email",{required:"E-mail is verplicht",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Voer een geldig e-mailadres in"}}),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${t.email?"border-red-500":"border-gray-300"}`}),t.email&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.email.message})]}),a.jsx("div",{children:a.jsx("button",{type:"submit",disabled:o,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:o?"Verzenden...":"Verstuur resetlink"})})]}),a.jsx("div",{className:"mt-6 text-center",children:a.jsx("p",{className:"text-sm text-gray-600",children:a.jsx(Ut,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Terug naar inloggen"})})})]})},jD=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4 py-12 sm:px-6 lg:px-8",children:a.jsxs("div",{className:"max-w-md w-full space-y-8",children:[a.jsxs("div",{className:"text-center",children:[a.jsx("h1",{className:"text-4xl font-extrabold text-primary-600 mb-2",children:"PitchPro"}),a.jsx("p",{className:"text-gray-600",children:"Wachtwoord herstellen"})]}),a.jsx(wD,{})]})}),ND=({currentCvUrl:n,userId:e,onUploadSuccess:t,onUploadError:i})=>{const[o,c]=F.useState(!1),[d,m]=F.useState(0),[p,y]=F.useState(null),x=F.useRef(null),j=z=>{try{const $=z.split("/");return $[$.length-1].split("?")[0]}catch{return"cv-bestand"}},w=z=>{z.target.files&&z.target.files.length>0&&y(z.target.files[0])},k=async()=>{if(!p||!e){i("Geen bestand geselecteerd of gebruiker niet ingelogd");return}try{c(!0),m(0);const z=p.name.split(".").pop()||"pdf",$=`cv_${e}_${Date.now()}.${z}`,U=lf(xj,`cv/${$}`);await af(U,p),m(100);const H=await of(U);t(H),x.current&&(x.current.value=""),y(null)}catch(z){console.error("Fout bij uploaden van CV:",z),i("Er is een fout opgetreden bij het uploaden van je CV. Probeer het opnieuw.")}finally{c(!1)}};return a.jsxs("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg",children:[a.jsx("h2",{className:"text-lg font-medium mb-4",children:"CV Uploaden"}),n&&a.jsxs("div",{className:"mb-4 p-3 bg-white rounded border border-gray-300",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Huidige CV:"}),a.jsx("div",{className:"flex items-center justify-between mt-1",children:a.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}),j(n)]})})]}),a.jsxs("div",{className:"mt-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload een nieuw CV bestand"}),a.jsx("input",{ref:x,type:"file",onChange:w,className:`block w-full text-sm text-gray-500
            file:mr-4 file:py-2 file:px-4
            file:rounded-md file:border-0
            file:text-sm file:font-medium
            file:bg-primary-50 file:text-primary-700
            hover:file:bg-primary-100`,accept:".pdf,.doc,.docx",disabled:o}),a.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Ondersteunde formaten: PDF, DOC, DOCX (max. 5MB)"})]}),p&&a.jsxs("div",{className:"mt-4",children:[a.jsxs("p",{className:"text-sm text-gray-700",children:["Geselecteerd bestand: ",a.jsx("span",{className:"font-medium",children:p.name})," (",Math.round(p.size/1024)," KB)"]}),a.jsxs("div",{className:"mt-3 flex items-center",children:[a.jsx("button",{onClick:k,disabled:o,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50",children:o?"Bezig met uploaden...":"CV uploaden"}),o&&a.jsx("div",{className:"ml-4 w-full max-w-xs",children:a.jsx("div",{className:"h-2 rounded-full bg-gray-200",children:a.jsx("div",{className:"h-2 rounded-full bg-primary-600",style:{width:`${d}%`}})})})]})]})]})},ED=({cvUrl:n})=>{var c;const[e,t]=F.useState(!1);if(!n)return a.jsxs("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg",children:[a.jsx("h2",{className:"text-lg font-medium mb-4",children:"CV Bekijken"}),a.jsx("div",{children:a.jsxs("a",{href:"/cv-preview",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:[a.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),a.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),"Bekijk Gedetailleerd CV"]})})]});const o=((c=n.split(".").pop())==null?void 0:c.toLowerCase())==="pdf";return a.jsxs("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h2",{className:"text-lg font-medium",children:"CV Bekijken"}),a.jsx("button",{onClick:()=>t(!e),className:"text-primary-600 hover:text-primary-800 text-sm font-medium",children:e?"Verkleinen":"Vergroten"})]}),o?a.jsx("div",{className:`w-full ${e?"h-screen":"h-96"} border border-gray-300 rounded-md overflow-hidden bg-white`,children:a.jsx("iframe",{src:`${n}#toolbar=0`,className:"w-full h-full",title:"CV Preview"})}):a.jsxs("div",{className:"p-4 bg-white rounded-md border border-gray-300",children:[a.jsx("p",{className:"mb-3",children:"Dit document kan niet in de browser worden weergegeven. Klik op de knop hieronder om het te downloaden."}),a.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download CV"]})]}),a.jsxs("div",{className:"mt-4 flex justify-between",children:[a.jsxs("a",{href:"/cv-preview",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:[a.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),a.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),"Bekijk Gedetailleerd CV"]}),a.jsxs("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-800 text-sm font-medium flex items-center",children:[a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:[a.jsx("path",{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}),a.jsx("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"})]}),"Openen in nieuw venster"]})]})]})},Xs=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),nn=n=>{if(!n)return null;if(n instanceof Date)return n;if(typeof n=="object"&&"seconds"in n)return new Date(n.seconds*1e3);if(typeof n=="number")return new Date(n);if(typeof n=="string"){const e=new Date(n);return isNaN(e.getTime())?null:e}return null},Ma=({name:n,control:e,label:t,errors:i,isDisabled:o=!1,placeholder:c="Selecteer een datum",minDate:d,maxDate:m})=>a.jsxs("div",{children:[t&&a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),a.jsx(rD,{name:n,control:e,rules:{required:`${t||"Datum"} is verplicht`},render:({field:{onChange:p,onBlur:y,value:x,ref:j}})=>{let w=null;if(x)try{if(x instanceof Date)w=x;else if(typeof x=="object"&&x!==null&&"seconds"in x)w=new Date(x.seconds*1e3);else if(typeof x=="string"){const k=new Date(x);w=isNaN(k.getTime())?null:k}else typeof x=="number"&&(w=new Date(x))}catch(k){console.error(`Error converting date for ${n}:`,k),w=null}return a.jsx("input",{type:"date",onChange:k=>{const z=k.target.value?new Date(k.target.value):null;p(z)},onBlur:y,disabled:o,value:w?w.toISOString().split("T")[0]:"",className:`w-full px-3 py-2 border ${i&&i[n.split(".")[0]]?"border-red-500":"border-gray-300"} rounded-md`,"aria-invalid":i&&i[n.split(".")[0]]?"true":"false"})}}),i&&i[n.split(".")[0]]&&a.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:"Vul een geldige datum in"})]}),TD=({user:n,onSuccess:e,onError:t,setLoading:i})=>{const[o,c]=F.useState(!0),[d,m]=F.useState(null),[p,y]=F.useState("overMij"),[x,j]=F.useState(!1),w=F.useMemo(()=>({overMij:"",werkervaring:[],opleiding:[],stages:[],certificaten:[],talen:[],hobbys:[],vaardigheden:[]}),[]),{register:k,control:z,handleSubmit:$,reset:U,formState:{errors:H},getValues:M,watch:S}=_s({defaultValues:w}),{fields:G,append:q,remove:R}=Va({control:z,name:"certificaten"}),{fields:N,append:E,remove:T}=Va({control:z,name:"opleiding"}),{fields:P,append:L,remove:D}=Va({control:z,name:"stages"}),{fields:I,append:Te,remove:Ie}=Va({control:z,name:"werkervaring"}),{fields:Z,append:re,remove:ye}=Va({control:z,name:"talen"}),{fields:me,append:O,remove:K}=Va({control:z,name:"hobbys"}),{fields:ce,append:le,remove:ae}=Va({control:z,name:"vaardigheden"});F.useEffect(()=>{(async()=>{if(!n.id){c(!1);return}try{const ve=ut(Le,"users",n.id),st=await An(ve),_e=ut(Le,"users",n.id,"cv","main"),gt=await An(_e);let tt={werkervaring:[],opleiding:[],stages:[],certificaten:[],talen:[],hobbys:[],vaardigheden:[]};if(st.exists()){const Ue=st.data();if(Ue.detailedCV){const ge=Ue.detailedCV;tt={...tt,overMij:ge.overMij||"",werkervaring:(ge.werkervaring||[]).map(V=>({...V,startDatum:V.startDatum?nn(V.startDatum):null,eindDatum:V.eindDatum?nn(V.eindDatum):null,isHuidigeFunctie:!!V.isHuidigeFunctie})),opleiding:(ge.opleiding||[]).map(V=>({...V,startDatum:V.startDatum?nn(V.startDatum):null,eindDatum:V.eindDatum?nn(V.eindDatum):null,isHuidigeOpleiding:!!V.isHuidigeOpleiding})),stages:(ge.stages||[]).map(V=>({...V,startDatum:V.startDatum?nn(V.startDatum):null,eindDatum:V.eindDatum?nn(V.eindDatum):null,isHuidigeStage:!!V.isHuidigeStage})),certificaten:(ge.certificaten||[]).map(V=>({id:V.id||Xs(),naam:V.naam||"",uitgever:V.uitgever||"",datum:V.datum?nn(V.datum):null,beschrijving:V.beschrijving||""})),talen:Array.isArray(ge.talen)?ge.talen.map(V=>({...V,niveau:V.niveau||"Basis",beschrijving:V.beschrijving||""})):[],hobbys:Array.isArray(ge.hobbys)?ge.hobbys.map(V=>({...V,naam:V.naam||"",beschrijving:V.beschrijving||""})):[],vaardigheden:Array.isArray(ge.vaardigheden)?ge.vaardigheden.map(V=>({...V,type:V.type==="soft"||V.type==="hard"?V.type:"soft",niveau:typeof V.niveau=="number"?V.niveau:1,beschrijving:V.beschrijving||""})):[]}}else tt={...tt,werkervaring:(Ue.werkervaring||[]).map(ge=>({...ge,startDatum:ge.startDatum?nn(ge.startDatum):null,eindDatum:ge.eindDatum?nn(ge.eindDatum):null})),opleiding:(Ue.opleiding||[]).map(ge=>({...ge,startDatum:ge.startDatum?nn(ge.startDatum):null,eindDatum:ge.eindDatum?nn(ge.eindDatum):null})),stages:(Ue.stages||[]).map(ge=>({...ge,startDatum:ge.startDatum?nn(ge.startDatum):null,eindDatum:ge.eindDatum?nn(ge.eindDatum):null})),talen:Ue.talen||[],hobbys:Array.isArray(Ue.hobbys)?Ue.hobbys:[],vaardigheden:Ue.vaardigheden||[]}}if(gt.exists()){const Ue=gt.data();m(Ue),(!st.exists()||!st.data().detailedCV)&&(tt={...tt,overMij:Ue.overMij||"",werkervaring:(Ue.werkervaring||[]).map(ge=>({...ge,startDatum:ge.startDatum?nn(ge.startDatum):null,eindDatum:ge.eindDatum?nn(ge.eindDatum):null,isHuidigeFunctie:!!ge.isHuidigeFunctie})),opleiding:(Ue.opleiding||[]).map(ge=>({...ge,startDatum:ge.startDatum?nn(ge.startDatum):null,eindDatum:ge.eindDatum?nn(ge.eindDatum):null,isHuidigeOpleiding:!!ge.isHuidigeOpleiding})),stages:(Ue.stages||[]).map(ge=>({...ge,startDatum:ge.startDatum?nn(ge.startDatum):null,eindDatum:ge.eindDatum?nn(ge.eindDatum):null,isHuidigeStage:!!ge.isHuidigeStage})),certificaten:(Ue.certificaten||[]).map(ge=>({id:ge.id||Xs(),naam:ge.naam||"",uitgever:ge.uitgever||"",datum:ge.datum?nn(ge.datum):null,beschrijving:ge.beschrijving||""})),talen:Array.isArray(Ue.talen)?Ue.talen.map(ge=>({...ge,niveau:ge.niveau||"Basis",beschrijving:ge.beschrijving||""})):[],hobbys:Array.isArray(Ue.hobbys)?Ue.hobbys.map(ge=>({...ge,naam:ge.naam||"",beschrijving:ge.beschrijving||""})):[],vaardigheden:Array.isArray(Ue.vaardigheden)?Ue.vaardigheden.map(ge=>({...ge,type:ge.type==="soft"||ge.type==="hard"?ge.type:"soft",niveau:typeof ge.niveau=="number"?ge.niveau:1,beschrijving:ge.beschrijving||""})):[]})}U(tt)}catch(ve){console.error("Fout bij ophalen gegevens:",ve),t("Er is een fout opgetreden bij het ophalen van je gegevens")}finally{c(!1)}})()},[n.id,U,t]);const je=async Ge=>{if(!n.id){t("Gebruiker ID is niet beschikbaar");return}try{i(!0),j(!0),console.log("Form data being saved:",Ge);const ve={overMij:Ge.overMij||"",werkervaring:Ge.werkervaring.map(_e=>({id:_e.id||Xs(),functie:_e.functie||"",bedrijf:_e.bedrijf||"",startDatum:_e.startDatum?Ye.fromDate(_e.startDatum):null,eindDatum:_e.eindDatum?Ye.fromDate(_e.eindDatum):null,beschrijving:_e.beschrijving||"",isHuidigeFunctie:!!_e.isHuidigeFunctie})),opleiding:Ge.opleiding.map(_e=>({id:_e.id||Xs(),opleiding:_e.opleiding||"",instituut:_e.instituut||"",startDatum:_e.startDatum?Ye.fromDate(_e.startDatum):null,eindDatum:_e.eindDatum?Ye.fromDate(_e.eindDatum):null,beschrijving:_e.beschrijving||"",isHuidigeOpleiding:!!_e.isHuidigeOpleiding})),stages:Ge.stages.map(_e=>({id:_e.id||Xs(),functie:_e.functie||"",bedrijf:_e.bedrijf||"",startDatum:_e.startDatum?Ye.fromDate(_e.startDatum):null,eindDatum:_e.eindDatum?Ye.fromDate(_e.eindDatum):null,beschrijving:_e.beschrijving||"",isHuidigeStage:!!_e.isHuidigeStage})),certificaten:Ge.certificaten.map(_e=>({id:_e.id||Xs(),naam:_e.naam||"",uitgever:_e.uitgever||"",datum:_e.datum?Ye.fromDate(_e.datum):null,beschrijving:_e.beschrijving||""})),talen:Ge.talen.map(_e=>({id:_e.id||Xs(),taal:_e.taal||"",niveau:_e.niveau||"Basis",beschrijving:_e.beschrijving||""})),hobbys:Ge.hobbys.map(_e=>({id:_e.id||Xs(),naam:_e.naam||"",beschrijving:_e.beschrijving||""})),vaardigheden:Ge.vaardigheden.map(_e=>({id:_e.id||Xs(),naam:_e.naam||"",type:_e.type==="soft"?"soft":"hard",niveau:typeof _e.niveau=="number"?_e.niveau:1,beschrijving:_e.beschrijving||""}))};console.log("Saving CV data to Firestore:",ve);const st=ut(Le,"users",n.id);await rf(st,{detailedCV:ve,updatedAt:new Date},{merge:!0}),console.log("CV data saved successfully"),e()}catch(ve){console.error("Fout bij opslaan gegevens:",ve),t("Er is een fout opgetreden bij het opslaan van je gegevens")}finally{i(!1),j(!1)}},be=F.useCallback(()=>{setTimeout(()=>{q({id:String(Date.now()),naam:"",uitgever:"",datum:null,beschrijving:""})},0)},[q]),Ce=F.useCallback(()=>{setTimeout(()=>{E({id:String(Date.now()),opleiding:"",instituut:"",beschrijving:"",startDatum:null,eindDatum:null,isHuidigeOpleiding:!1})},0)},[E]),Oe=F.useCallback(()=>{setTimeout(()=>{L({id:String(Date.now()),bedrijf:"",functie:"",beschrijving:"",startDatum:null,eindDatum:null,isHuidigeStage:!1})},0)},[L]),Be=F.useCallback(()=>{setTimeout(()=>{Te({id:String(Date.now()),functie:"",bedrijf:"",startDatum:null,eindDatum:null,beschrijving:"",isHuidigeFunctie:!1})},0)},[Te]),Dt=F.useCallback(()=>{setTimeout(()=>{re({id:String(Date.now()),taal:"",niveau:"Basis"})},0)},[re]),Tt=F.useCallback(()=>{setTimeout(()=>{O({id:String(Date.now()),naam:""})},0)},[O]),Ft=F.useCallback(Ge=>{setTimeout(()=>{le({id:String(Date.now()),naam:"",type:Ge,niveau:1})},0)},[le]),Ot=Ge=>{switch(Ge){case"overMij":return"Over mij";case"werkervaring":return"Werkervaring";case"opleiding":return"Opleiding";case"stages":return"Stages";case"certificaten":return"Certificaten";case"talen":return"Talen";case"hobbys":return"Hobby's";case"vaardigheden":return"Vaardigheden";default:return Ge}};return o?a.jsxs("div",{className:"flex justify-center items-center h-64",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"}),a.jsx("div",{className:"ml-4",children:"CV gegevens laden..."})]}):a.jsx("div",{className:"space-y-8",children:a.jsxs("form",{onSubmit:$(je),children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:Ot("overMij")}),a.jsx("div",{className:"bg-white rounded-lg",children:a.jsx("textarea",{...k("overMij"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:5,placeholder:"Vertel iets over jezelf, je motivie en ambities"})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:Ot("werkervaring")}),a.jsxs("div",{className:"bg-white rounded-lg",children:[a.jsx("div",{className:"flex justify-between items-center mb-4",children:a.jsx("button",{type:"button",onClick:Be,className:"ml-auto px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md",children:"+ Toevoegen"})}),I.length===0&&a.jsx("p",{className:"text-gray-500 italic mb-4",children:"Nog geen werkervaring toegevoegd."}),I.map((Ge,ve)=>{var st,_e,gt,tt,Ue,ge,V,X,ie,we,pe,oe,Ee,Ve,ft,At;return a.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Functie"}),a.jsx("input",{...k(`werkervaring.${ve}.functie`,{required:"Functie is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":(_e=(st=H.werkervaring)==null?void 0:st[ve])!=null&&_e.functie?"true":"false"}),((tt=(gt=H.werkervaring)==null?void 0:gt[ve])==null?void 0:tt.functie)&&a.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:typeof((ge=(Ue=H.werkervaring[ve])==null?void 0:Ue.functie)==null?void 0:ge.message)=="string"?(X=(V=H.werkervaring[ve])==null?void 0:V.functie)==null?void 0:X.message:"Functie is verplicht"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bedrijf"}),a.jsx("input",{...k(`werkervaring.${ve}.bedrijf`,{required:"Bedrijf is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":(we=(ie=H.werkervaring)==null?void 0:ie[ve])!=null&&we.bedrijf?"true":"false"}),((oe=(pe=H.werkervaring)==null?void 0:pe[ve])==null?void 0:oe.bedrijf)&&a.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:typeof((Ve=(Ee=H.werkervaring[ve])==null?void 0:Ee.bedrijf)==null?void 0:Ve.message)=="string"?(At=(ft=H.werkervaring[ve])==null?void 0:ft.bedrijf)==null?void 0:At.message:"Bedrijf is verplicht"})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsx("div",{children:a.jsx(Ma,{name:`werkervaring.${ve}.startDatum`,control:z,label:"Startdatum",errors:H})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Einddatum"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("input",{type:"checkbox",...k(`werkervaring.${ve}.isHuidigeFunctie`),className:"mr-2"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Huidige functie"})]})]}),a.jsx(Ma,{name:`werkervaring.${ve}.eindDatum`,control:z,label:"",errors:H,isDisabled:!!S(`werkervaring.${ve}.isHuidigeFunctie`)})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beschrijving"}),a.jsx("textarea",{...k(`werkervaring.${ve}.beschrijving`),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Beschrijf je taken en verantwoordelijkheden"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"button",onClick:()=>Ie(ve),className:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-md",children:"Verwijderen"})})]},Ge.id)})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:Ot("opleiding")}),a.jsxs("div",{className:"bg-white rounded-lg",children:[a.jsx("div",{className:"flex justify-between items-center mb-4",children:a.jsx("button",{type:"button",onClick:Ce,className:"ml-auto px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md",children:"+ Toevoegen"})}),N.length===0&&a.jsx("p",{className:"text-gray-500 italic mb-4",children:"Nog geen opleidingen toegevoegd."}),N.map((Ge,ve)=>{var st,_e,gt,tt,Ue,ge,V,X,ie,we,pe,oe;return a.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Opleidingsnaam"}),a.jsx("input",{...k(`opleiding.${ve}.opleiding`,{required:"Opleidingsnaam is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":(_e=(st=H.opleiding)==null?void 0:st[ve])!=null&&_e.opleiding?"true":"false"}),((tt=(gt=H.opleiding)==null?void 0:gt[ve])==null?void 0:tt.opleiding)&&a.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:(ge=(Ue=H.opleiding[ve])==null?void 0:Ue.opleiding)==null?void 0:ge.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Onderwijsinstelling"}),a.jsx("input",{...k(`opleiding.${ve}.instituut`,{required:"Onderwijsinstelling is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":(X=(V=H.opleiding)==null?void 0:V[ve])!=null&&X.instituut?"true":"false"}),((we=(ie=H.opleiding)==null?void 0:ie[ve])==null?void 0:we.instituut)&&a.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:(oe=(pe=H.opleiding[ve])==null?void 0:pe.instituut)==null?void 0:oe.message})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsx("div",{children:a.jsx(Ma,{name:`opleiding.${ve}.startDatum`,control:z,label:"Startdatum",errors:H})}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center mb-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Einddatum"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("input",{type:"checkbox",...k(`opleiding.${ve}.isHuidigeOpleiding`),className:"mr-2"}),a.jsx("span",{className:"text-sm text-gray-600",children:"Huidige opleiding"})]})]}),a.jsx(Ma,{name:`opleiding.${ve}.eindDatum`,control:z,label:"",errors:H,isDisabled:!!S(`opleiding.${ve}.isHuidigeOpleiding`)})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beschrijving"}),a.jsx("textarea",{...k(`opleiding.${ve}.beschrijving`),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Beschrijf de opleiding en relevante informatie"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"button",onClick:()=>T(ve),className:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-md",children:"Verwijderen"})})]},Ge.id)})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:Ot("stages")}),a.jsxs("div",{className:"bg-white rounded-lg",children:[a.jsx("div",{className:"flex justify-between items-center mb-4",children:a.jsx("button",{type:"button",onClick:Oe,className:"ml-auto px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md",children:"+ Toevoegen"})}),P.length===0&&a.jsx("p",{className:"text-gray-500 italic mb-4",children:"Nog geen stages toegevoegd."}),P.map((Ge,ve)=>{var st,_e,gt,tt,Ue,ge,V,X,ie,we,pe,oe;return a.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Functie"}),a.jsx("input",{...k(`stages.${ve}.functie`,{required:"Functie is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":(_e=(st=H.stages)==null?void 0:st[ve])!=null&&_e.functie?"true":"false"}),((tt=(gt=H.stages)==null?void 0:gt[ve])==null?void 0:tt.functie)&&a.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:(ge=(Ue=H.stages[ve])==null?void 0:Ue.functie)==null?void 0:ge.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bedrijf"}),a.jsx("input",{...k(`stages.${ve}.bedrijf`,{required:"Bedrijf is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":(X=(V=H.stages)==null?void 0:V[ve])!=null&&X.bedrijf?"true":"false"}),((we=(ie=H.stages)==null?void 0:ie[ve])==null?void 0:we.bedrijf)&&a.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:(oe=(pe=H.stages[ve])==null?void 0:pe.bedrijf)==null?void 0:oe.message})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsx("div",{children:a.jsx(Ma,{name:`stages.${ve}.startDatum`,control:z,label:"Startdatum",errors:H})}),a.jsx("div",{children:a.jsx(Ma,{name:`stages.${ve}.eindDatum`,control:z,label:"Einddatum",errors:H})})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beschrijving"}),a.jsx("textarea",{...k(`stages.${ve}.beschrijving`),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Beschrijf je stage en verantwoordelijkheden"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"button",onClick:()=>D(ve),className:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-md",children:"Verwijderen"})})]},Ge.id)})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:Ot("certificaten")}),a.jsxs("div",{className:"bg-white rounded-lg",children:[a.jsx("div",{className:"flex justify-between items-center mb-4",children:a.jsx("button",{type:"button",onClick:be,className:"ml-auto px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md",children:"+ Toevoegen"})}),G.length===0&&a.jsx("p",{className:"text-gray-500 italic mb-4",children:"Nog geen certificaten toegevoegd."}),G.map((Ge,ve)=>{var st,_e,gt,tt,Ue,ge,V,X,ie,we,pe,oe,Ee,Ve,ft,At;return a.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[a.jsxs("div",{className:"flex justify-between mb-4",children:[a.jsxs("h3",{className:"font-medium",children:["Certificaat ",ve+1]}),a.jsx("button",{type:"button",onClick:()=>R(ve),className:"text-red-500 px-2 py-1 rounded hover:bg-red-100",children:"X"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Naam certificaat"}),a.jsx("input",{...k(`certificaten.${ve}.naam`,{required:"Naam certificaat is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":(_e=(st=H.certificaten)==null?void 0:st[ve])!=null&&_e.naam?"true":"false"}),((tt=(gt=H.certificaten)==null?void 0:gt[ve])==null?void 0:tt.naam)&&a.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:typeof((ge=(Ue=H.certificaten[ve])==null?void 0:Ue.naam)==null?void 0:ge.message)=="string"?(X=(V=H.certificaten[ve])==null?void 0:V.naam)==null?void 0:X.message:"Naam certificaat is verplicht"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Uitgever"}),a.jsx("input",{...k(`certificaten.${ve}.uitgever`,{required:"Uitgever is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":(we=(ie=H.certificaten)==null?void 0:ie[ve])!=null&&we.uitgever?"true":"false"}),((oe=(pe=H.certificaten)==null?void 0:pe[ve])==null?void 0:oe.uitgever)&&a.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:typeof((Ve=(Ee=H.certificaten[ve])==null?void 0:Ee.uitgever)==null?void 0:Ve.message)=="string"?(At=(ft=H.certificaten[ve])==null?void 0:ft.uitgever)==null?void 0:At.message:"Uitgever is verplicht"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:a.jsx("div",{children:a.jsx(Ma,{name:`certificaten.${ve}.datum`,control:z,label:"Datum",errors:H})})}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beschrijving"}),a.jsx("textarea",{...k(`certificaten.${ve}.beschrijving`),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Beschrijf het certificaat en relevante informatie"})]})]},Ge.id)})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:Ot("talen")}),a.jsxs("div",{className:"bg-white rounded-lg",children:[a.jsx("div",{className:"flex justify-between items-center mb-4",children:a.jsx("button",{type:"button",onClick:Dt,className:"ml-auto px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md",children:"+ Toevoegen"})}),Z.length===0&&a.jsx("p",{className:"text-gray-500 italic mb-4",children:"Nog geen talen toegevoegd."}),Z.map((Ge,ve)=>{var st,_e,gt,tt,Ue,ge;return a.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Taal"}),a.jsx("input",{...k(`talen.${ve}.taal`,{required:"Taal is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":(_e=(st=H.talen)==null?void 0:st[ve])!=null&&_e.taal?"true":"false"}),((tt=(gt=H.talen)==null?void 0:gt[ve])==null?void 0:tt.taal)&&a.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:(ge=(Ue=H.talen[ve])==null?void 0:Ue.taal)==null?void 0:ge.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Niveau"}),a.jsxs("select",{...k(`talen.${ve}.niveau`),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"Basis",children:"Basis"}),a.jsx("option",{value:"Gemiddeld",children:"Gemiddeld"}),a.jsx("option",{value:"Goed",children:"Goed"}),a.jsx("option",{value:"Vloeiend",children:"Vloeiend"}),a.jsx("option",{value:"Moedertaal",children:"Moedertaal"})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"button",onClick:()=>ye(ve),className:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-md",children:"Verwijderen"})})]},Ge.id)})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:Ot("hobbys")}),a.jsxs("div",{className:"bg-white rounded-lg",children:[a.jsx("div",{className:"flex justify-between items-center mb-4",children:a.jsx("button",{type:"button",onClick:Tt,className:"ml-auto px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md",children:"+ Toevoegen"})}),me.length===0&&a.jsx("p",{className:"text-gray-500 italic mb-4",children:"Nog geen hobby's toegevoegd."}),me.map((Ge,ve)=>{var st,_e,gt,tt,Ue,ge;return a.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4 mb-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Naam"}),a.jsx("input",{...k(`hobbys.${ve}.naam`,{required:"Naam is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":(_e=(st=H.hobbys)==null?void 0:st[ve])!=null&&_e.naam?"true":"false"}),((tt=(gt=H.hobbys)==null?void 0:gt[ve])==null?void 0:tt.naam)&&a.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:(ge=(Ue=H.hobbys[ve])==null?void 0:Ue.naam)==null?void 0:ge.message})]})}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"button",onClick:()=>K(ve),className:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-md",children:"Verwijderen"})})]},Ge.id)})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:[a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:Ot("vaardigheden")}),a.jsxs("div",{className:"bg-white rounded-lg",children:[a.jsx("div",{className:"flex justify-between items-center mb-4",children:a.jsxs("div",{children:[a.jsx("button",{type:"button",onClick:()=>Ft("soft"),className:"mr-2 px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md",children:"Soft Skills"}),a.jsx("button",{type:"button",onClick:()=>Ft("hard"),className:"px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md",children:"Hard Skills"})]})}),ce.length===0&&a.jsx("p",{className:"text-gray-500 italic mb-4",children:"Nog geen vaardigheden toegevoegd."}),ce.map((Ge,ve)=>{var st,_e,gt,tt,Ue,ge;return a.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Naam"}),a.jsx("input",{...k(`vaardigheden.${ve}.naam`,{required:"Naam is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":(_e=(st=H.vaardigheden)==null?void 0:st[ve])!=null&&_e.naam?"true":"false"}),((tt=(gt=H.vaardigheden)==null?void 0:gt[ve])==null?void 0:tt.naam)&&a.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:(ge=(Ue=H.vaardigheden[ve])==null?void 0:Ue.naam)==null?void 0:ge.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),a.jsxs("select",{...k(`vaardigheden.${ve}.type`),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"soft",children:"Soft Skill"}),a.jsx("option",{value:"hard",children:"Hard Skill"})]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Niveau"}),a.jsx("input",{...k(`vaardigheden.${ve}.niveau`,{setValueAs:V=>typeof V=="string"?parseInt(V,10)||0:V}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",type:"number",min:"1",max:"5"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{type:"button",onClick:()=>ae(ve),className:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-md",children:"Verwijderen"})})]},Ge.id)})]})]}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{type:"submit",disabled:x,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-md",children:x?"Opslaan...":"Opslaan"})})]})})},AD=({user:n,onSuccess:e,onError:t,setLoading:i})=>{var G,q;const{register:o,handleSubmit:c,reset:d,setValue:m,watch:p,formState:{errors:y}}=_s(),[x,j]=F.useState(((G=n.profile)==null?void 0:G.cv)||n.cv||""),[w,k]=F.useState(((q=n.profile)==null?void 0:q.profilePhoto)||n.profilePhoto||""),[z,$]=F.useState(!1),U=p("isAvailableForWork");F.useEffect(()=>{$(!!U)},[U]),F.useEffect(()=>{console.log("User profiel bijgewerkt, formulier resetten",JSON.stringify(n,null,2));const R={displayName:"",phoneNumber:"",street:"",houseNumber:"",postalCode:"",city:"",country:"",skills:"",availability:"",cv:"",linkedin:"",portfolio:"",experience:"",education:"",profilePhoto:"",isAvailableForWork:!1};if(R.displayName=n.displayName||"",R.phoneNumber=n.phoneNumber||n.phone||"",R.street=n.street||"",R.houseNumber=n.houseNumber||"",R.postalCode=n.postalCode||"",R.city=n.city||"",R.country=n.country||"",n.address&&typeof n.address=="object"){const T=n.address;R.street||(R.street=T.street||""),R.houseNumber||(R.houseNumber=T.houseNumber||""),R.postalCode||(R.postalCode=T.postalCode||""),R.city||(R.city=T.city||""),R.country||(R.country=T.country||"")}if(n.profile){if(console.log("Profielgegevens gevonden:",JSON.stringify(n.profile,null,2)),n.profile.address&&typeof n.profile.address=="object"){const P=n.profile.address;R.street||(R.street=P.street||""),R.houseNumber||(R.houseNumber=P.houseNumber||""),R.postalCode||(R.postalCode=P.postalCode||""),R.city||(R.city=P.city||""),R.country||(R.country=P.country||"")}const T=n.profile;T.skills&&(R.skills=Array.isArray(T.skills)?T.skills.join(", "):typeof T.skills=="string"?T.skills:""),R.availability=T.availability||"",R.isAvailableForWork=T.isAvailableForWork===!0,$(T.isAvailableForWork===!0),R.cv=T.cv||"",R.linkedin=T.linkedin||"",R.portfolio=T.portfolio||"",T.experience&&(R.experience=typeof T.experience=="string"?T.experience:Array.isArray(T.experience)?JSON.stringify(T.experience):""),T.education&&(R.education=Array.isArray(T.education)?T.education.join(", "):typeof T.education=="string"?T.education:""),T.profilePhoto&&(k(T.profilePhoto),R.profilePhoto=T.profilePhoto)}const N=n.profilePhoto||n.photoURL||(n.profile&&n.profile.profilePhoto?n.profile.profilePhoto:"");N&&(console.log("Profielfoto URL gevonden:",N),k(N),R.profilePhoto=N);const E=n.cv||(n.profile&&n.profile.cv?n.profile.cv:"");E&&(j(E),R.cv=E),console.log("Formulier reset met waarden:",R),d(R)},[n,d]);const H=R=>{j(R),m("cv",R)},M=async R=>{try{i(!0);const N=T0(),E=cs.currentUser;if(!E)throw new Error("Je bent niet ingelogd. Log opnieuw in om je profielfoto te uploaden.");const P=`profile-${new Date().getTime()}-${R.name}`,L=lf(N,`profile-photos/${E.uid}/${P}`);console.log("Profielfoto uploaden naar:",`profile-photos/${E.uid}/${P}`),await af(L,R),console.log("Profielfoto gepload, nu de download URL ophalen");const D=await of(L);console.log("Profielfoto URL ontvangen:",D),k(D),m("profilePhoto",D);const I=ut(Le,"users",E.uid);return await Gn(I,{profilePhoto:D,photoURL:D,"profile.profilePhoto":D,updatedAt:vs()}),console.log("Profielfoto succesvol bijgewerkt in profiel"),D}catch(N){throw console.error("Fout bij uploaden profielfoto:",N),t("Er is een fout opgetreden bij het uploaden van je profielfoto. Probeer het later opnieuw."),N}finally{i(!1)}},S=async R=>{if(!cs.currentUser){t("Je bent niet ingelogd. Log opnieuw in om je profiel op te slaan.");return}console.log("Profielgegevens worden opgeslagen:",R),i(!0);try{const N=cs.currentUser.uid,E=ut(Le,"users",N),T={street:R.street||"",houseNumber:R.houseNumber||"",postalCode:R.postalCode||"",city:R.city||"",country:R.country||""},P={address:T,skills:R.skills?R.skills.split(",").map(D=>D.trim()):[],availability:R.availability||"",isAvailableForWork:R.isAvailableForWork===!0,cv:x||R.cv||"",linkedin:R.linkedin||"",portfolio:R.portfolio||"",experience:R.experience||"",education:R.education?R.education.split(",").map(D=>D.trim()):[],profilePhoto:w||R.profilePhoto||""},L={displayName:R.displayName||"",phoneNumber:R.phoneNumber||"",phone:R.phoneNumber||"",photoURL:P.profilePhoto,street:T.street,houseNumber:T.houseNumber,postalCode:T.postalCode,city:T.city,country:T.country,address:T,profile:P,profilePhoto:P.profilePhoto,cv:P.cv,updatedAt:vs()};console.log("Bijgewerkte gebruikersgegevens die worden opgeslagen:",JSON.stringify(L,null,2)),await Gn(E,L),console.log("Profiel succesvol bijgewerkt"),i(!1),m("street",R.street||""),m("houseNumber",R.houseNumber||""),m("postalCode",R.postalCode||""),m("city",R.city||""),m("country",R.country||""),m("phoneNumber",R.phoneNumber||""),e()}catch(N){console.error("Fout bij het bijwerken van profiel:",N),i(!1),t(N instanceof Error?N.message:"Er is een onbekende fout opgetreden")}};return a.jsx("div",{children:a.jsxs("div",{className:"space-y-8",children:[a.jsxs("form",{onSubmit:c(S),children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium mb-4",children:"Persoonlijke gegevens"}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profielfoto"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[w?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:w,alt:"Profielfoto",className:"w-20 h-20 rounded-full object-cover border-2 border-primary-500",onError:R=>{console.error("Fout bij laden profielfoto:",R),R.target.src="https://via.placeholder.com/80?text=Foto"}}),a.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center cursor-pointer",onClick:()=>{k(""),m("profilePhoto","")},children:""})]}):a.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-200 flex items-center justify-center",children:a.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),a.jsxs("div",{children:[a.jsx("input",{type:"file",accept:"image/*",onChange:R=>{var E;const N=(E=R.target.files)==null?void 0:E[0];N&&M(N).then(()=>console.log("Profielfoto succesvol bijgewerkt")).catch(T=>console.error("Fout bij uploaden:",T))},className:"hidden",id:"profilePhoto"}),a.jsxs("label",{htmlFor:"profilePhoto",className:"cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})}),"Foto uploaden"]}),w&&a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Profielfoto succesvol geladen"})]})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Naam"}),a.jsx("input",{type:"text",...o("displayName",{required:"Naam is verplicht"}),className:`w-full px-3 py-2 border rounded-md ${y.displayName?"border-red-500":"border-gray-300"}`}),y.displayName&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:y.displayName.message})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefoonnummer"}),a.jsx("input",{type:"tel",...o("phoneNumber"),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium mb-4",children:"Adresgegevens"}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Straat"}),a.jsx("input",{type:"text",...o("street"),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Huisnummer"}),a.jsx("input",{type:"text",...o("houseNumber"),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postcode"}),a.jsx("input",{type:"text",...o("postalCode"),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plaats"}),a.jsx("input",{type:"text",...o("city"),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Land"}),a.jsx("input",{type:"text",...o("country"),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]}),a.jsxs("div",{className:"mt-8 mb-8",children:[a.jsx("h2",{className:"text-xl font-medium mb-4",children:"Curriculum Vitae Document"}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Hieronder kun je een CV-document uploaden dat recruiters kunnen downloaden. Ondersteunde formaten zijn PDF, DOC en DOCX."}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx(ND,{currentCvUrl:x,userId:n.id,onUploadSuccess:H,onUploadError:R=>t(R)}),a.jsx("input",{type:"hidden",...o("cv")})]}),a.jsx("div",{children:a.jsx(ED,{cvUrl:x})})]})]}),a.jsxs("div",{className:"mt-8 mb-8",children:[a.jsx("h2",{className:"text-lg font-medium mb-4",children:"Professionele informatie"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beschikbaarheid"}),a.jsxs("select",{...o("availability"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"",children:"Selecteer beschikbaarheid"}),a.jsx("option",{value:"Fulltime",children:"Fulltime"}),a.jsx("option",{value:"Parttime",children:"Parttime"}),a.jsx("option",{value:"Freelance",children:"Freelance"}),a.jsx("option",{value:"Stage",children:"Stage"})]})]}),a.jsx("div",{className:"mb-4",children:a.jsxs("div",{className:"flex items-center space-x-3 mt-4",children:[a.jsx("label",{htmlFor:"isAvailableForWork",className:"block text-sm font-medium text-gray-700 cursor-pointer",onClick:()=>{const R=!z;$(R),m("isAvailableForWork",R)},children:"Beschikbaar voor werk"}),a.jsxs("div",{className:"relative inline-block w-14 mr-2 align-middle select-none",children:[a.jsx("input",{type:"checkbox",id:"isAvailableForWork",...o("isAvailableForWork"),className:"sr-only",onChange:R=>{m("isAvailableForWork",R.target.checked),$(R.target.checked)}}),a.jsx("div",{className:`toggle-bg block h-8 rounded-full cursor-pointer w-14 transition-colors duration-200 ease-in-out ${z?"bg-primary-600":"bg-gray-200"}`,onClick:()=>{const R=!z;$(R),m("isAvailableForWork",R)}}),a.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full shadow transition-transform duration-200 ease-in-out ${z?"transform translate-x-6":""}`})]}),a.jsx("span",{className:"text-sm text-gray-500 cursor-pointer",onClick:()=>{const R=!z;$(R),m("isAvailableForWork",R)},children:"Recruiters kunnen je profiel zien als dit is ingeschakeld"})]})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"LinkedIn"}),a.jsx("input",{type:"url",...o("linkedin"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"https://linkedin.com/in/jouwprofiel"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Portfolio URL"}),a.jsx("input",{type:"url",...o("portfolio"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"https://jouwportfolio.com"})]})]})]}),a.jsx("div",{className:"mt-6 mb-10",children:a.jsx("button",{type:"submit",className:"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",children:"Basisprofiel opslaan"})})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-8 mb-6",children:[a.jsxs("div",{className:"flex items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Uitgebreid CV"}),a.jsx("div",{className:"ml-4 flex-1 border-t border-gray-200"})]}),a.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-8",children:a.jsxs("div",{className:"flex",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),a.jsx("div",{className:"ml-3",children:a.jsx("p",{className:"text-sm text-blue-700",children:"Hieronder kun je een gedetailleerd CV maken met specifieke informatie over je werkervaring, opleidingen, stages, certificaten, talen en hobby's. Deze informatie wordt opgeslagen in je profiel en is zichtbaar voor recruiters."})})]})})]}),a.jsx(TD,{user:n,onSuccess:e,onError:t,setLoading:i})]})})},J1=n=>{try{const e=localStorage.getItem(`recruiterForm_${n}`);return e?JSON.parse(e):{}}catch(e){return console.error("Fout bij ophalen formuliergegevens uit localStorage:",e),{}}},Z1=(n,e)=>{try{localStorage.setItem(`recruiterForm_${n}`,JSON.stringify(e))}catch(t){console.error("Fout bij opslaan formuliergegevens in localStorage:",t)}},Yn={},SD=({user:n,onSuccess:e,onError:t,setLoading:i})=>{const[o,c]=F.useState({}),[d,m]=F.useState(!1),[p,y]=F.useState(""),{register:x,handleSubmit:j,reset:w,formState:{errors:k},setValue:z,getValues:$}=_s({shouldUnregister:!1,defaultValues:o,mode:"onChange"}),U=(S,G)=>{if(Yn[S]=G,n.id){const q=J1(n.id);Z1(n.id,{...q,[S]:G})}};F.useEffect(()=>{if(!n||!n.id)return;const S=n.profile||{},G=n.id?J1(n.id):{},q=d?{}:G,R={displayName:q.displayName||Yn.displayName||n.displayName||"",phoneNumber:q.phoneNumber||Yn.phoneNumber||n.phoneNumber||"",companyName:q.companyName||Yn.companyName||n.companyName||S.company||"",position:q.position||Yn.position||S.position||"",companyLogo:q.companyLogo||Yn.companyLogo||S.companyLogo||"",companyWebsite:q.companyWebsite||Yn.companyWebsite||S.companyWebsite||"",companyDescription:q.companyDescription||Yn.companyDescription||S.companyDescription||"",companyStreet:q.companyStreet||Yn.companyStreet||n.companyStreet||"",companyHouseNumber:q.companyHouseNumber||Yn.companyHouseNumber||n.companyHouseNumber||"",companyPostalCode:q.companyPostalCode||Yn.companyPostalCode||n.companyPostalCode||"",companyCity:q.companyCity||Yn.companyCity||n.companyCity||"",kvkNumber:q.kvkNumber||Yn.kvkNumber||n.kvkNumber||S.kvkNumber||"",profilePhoto:q.profilePhoto||Yn.profilePhoto||n.profilePhoto||S.profilePhoto||""},N=n.profilePhoto||n.photoURL||(n.profile&&n.profile.profilePhoto?n.profile.profilePhoto:"");N&&(console.log("Profielfoto URL gevonden:",N),y(N),R.profilePhoto=N),c(R),w(R),Object.entries(R).forEach(([E,T])=>{T&&z(E,T)}),d&&m(!1),console.log("Formulier reset met waarden:",R)},[n,w,z,d]);const H=async S=>{try{i(!0);const G=T0(),q=cs.currentUser;if(!q)throw new Error("Je bent niet ingelogd. Log opnieuw in om je profielfoto te uploaden.");const N=`profile-${new Date().getTime()}-${S.name}`,E=lf(G,`profile-photos/${q.uid}/${N}`);console.log("Profielfoto uploaden naar:",`profile-photos/${q.uid}/${N}`),await af(E,S),console.log("Profielfoto gepload, nu de download URL ophalen");const T=await of(E);console.log("Profielfoto URL ontvangen:",T),y(T),z("profilePhoto",T);const P=ut(Le,"users",q.uid);return await Gn(P,{profilePhoto:T,photoURL:T,"profile.profilePhoto":T,updatedAt:vs()}),console.log("Profielfoto succesvol bijgewerkt in profiel"),T}catch(G){throw console.error("Fout bij uploaden profielfoto:",G),t("Er is een fout opgetreden bij het uploaden van je profielfoto. Probeer het later opnieuw."),G}finally{i(!1)}},M=async S=>{try{i(!0),Object.keys(S).forEach(R=>{U(R,S[R])}),n.id&&Z1(n.id,S);const G={...n,displayName:S.displayName,phoneNumber:S.phoneNumber,phone:S.phoneNumber,profilePhoto:p||S.profilePhoto||"",photoURL:p||S.profilePhoto||"",companyName:S.companyName,companyStreet:S.companyStreet,companyHouseNumber:S.companyHouseNumber,companyPostalCode:S.companyPostalCode,companyCity:S.companyCity,kvkNumber:S.kvkNumber,address:{street:S.companyStreet,houseNumber:S.companyHouseNumber,postalCode:S.companyPostalCode,city:S.companyCity},profile:{...n.profile||{},company:S.companyName,position:S.position,companyLogo:S.companyLogo,companyWebsite:S.companyWebsite,companyDescription:S.companyDescription,kvkNumber:S.kvkNumber,phoneNumber:S.phoneNumber,phone:S.phoneNumber,profilePhoto:p||S.profilePhoto||"",address:{street:S.companyStreet,houseNumber:S.companyHouseNumber,postalCode:S.companyPostalCode,city:S.companyCity},companyStreet:S.companyStreet,companyHouseNumber:S.companyHouseNumber,companyPostalCode:S.companyPostalCode,companyCity:S.companyCity},updatedAt:vs()};if(!n.id)throw new Error("Gebruiker ID is niet beschikbaar");console.log("Gebruikersdata die wordt opgeslagen:",JSON.stringify(G,null,2));const q=ut(Le,"users",n.id);await Gn(q,G),m(!0),setTimeout(()=>{Object.entries(S).forEach(([R,N])=>{z(R,N)})},200),e()}catch(G){console.error("Fout bij bijwerken profiel:",G),t("Er is een fout opgetreden bij het opslaan van je profiel. Probeer het later opnieuw.")}finally{i(!1)}};return a.jsxs("form",{onSubmit:j(M),className:"space-y-8",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-lg font-medium mb-4",children:"Persoonlijke gegevens"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Naam"}),a.jsx("input",{type:"text",...x("displayName",{required:"Naam is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",onChange:S=>U("displayName",S.target.value)}),k.displayName&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.displayName.message})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefoonnummer"}),a.jsx("input",{type:"tel",...x("phoneNumber"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"+31 6 12345678",onChange:S=>U("phoneNumber",S.target.value)})]}),a.jsxs("div",{className:"mb-6 col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profielfoto"}),a.jsxs("div",{className:"flex items-center space-x-4",children:[p?a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:p,alt:"Profielfoto",className:"w-20 h-20 rounded-full object-cover border-2 border-primary-500",onError:S=>{console.error("Fout bij laden profielfoto:",S),S.target.src="https://via.placeholder.com/80?text=Foto"}}),a.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center cursor-pointer",onClick:()=>{y(""),z("profilePhoto","")},children:""})]}):a.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-200 flex items-center justify-center",children:a.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),a.jsxs("div",{children:[a.jsx("input",{type:"file",accept:"image/*",onChange:S=>{var q;const G=(q=S.target.files)==null?void 0:q[0];G&&H(G).then(()=>console.log("Profielfoto succesvol bijgewerkt")).catch(R=>console.error("Fout bij uploaden:",R))},className:"hidden",id:"profilePhoto"}),a.jsxs("label",{htmlFor:"profilePhoto",className:"cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[a.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})}),"Foto uploaden"]}),p&&a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Profielfoto succesvol geladen"})]})]})]})]})]}),a.jsxs("div",{className:"mt-8",children:[a.jsx("h2",{className:"text-lg font-medium mb-4",children:"Bedrijfsgegevens"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bedrijfsnaam"}),a.jsx("input",{type:"text",...x("companyName",{required:"Bedrijfsnaam is verplicht"}),className:`w-full px-3 py-2 border rounded-md ${k.companyName?"border-red-500":"border-gray-300"}`,onChange:S=>U("companyName",S.target.value)}),k.companyName&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:k.companyName.message})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),a.jsx("input",{type:"url",...x("companyWebsite"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"https://bedrijf.nl",onChange:S=>U("companyWebsite",S.target.value)})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"KVK-nummer"}),a.jsx("input",{type:"text",...x("kvkNumber"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",onChange:S=>U("kvkNumber",S.target.value)})]})]})]}),a.jsxs("div",{className:"mt-8",children:[a.jsx("h2",{className:"text-lg font-medium mb-4",children:"Bedrijfsadres"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Straat"}),a.jsx("input",{type:"text",...x("companyStreet"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",onChange:S=>U("companyStreet",S.target.value)})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Huisnummer"}),a.jsx("input",{type:"text",...x("companyHouseNumber"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",onChange:S=>U("companyHouseNumber",S.target.value)})]})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postcode"}),a.jsx("input",{type:"text",...x("companyPostalCode"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",onChange:S=>U("companyPostalCode",S.target.value)})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plaats"}),a.jsx("input",{type:"text",...x("companyCity"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",onChange:S=>U("companyCity",S.target.value)})]})]})]})]}),a.jsxs("div",{className:"mt-8",children:[a.jsx("h2",{className:"text-lg font-medium mb-4",children:"Over het bedrijf"}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo URL"}),a.jsx("input",{type:"url",...x("companyLogo"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"https://bedrijf.nl/logo.png",onChange:S=>U("companyLogo",S.target.value)}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"URL naar het bedrijfslogo voor op vacatures"})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bedrijfsomschrijving"}),a.jsx("textarea",{...x("companyDescription"),rows:5,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Vertel kandidaten meer over je bedrijf...",onChange:S=>U("companyDescription",S.target.value)})]})]}),a.jsx("div",{className:"mt-6",children:a.jsx("button",{type:"submit",className:"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",children:"Profiel opslaan"})})]})},e_=()=>{const{currentUser:n,createOrUpdateProfile:e}=kt(),[t,i]=F.useState(!1),[o,c]=F.useState(null),[d,m]=F.useState(!1),[p,y]=F.useState("werkzoekende"),[x,j]=F.useState((n==null?void 0:n.displayName)||""),w=async()=>{if(!n){c("Je moet ingelogd zijn om je profiel te herstellen");return}if(!x.trim()){c("Voer een naam in");return}try{i(!0),c(null);const k=await e(x,p);console.log("Profiel succesvol hersteld:",k),m(!0),setTimeout(()=>{window.location.reload()},2e3)}catch(k){console.error("Fout bij het herstellen van profiel:",k),c("Er is een fout opgetreden bij het herstellen van je profiel. Probeer het opnieuw.")}finally{i(!1)}};return a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 mt-4",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Profiel herstellen"}),o&&a.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 p-4 mb-4",children:a.jsx("p",{className:"text-red-700",children:o})}),d&&a.jsx("div",{className:"bg-green-100 border-l-4 border-green-500 p-4 mb-4",children:a.jsx("p",{className:"text-green-700",children:"Profiel succesvol hersteld! De pagina wordt opnieuw geladen..."})}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Je naam"}),a.jsx("input",{type:"text",value:x,onChange:k=>j(k.target.value),disabled:t||d,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary-500",placeholder:"Vul je naam in"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Gebruikerstype"}),a.jsxs("div",{className:"flex space-x-6",children:[a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",value:"werkzoekende",checked:p==="werkzoekende",onChange:()=>y("werkzoekende"),disabled:t||d,className:"h-4 w-4 text-primary-600 focus:ring-primary-500"}),a.jsx("span",{className:"ml-2",children:"Werkzoekende"})]}),a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",value:"recruiter",checked:p==="recruiter",onChange:()=>y("recruiter"),disabled:t||d,className:"h-4 w-4 text-primary-600 focus:ring-primary-500"}),a.jsx("span",{className:"ml-2",children:"Recruiter"})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx("button",{onClick:w,disabled:t||d,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50",children:t?"Bezig...":d?"Profiel Hersteld":"Profiel Herstellen"})})]})},Kd=()=>{const{userProfile:n,currentUser:e,loading:t,refreshUserProfile:i,createOrUpdateProfile:o}=kt(),[c,d]=F.useState(!1),[m,p]=F.useState(null),[y,x]=F.useState(!1),[j,w]=F.useState(!1),k=Ln();if(t)return a.jsxs("div",{className:"flex justify-center items-center h-screen",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"}),a.jsx("div",{className:"ml-4",children:"Profiel laden..."})]});if(!e||!n)return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Profiel niet gevonden"}),a.jsx("p",{className:"mb-6",children:"Het lijkt erop dat je profiel niet beschikbaar is. Je kunt het opnieuw aanmaken hieronder."}),a.jsx(e_,{})]});const z=async()=>{try{d(!0),p(null),await o(n.displayName||"Gebruiker","werkzoekende"),x(!0),setTimeout(()=>x(!1),3e3)}catch(U){console.error("Fout bij repareren profiel:",U),p("Kon profiel niet repareren. Probeer later opnieuw.")}finally{d(!1)}},$=()=>hf(n)||(n==null?void 0:n.role)==="werkzoekende"||(n==null?void 0:n.userType)==="werkzoekende"?a.jsx(AD,{user:n,onSuccess:()=>{i().then(()=>{x(!0),setTimeout(()=>x(!1),3e3)}).catch(U=>{console.error("Fout bij verversen profiel na opslaan:",U)})},onError:U=>p(U),setLoading:d}):ff(n)||(n==null?void 0:n.role)==="recruiter"||(n==null?void 0:n.userType)==="recruiter"?a.jsx(SD,{user:n,onSuccess:()=>{x(!0),setTimeout(()=>{i().then(()=>{console.log("Profiel succesvol ververst na vertraging"),setTimeout(()=>x(!1),3e3)}).catch(U=>{console.error("Fout bij verversen profiel na opslaan:",U)})},500)},onError:U=>p(U),setLoading:d}):a.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 p-4 mb-6",children:[a.jsx("p",{className:"font-bold",children:"Profieltype niet herkend"}),a.jsx("p",{children:"We kunnen niet bepalen welk type profiel je hebt. Maak je profiel opnieuw aan om dit op te lossen."}),a.jsx("div",{className:"mt-4",children:a.jsx(e_,{})})]});return a.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[a.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[a.jsx("h1",{className:"text-2xl font-bold",children:"Mijn Profiel"}),a.jsx("button",{onClick:()=>k("/dashboard"),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300",children:"Terug naar dashboard"})]}),m&&a.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 p-4 mb-6",children:a.jsx("p",{className:"text-red-700",children:m})}),y&&a.jsx("div",{className:"bg-green-100 border-l-4 border-green-500 p-4 mb-6",children:a.jsx("p",{className:"text-green-700",children:"Profiel succesvol bijgewerkt!"})}),n&&!n.profile&&a.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 p-4 mb-6",children:[a.jsx("p",{className:"font-bold",children:"Profiel onvolledig"}),a.jsx("p",{children:"Je profiel lijkt onvolledig of beschadigd te zijn. Klik op 'Profiel repareren' om dit probleem op te lossen."}),a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:z,disabled:c,className:"px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 disabled:opacity-50",children:c?"Bezig...":"Profiel repareren als werkzoekende"})})]}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[$(),a.jsx("div",{className:"mt-8 pt-6 border-t",children:a.jsx("div",{className:"flex justify-end items-center",children:a.jsx("button",{onClick:()=>k("/dashboard"),className:"px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700",children:"Opslaan en terug"})})})]})]})},fn=()=>{const{currentUser:n,logout:e,userProfile:t}=kt(),i=yl(),o=i.pathname==="/"||i.pathname==="/home";let c=0;try{const{getUnreadCount:p}=I0();n&&(c=p())}catch(p){console.error("MessageContext niet beschikbaar:",p)}const d=(t==null?void 0:t.role)==="recruiter"||(t==null?void 0:t.userType)==="recruiter",m=(t==null?void 0:t.role)==="werkzoekende"||(t==null?void 0:t.userType)==="werkzoekende";return F.useEffect(()=>{console.log("Header userProfile:",t),console.log("isRecruiter:",d),console.log("isJobSeeker:",m)},[t,d,m]),a.jsx("header",{className:`w-full ${o?"bg-transparent absolute top-0 z-10":"bg-white shadow-sm"}`,children:a.jsx("div",{className:"container mx-auto px-4 py-4",children:a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx(Ut,{to:"/",className:"flex items-center",children:a.jsx("span",{className:`text-2xl font-bold ${o?"text-white":"text-primary-600"}`,children:"PitchPro"})}),a.jsxs("nav",{className:"hidden md:flex space-x-6",children:[a.jsx(Ut,{to:"/",className:`${o?"text-white":"text-gray-700"} hover:opacity-80`,children:"Home"}),a.jsx(Ut,{to:"/about",className:`${o?"text-white":"text-gray-700"} hover:opacity-80`,children:"Over ons"}),d&&a.jsx(Ut,{to:"/candidates",className:`${o?"text-white":"text-gray-700"} hover:opacity-80`,children:"Kandidaten"}),!d&&n&&a.jsx(Ut,{to:"/jobs",className:`${o?"text-white":"text-gray-700"} hover:opacity-80`,children:"Vacatures"}),n&&a.jsx(Ut,{to:"/dashboard",className:`${o?"text-white":"text-gray-700"} hover:opacity-80`,children:"Dashboard"})]}),a.jsx("div",{className:"flex items-center",children:n?a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(Ut,{to:"/messages",className:`${o?"text-white":"text-gray-700"} hover:opacity-80 relative`,"aria-label":"Berichten",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),c>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:c>99?"99+":c})]}),a.jsx(Ut,{to:"/agenda",className:`${o?"text-white":"text-gray-700"} hover:opacity-80 relative`,"aria-label":"Agenda",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),a.jsx(Ut,{to:"/profile",className:`${o?"text-white":"text-gray-700"} hover:opacity-80`,children:"Profiel"}),a.jsx("button",{onClick:()=>e(),className:`px-4 py-2 rounded-md ${o?"border border-white text-white hover:bg-white hover:text-primary-600":"border border-primary-600 text-primary-600 hover:bg-primary-600 hover:text-white"} transition-colors`,children:"Uitloggen"})]}):a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx(Ut,{to:"/login",className:`${o?"text-white":"text-gray-700"} hover:opacity-80`,children:"Inloggen"}),a.jsx(Ut,{to:"/register",className:`px-4 py-2 rounded-md ${o?"bg-white text-primary-600 hover:bg-opacity-90":"bg-primary-600 text-white hover:bg-primary-700"} transition-colors`,children:"Registreren"})]})})]})})})},Jn=()=>{const[n,e]=F.useState(""),[t,i]=F.useState(!1),o=c=>{c.preventDefault(),console.log("Aangemeld voor nieuwsbrief met email:",n),i(!0),e(""),setTimeout(()=>{i(!1)},5e3)};return a.jsx("footer",{className:"bg-gray-800 text-white py-12",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("div",{className:"mb-12 border-b border-gray-700 pb-10",children:a.jsxs("div",{className:"max-w-xl mx-auto text-center",children:[a.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Blijf op de hoogte"}),a.jsx("p",{className:"text-gray-400 mb-6",children:"Meld je aan voor onze nieuwsbrief en ontvang de nieuwste vacatures en tips rechtstreeks in je inbox."}),t?a.jsx("div",{className:"bg-green-800 text-green-100 rounded-md p-3 mb-4",children:"Bedankt voor je aanmelding! Je ontvangt binnenkort onze nieuwsbrief."}):a.jsxs("form",{onSubmit:o,className:"flex flex-col sm:flex-row gap-2 justify-center",children:[a.jsx("input",{type:"email",value:n,onChange:c=>e(c.target.value),placeholder:"Jouw e-mailadres",required:!0,className:"px-4 py-2 rounded-md bg-gray-700 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent flex-grow max-w-xs"}),a.jsx("button",{type:"submit",className:"px-6 py-2 bg-primary-600 text-white font-medium rounded-md hover:bg-primary-700 transition-colors",children:"Aanmelden"})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold mb-4",children:"PitchPro"}),a.jsx("p",{className:"text-gray-400 mb-4",children:"Het moderne recruitmentplatform dat kandidaten en recruiters met elkaar verbindt."})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Links"}),a.jsxs("ul",{className:"space-y-2 text-gray-400",children:[a.jsx("li",{children:a.jsx("a",{href:"/",className:"hover:text-white transition-colors",children:"Home"})}),a.jsx("li",{children:a.jsx("a",{href:"/jobs",className:"hover:text-white transition-colors",children:"Vacatures"})}),a.jsx("li",{children:a.jsx("a",{href:"/candidates",className:"hover:text-white transition-colors",children:"Kandidaten"})}),a.jsx("li",{children:a.jsx("a",{href:"/about",className:"hover:text-white transition-colors",children:"Over ons"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Juridisch"}),a.jsxs("ul",{className:"space-y-2 text-gray-400",children:[a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Voorwaarden"})}),a.jsx("li",{children:a.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Cookiebeleid"})})]})]}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Volg ons"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white","aria-label":"LinkedIn",children:a.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})}),a.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white","aria-label":"Twitter",children:a.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124-4.09-.193-7.715-2.157-10.141-5.126-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 14-7.503 14-14 0-.21-.005-.418-.015-.628.961-.689 1.8-1.56 2.46-2.548l-.047-.02z"})})}),a.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white","aria-label":"Facebook",children:a.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"})})}),a.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white","aria-label":"Instagram",children:a.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})]})]})]}),a.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-700 text-center text-gray-400 text-sm",children:[" ",new Date().getFullYear()," PitchPro. Alle rechten voorbehouden."]})]})})},RD=()=>{const{currentUser:n}=kt();return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx(fn,{}),a.jsx("div",{className:"bg-gradient-to-br from-primary-600 to-primary-800 text-white pt-20",children:a.jsx("div",{className:"container mx-auto px-4 py-16 md:py-24",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Vind de perfecte match tussen talent en organisaties"}),a.jsx("p",{className:"text-xl mb-8 text-primary-100",children:"Het moderne recruitmentplatform dat kandidaten en recruiters samenbrengt"}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:n?a.jsx(Ut,{to:"/dashboard",className:"px-8 py-3 bg-white text-primary-700 font-medium rounded-md hover:bg-gray-100 transition-colors shadow-md",children:"Naar Dashboard"}):a.jsxs(a.Fragment,{children:[a.jsx(Ut,{to:"/register",className:"px-8 py-3 bg-white text-primary-700 font-medium rounded-md hover:bg-gray-100 transition-colors shadow-md",children:"Registreren"}),a.jsx(Ut,{to:"/login",className:"px-8 py-3 border border-white text-white font-medium rounded-md hover:bg-primary-700 transition-colors",children:"Inloggen"})]})})]})})}),a.jsx("div",{id:"functions",className:"container mx-auto px-4 py-16",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsx("h2",{className:"text-3xl font-bold mb-6 text-center text-gray-800",children:"Vakgebieden en functies"}),a.jsx("p",{className:"text-gray-700 mb-8 text-center max-w-3xl mx-auto",children:"Ontdek de verschillende vakgebieden en functies waar PitchPro zich op richt. Ons platform verbindt professionals uit diverse disciplines met de perfecte werkgevers."}),a.jsx("div",{className:"space-y-8",children:[{id:1,title:"Software Development",description:"Ontwikkel applicaties en software-oplossingen voor diverse platforms en doeleinden.",roles:["Frontend Developer","Backend Developer","Full Stack Developer","Mobile Developer","DevOps Engineer"]},{id:2,title:"Design",description:"Creer visueel aantrekkelijke en gebruiksvriendelijke designs voor digitale producten.",roles:["UX Designer","UI Designer","Product Designer","Graphic Designer","Motion Designer"]},{id:3,title:"Product Management",description:"Leid de ontwikkeling van producten van concept tot lancering en verdere iteraties.",roles:["Product Manager","Product Owner","Program Manager","Technical Product Manager"]},{id:4,title:"Data",description:"Analyseer, verwerk en visualiseer data om inzichten te genereren en besluitvorming te ondersteunen.",roles:["Data Analyst","Data Scientist","Data Engineer","Business Intelligence Analyst"]},{id:5,title:"Marketing",description:"Promoot producten en diensten om bewustzijn te creren en nieuwe klanten aan te trekken.",roles:["Content Marketeer","SEO Specialist","Social Media Manager","Growth Hacker"]}].map(e=>a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-3",children:e.title}),a.jsx("p",{className:"text-gray-700 mb-5",children:e.description}),a.jsx("h3",{className:"text-lg font-medium mb-3",children:"Populaire functies:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:e.roles.map((t,i)=>a.jsx("span",{className:"px-3 py-1 bg-primary-50 text-primary-700 rounded-full text-sm font-medium",children:t},i))})]}),a.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100",children:a.jsxs("button",{className:"text-primary-600 font-medium hover:text-primary-800 transition-colors",children:["Bekijk alle ",e.title.toLowerCase()," vacatures "]})})]},e.id))})]})}),a.jsx("div",{id:"features",className:"bg-gray-50 py-16",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("h2",{className:"text-3xl font-bold mb-12 text-center text-gray-800",children:"Waarom PitchPro?"}),a.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[a.jsx("div",{className:"w-12 h-12 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center mb-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})})}),a.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Directe Communicatie"}),a.jsx("p",{className:"text-gray-600",children:"Communiceer direct met kandidaten en recruiters via ons ingebouwde chatsysteem"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[a.jsx("div",{className:"w-12 h-12 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center mb-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),a.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Slimme Matching"}),a.jsx("p",{className:"text-gray-600",children:"Ons platform zorgt voor de perfecte match tussen kandidaten en vacatures"})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[a.jsx("div",{className:"w-12 h-12 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center mb-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),a.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Efficint Proces"}),a.jsx("p",{className:"text-gray-600",children:"Stroomlijn het volledige wervingsproces op n centrale plek"})]})]})]})}),a.jsx("div",{className:"container mx-auto px-4 py-16",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsx("h2",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Klaar om te beginnen?"}),a.jsx("p",{className:"text-xl mb-8 text-gray-600",children:"Meld je vandaag nog aan bij PitchPro en ontdek het moderne recruitment platform"}),a.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:n?a.jsx(Ut,{to:"/dashboard",className:"px-8 py-3 bg-primary-600 text-white font-medium rounded-md hover:bg-primary-700 transition-colors shadow-md",children:"Naar Dashboard"}):a.jsxs(a.Fragment,{children:[a.jsx(Ut,{to:"/register",className:"px-8 py-3 bg-primary-600 text-white font-medium rounded-md hover:bg-primary-700 transition-colors shadow-md",children:"Registreren"}),a.jsx(Ut,{to:"/login",className:"px-8 py-3 border border-primary-600 text-primary-600 font-medium rounded-md hover:bg-primary-50 transition-colors",children:"Inloggen"})]})})]})}),a.jsx(Jn,{})]})},kD=()=>a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx(fn,{}),a.jsx("div",{className:"bg-gradient-to-br from-primary-600 to-primary-800 text-white pt-20",children:a.jsx("div",{className:"container mx-auto px-4 py-16 md:py-24",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Over PitchPro"}),a.jsx("p",{className:"text-xl mb-8 text-primary-100",children:"PitchPro is geboren uit de wens om talent en bedrijven efficint en mensgericht te verbinden. Ons innovatieve platform combineert geavanceerde technologie met persoonlijke betrokkenheid om echte matches te creren, gebaseerd op de unieke verhalen achter elk CV. Ontdek een nieuwe manier van recruitment waarin elke pitch het startpunt is voor succes."})]})})}),a.jsx("div",{className:"container mx-auto px-4 py-16",children:a.jsx("div",{className:"max-w-5xl mx-auto",children:a.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-800",children:"Onze missie"}),a.jsx("div",{className:"h-1 w-24 bg-primary-600 mb-6"}),a.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:"Bij PitchPro hebben we een duidelijke missie: het revolutioneren van het recruitment proces door technologie en menselijke connectie samen te brengen. Ons platform maakt het voor werkzoekenden eenvoudiger om hun talenten te tonen en voor recruiters om de perfecte match te vinden."}),a.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We geloven dat de juiste baan vinden of de juiste kandidaat aannemen niet alleen om vaardigheden en ervaring draait, maar ook om persoonlijkheid, waarden en cultuur."})]}),a.jsxs("div",{className:"bg-primary-50 p-8 rounded-lg shadow-md",children:[a.jsx("h3",{className:"text-2xl font-semibold mb-4 text-primary-700",children:"Visie voor de toekomst"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Ons doel is om een platform te bouwen dat niet alleen de huidige behoeften van de arbeidsmarkt vervult, maar ook anticipeert op toekomstige ontwikkelingen."}),a.jsx("p",{className:"text-gray-700",children:"We streven ernaar om de meest innovatieve en gebruiksvriendelijke recruitment-oplossing in de markt te worden, die mensen helpt hun volledige potentieel te benutten."})]})]})})}),a.jsx("div",{className:"bg-gray-50 py-16",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-800",children:"Ons team"}),a.jsx("div",{className:"h-1 w-24 bg-primary-600 mx-auto mb-6"}),a.jsx("p",{className:"text-gray-700 max-w-3xl mx-auto",children:"PitchPro is opgericht door een team van experts met jarenlange ervaring in recruitment, technologie en gebruikerservaring. Ons diverse team werkt elke dag aan het verbeteren van ons platform om de beste ervaring te bieden voor zowel werkzoekenden als recruiters."})]}),a.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{name:"Jaap de Vries",role:"CEO & Oprichter",avatar:""},{name:"Laura Jansen",role:"CTO",avatar:""},{name:"Mark Bakker",role:"Head of Design",avatar:""}].map((n,e)=>a.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-md text-center transition-transform hover:transform hover:scale-105",children:[a.jsx("div",{className:"p-8 bg-primary-600 text-white text-5xl",children:n.avatar}),a.jsxs("div",{className:"p-6",children:[a.jsx("h3",{className:"text-xl font-semibold mb-1 text-gray-800",children:n.name}),a.jsx("p",{className:"text-primary-600 mb-4",children:n.role}),a.jsxs("div",{className:"flex justify-center space-x-3",children:[a.jsx("button",{className:"text-gray-500 hover:text-primary-600",children:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:a.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})}),a.jsx("button",{className:"text-gray-500 hover:text-primary-600",children:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:a.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})})}),a.jsx("button",{className:"text-gray-500 hover:text-primary-600",children:a.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:a.jsx("path",{fillRule:"evenodd",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10c5.51 0 10-4.48 10-10S17.51 2 12 2zm6.605 4.61a8.502 8.502 0 011.93 5.314c-.281-.054-3.101-.629-5.943-.271-.065-.141-.12-.293-.184-.445a25.416 25.416 0 00-.564-1.236c3.145-1.28 4.577-3.124 4.761-3.362zM12 3.475c2.17 0 4.154.813 5.662 2.148-.152.216-1.443 1.941-4.48 3.08-1.399-2.57-2.95-4.675-3.189-5A8.687 8.687 0 0112 3.475zm-3.633.803a53.896 53.896 0 013.167 4.935c-3.992 1.063-7.517 1.04-7.896 1.04a8.581 8.581 0 014.729-5.975zM3.453 12.01v-.21c.37.01 4.512.065 8.775-1.215.25.477.477.965.694 1.453-.109.033-.228.065-.336.098-4.404 1.42-6.747 5.303-6.942 5.629a8.522 8.522 0 01-2.19-5.705zM12 20.547a8.482 8.482 0 01-5.239-1.8c.152-.315 1.888-3.656 6.703-5.337.022-.01.033-.01.054-.022a35.318 35.318 0 011.823 6.475 8.4 8.4 0 01-3.341.684zm4.761-1.465c-.086-.52-.542-3.015-1.659-6.084 2.679-.423 5.022.271 5.314.369a8.468 8.468 0 01-3.655 5.715z",clipRule:"evenodd"})})})]})]})]},e))})]})})}),a.jsx("div",{className:"container mx-auto px-4 py-16",children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-800",children:"Onze waarden"}),a.jsx("div",{className:"h-1 w-24 bg-primary-600 mb-12"}),a.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-primary-600",children:[a.jsx("div",{className:"w-12 h-12 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center mb-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),a.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Transparantie"}),a.jsx("p",{className:"text-gray-600",children:"We geloven in eerlijke en open communicatie tussen alle partijen en bevorderen vertrouwen door transparantie in al onze activiteiten."})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-primary-600",children:[a.jsx("div",{className:"w-12 h-12 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center mb-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),a.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Innovatie"}),a.jsx("p",{className:"text-gray-600",children:"We blijven continu verbeteren en nieuwe oplossingen zoeken om het recruitment proces efficinter en effectiever te maken voor alle betrokkenen."})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-primary-600",children:[a.jsx("div",{className:"w-12 h-12 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center mb-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),a.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Inclusiviteit"}),a.jsx("p",{className:"text-gray-600",children:"We streven naar een diverse en inclusieve arbeidsmarkt waar iedereen gelijke kansen heeft, ongeacht achtergrond, identiteit of levenservaring."})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-primary-600",children:[a.jsx("div",{className:"w-12 h-12 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center mb-4",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}),a.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Kwaliteit"}),a.jsx("p",{className:"text-gray-600",children:"We zetten ons in voor de hoogste kwaliteit in alles wat we doen en streven ernaar om excellentie te leveren in elke interactie en elk aspect van ons platform."})]})]})]})}),a.jsx("div",{className:"bg-primary-700 text-white py-16",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Neem contact met ons op"}),a.jsx("p",{className:"text-xl mb-8 text-primary-100",children:"Wil je meer weten over PitchPro? Ons team staat klaar om je vragen te beantwoorden."}),a.jsx("button",{className:"px-8 py-3 bg-white text-primary-700 font-medium rounded-md hover:bg-primary-50 transition-colors shadow-md",children:"Contact opnemen"})]})})}),a.jsx(Jn,{})]}),CD=()=>{const[n,e]=F.useState([]),[t,i]=F.useState(!0),[o,c]=F.useState(null),d=Ln();return F.useEffect(()=>{(async()=>{try{const p=Sr(an(Le,"users"),Rr("userType","in",["jobseeker","werkzoekende"])),y=await Cr(p),x=[];y.forEach(j=>{var k,z,$,U,H,M,S,G,q,R,N;const w=j.data();console.log("Candidate data:",w),console.log(`Beschikbaarheid voor ${w.displayName||w.name||"onbekend"}:`,{"isAvailableForWork (root)":w.isAvailableForWork,"profile.isAvailableForWork":(k=w.profile)==null?void 0:k.isAvailableForWork,"Wordt getoond (data.profile?.isAvailableForWork === true)":((z=w.profile)==null?void 0:z.isAvailableForWork)===!0}),((($=w.profile)==null?void 0:$.isAvailableForWork)===!0||w.isAvailableForWork===!0)&&x.push({id:j.id,name:w.displayName||w.name||"Onbekende naam",role:((U=w.professionalDetails)==null?void 0:U.jobTitle)||((H=w.profile)==null?void 0:H.jobTitle)||w.jobTitle||"Geen functie opgegeven",experience:(M=w.professionalDetails)!=null&&M.yearsOfExperience?`${w.professionalDetails.yearsOfExperience} jaar`:((S=w.profile)==null?void 0:S.experience)||w.experience||"Ervaring onbekend",skills:((G=w.professionalDetails)==null?void 0:G.skills)||((q=w.profile)==null?void 0:q.skills)||w.skills||[],location:w.location||w.city||"Locatie onbekend",available:((R=w.profile)==null?void 0:R.isAvailableForWork)===!0||w.isAvailableForWork===!0,profileImage:w.profilePhoto||w.profileImageURL||w.photoURL||((N=w.profile)==null?void 0:N.profilePhoto)||void 0})}),e(x),i(!1)}catch(p){console.error("Error fetching candidates:",p),c("Er is een fout opgetreden bij het laden van de kandidaten."),i(!1)}})()},[]),t?a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx(fn,{}),a.jsx("div",{className:"w-full bg-gradient-to-r from-primary-600 to-primary-800 text-white py-32 mb-8",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("h1",{className:"text-4xl font-bold mb-6 text-center",children:"Kandidaten"}),a.jsx("div",{className:"h-4 bg-primary-300 bg-opacity-30 rounded w-2/3 mx-auto mb-8"})]})}),a.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:a.jsxs("div",{className:"animate-pulse",children:[a.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mx-auto mb-6"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3 mx-auto mb-8"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(m=>a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-4"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-6"}),a.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:[1,2,3,4].map(p=>a.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"},p))})]}),a.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100",children:a.jsx("div",{className:"h-10 bg-gray-200 rounded"})})]},m))})]})}),a.jsx(Jn,{})]}):o?a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx(fn,{}),a.jsx("div",{className:"w-full bg-gradient-to-r from-primary-600 to-primary-800 text-white py-32 mb-8",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("h1",{className:"text-4xl font-bold mb-6 text-center",children:"Kandidaten"})})}),a.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("svg",{className:"w-16 h-16 text-red-500 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Probleem bij het laden"}),a.jsx("p",{className:"text-gray-600 mb-6",children:o}),a.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"Probeer opnieuw"})]})}),a.jsx(Jn,{})]}):n.length===0?a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx(fn,{}),a.jsx("div",{className:"w-full bg-gradient-to-r from-primary-600 to-primary-800 text-white py-32 mb-8",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsx("h1",{className:"text-4xl font-bold mb-6 text-center",children:"Kandidaten"})})}),a.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("svg",{className:"w-16 h-16 text-primary-600 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),a.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Geen kandidaten gevonden"}),a.jsx("p",{className:"text-gray-600",children:"Er zijn momenteel geen kandidaten beschikbaar in het systeem. Kom later terug om nieuwe profielen te bekijken."})]})}),a.jsx(Jn,{})]}):a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx(fn,{}),a.jsx("div",{className:"w-full bg-gradient-to-r from-primary-600 to-primary-800 text-white py-32 mb-8",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("h1",{className:"text-4xl font-bold mb-6 text-center",children:"Kandidaten"}),a.jsx("p",{className:"text-xl text-center max-w-3xl mx-auto",children:"Bekijk onze hoogwaardige kandidaten die klaar zijn voor hun volgende uitdaging. Neem contact op om meer te weten te komen."})]})}),a.jsx("div",{className:"container mx-auto px-4 py-12",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map(m=>a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a.jsxs("div",{className:"p-6",children:[a.jsx("div",{className:"flex justify-center mb-4",children:m.profileImage?a.jsxs(a.Fragment,{children:[a.jsx("img",{src:m.profileImage,alt:`Profielfoto van ${m.name}`,className:"w-24 h-24 rounded-full object-cover border-2 border-primary-200",onError:p=>{console.error(`Fout bij laden profielfoto voor ${m.name}:`,m.profileImage),p.currentTarget.style.display="none";const y=p.currentTarget.parentElement;if(y){const x=y.querySelector(".fallback-avatar");x&&x.classList.remove("hidden")}}}),a.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 text-2xl border-2 border-gray-300 hidden fallback-avatar",children:m.name.charAt(0).toUpperCase()})]}):a.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 text-2xl border-2 border-gray-300",children:m.name.charAt(0).toUpperCase()})}),a.jsx("h2",{className:"text-xl font-semibold mb-2 text-center",children:m.name}),a.jsx("p",{className:"text-primary-600 font-medium mb-2",children:m.role}),a.jsxs("p",{className:"text-gray-600 mb-4",children:[m.location,"  ",m.experience]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Vaardigheden:"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:m.skills.map((p,y)=>a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:p},y))})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:`inline-block w-3 h-3 rounded-full mr-2 ${m.available?"bg-green-500":"bg-red-500"}`}),a.jsx("span",{className:"text-sm text-gray-600",children:m.available?"Beschikbaar":"Niet beschikbaar"})]})]}),a.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100",children:a.jsx("button",{onClick:()=>d(`/candidate/${m.id}`),className:"w-full py-2 px-4 bg-primary-600 hover:bg-primary-700 text-white rounded-md transition-colors",children:"Bekijk profiel"})})]},m.id))})}),a.jsx(Jn,{})]})},ID=()=>{var Te,Ie,Z,re,ye,me,O;const{id:n}=Za(),e=Ln(),[t,i]=F.useState(null),[o,c]=F.useState(!0),[d,m]=F.useState(null),[p,y]=F.useState("overview"),[x,j]=F.useState(!1),w=F.useRef(null);F.useEffect(()=>{(async()=>{var ce,le,ae,je,be;if(!n){m("Geen kandidaat ID gevonden"),c(!1);return}try{const Ce=ut(Le,"users",n),Oe=await An(Ce);if(Oe.exists()){const Be=Oe.data();console.log("Gebruikersgegevens geladen:",Be),console.log("Profile photo fields:",{photoURL:Be.photoURL,profilePhoto:Be.profilePhoto,profileImageURL:Be.profileImageURL,profileImage:Be.profileImage,"profile.profilePhoto":(ce=Be.profile)==null?void 0:ce.profilePhoto}),console.log("Beschikbaarheid velden:",{"isAvailableForWork (root)":Be.isAvailableForWork,"profile.isAvailableForWork":(le=Be.profile)==null?void 0:le.isAvailableForWork,"available na toewijzing":Be.isAvailableForWork===!0||((ae=Be.profile)==null?void 0:ae.isAvailableForWork)===!0});const Dt=an(Le,"users",n,"cv"),Tt=await Cr(Dt);console.log("CV collectie bestaat. Aantal documenten:",Tt.size),console.log("CV documenten IDs:",Tt.docs.map(Ge=>Ge.id));let Ft,Ot="main";if(Tt.empty)console.log("Geen CV documenten gevonden in de subcollectie");else{const Ge=Tt.docs.find(ve=>ve.id==="main");Ge?(Ft=Ge.data(),console.log("CV 'main' document gevonden:",Ft)):(Ot=Tt.docs[0].id,Ft=Tt.docs[0].data(),console.log(`Geen 'main' document gevonden, gebruikte eerste document met ID ${Ot}:`,Ft))}i({id:Oe.id,...Be,name:Be.displayName||Be.name||"Onbekende naam",profileImage:Be.profilePhoto||Be.profileImageURL||Be.photoURL||((je=Be.profile)==null?void 0:je.profilePhoto),available:Be.isAvailableForWork===!0||((be=Be.profile)==null?void 0:be.isAvailableForWork)===!0,cv:Ft||void 0}),console.log("CV gegevens in candidate state:",Ft)}else m("Kandidaat niet gevonden");c(!1)}catch(Ce){console.error("Error fetching candidate:",Ce),m("Er is een fout opgetreden bij het laden van de kandidaat"),c(!1)}})()},[n]),F.useEffect(()=>{var K;if(t){const ce=t.profilePhoto||t.profileImageURL||t.photoURL||((K=t.profile)==null?void 0:K.profilePhoto);ce?(console.log("Profielfoto URL gevonden:",ce),console.log("Veld dat wordt gebruikt:",t.profilePhoto?"profilePhoto":t.profileImageURL?"profileImageURL":t.photoURL?"photoURL":"profile.profilePhoto")):console.log("Geen profielfoto URL beschikbaar")}},[t]);const k=K=>{if(!K)return!1;try{new URL(K)}catch{return console.error("Ongeldige URL format:",K),!1}return K.includes("firebasestorage.googleapis.com")||K.match(/\.(jpeg|jpg|gif|png|webp|svg|bmp)$/i)!==null||K.startsWith("data:image/")?!0:K.startsWith("http")?(console.warn("URL zonder duidelijke afbeeldingsextensie:",K),!0):!1},z=()=>{console.error("Profielfoto kon niet worden geladen:",t==null?void 0:t.profileImage),j(!0)},$=()=>{e(`/schedule-meeting/${n}`)},U=()=>{e(`/chat/${n}`)},H=K=>{if(!K)return"Heden";try{return(K.toDate?K.toDate():new Date(K)).toLocaleDateString("nl-NL",{year:"numeric",month:"long"})}catch(ce){return console.error("Error formatting date:",ce),"Onbekende datum"}};if(o)return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx(fn,{}),a.jsx("div",{className:"container mx-auto px-4 py-32 flex justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}),a.jsx(Jn,{})]});if(d||!t)return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx(fn,{}),a.jsx("div",{className:"container mx-auto px-4 py-32 text-center",children:a.jsxs("div",{className:"max-w-md mx-auto",children:[a.jsx("svg",{className:"w-16 h-16 text-red-500 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),a.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Kandidaat niet gevonden"}),a.jsx("p",{className:"text-gray-600 mb-6",children:d||"Deze kandidaat bestaat niet of is verwijderd."}),a.jsx("button",{onClick:()=>e("/candidates"),className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"Terug naar kandidaten"})]})}),a.jsx(Jn,{})]});const M=(K,ce="")=>{const le=K;return t[le]&&typeof t[le]=="string"?t[le]:t.professionalDetails&&t.professionalDetails[K]?t.professionalDetails[K]:t.profile&&t.profile[K]?t.profile[K]:ce},S=M("jobTitle","Functie onbekend"),G=M("bio",M("about","")),q=t.skills||((Te=t.professionalDetails)==null?void 0:Te.skills)||((Ie=t.profile)==null?void 0:Ie.skills)||[],R=t.location||t.city||"Locatie onbekend";typeof((Z=t.professionalDetails)==null?void 0:Z.yearsOfExperience)=="number"?`${t.professionalDetails.yearsOfExperience}`:t.experience||(re=t.profile)!=null&&re.experience;const N=t.cv;console.log("CV data in render:",N);const E=K=>K?Array.isArray(K)?K:[]:[],T=(N==null?void 0:N.overMij)||G,P=E(N==null?void 0:N.werkervaring),L=E(N==null?void 0:N.opleiding),D=E(N==null?void 0:N.stages),I=E(N==null?void 0:N.certificaten);return console.log("CV sectie gegevens:"),console.log("- aboutMe:",T),console.log("- workExperience:",P,"length:",P==null?void 0:P.length),console.log("- education:",L,"length:",L==null?void 0:L.length),console.log("- internships:",D,"length:",D==null?void 0:D.length),console.log("- certificates:",I,"length:",I==null?void 0:I.length),a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx(fn,{}),a.jsxs("div",{className:"container mx-auto px-4 py-32",children:[a.jsx("div",{className:"mb-6",children:a.jsxs("button",{onClick:()=>e("/candidates"),className:"text-primary-600 hover:text-primary-800 flex items-center",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Terug naar kandidaten"]})}),a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a.jsx("div",{className:"p-8 bg-gradient-to-r from-primary-600 to-primary-800 text-white",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center",children:[a.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 bg-white rounded-full text-primary-600 flex items-center justify-center text-4xl font-bold mb-4 md:mb-0 md:mr-6 overflow-hidden border-4 border-white shadow-lg relative",children:(t!=null&&t.profileImage||t!=null&&t.profilePhoto||t!=null&&t.profileImageURL||t!=null&&t.photoURL||(ye=t==null?void 0:t.profile)!=null&&ye.profilePhoto)&&!x&&k((t==null?void 0:t.profileImage)||(t==null?void 0:t.profilePhoto)||(t==null?void 0:t.profileImageURL)||(t==null?void 0:t.photoURL)||((me=t==null?void 0:t.profile)==null?void 0:me.profilePhoto)||"")?a.jsxs(a.Fragment,{children:[a.jsx("img",{ref:w,src:t.profileImage||t.profilePhoto||t.profileImageURL||t.photoURL||((O=t.profile)==null?void 0:O.profilePhoto),alt:t.name,className:"w-full h-full object-cover",onError:z}),a.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center justify-center bg-gray-200 text-gray-500 opacity-0",style:{opacity:x?1:0},children:t!=null&&t.name?t.name.substring(0,2).toUpperCase():"KP"})]}):a.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200 text-gray-500",children:t!=null&&t.name?t.name.substring(0,2).toUpperCase():"KP"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:t.name}),a.jsx("p",{className:"text-xl text-primary-100",children:S}),a.jsxs("div",{className:"flex items-center mt-3",children:[a.jsx("span",{className:`inline-block w-3 h-3 rounded-full mr-2 ${t.available?"bg-green-400":"bg-red-400"}`}),a.jsx("span",{className:"text-primary-50",children:t.available?"Beschikbaar voor nieuwe kansen":"Momenteel niet beschikbaar"})]})]})]})}),a.jsx("div",{className:"border-b border-gray-200",children:a.jsxs("nav",{className:"flex -mb-px",children:[a.jsx("button",{onClick:()=>y("overview"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${p==="overview"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Overzicht"}),a.jsx("button",{onClick:()=>y("cv"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${p==="cv"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"CV"})]})}),p==="overview"?a.jsx("div",{className:"p-8",children:a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Over mij"}),a.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:T||"Deze kandidaat heeft nog geen bio toegevoegd."})]}),a.jsxs("section",{className:"mb-8",children:[a.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Vaardigheden"}),q.length>0?a.jsx("div",{className:"flex flex-wrap gap-2",children:q.map((K,ce)=>a.jsx("span",{className:"px-3 py-1 bg-primary-50 text-primary-700 rounded-full text-sm font-medium",children:K},ce))}):a.jsx("p",{className:"text-gray-500 italic",children:"Geen vaardigheden opgegeven"})]})]}),a.jsxs("div",{className:"lg:col-span-1",children:[a.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Details"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm text-gray-500 mb-1",children:"Locatie"}),a.jsx("p",{className:"text-gray-800",children:R})]}),t.email&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm text-gray-500 mb-1",children:"E-mail"}),a.jsx("p",{className:"text-gray-800",children:t.email})]}),t.phoneNumber&&a.jsxs("div",{children:[a.jsx("h4",{className:"text-sm text-gray-500 mb-1",children:"Telefoonnummer"}),a.jsx("p",{className:"text-gray-800",children:t.phoneNumber})]})]})]}),a.jsxs("div",{className:"mt-6 space-y-4",children:[a.jsxs("button",{onClick:$,className:"w-full flex items-center justify-center py-2 px-4 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),"Afspraak maken"]}),a.jsxs("button",{onClick:U,className:"w-full flex items-center justify-center py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),"Chatten"]})]})]})]})}):a.jsx("div",{className:"p-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("section",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-2",children:"Werkervaring"}),P.length>0?a.jsx("div",{className:"space-y-8",children:P.map(K=>a.jsxs("div",{className:"relative pl-8 before:absolute before:left-0 before:top-0 before:bottom-0 before:w-0.5 before:bg-primary-100",children:[a.jsx("div",{className:"absolute left-0 top-1.5 w-4 h-4 rounded-full bg-primary-600 -ml-2"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:K.functie}),a.jsx("p",{className:"text-primary-700 font-medium",children:K.bedrijf}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[H(K.startDatum)," - ",K.isHuidigeFunctie?"Heden":H(K.eindDatum)]}),K.beschrijving&&a.jsx("p",{className:"mt-3 text-gray-700",children:K.beschrijving})]},K.id))}):a.jsx("p",{className:"text-gray-500 italic",children:"Geen werkervaring toegevoegd"})]}),a.jsxs("section",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-2",children:"Opleiding"}),L.length>0?a.jsx("div",{className:"space-y-8",children:L.map(K=>a.jsxs("div",{className:"relative pl-8 before:absolute before:left-0 before:top-0 before:bottom-0 before:w-0.5 before:bg-primary-100",children:[a.jsx("div",{className:"absolute left-0 top-1.5 w-4 h-4 rounded-full bg-primary-600 -ml-2"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:K.opleiding}),a.jsx("p",{className:"text-primary-700 font-medium",children:K.instituut}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[H(K.startDatum)," - ",K.isHuidigeOpleiding?"Heden":H(K.eindDatum)]}),K.beschrijving&&a.jsx("p",{className:"mt-3 text-gray-700",children:K.beschrijving})]},K.id))}):a.jsx("p",{className:"text-gray-500 italic",children:"Geen opleiding toegevoegd"})]}),D.length>0&&a.jsxs("section",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-2",children:"Stages"}),a.jsx("div",{className:"space-y-8",children:D.map(K=>a.jsxs("div",{className:"relative pl-8 before:absolute before:left-0 before:top-0 before:bottom-0 before:w-0.5 before:bg-primary-100",children:[a.jsx("div",{className:"absolute left-0 top-1.5 w-4 h-4 rounded-full bg-primary-600 -ml-2"}),a.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:K.functie}),a.jsx("p",{className:"text-primary-700 font-medium",children:K.bedrijf}),a.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[H(K.startDatum)," - ",K.isHuidigeStage?"Heden":H(K.eindDatum)]}),K.beschrijving&&a.jsx("p",{className:"mt-3 text-gray-700",children:K.beschrijving})]},K.id))})]}),I.length>0&&a.jsxs("section",{className:"mb-12",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-2",children:"Certificaten"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:I.map(K=>a.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-5 shadow-sm",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:K.naam||"Certificaat"}),K.uitgever&&a.jsx("p",{className:"text-primary-700",children:K.uitgever}),K.datum&&a.jsx("p",{className:"text-sm text-gray-500 mt-1",children:H(K.datum)}),K.beschrijving&&a.jsx("p",{className:"mt-3 text-gray-700",children:K.beschrijving})]},K.id))})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-8",children:[a.jsxs("button",{onClick:$,className:"flex-1 flex items-center justify-center py-2 px-4 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),"Afspraak maken"]}),a.jsxs("button",{onClick:U,className:"flex-1 flex items-center justify-center py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),"Chatten met ",t.name.split(" ")[0]]})]})]})})]})]}),a.jsx(Jn,{})]})},DD=()=>{const n=Ln(),[e,t]=F.useState([]),[i,o]=F.useState(!0),[c,d]=F.useState(null),[m,p]=F.useState(""),{userProfile:y,currentUser:x}=kt(),{addFavorite:j,removeFavorite:w,isFavorite:k,loading:z}=Nj(),$=[{id:"dummy1",title:"Frontend Developer",company:"Test Bedrijf",location:"Amsterdam",description:"Een test vacature voor frontend developer met React en TypeScript ervaring.",salary:"3000-4000",isFullTime:!0,isRemote:!1,requirements:"Ervaring met React, TypeScript en responsive design"},{id:"dummy2",title:"UX Designer",company:"Creative Solutions",location:"Rotterdam",description:"Een test vacature voor een ervaren UX Designer.",salary:"2800-3800",isFullTime:!0,isRemote:!0,requirements:"Ervaring met Figma, user testing en wireframing"}];F.useEffect(()=>{(async()=>{o(!0);try{const S=an(Le,"jobs");console.log("Query uitgevoerd op collectie: jobs");const G=Sr(S),q=await Cr(G);console.log(`Er zijn ${q.size} vacatures gevonden in Firestore (jobs collectie)`);const R=[];q.forEach(N=>{const E=N.data();console.log(`Vacature ID: ${N.id}, Titel: ${E.title||"Onbekend"}`),R.push({id:N.id,title:E.title||"Onbekende functie",company:E.company||"Onbekend bedrijf",location:E.location||"Locatie onbekend",description:E.description||"Geen beschrijving beschikbaar",salary:E.salary,isFullTime:E.isFullTime,isRemote:E.isRemote,status:E.status,requirements:E.requirements,createdAt:E.createdAt,updatedAt:E.updatedAt,userId:E.userId,recruiterId:E.recruiterId})}),R.length>0?(t(R),console.log("Vacatures succesvol geladen uit jobs collectie")):(console.log("Geen echte vacatures gevonden, toon dummy data voor testing"),t($)),d(null)}catch(S){console.error("Fout bij het ophalen van vacatures:",S),(S instanceof Error?S.message:String(S)).includes("permission-denied")?(console.log("BELANGRIJK: De Firebase security rules geven geen toegang tot de 'jobs' collectie."),console.log("Je moet de security rules aanpassen om de 'jobs' collectie te kunnen lezen."),d("Geen toegangsrechten voor de vacature-database. Neem contact op met de beheerder.")):d("Er is een fout opgetreden bij het laden van de vacatures. Probeer het later opnieuw."),console.log("Fout bij ophalen, toon dummy data voor testing"),t($)}finally{o(!1)}})()},[]),F.useEffect(()=>{var S;const M=((S=y==null?void 0:y.profile)==null?void 0:S.profilePhoto)||(y==null?void 0:y.profilePhoto)||(x==null?void 0:x.photoURL)||"";console.log("User profile data updated, photo URL:",M),M&&M!==m&&p(M)},[y,x]);const U=M=>{n(`/job/${M}`)},H=async(M,S)=>{if(M.stopPropagation(),M.preventDefault(),!x){n("/login",{state:{from:"/jobs"}});return}try{k(S.id)?(await w(S.id),console.log(`Vacature ${S.id} verwijderd uit favorieten`)):(await j(S.id,S),console.log(`Vacature ${S.id} toegevoegd aan favorieten`))}catch(G){console.error("Fout bij favoriet markeren:",G)}};return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx(fn,{}),a.jsx("div",{className:"bg-gradient-to-br from-primary-600 to-primary-800 text-white pt-20",children:a.jsx("div",{className:"container mx-auto px-4 py-16 md:py-24",children:a.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[a.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Vacatures"}),a.jsx("p",{className:"text-xl mb-8 text-primary-100",children:"Ontdek uitdagende vacatures die perfect aansluiten bij jouw unieke vaardigheden en ambities. Ons platform biedt kansen waarin jouw talenten volledig tot hun recht komen, met volop ruimte voor groei en ontwikkeling. Vind de baan die jouw professionele toekomst vormgeeft."})]})})}),a.jsx("div",{className:"container mx-auto px-4 py-12",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[a.jsx("div",{className:"md:col-span-1",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Filters"}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Zoeken"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"text",id:"search",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md",placeholder:"Zoek op trefwoord"}),a.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:a.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Locatie"}),a.jsx("input",{type:"text",id:"location",className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Bijv. Amsterdam"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"radius",className:"block text-sm font-medium text-gray-700 mb-1",children:"Straal"}),a.jsxs("select",{id:"radius",className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"",children:"Selecteer afstand"}),a.jsx("option",{value:"5",children:"5 km"}),a.jsx("option",{value:"10",children:"10 km"}),a.jsx("option",{value:"25",children:"25 km"}),a.jsx("option",{value:"50",children:"50 km"}),a.jsx("option",{value:"100",children:"100 km"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"function",className:"block text-sm font-medium text-gray-700 mb-1",children:"Functie"}),a.jsx("input",{type:"text",id:"function",className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Bijv. Developer"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Salaris range"}),a.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[a.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Min"}),a.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Max"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Geplaatst sinds"}),a.jsxs("select",{id:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[a.jsx("option",{value:"",children:"Alle datums"}),a.jsx("option",{value:"1",children:"Laatste 24 uur"}),a.jsx("option",{value:"7",children:"Afgelopen week"}),a.jsx("option",{value:"30",children:"Afgelopen maand"}),a.jsx("option",{value:"90",children:"Afgelopen 3 maanden"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ervaringsniveau"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"starter",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"starter",className:"ml-2 text-sm text-gray-700",children:"Starter"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"medior",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"medior",className:"ml-2 text-sm text-gray-700",children:"Medior"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"senior",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"senior",className:"ml-2 text-sm text-gray-700",children:"Senior"})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Soort baan"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"fulltime",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"fulltime",className:"ml-2 text-sm text-gray-700",children:"Fulltime"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"parttime",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"parttime",className:"ml-2 text-sm text-gray-700",children:"Parttime"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"contract",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"contract",className:"ml-2 text-sm text-gray-700",children:"Contract"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"tijdelijk",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"tijdelijk",className:"ml-2 text-sm text-gray-700",children:"Tijdelijk"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"zzp",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"zzp",className:"ml-2 text-sm text-gray-700",children:"ZZP"})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Werklocatie"}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"onsite",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"onsite",className:"ml-2 text-sm text-gray-700",children:"Op locatie"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"hybrid",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"hybrid",className:"ml-2 text-sm text-gray-700",children:"Hybride"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{id:"remote",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"remote",className:"ml-2 text-sm text-gray-700",children:"Op afstand"})]})]})]}),a.jsxs("div",{className:"flex flex-col space-y-2",children:[a.jsx("button",{className:"w-full py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"Filters toepassen"}),a.jsx("button",{className:"w-full py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Filters wissen"})]})]})}),a.jsxs("div",{className:"md:col-span-3",children:[i&&a.jsxs("div",{className:"flex justify-center items-center p-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"}),a.jsx("span",{className:"ml-3",children:"Vacatures laden..."})]}),c&&a.jsx("div",{className:"bg-red-50 text-red-700 p-4 rounded-lg mb-6",children:a.jsx("p",{children:c})}),!i&&!c&&e.length===0&&a.jsxs("div",{className:"bg-gray-50 p-12 rounded-lg text-center",children:[a.jsx("h3",{className:"text-xl font-medium text-gray-700 mb-2",children:"Geen vacatures gevonden"}),a.jsx("p",{className:"text-gray-500",children:"Er zijn momenteel geen vacatures beschikbaar. Kom later terug voor nieuwe mogelijkheden."})]}),!i&&!c&&e.length>0&&a.jsx("div",{className:"space-y-6",children:e.map(M=>a.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border border-gray-100 hover:shadow-lg transition-shadow",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-4",children:[a.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[M.title,a.jsx("button",{onClick:S=>H(S,M),className:`ml-2 focus:outline-none transition-colors ${k(M.id)?"text-yellow-500":"text-gray-400 hover:text-gray-600"}`,"aria-label":k(M.id)?"Verwijder uit favorieten":"Voeg toe aan favorieten",disabled:z,children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})})]}),a.jsx("span",{className:"mt-2 md:mt-0 px-3 py-1 bg-primary-50 text-primary-700 rounded-full text-sm font-medium",children:M.isFullTime?"Fulltime":"Parttime"})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 text-gray-600",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h8a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm3 1h6v4H7V5zm8 8v2h1v1H4v-1h1v-2h-.5a.5.5 0 01-.5-.5v-2a.5.5 0 01.5-.5H6v-1h8v1h1.5a.5.5 0 01.5.5v2a.5.5 0 01-.5.5H15z",clipRule:"evenodd"})}),M.company]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),M.location," ",M.isRemote&&a.jsx("span",{className:"ml-1 text-primary-600",children:"(Remote mogelijk)"})]}),M.salary&&a.jsxs("div",{className:"flex items-center",children:[a.jsxs("svg",{className:"w-5 h-5 mr-2 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[a.jsx("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z",clipRule:"evenodd"})]}),"",M.salary]})]}),a.jsx("p",{className:"text-gray-700 mb-4",children:M.description}),M.requirements&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"text-md font-medium mb-2",children:"Vereisten:"}),a.jsx("p",{className:"text-gray-700",children:M.requirements})]}),a.jsx("div",{className:"mt-4 flex justify-end",children:a.jsx("button",{onClick:()=>U(M.id),className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"Bekijk vacature"})})]})},M.id))})]})]})}),a.jsx(Jn,{})]})},OD=()=>{const{jobId:n}=Za(),e=Ln(),{currentUser:t,userProfile:i}=kt(),{createNewChat:o}=I0(),[c,d]=F.useState(null),[m,p]=F.useState(!0),[y,x]=F.useState(null),[j,w]=F.useState(!1),k=(i==null?void 0:i.role)==="werkzoekende",z=(i==null?void 0:i.role)==="recruiter",$=t&&(c==null?void 0:c.recruiterId)===t.uid;F.useEffect(()=>{(async()=>{if(!n){x("Geen vacature ID gevonden"),p(!1);return}try{p(!0);const q=ut(Le,"jobs",n),R=await An(q);if(R.exists()){const N=R.data();d({id:R.id,title:N.title||"Onbekende functie",company:N.company||"Onbekend bedrijf",location:N.location||"Locatie onbekend",description:N.description||"Geen beschrijving beschikbaar",salary:N.salary,isFullTime:N.isFullTime,isRemote:N.isRemote,status:N.status,requirements:N.requirements,createdAt:N.createdAt,updatedAt:N.updatedAt,userId:N.userId,recruiterId:N.recruiterId}),x(null)}else x("Vacature niet gevonden"),d(null)}catch(q){console.error("Fout bij het ophalen van vacaturedetails:",q),x("Er is een fout opgetreden bij het laden van de vacature"),d(null)}finally{p(!1)}})()},[n]);const U=()=>{if(!t){e("/login",{state:{from:`/job/${n}`}});return}e(`/job-application/${n}`)},H=async()=>{if(!t){e("/login",{state:{from:`/job/${n}`}});return}if(!(c!=null&&c.recruiterId)){alert("Er is geen recruiter gekoppeld aan deze vacature");return}try{if(w(!0),t.uid===c.recruiterId){alert("Je kunt geen chat starten met jezelf"),w(!1);return}const G=await o(c.recruiterId);e(`/messages/${G}`)}catch(G){console.error("Fout bij het starten van de chat:",G),alert("Er is een fout opgetreden bij het starten van de chat. Probeer het later opnieuw."),w(!1)}},M=()=>{e("/jobs")},S=()=>{e(`/edit-job/${n}`)};return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx(fn,{}),a.jsx("div",{className:"container mx-auto px-4 py-12 mt-12",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("button",{onClick:M,className:"mb-6 flex items-center text-primary-600 hover:text-primary-800",children:[a.jsx("svg",{className:"w-5 h-5 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Terug naar alle vacatures"]}),m&&a.jsxs("div",{className:"flex justify-center items-center p-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"}),a.jsx("span",{className:"ml-3",children:"Vacature details laden..."})]}),y&&a.jsxs("div",{className:"bg-red-50 text-red-700 p-6 rounded-lg mb-6",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Er is een probleem opgetreden"}),a.jsx("p",{children:y})]}),!m&&!y&&c&&a.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden border border-gray-200",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-4",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:c.title}),a.jsxs("span",{className:"mt-2 md:mt-0 px-4 py-1 bg-primary-50 text-primary-700 rounded-full text-sm font-medium",children:[c.isFullTime?"Fulltime":"Parttime",c.isRemote&&", Remote mogelijk"]})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-gray-600",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h8a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm3 1h6v4H7V5zm8 8v2h1v1H4v-1h1v-2h-.5a.5.5 0 01-.5-.5v-2a.5.5 0 01.5-.5H6v-1h8v1h1.5a.5.5 0 01.5.5v2a.5.5 0 01-.5.5H15z",clipRule:"evenodd"})}),c.company]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),c.location]}),c.salary&&a.jsxs("div",{className:"flex items-center",children:[a.jsxs("svg",{className:"w-5 h-5 mr-2 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[a.jsx("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z",clipRule:"evenodd"})]}),"",c.salary]})]})]}),a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Functieomschrijving"}),a.jsx("div",{className:"mb-6 text-gray-700 whitespace-pre-line",children:c.description}),c.requirements&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Functie-eisen"}),a.jsx("div",{className:"text-gray-700 whitespace-pre-line",children:c.requirements})]}),k&&a.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row gap-4",children:[a.jsx("button",{onClick:U,className:"px-6 py-3 bg-primary-600 text-white font-medium rounded-md hover:bg-primary-700 transition-colors flex-1",children:"Solliciteer direct"}),a.jsx("button",{onClick:H,disabled:j,className:"px-6 py-3 bg-white text-primary-600 font-medium rounded-md border border-primary-600 hover:bg-primary-50 transition-colors flex-1 flex justify-center items-center",children:j?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-primary-600 mr-2"}),a.jsx("span",{children:"Bezig..."})]}):"Chat met recruiter"})]}),z&&$&&a.jsx("div",{className:"mt-8 flex justify-end",children:a.jsx("button",{onClick:S,className:"px-6 py-3 bg-primary-600 text-white font-medium rounded-md hover:bg-primary-700 transition-colors",children:"Vacature bewerken"})})]})]})]})})]})},VD=()=>{var N,E,T,P;const{jobId:n}=Za(),e=Ln(),{currentUser:t,userProfile:i}=kt(),[o,c]=F.useState(null),[d,m]=F.useState(!0),[p,y]=F.useState(!1),[x,j]=F.useState(null),[w,k]=F.useState(!1),[z,$]=F.useState(null),{register:U,handleSubmit:H,formState:{errors:M}}=_s({defaultValues:{email:(t==null?void 0:t.email)||"",phoneNumber:(i==null?void 0:i.phoneNumber)||"",linkedinUrl:((N=i==null?void 0:i.profile)==null?void 0:N.linkedin)||"",portfolioUrl:((E=i==null?void 0:i.profile)==null?void 0:E.portfolio)||""}});i==null||i.role,F.useEffect(()=>{if(!t){e("/login",{state:{from:`/job-application/${n}`}});return}if(i&&i.role!=="werkzoekende"){j("Alleen werkzoekenden kunnen solliciteren"),m(!1);return}(async()=>{if(!n){j("Geen vacature ID gevonden"),m(!1);return}try{m(!0);const D=ut(Le,"jobs",n),I=await An(D);if(I.exists()){const Te=I.data();c({id:I.id,title:Te.title||"Onbekende functie",company:Te.company||"Onbekend bedrijf",location:Te.location||"Locatie onbekend",description:Te.description||"Geen beschrijving beschikbaar",salary:Te.salary,isFullTime:Te.isFullTime,isRemote:Te.isRemote,status:Te.status,requirements:Te.requirements,createdAt:Te.createdAt,updatedAt:Te.updatedAt,userId:Te.userId,recruiterId:Te.recruiterId}),j(null)}else j("Vacature niet gevonden"),c(null)}catch(D){console.error("Fout bij het ophalen van vacaturedetails:",D),j("Er is een fout opgetreden bij het laden van de vacature"),c(null)}finally{m(!1)}})()},[n,t,e,i]);const S=async L=>{if(!t)throw new Error("Niet ingelogd");const D=L.name.split(".").pop(),I=`cv_${t.uid}_${Date.now()}.${D}`,Te=lf(xj,`cv/${I}`);return await af(Te,L),of(Te)},G=async L=>{var D;if(!t||!o||!o.recruiterId){j("Er ontbreken gegevens om de sollicitatie te kunnen versturen");return}try{y(!0),j(null);let I=((D=i==null?void 0:i.profile)==null?void 0:D.cv)||"";L.cv&&L.cv.length>0&&(I=await S(L.cv[0]));const Te={jobId:o.id,userId:t.uid,recruiterId:o.recruiterId,jobTitle:o.title,companyName:o.company,applicantName:(i==null?void 0:i.displayName)||t.displayName||"",motivationLetter:L.motivationLetter,cvUrl:I,phoneNumber:L.phoneNumber||"",email:L.email,linkedinUrl:L.linkedinUrl||"",portfolioUrl:L.portfolioUrl||"",status:"pending",applicationDate:vs(),updatedAt:vs(),notes:L.additionalNotes||""},Ie=an(Le,"sollicitaties");await ml(Ie,Te),k(!0),setTimeout(()=>{e("/dashboard")},3e3)}catch(I){console.error("Fout bij het versturen van de sollicitatie:",I),I.code==="permission-denied"?j("Je hebt niet de juiste rechten om een sollicitatie te versturen. Zorg ervoor dat je bent ingelogd als werkzoekende."):I.code==="unavailable"||I.code==="network-request-failed"?j("Er is een netwerkprobleem opgetreden. Controleer je internetverbinding en probeer het opnieuw."):I.code==="storage/unauthorized"?j("Je hebt niet de juiste rechten om je CV te uploaden. Zorg ervoor dat je bent ingelogd als werkzoekende."):j("Er is een fout opgetreden bij het versturen van je sollicitatie. Probeer het later opnieuw of neem contact op met de helpdesk.")}finally{y(!1)}},q=L=>{L.target.files&&L.target.files.length>0?$(L.target.files[0].name):$(null)},R=()=>{e(`/job/${n}`)};return a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx(fn,{}),a.jsx("div",{className:"container mx-auto px-4 py-12 mt-12",children:a.jsxs("div",{className:"max-w-4xl mx-auto",children:[a.jsxs("button",{onClick:R,className:"mb-6 flex items-center text-primary-600 hover:text-primary-800",children:[a.jsx("svg",{className:"w-5 h-5 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Terug naar vacature"]}),d&&a.jsxs("div",{className:"flex justify-center items-center p-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"}),a.jsx("span",{className:"ml-3",children:"Vacature details laden..."})]}),x&&a.jsxs("div",{className:"bg-red-50 text-red-700 p-6 rounded-lg mb-6",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Er is een probleem opgetreden"}),a.jsx("p",{children:x})]}),w&&a.jsxs("div",{className:"bg-green-50 text-green-700 p-6 rounded-lg mb-6",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Sollicitatie verstuurd!"}),a.jsx("p",{children:"Je sollicitatie is succesvol verstuurd. Je wordt nu doorgestuurd naar je dashboard."})]}),!d&&!x&&o&&!w&&a.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden border border-gray-200",children:[a.jsxs("div",{className:"bg-primary-50 p-6 border-b border-gray-200",children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-2",children:["Solliciteren op: ",o.title]}),a.jsxs("p",{className:"text-gray-600",children:[o.company,"  ",o.location]})]}),a.jsxs("form",{onSubmit:H(G),className:"p-6",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"motivationLetter",children:["Motivatiebrief ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{...U("motivationLetter",{required:"Motivatiebrief is verplicht"}),id:"motivationLetter",rows:8,className:`w-full px-3 py-2 border ${M.motivationLetter?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"Vertel waarom je genteresseerd bent in deze functie en waarom je de ideale kandidaat bent..."}),M.motivationLetter&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:M.motivationLetter.message})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"cv",children:"Upload je CV (PDF)"}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"file",...U("cv"),id:"cv",className:"hidden",accept:".pdf,.doc,.docx",onChange:q}),a.jsx("label",{htmlFor:"cv",className:"cursor-pointer px-4 py-2 bg-gray-100 text-gray-800 rounded-md border border-gray-300 hover:bg-gray-200",children:"Kies bestand"}),a.jsx("span",{className:"ml-3 text-sm text-gray-500",children:z||((T=i==null?void 0:i.profile)!=null&&T.cv?"Bestaand CV wordt gebruikt":"Geen bestand gekozen")})]}),a.jsx("p",{className:"mt-1 text-xs text-gray-500",children:(P=i==null?void 0:i.profile)!=null&&P.cv?"Je hebt al een CV gepload in je profiel. Als je geen nieuw bestand kiest, gebruiken we je bestaande CV.":"Maximaal 5MB. Ondersteunde formaten: PDF, DOC, DOCX"})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-medium mb-3 text-gray-800",children:"Contactgegevens"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"email",children:["E-mailadres ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{...U("email",{required:"E-mailadres is verplicht",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Voer een geldig e-mailadres in"}}),type:"email",id:"email",className:`w-full px-3 py-2 border ${M.email?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"jouw@email.nl"}),M.email&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:M.email.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"phoneNumber",children:"Telefoonnummer"}),a.jsx("input",{...U("phoneNumber"),type:"tel",id:"phoneNumber",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"06 12345678"})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"text-lg font-medium mb-3 text-gray-800",children:"Online profielen"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"linkedinUrl",children:"LinkedIn URL"}),a.jsx("input",{...U("linkedinUrl"),type:"url",id:"linkedinUrl",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"https://linkedin.com/in/jouwnaam"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"portfolioUrl",children:"Portfolio / Website"}),a.jsx("input",{...U("portfolioUrl"),type:"url",id:"portfolioUrl",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"https://jouwportfolio.nl"})]})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"additionalNotes",children:"Extra informatie"}),a.jsx("textarea",{...U("additionalNotes"),id:"additionalNotes",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Is er nog iets anders dat je wilt delen met de recruiter?"})]}),a.jsx("div",{className:"mt-8",children:a.jsx("button",{type:"submit",disabled:p,className:"w-full md:w-auto px-6 py-3 bg-primary-600 text-white font-medium rounded-md hover:bg-primary-700 transition-colors flex items-center justify-center disabled:bg-primary-400",children:p?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white mr-2"}),"Versturen..."]}):"Sollicitatie versturen"})})]})]})]})})]})},t_=({size:n="md",color:e="text-blue-500"})=>{const t={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return a.jsx("div",{className:"flex justify-center items-center",children:a.jsx("div",{className:`${t[n]} ${e} animate-spin`,children:a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})})},n_=()=>{const{chatId:n}=Za(),{currentUser:e}=kt(),t=Ln(),{chats:i,activeChat:o,messages:c,loadingChats:d,loadingMessages:m,error:p,sendMessage:y,setActiveChatById:x}=I0(),[j,w]=F.useState(""),k=F.useRef(null),z=F.useRef(null);if(F.useEffect(()=>{e||t("/login")},[e,t]),F.useEffect(()=>{n&&x(n)},[n,x]),F.useEffect(()=>{var M;(M=k.current)==null||M.scrollIntoView({behavior:"smooth"})},[c]),F.useEffect(()=>{var M;o&&((M=z.current)==null||M.focus())},[c.length,o]),d)return a.jsx("div",{className:"flex justify-center items-center min-h-screen",children:a.jsx(t_,{})});const $=async M=>{if(M.preventDefault(),!j.trim()||!o)return;const S=j.trim();w("");try{await y(o.id,S)}catch(G){console.error("Fout bij het versturen van bericht:",G),w(S)}},U=M=>{t(`/messages/${M}`)},H=M=>{if(!M)return"";const S=M.toDate(),G=new Date,q=new Date(G);return q.setDate(q.getDate()-1),S.toDateString()===G.toDateString()?S.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):S.toDateString()===q.toDateString()?"Gisteren":S.toLocaleDateString()};return a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Berichten"}),p&&a.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",children:p}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-4 bg-white rounded-lg shadow-lg overflow-hidden min-h-[70vh]",children:[a.jsxs("div",{className:"md:w-1/3 border-r",children:[a.jsx("div",{className:"p-4 bg-gray-50 border-b",children:a.jsx("h2",{className:"font-semibold text-lg",children:"Gesprekken"})}),a.jsx("div",{className:"overflow-y-auto h-[calc(70vh-4rem)]",children:i.length===0?a.jsx("div",{className:"p-6 text-center text-gray-500",children:"Geen berichten gevonden. Start een gesprek via het profiel van een kandidaat of recruiter."}):i.map(M=>{var S,G;return a.jsx("div",{className:`p-4 border-b hover:bg-gray-50 cursor-pointer ${(o==null?void 0:o.id)===M.id?"bg-blue-50":""}`,onClick:()=>U(M.id),children:a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsxs("div",{className:"relative",children:[M.otherUser.photoURL?a.jsx("img",{src:M.otherUser.photoURL,alt:M.otherUser.displayName,className:"w-12 h-12 rounded-full object-cover"}):a.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center text-lg font-medium text-gray-600",children:M.otherUser.displayName.substring(0,1).toUpperCase()}),typeof M.unreadCount=="number"?M.unreadCount>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:M.unreadCount}):(((S=M.unreadCount)==null?void 0:S[(e==null?void 0:e.uid)||""])||0)>0&&a.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:((G=M.unreadCount)==null?void 0:G[(e==null?void 0:e.uid)||""])||0})]}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h3",{className:"font-medium truncate",children:M.otherUser.displayName}),M.lastMessageTimestamp&&a.jsx("span",{className:"text-xs text-gray-500",children:H(M.lastMessageTimestamp)})]}),a.jsx("p",{className:"text-sm text-gray-600 truncate",children:M.lastMessage?M.lastMessage:"Geen berichten"})]})]})},M.id)})})]}),a.jsx("div",{className:"md:w-2/3 flex flex-col",children:o?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"p-4 bg-gray-50 border-b flex items-center gap-3",children:[o.otherUser.photoURL?a.jsx("img",{src:o.otherUser.photoURL,alt:o.otherUser.displayName,className:"w-10 h-10 rounded-full object-cover"}):a.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-md font-medium text-gray-600",children:o.otherUser.displayName.substring(0,1).toUpperCase()}),a.jsxs("div",{children:[a.jsx("h2",{className:"font-semibold",children:o.otherUser.displayName}),a.jsx("p",{className:"text-sm text-gray-500",children:o.otherUser.role})]})]}),a.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 h-[calc(70vh-12rem)]",children:[m?a.jsx("div",{className:"flex justify-center items-center h-full",children:a.jsx(t_,{})}):c.length===0?a.jsx("div",{className:"text-center text-gray-500 mt-10",children:"Geen berichten. Stuur een bericht om het gesprek te starten."}):c.map(M=>a.jsx("div",{className:`flex ${M.senderId===(e==null?void 0:e.uid)?"justify-end":"justify-start"}`,children:a.jsxs("div",{className:`max-w-[70%] p-3 rounded-lg ${M.senderId===(e==null?void 0:e.uid)?"bg-blue-500 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-bl-none"}`,children:[a.jsx("p",{children:M.text}),a.jsxs("div",{className:`text-xs mt-1 ${M.senderId===(e==null?void 0:e.uid)?"text-blue-100":"text-gray-500"}`,children:[H(M.timestamp),M.senderId===(e==null?void 0:e.uid)&&a.jsx("span",{className:"ml-1",children:M.read?"  Gelezen":""})]})]})},M.id)),a.jsx("div",{ref:k})]}),a.jsx("form",{onSubmit:$,className:"p-4 border-t",children:a.jsxs("div",{className:"flex gap-2",children:[a.jsx("input",{ref:z,type:"text",value:j,onChange:M=>w(M.target.value),placeholder:"Typ een bericht...",className:"flex-1 border rounded-full px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),a.jsx("button",{type:"submit",disabled:!j.trim(),className:"bg-blue-500 text-white rounded-full p-2 hover:bg-blue-600 disabled:opacity-50",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]}):a.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-10 text-center text-gray-500",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mb-4 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Geen actief gesprek"}),a.jsx("p",{children:"Selecteer een gesprek in de lijst links om berichten weer te geven."})]})})]})]})},Pa=n=>{if(!n)return"Onbekend";try{if(n&&typeof n=="object"&&"seconds"in n)return new Date(n.seconds*1e3).toLocaleDateString("nl-NL",{year:"numeric",month:"long",day:"numeric"});if(n instanceof Date)return n.toLocaleDateString("nl-NL",{year:"numeric",month:"long",day:"numeric"});if(typeof n=="string"){const e=new Date(n);if(!isNaN(e.getTime()))return e.toLocaleDateString("nl-NL",{year:"numeric",month:"long",day:"numeric"})}return String(n)}catch(e){return console.error("Error formatting date:",e),"Onbekend"}},MD=()=>{const{userProfile:n,currentUser:e}=kt(),[t,i]=F.useState(null),[o,c]=F.useState(!0),[d,m]=F.useState(null),p=Ln();F.useEffect(()=>{(async()=>{if(!(e!=null&&e.uid)){m("Je moet ingelogd zijn om je CV te bekijken"),c(!1);return}try{c(!0);const k=ut(Le,"users",e.uid),z=await An(k);if(z.exists()){const $=z.data();if($.detailedCV)i($.detailedCV);else{const U=ut(Le,"users",e.uid,"cv","main"),H=await An(U);H.exists()?i(H.data()):m("Geen CV gegevens gevonden. Maak eerst een CV aan.")}}else m("Gebruikersprofiel niet gevonden")}catch(k){console.error("Fout bij ophalen CV data:",k),m("Er is een fout opgetreden bij het ophalen van je CV gegevens")}finally{c(!1)}})()},[e]);const y=w=>{const k=[];for(let $=1;$<=5;$++)$<=w?k.push(a.jsx("svg",{className:"w-4 h-4 text-yellow-500 fill-current",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},$)):k.push(a.jsx("svg",{className:"w-4 h-4 text-gray-300 fill-current",viewBox:"0 0 20 20",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},$));return a.jsx("div",{className:"flex",children:k})},x=()=>{p("/profile")};if(o)return a.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"CV gegevens laden..."})]})});if(d)return a.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:a.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-md p-8",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"CV Preview"}),a.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4",children:a.jsx("p",{className:"text-red-700",children:d})}),a.jsx("button",{onClick:x,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:"Terug naar profiel"})]})});const j=(n==null?void 0:n.displayName)||(e==null?void 0:e.displayName)||"Gebruiker";return a.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6",children:a.jsx("div",{className:"max-w-5xl mx-auto",children:a.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[a.jsxs("div",{className:"p-6 bg-gradient-to-r from-primary-600 to-primary-800 text-white",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h1",{className:"text-3xl font-bold",children:"CV Preview"}),a.jsx("button",{onClick:x,className:"px-4 py-2 bg-white text-primary-700 rounded-md hover:bg-gray-100",children:"Terug naar profiel"})]}),a.jsx("p",{className:"mt-2 text-primary-100",children:"Dit is hoe je CV eruit zal zien voor recruiters"})]}),a.jsxs("div",{className:"p-8",children:[a.jsxs("div",{className:"mb-10",children:[a.jsx("h2",{className:"text-2xl font-bold text-primary-700 border-b-2 border-primary-200 pb-2 mb-4",children:j}),(n==null?void 0:n.email)&&a.jsxs("p",{className:"text-gray-600 mb-1",children:[a.jsx("span",{className:"font-medium",children:"Email:"})," ",n.email]}),(n==null?void 0:n.phoneNumber)&&a.jsxs("p",{className:"text-gray-600 mb-1",children:[a.jsx("span",{className:"font-medium",children:"Telefoon:"})," ",n.phoneNumber]}),(n==null?void 0:n.address)&&a.jsxs("p",{className:"text-gray-600 mb-1",children:[a.jsx("span",{className:"font-medium",children:"Adres:"})," ",[n.address.street,n.address.houseNumber,n.address.postalCode,n.address.city,n.address.country].filter(Boolean).join(", ")]})]}),(t==null?void 0:t.overMij)&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Over mij"}),a.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:t.overMij})]}),(t==null?void 0:t.werkervaring)&&t.werkervaring.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Werkervaring"}),a.jsx("div",{className:"space-y-6",children:t.werkervaring.map(w=>a.jsxs("div",{className:"pl-4 border-l-2 border-primary-200",children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("h3",{className:"font-medium text-lg text-gray-800",children:w.functie}),a.jsxs("span",{className:"text-gray-500 text-sm",children:[Pa(w.startDatum)," - ",w.isHuidigeFunctie?"Heden":Pa(w.eindDatum)]})]}),a.jsx("p",{className:"text-primary-600 font-medium mb-2",children:w.bedrijf}),w.beschrijving&&a.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:w.beschrijving})]},w.id))})]}),(t==null?void 0:t.opleiding)&&t.opleiding.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Opleiding"}),a.jsx("div",{className:"space-y-6",children:t.opleiding.map(w=>a.jsxs("div",{className:"pl-4 border-l-2 border-primary-200",children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("h3",{className:"font-medium text-lg text-gray-800",children:w.opleiding}),a.jsxs("span",{className:"text-gray-500 text-sm",children:[Pa(w.startDatum)," - ",w.isHuidigeOpleiding?"Heden":Pa(w.eindDatum)]})]}),a.jsx("p",{className:"text-primary-600 font-medium mb-2",children:w.instituut}),w.beschrijving&&a.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:w.beschrijving})]},w.id))})]}),(t==null?void 0:t.stages)&&t.stages.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Stages"}),a.jsx("div",{className:"space-y-6",children:t.stages.map(w=>a.jsxs("div",{className:"pl-4 border-l-2 border-primary-200",children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("h3",{className:"font-medium text-lg text-gray-800",children:w.functie}),a.jsxs("span",{className:"text-gray-500 text-sm",children:[Pa(w.startDatum)," - ",w.isHuidigeStage?"Heden":Pa(w.eindDatum)]})]}),a.jsx("p",{className:"text-primary-600 font-medium mb-2",children:w.bedrijf}),w.beschrijving&&a.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:w.beschrijving})]},w.id))})]}),(t==null?void 0:t.vaardigheden)&&t.vaardigheden.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Vaardigheden"}),t.vaardigheden.some(w=>w.type==="soft")&&a.jsxs("div",{className:"mb-4",children:[a.jsx("h3",{className:"font-medium text-primary-600 mb-2",children:"Soft Skills"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.vaardigheden.filter(w=>w.type==="soft").map(w=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-700",children:w.naam}),y(w.niveau)]},w.id))})]}),t.vaardigheden.some(w=>w.type==="hard")&&a.jsxs("div",{children:[a.jsx("h3",{className:"font-medium text-primary-600 mb-2",children:"Hard Skills"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.vaardigheden.filter(w=>w.type==="hard").map(w=>a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("span",{className:"text-gray-700",children:w.naam}),y(w.niveau)]},w.id))})]})]}),(t==null?void 0:t.certificaten)&&t.certificaten.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Certificaten"}),a.jsx("div",{className:"space-y-4",children:t.certificaten.map(w=>a.jsxs("div",{className:"pl-4 border-l-2 border-primary-200",children:[a.jsxs("div",{className:"flex justify-between mb-1",children:[a.jsx("h3",{className:"font-medium text-gray-800",children:w.naam}),a.jsx("span",{className:"text-gray-500 text-sm",children:Pa(w.datum)})]}),a.jsx("p",{className:"text-primary-600 font-medium mb-1",children:w.uitgever}),w.beschrijving&&a.jsx("p",{className:"text-gray-700 text-sm",children:w.beschrijving})]},w.id))})]}),(t==null?void 0:t.talen)&&t.talen.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Talen"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.talen.map(w=>a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-700",children:w.taal}),a.jsx("span",{className:"text-primary-600 font-medium",children:w.niveau})]},w.id))})]}),(t==null?void 0:t.hobbys)&&t.hobbys.length>0&&a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Hobby's en interesses"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:t.hobbys.map(w=>a.jsx("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full",children:w.naam},w.id))})]})]}),a.jsx("div",{className:"bg-gray-50 px-8 py-4 border-t border-gray-200",children:a.jsxs("p",{className:"text-gray-500 text-center",children:["Dit is een preview van je CV zoals het zichtbaar is voor recruiters.",a.jsx("br",{}),"Ga terug naar het profiel om wijzigingen aan te brengen."]})})]})})})},PD=()=>{var w;const n=Ln(),{currentUser:e,userProfile:t}=kt(),[i,o]=F.useState(!1),[c,d]=F.useState(null),{register:m,handleSubmit:p,formState:{errors:y}}=_s({defaultValues:{title:"",company:((w=t==null?void 0:t.profile)==null?void 0:w.company)||(t==null?void 0:t.companyName)||"",location:"",description:"",requirements:"",salary:"",isFullTime:!0,isRemote:!1}}),x=async k=>{if(!e){d("Je moet ingelogd zijn om een vacature te plaatsen");return}if((t==null?void 0:t.role)!=="recruiter"){console.error("Gebruiker is geen recruiter, kan geen vacature plaatsen",t),d("Alleen recruiters kunnen vacatures plaatsen");return}console.log("Vacature aanmaken voor gebruiker:",{uid:e.uid,email:e.email,role:t==null?void 0:t.role}),o(!0),d(null);try{const z=an(Le,"jobs"),$=new Date,U={seconds:Math.floor($.getTime()/1e3),nanoseconds:$.getMilliseconds()*1e6},H={...k,recruiterId:e.uid,userId:e.uid,createdAt:vs(),createdAtFallback:U,updatedAt:vs(),updatedAtFallback:U,status:"active"};console.log("Nieuw vacature data om op te slaan:",H),console.log("Firebase connection status check vr toevoegen vacature");const M=await ml(z,H);console.log("Vacature toegevoegd met ID:",M.id),n(`/job/${M.id}`)}catch(z){console.error("Fout bij het toevoegen van vacature:",z);let $="Er is een fout opgetreden bij het plaatsen van de vacature. ";z instanceof Error?(console.error("Foutdetails:",z.message),z.message.includes("permission-denied")?$+="Je hebt geen toestemming om vacatures te plaatsen. Controleer of je bent ingelogd als recruiter.":z.message.includes("network")?$+="Er lijkt een netwerkprobleem te zijn. Controleer je internetverbinding en probeer het opnieuw.":$+="Probeer het later opnieuw."):$+="Probeer het later opnieuw.",d($),o(!1)}},j=()=>{n("/dashboard")};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(fn,{}),a.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-3xl",children:[a.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Nieuwe vacature plaatsen"}),a.jsx("button",{onClick:j,className:"text-gray-600 hover:text-gray-800",children:"Annuleren"})]}),c&&a.jsx("div",{className:"mb-6 bg-red-100 border-l-4 border-red-500 text-red-700 p-4",children:a.jsx("p",{children:c})}),a.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:a.jsxs("form",{onSubmit:p(x),className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:["Functietitel ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"title",...m("title",{required:"Functietitel is verplicht"}),className:`w-full px-3 py-2 border ${y.title?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"bijv. Frontend Developer"}),y.title&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:y.title.message})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700 mb-1",children:["Bedrijfsnaam ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"company",...m("company",{required:"Bedrijfsnaam is verplicht"}),className:`w-full px-3 py-2 border ${y.company?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"bijv. Tech Solutions BV"}),y.company&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:y.company.message})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:["Locatie ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"location",...m("location",{required:"Locatie is verplicht"}),className:`w-full px-3 py-2 border ${y.location?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"bijv. Amsterdam"}),y.location&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:y.location.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"salary",className:"block text-sm font-medium text-gray-700 mb-1",children:"Salarisindicatie"}),a.jsx("input",{type:"text",id:"salary",...m("salary"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"bijv. 3000-4000 per maand"})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"isFullTime",...m("isFullTime"),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"isFullTime",className:"ml-2 block text-sm text-gray-700",children:"Fulltime"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"isRemote",...m("isRemote"),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"isRemote",className:"ml-2 block text-sm text-gray-700",children:"Mogelijkheid tot thuiswerken"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Functieomschrijving ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{id:"description",...m("description",{required:"Functieomschrijving is verplicht"}),rows:6,className:`w-full px-3 py-2 border ${y.description?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"Beschrijf de functie, taken en verantwoordelijkheden..."}),y.description&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:y.description.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"requirements",className:"block text-sm font-medium text-gray-700 mb-1",children:"Functie-eisen"}),a.jsx("textarea",{id:"requirements",...m("requirements"),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Beschrijf de kennis, vaardigheden en ervaring die nodig zijn voor deze functie..."})]}),a.jsxs("div",{className:"pt-4 flex justify-end space-x-4",children:[a.jsx("button",{type:"button",onClick:j,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Annuleren"}),a.jsx("button",{type:"submit",disabled:i,className:"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 flex items-center justify-center",children:i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin mr-2 h-4 w-4 border-t-2 border-b-2 border-white rounded-full"}),"Bezig met opslaan..."]}):"Vacature plaatsen"})]})]})})]})]})},LD=()=>{const{jobId:n}=Za(),e=Ln(),{currentUser:t}=kt(),[i,o]=F.useState(!1),[c,d]=F.useState(!0),[m,p]=F.useState(null),[y,x]=F.useState(!1),{register:j,handleSubmit:w,formState:{errors:k},reset:z}=_s();F.useEffect(()=>{(async()=>{if(!n||!t){p("Ongeldige vacature ID of gebruiker niet ingelogd"),d(!1);return}try{d(!0);const S=ut(Le,"jobs",n),G=await An(S);if(!G.exists()){p("Vacature niet gevonden"),d(!1);return}const q=G.data();if(q.recruiterId!==t.uid){x(!0),d(!1);return}z({title:q.title||"",company:q.company||"",location:q.location||"",description:q.description||"",requirements:q.requirements||"",salary:q.salary||"",isFullTime:q.isFullTime||!1,isRemote:q.isRemote||!1,status:q.status||"active"}),d(!1)}catch(S){console.error("Fout bij ophalen vacature:",S),p("Er is een fout opgetreden bij het laden van de vacature"),d(!1)}})()},[n,t,z]);const $=async M=>{if(!t||!n){p("Je moet ingelogd zijn en een geldige vacature ID hebben");return}o(!0),p(null);try{const S=ut(Le,"jobs",n),G={...M,updatedAt:vs()};await Gn(S,G),e(`/job/${n}`)}catch(S){console.error("Fout bij bijwerken vacature:",S),p("Er is een fout opgetreden bij het bijwerken van de vacature. Probeer het later opnieuw."),o(!1)}},U=()=>{e(`/job/${n}`)},H=async()=>{if(confirm("Weet je zeker dat je deze vacature wilt verwijderen? Dit kan niet ongedaan worden gemaakt.")){if(!t||!n){p("Je moet ingelogd zijn en een geldige vacature ID hebben");return}try{o(!0);const M=ut(Le,"jobs",n);await Gn(M,{status:"deleted",updatedAt:vs()}),e("/dashboard")}catch(M){console.error("Fout bij verwijderen vacature:",M),p("Er is een fout opgetreden bij het verwijderen van de vacature"),o(!1)}}};return y?a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(fn,{}),a.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-3xl",children:[a.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6",children:a.jsx("p",{children:"Je hebt geen toestemming om deze vacature te bewerken."})}),a.jsx("button",{onClick:()=>e("/dashboard"),className:"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:"Terug naar dashboard"})]})]}):a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx(fn,{}),a.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-3xl",children:[a.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Vacature bewerken"}),a.jsx("button",{onClick:U,className:"text-gray-600 hover:text-gray-800",children:"Annuleren"})]}),m&&a.jsx("div",{className:"mb-6 bg-red-100 border-l-4 border-red-500 text-red-700 p-4",children:a.jsx("p",{children:m})}),c?a.jsxs("div",{className:"flex justify-center py-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"}),a.jsx("span",{className:"ml-3 text-gray-600",children:"Vacature laden..."})]}):a.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:a.jsxs("form",{onSubmit:w($),className:"p-6 space-y-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:["Functietitel ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"title",...j("title",{required:"Functietitel is verplicht"}),className:`w-full px-3 py-2 border ${k.title?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"bijv. Frontend Developer"}),k.title&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:k.title.message})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700 mb-1",children:["Bedrijfsnaam ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"company",...j("company",{required:"Bedrijfsnaam is verplicht"}),className:`w-full px-3 py-2 border ${k.company?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"bijv. Tech Solutions BV"}),k.company&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:k.company.message})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:["Locatie ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",id:"location",...j("location",{required:"Locatie is verplicht"}),className:`w-full px-3 py-2 border ${k.location?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"bijv. Amsterdam"}),k.location&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:k.location.message})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:["Status ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{id:"status",...j("status",{required:"Status is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[a.jsx("option",{value:"active",children:"Actief"}),a.jsx("option",{value:"paused",children:"Gepauzeerd"}),a.jsx("option",{value:"closed",children:"Gesloten"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"salary",className:"block text-sm font-medium text-gray-700 mb-1",children:"Salarisindicatie"}),a.jsx("input",{type:"text",id:"salary",...j("salary"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"bijv. 3000-4000 per maand"})]}),a.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"isFullTime",...j("isFullTime"),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"isFullTime",className:"ml-2 block text-sm text-gray-700",children:"Fulltime"})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:"isRemote",...j("isRemote"),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),a.jsx("label",{htmlFor:"isRemote",className:"ml-2 block text-sm text-gray-700",children:"Mogelijkheid tot thuiswerken"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Functieomschrijving ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{id:"description",...j("description",{required:"Functieomschrijving is verplicht"}),rows:6,className:`w-full px-3 py-2 border ${k.description?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"Beschrijf de functie, taken en verantwoordelijkheden..."}),k.description&&a.jsx("p",{className:"mt-1 text-sm text-red-500",children:k.description.message})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"requirements",className:"block text-sm font-medium text-gray-700 mb-1",children:"Functie-eisen"}),a.jsx("textarea",{id:"requirements",...j("requirements"),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Beschrijf de kennis, vaardigheden en ervaring die nodig zijn voor deze functie..."})]}),a.jsxs("div",{className:"pt-4 flex justify-between",children:[a.jsx("button",{type:"button",onClick:H,className:"px-6 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",disabled:i,children:"Vacature verwijderen"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsx("button",{type:"button",onClick:U,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Annuleren"}),a.jsx("button",{type:"submit",disabled:i,className:"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 flex items-center justify-center",children:i?a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"animate-spin mr-2 h-4 w-4 border-t-2 border-b-2 border-white rounded-full"}),"Bezig met opslaan..."]}):"Wijzigingen opslaan"})]})]})]})})]})]})},Qd=()=>{const{id:n}=Za(),e=Ln(),{currentUser:t,userProfile:i}=kt(),[o,c]=F.useState(null),[d,m]=F.useState(!0),[p,y]=F.useState(null),[x,j]=F.useState(null),[w,k]=F.useState(!1),[z,$]=F.useState(""),[U,H]=F.useState([]),[M,S]=F.useState(!1),[G,q]=F.useState(new Date().getMonth()),[R,N]=F.useState(new Date().getFullYear()),{register:E,handleSubmit:T,control:P,watch:L,formState:{errors:D},setValue:I,reset:Te}=_s({defaultValues:{date:new Date,time:"10:00",endTime:"11:00",title:"",description:"",meetingType:"kennismaking",locationType:"online"}}),Ie=L("locationType");F.useEffect(()=>{(async()=>{if(!n){m(!1);return}try{m(!0);const je=await An(ut(Le,"users",n));if(je.exists()){const be=je.data(),Ce={id:je.id,name:be.displayName||be.name||"Onbekende kandidaat",email:be.email,phoneNumber:be.phoneNumber};c(Ce),I("candidateId",Ce.id),I("candidateName",Ce.name),I("candidateEmail",Ce.email||"")}else y("Kandidaat niet gevonden")}catch(je){console.error("Error fetching candidate:",je),y("Er is een fout opgetreden bij het laden van de kandidaat")}finally{m(!1)}})()},[n,I]);const Z=async()=>{if(z.trim())try{S(!0),y(null);const ae=an(Le,"users"),je=await Cr(ae),be=[];je.forEach(Ce=>{const Oe=Ce.data();if(Oe.role==="werkzoekende"||Oe.userType==="werkzoekende"||Oe.role==="jobseeker"||Oe.userType==="jobseeker"){const Be=Oe.displayName||Oe.name||"",Dt=Oe.email||"";(Be.toLowerCase().includes(z.toLowerCase())||Dt.toLowerCase().includes(z.toLowerCase()))&&be.push({id:Ce.id,name:Be,email:Dt,phoneNumber:Oe.phoneNumber})}}),H(be),be.length===0&&y("Geen kandidaten gevonden met deze zoekopdracht")}catch(ae){console.error("Fout bij zoeken kandidaten:",ae),y("Er is een fout opgetreden bij het zoeken naar kandidaten")}finally{S(!1)}},re=ae=>{c(ae),I("candidateId",ae.id),I("candidateName",ae.name),I("candidateEmail",ae.email||""),H([]),$("")},ye=()=>{const ae=L("candidateName"),je=L("candidateEmail");if(!ae){y("Vul tenminste een naam in voor de kandidaat");return}c({id:"manual",name:ae,email:je}),H([]),$("")},me=async ae=>{if(!t)return;const je=ae.candidateId||(o?o.id:null),be=ae.candidateName||(o?o.name:null);if(!je&&!be){y("Selecteer een kandidaat of voeg handmatig een kandidaat toe");return}try{m(!0);const Ce=new Date(ae.date),[Oe,Be]=ae.time.split(":").map(Number);Ce.setHours(Oe,Be);const Dt=new Date(ae.date),[Tt,Ft]=ae.endTime.split(":").map(Number);Dt.setHours(Tt,Ft);let Ot=je;(je==="manual"||!je)&&(Ot=(await ml(an(Le,"users"),{displayName:be,email:ae.candidateEmail||null,role:"werkzoekende",userType:"werkzoekende",createdAt:Ye.now(),createdBy:t.uid,isManuallyAdded:!0})).id);const Ge={candidateId:Ot,candidateName:be,candidateEmail:ae.candidateEmail||null,recruiterId:t.uid,recruiterName:(i==null?void 0:i.displayName)||"Onbekende recruiter",title:ae.title,description:ae.description,meetingType:ae.meetingType,locationType:ae.locationType,location:ae.locationType==="locatie"?ae.location:null,meetingLink:ae.locationType==="online"?ae.meetingLink:null,dateTime:Ye.fromDate(Ce),endDateTime:Ye.fromDate(Dt),status:"gepland",createdAt:Ye.now()};await ml(an(Le,"meetings"),Ge),k(!0),setTimeout(()=>{e("/dashboard")},2e3),Te(ae)}catch(Ce){console.error("Error creating meeting:",Ce);let Oe="Er is een fout opgetreden bij het plannen van de afspraak";Ce instanceof Error&&(console.error("Foutdetails:",Ce.message),Ce.message.includes("permission-denied")?Oe="Je hebt geen toestemming om afspraken te plannen. Controleer of je de juiste rechten hebt.":Ce.message.includes("network")&&(Oe="Er lijkt een netwerkprobleem te zijn. Controleer je internetverbinding en probeer het opnieuw.")),y(Oe)}finally{m(!1)}},O=(ae,je)=>new Date(ae,je+1,0).getDate(),K=()=>{G===0?(q(11),N(R-1)):q(G-1)},ce=()=>{G===11?(q(0),N(R+1)):q(G+1)},le=()=>{const ae=new Date(R,G,1).getDay(),je=O(R,G),be=[];for(let Ce=0;Ce<ae;Ce++)be.push(a.jsx("div",{className:"h-12 border border-gray-200"},`empty-${Ce}`));for(let Ce=1;Ce<=je;Ce++){const Oe=new Date(R,G,Ce),Be=new Date,Dt=Be.getDate()===Ce&&Be.getMonth()===G&&Be.getFullYear()===R,Tt=(x==null?void 0:x.getDate())===Ce&&(x==null?void 0:x.getMonth())===G&&(x==null?void 0:x.getFullYear())===R;be.push(a.jsx("div",{onClick:()=>{j(Oe),I("date",Oe)},className:`h-12 flex items-center justify-center cursor-pointer hover:bg-primary-100 transition-colors
            ${Dt?"font-bold":""}
            ${Tt?"bg-primary-500 text-white hover:bg-primary-600":"bg-white"}
            border border-gray-200`,children:Ce},`day-${Ce}`))}return be};return d&&!o?a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx(fn,{}),a.jsxs("div",{className:"container mx-auto px-4 py-32 text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Bezig met laden..."})]}),a.jsx(Jn,{})]}):d&&n?a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx(fn,{}),a.jsxs("div",{className:"container mx-auto px-4 py-32 text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Bezig met laden..."})]}),a.jsx(Jn,{})]}):a.jsxs("div",{className:"min-h-screen bg-white",children:[a.jsx(fn,{}),a.jsx("div",{className:"w-full bg-gradient-to-r from-primary-600 to-primary-800 text-white py-32 mb-8",children:a.jsxs("div",{className:"container mx-auto px-4",children:[a.jsx("h1",{className:"text-4xl font-bold mb-6 text-center",children:"Afspraak plannen"}),a.jsx("p",{className:"text-xl text-center max-w-3xl mx-auto",children:o?`Plan een afspraak met ${o.name}`:"Plan een afspraak met een kandidaat"})]})}),a.jsx("div",{className:"container mx-auto px-4 py-12",children:a.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[a.jsx("div",{className:"w-full md:w-1/2 bg-white rounded-lg shadow-md overflow-hidden mb-8",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Kandidaat selecteren"}),a.jsxs("div",{className:"mb-6",children:[a.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Zoek een kandidaat"}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("input",{type:"text",value:z,onChange:ae=>$(ae.target.value),placeholder:"Voer naam of e-mail in...",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"}),a.jsx("button",{type:"button",onClick:Z,disabled:M,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50",children:M?"Zoeken...":"Zoek"})]})]}),U.length>0&&a.jsxs("div",{className:"mb-6",children:[a.jsx("h3",{className:"font-medium mb-2",children:"Gevonden kandidaten"}),a.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-md",children:U.map(ae=>a.jsxs("div",{onClick:()=>re(ae),className:"p-3 border-b hover:bg-gray-50 cursor-pointer flex justify-between items-center",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:ae.name}),ae.email&&a.jsx("p",{className:"text-sm text-gray-600",children:ae.email})]}),a.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-sm",children:"Selecteren"})]},ae.id))})]}),z&&U.length===0&&!M&&a.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:a.jsx("p",{className:"text-yellow-800",children:"Geen kandidaten gevonden. Controleer de spelling of zoek op een andere naam of e-mail."})}),a.jsx("div",{className:"mb-6",children:a.jsxs("div",{className:"relative flex items-center",children:[a.jsx("div",{className:"flex-grow border-t border-gray-300"}),a.jsx("span",{className:"flex-shrink mx-4 text-gray-600",children:"OF"}),a.jsx("div",{className:"flex-grow border-t border-gray-300"})]})}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("h3",{className:"font-medium",children:"Voeg handmatig een kandidaat toe"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"candidateName",children:"Naam kandidaat *"}),a.jsx("input",{id:"candidateName",...E("candidateName",{required:"Naam is verplicht"}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",placeholder:"Volledige naam"}),D.candidateName&&a.jsx("p",{className:"text-red-500 text-xs italic mt-1",children:D.candidateName.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"candidateEmail",children:"E-mail kandidaat"}),a.jsx("input",{id:"candidateEmail",...E("candidateEmail",{pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Ongeldig e-mailadres"}}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"email",placeholder:"E-mailadres"}),D.candidateEmail&&a.jsx("p",{className:"text-red-500 text-xs italic mt-1",children:D.candidateEmail.message})]}),a.jsx("div",{children:a.jsx("button",{type:"button",onClick:ye,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors",children:"Bevestig kandidaat"})})]}),o&&a.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[a.jsx("h3",{className:"font-medium mb-2",children:"Geselecteerde kandidaat"}),a.jsx("p",{className:"text-xl font-bold",children:o.name}),o.email&&a.jsx("p",{className:"text-gray-600",children:o.email}),a.jsx("button",{type:"button",onClick:()=>c(null),className:"mt-2 text-red-600 hover:text-red-800 text-sm",children:"Verwijderen"})]})]})}),a.jsx("div",{className:"w-full md:w-1/2 bg-white rounded-lg shadow-md overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Datum selecteren"}),a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("button",{onClick:K,className:"p-2 rounded-full hover:bg-gray-200 transition-colors","aria-label":"Vorige maand",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),a.jsx("h3",{className:"text-lg font-medium",children:new Date(R,G).toLocaleDateString("nl-NL",{month:"long",year:"numeric"})}),a.jsx("button",{onClick:ce,className:"p-2 rounded-full hover:bg-gray-200 transition-colors","aria-label":"Volgende maand",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),a.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Zo","Ma","Di","Wo","Do","Vr","Za"].map(ae=>a.jsx("div",{className:"h-10 flex items-center justify-center font-medium text-gray-600",children:ae},ae))}),a.jsx("div",{className:"grid grid-cols-7 gap-1",children:le()}),a.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[a.jsx("h3",{className:"font-medium mb-2",children:"Geselecteerde datum"}),a.jsx("p",{className:"text-xl font-bold",children:x?x.toLocaleDateString("nl-NL",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):"Geen datum geselecteerd"})]})]})}),a.jsx("div",{className:"w-full md:w-1/2 bg-white rounded-lg shadow-md overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Afspraak details"}),w?a.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:"Afspraak succesvol gepland! Pagina wordt omgeleid..."}):a.jsxs("form",{onSubmit:T(me),className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"title",children:"Titel afspraak *"}),a.jsx("input",{id:"title",...E("title",{required:"Titel is verplicht"}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",placeholder:"Bijv. Kennismakingsgesprek met [naam]"}),D.title&&a.jsx("p",{className:"text-red-500 text-xs italic mt-1",children:D.title.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"time",children:"Begintijd *"}),a.jsx("input",{id:"time",...E("time",{required:"Begintijd is verplicht"}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"time"}),D.time&&a.jsx("p",{className:"text-red-500 text-xs italic mt-1",children:D.time.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"endTime",children:"Eindtijd *"}),a.jsx("input",{id:"endTime",...E("endTime",{required:"Eindtijd is verplicht"}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"time"}),D.endTime&&a.jsx("p",{className:"text-red-500 text-xs italic mt-1",children:D.endTime.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"meetingType",children:"Type afspraak *"}),a.jsxs("select",{id:"meetingType",...E("meetingType",{required:!0}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[a.jsx("option",{value:"kennismaking",children:"Kennismakingsgesprek"}),a.jsx("option",{value:"sollicitatiegesprek",children:"Sollicitatiegesprek"})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Locatie type *"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",...E("locationType"),value:"online",className:"form-radio"}),a.jsx("span",{className:"ml-2",children:"Online meeting"})]}),a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",...E("locationType"),value:"locatie",className:"form-radio"}),a.jsx("span",{className:"ml-2",children:"Op locatie"})]})]})]}),Ie==="online"?a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"meetingLink",children:"Meeting link"}),a.jsx("input",{id:"meetingLink",...E("meetingLink"),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",placeholder:"Bijv. https://meet.google.com/..."})]}):a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"location",children:"Adres locatie *"}),a.jsx("input",{id:"location",...E("location",{required:Ie==="locatie"?"Adres is verplicht voor afspraken op locatie":!1}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",placeholder:"Bijv. Hoofdstraat 1, 1234 AB Amsterdam"}),D.location&&a.jsx("p",{className:"text-red-500 text-xs italic mt-1",children:D.location.message})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"description",children:"Beschrijving"}),a.jsx("textarea",{id:"description",...E("description"),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",rows:4,placeholder:"Geef extra details over deze afspraak..."})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("button",{type:"button",onClick:()=>e(`/candidate/${n}`),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors",children:"Annuleren"}),a.jsx("button",{type:"submit",disabled:d,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors disabled:opacity-50",children:d?"Bezig...":"Afspraak plannen"})]})]})]})})]})}),a.jsx(Jn,{})]})},UD=()=>{const{currentUser:n}=kt(),[e,t]=F.useState([]),[i,o]=F.useState(!0),[c,d]=F.useState(null),[m,p]=F.useState(null),[y,x]=F.useState(new Date().getMonth()),[j,w]=F.useState(new Date().getFullYear()),[k,z]=F.useState([]);F.useEffect(()=>{(async()=>{if(n)try{o(!0),d(null);const N=an(Le,"meetings"),E=Sr(N,Rr("recruiterId","==",n.uid),fl("dateTime","asc")),T=await Cr(E),P=[];T.forEach(L=>{const D=L.data();P.push({id:L.id,title:D.title||"Ongetitelde afspraak",candidateName:D.candidateName||"Onbekende kandidaat",dateTime:D.dateTime,endDateTime:D.endDateTime,description:D.description,locationType:D.locationType,location:D.location,meetingLink:D.meetingLink,status:D.status||"gepland",candidateEmail:D.candidateEmail})}),t(P)}catch(N){console.error("Fout bij ophalen van meetings:",N),d("Er is een fout opgetreden bij het ophalen van je afspraken")}finally{o(!1)}})()},[n]);const $=(R,N)=>new Date(R,N+1,0).getDate(),U=()=>{y===0?(x(11),w(j-1)):x(y-1)},H=()=>{y===11?(x(0),w(j+1)):x(y+1)},M=R=>e.filter(N=>{const E=N.dateTime.toDate();return E.getDate()===R.getDate()&&E.getMonth()===R.getMonth()&&E.getFullYear()===R.getFullYear()}),S=R=>{p(R);const N=M(R);z(N)},G=()=>{const R=new Date(j,y,1).getDay(),N=$(j,y),E=[];for(let T=0;T<R;T++)E.push(a.jsx("div",{className:"h-24 border border-gray-100 bg-gray-50"},`empty-${T}`));for(let T=1;T<=N;T++){const P=new Date(j,y,T),L=new Date,D=L.getDate()===T&&L.getMonth()===y&&L.getFullYear()===j,I=(m==null?void 0:m.getDate())===T&&(m==null?void 0:m.getMonth())===y&&(m==null?void 0:m.getFullYear())===j,Te=M(P),Ie=Te.length>0;E.push(a.jsxs("div",{onClick:()=>S(P),className:`h-24 p-1 border border-gray-200 overflow-hidden cursor-pointer transition-colors
            ${D?"bg-blue-50":"bg-white"}
            ${I?"ring-2 ring-primary-500":""}
            ${Ie?"hover:bg-primary-50":"hover:bg-gray-50"}
          `,children:[a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsx("span",{className:`inline-block rounded-full w-7 h-7 text-center leading-7 text-sm
              ${D?"bg-primary-500 text-white font-bold":""}
            `,children:T}),Ie&&a.jsx("span",{className:"rounded-full w-5 h-5 flex items-center justify-center bg-primary-500 text-white text-xs",children:Te.length})]}),a.jsxs("div",{className:"mt-1 overflow-hidden space-y-1",children:[Te.slice(0,2).map((Z,re)=>a.jsx("div",{className:"text-xs truncate px-1 py-0.5 rounded bg-primary-100 text-primary-800",children:Z.title},`meeting-preview-${Z.id}-${re}`)),Te.length>2&&a.jsxs("div",{className:"text-xs text-gray-500 pl-1",children:["+ ",Te.length-2," meer"]})]})]},`day-${T}`))}return E},q=(R,N)=>{const E=R.toDate(),T=N.toDate();return`${E.toLocaleTimeString("nl-NL",{hour:"2-digit",minute:"2-digit",hour12:!1})} - ${T.toLocaleTimeString("nl-NL",{hour:"2-digit",minute:"2-digit",hour12:!1})}`};return a.jsxs("div",{className:"min-h-screen bg-gray-50",children:[a.jsx("div",{className:"w-full bg-gradient-to-r from-primary-600 to-primary-800 text-white py-24",children:a.jsx("div",{className:"container mx-auto px-4",children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Agenda"}),a.jsx("p",{className:"text-lg opacity-90",children:"Bekijk en beheer al je geplande afspraken"})]})})}),a.jsx("div",{className:"container mx-auto px-4 py-8",children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-8",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-2xl font-bold",children:new Date(j,y).toLocaleDateString("nl-NL",{month:"long",year:"numeric"})}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:U,className:"p-2 rounded hover:bg-gray-100","aria-label":"Vorige maand",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),a.jsx("button",{onClick:()=>{x(new Date().getMonth()),w(new Date().getFullYear())},className:"px-3 py-1 text-sm bg-gray-100 rounded hover:bg-gray-200",children:"Vandaag"}),a.jsx("button",{onClick:H,className:"p-2 rounded hover:bg-gray-100","aria-label":"Volgende maand",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]}),i?a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):c?a.jsxs("div",{className:"text-center text-red-500 p-8 bg-red-50 rounded-lg",children:[a.jsx("p",{children:c}),a.jsx("button",{onClick:()=>window.location.reload(),className:"mt-2 text-primary-600 hover:text-primary-800 font-medium",children:"Probeer opnieuw"})]}):a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"grid grid-cols-7 gap-1 mb-1",children:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"].map(R=>a.jsx("div",{className:"h-10 font-medium text-gray-500 text-sm flex items-center justify-center",children:R},R))}),a.jsx("div",{className:"grid grid-cols-7 gap-1",children:G()})]})]})}),m&&a.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-8",children:a.jsxs("div",{className:"p-6",children:[a.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Afspraken op ",m.toLocaleDateString("nl-NL",{weekday:"long",day:"numeric",month:"long",year:"numeric"})]}),k.length===0?a.jsx("div",{className:"text-center p-8 bg-gray-50 rounded-lg",children:a.jsx("p",{className:"text-gray-500",children:"Geen afspraken gepland voor deze dag."})}):a.jsx("div",{className:"space-y-4",children:k.map(R=>a.jsx("div",{className:"border-l-4 border-primary-500 pl-4 py-3 bg-gray-50 rounded-r-lg hover:bg-gray-100 transition-colors",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"font-bold text-lg",children:R.title}),a.jsx("p",{className:"text-primary-700",children:q(R.dateTime,R.endDateTime)}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Met: ",R.candidateName]}),R.candidateEmail&&a.jsx("p",{className:"text-gray-500 text-sm",children:R.candidateEmail}),R.description&&a.jsx("p",{className:"mt-2 text-gray-700",children:R.description}),a.jsxs("div",{className:"mt-2",children:[a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${R.locationType==="online"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:R.locationType==="online"?"Online meeting":"Op locatie"}),R.locationType==="online"&&R.meetingLink&&a.jsx("a",{href:R.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-primary-600 hover:text-primary-800 text-sm",children:"Meeting link"}),R.locationType==="locatie"&&R.location&&a.jsx("span",{className:"ml-2 text-gray-600 text-sm",children:R.location})]})]}),a.jsx("div",{className:"flex space-x-2",children:a.jsx("button",{onClick:()=>window.open(`mailto:${R.candidateEmail}`,"_blank"),disabled:!R.candidateEmail,className:`p-2 rounded hover:bg-gray-200 ${R.candidateEmail?"":"opacity-50 cursor-not-allowed"}`,title:R.candidateEmail?"E-mail versturen":"Geen e-mailadres beschikbaar",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})})]})},R.id))})]})}),a.jsx("div",{className:"flex justify-end",children:a.jsxs("a",{href:"/schedule-meeting",className:"inline-flex items-center px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-md",children:[a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Nieuwe afspraak plannen"]})})]})}),a.jsx(Jn,{})]})},zD=()=>{const{applicationId:n}=Za(),e=Ln(),{currentUser:t,userProfile:i}=kt(),[o,c]=F.useState("profiel"),[d,m]=F.useState(null),[p,y]=F.useState(null),[x,j]=F.useState(!0),[w,k]=F.useState(null),[z,$]=F.useState(!1),[U,H]=F.useState(!1),[M,S]=F.useState(null),G=(i==null?void 0:i.role)==="recruiter",q=(i==null?void 0:i.role)==="werkzoekende";F.useEffect(()=>{(async()=>{if(!n){k("Geen sollicitatie ID gevonden"),j(!1);return}try{j(!0);const ye=ut(Le,"sollicitaties",n),me=await An(ye);if(me.exists()){const O=me.data();if(O.recruiterId!==(t==null?void 0:t.uid)&&O.userId!==(t==null?void 0:t.uid)){k("Je hebt geen toegang tot deze sollicitatie"),m(null),j(!1);return}if(m({id:me.id,...O,applicationDate:O.applicationDate||Ye.now()}),G&&O.userId){const K=ut(Le,"users",O.userId),ce=await An(K);ce.exists()&&y(ce.data())}if(O.jobId){const K=ut(Le,"jobs",O.jobId),ce=await An(K);ce.exists()&&S(ce.data())}k(null)}else k("Sollicitatie niet gevonden"),m(null)}catch(ye){console.error("Fout bij het ophalen van sollicitatiedetails:",ye),k("Er is een fout opgetreden bij het laden van de sollicitatie"),m(null)}finally{j(!1)}})()},[n,t==null?void 0:t.uid,G]);const R=async re=>{if(!(!d||!d.id))try{$(!0);const ye=ut(Le,"sollicitaties",d.id);await Gn(ye,{status:re,updatedAt:Ye.now()}),m({...d,status:re,updatedAt:Ye.now()}),H(!0),setTimeout(()=>H(!1),3e3)}catch(ye){console.error("Fout bij het bijwerken van status:",ye),k("Er is een fout opgetreden bij het bijwerken van de status")}finally{$(!1)}},N=re=>re?(re instanceof Ye||re.toDate?re.toDate():new Date(re)).toLocaleDateString("nl-NL",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Onbekende datum",E=re=>{switch(re){case"pending":return{text:"Nieuw",bgColor:"bg-blue-100",textColor:"text-blue-800"};case"reviewing":return{text:"In behandeling",bgColor:"bg-yellow-100",textColor:"text-yellow-800"};case"interview":return{text:"Gesprek ingepland",bgColor:"bg-green-100",textColor:"text-green-800"};case"rejected":return{text:"Afgewezen",bgColor:"bg-red-100",textColor:"text-red-800"};case"accepted":return{text:"Aangenomen",bgColor:"bg-emerald-100",textColor:"text-emerald-800"};default:return{text:"Onbekend",bgColor:"bg-gray-100",textColor:"text-gray-800"}}},T=()=>{e("/dashboard")},P=()=>{d&&d.userId&&e(`/schedule-meeting/${d.userId}`)},L=()=>{d&&d.userId&&e(`/messages/${d.userId}`)},D=re=>{c(re)},I=()=>{if(!d)return null;const ye=p&&(p.profileImage||p.profilePhoto||p.avatar||p.profile&&p.profile.profileImage||p.profile&&p.profile.profilePhoto||p.profile&&p.profile.avatar||p.userData&&p.userData.profileImage)||null;return console.log("Applicant profile data:",p),console.log("Profile image URL found:",ye),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:space-x-6",children:[a.jsx("div",{className:"flex-shrink-0 mb-4 md:mb-0",children:a.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden bg-gray-100 border border-gray-200",children:ye?a.jsx("img",{src:ye,alt:`Profielfoto van ${d.applicantName}`,className:"w-full h-full object-cover",onError:me=>{console.log("Error loading profile image:",me),me.currentTarget.src="https://via.placeholder.com/150?text=Geen+foto"}}):a.jsx("div",{className:"flex items-center justify-center w-full h-full bg-gray-100 text-gray-400",children:a.jsx("svg",{className:"w-16 h-16",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})})})}),a.jsxs("div",{className:"flex-grow",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Kandidaat gegevens"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Naam"}),a.jsx("p",{className:"font-medium text-gray-800",children:d.applicantName||"Onbekend"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"E-mail"}),a.jsx("p",{className:"font-medium text-gray-800",children:a.jsx("a",{href:`mailto:${d.email}`,className:"text-primary-600 hover:underline",children:d.email||"Niet opgegeven"})})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Telefoonnummer"}),a.jsx("p",{className:"font-medium text-gray-800",children:d.phoneNumber?a.jsx("a",{href:`tel:${d.phoneNumber}`,className:"text-primary-600 hover:underline",children:d.phoneNumber}):"Niet opgegeven"})]}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Sollicitatie ontvangen op"}),a.jsx("p",{className:"font-medium text-gray-800",children:N(d.applicationDate)})]})]})]})]})}),a.jsxs("div",{className:"bg-gray-50 p-6 border-t border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium mb-3",children:"Online profielen"}),a.jsxs("div",{className:"space-y-3",children:[d.linkedinUrl&&a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 text-blue-600 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:a.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452z"})}),a.jsx("a",{href:d.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"LinkedIn profiel"})]}),d.portfolioUrl&&a.jsxs("div",{className:"flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 text-gray-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"})}),a.jsx("a",{href:d.portfolioUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"Portfolio website"})]})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[a.jsxs("button",{onClick:P,className:"px-6 py-3 bg-primary-600 text-white font-medium rounded-md hover:bg-primary-700 transition-colors flex-1 flex justify-center items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Plan een gesprek"]}),a.jsxs("button",{onClick:L,className:"px-6 py-3 bg-white text-primary-600 font-medium rounded-md border border-primary-600 hover:bg-primary-50 transition-colors flex-1 flex justify-center items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Stuur een bericht"]})]})]})},Te=()=>d?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[a.jsx("div",{className:"p-6",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("span",{className:"inline-block text-xs font-medium text-gray-500 mb-2",children:"Sollicitatie voor"}),a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:d.jobTitle||"Onbekende vacature"}),a.jsx("p",{className:"text-gray-600 mt-1",children:d.companyName||"Onbekend bedrijf"})]}),a.jsx("div",{className:"mt-4 md:mt-0",children:d.status&&a.jsx("span",{className:`${E(d.status).bgColor} ${E(d.status).textColor} px-3 py-2 rounded-md font-medium`,children:E(d.status).text})})]})}),a.jsxs("div",{className:"bg-gray-50 p-6 border-t border-gray-200",children:[a.jsx("h3",{className:"text-lg font-medium mb-3",children:"Status bijwerken"}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx("button",{onClick:()=>R("pending"),disabled:z||d.status==="pending",className:`px-4 py-2 rounded-md font-medium ${d.status==="pending"?"bg-blue-100 text-blue-800 cursor-default":"bg-white border border-blue-500 text-blue-700 hover:bg-blue-50"}`,children:"Nieuw"}),a.jsx("button",{onClick:()=>R("reviewing"),disabled:z||d.status==="reviewing",className:`px-4 py-2 rounded-md font-medium ${d.status==="reviewing"?"bg-yellow-100 text-yellow-800 cursor-default":"bg-white border border-yellow-500 text-yellow-700 hover:bg-yellow-50"}`,children:"In behandeling"}),a.jsx("button",{onClick:()=>R("interview"),disabled:z||d.status==="interview",className:`px-4 py-2 rounded-md font-medium ${d.status==="interview"?"bg-green-100 text-green-800 cursor-default":"bg-white border border-green-500 text-green-700 hover:bg-green-50"}`,children:"Gesprek ingepland"}),a.jsx("button",{onClick:()=>R("rejected"),disabled:z||d.status==="rejected",className:`px-4 py-2 rounded-md font-medium ${d.status==="rejected"?"bg-red-100 text-red-800 cursor-default":"bg-white border border-red-500 text-red-700 hover:bg-red-50"}`,children:"Afwijzen"}),a.jsx("button",{onClick:()=>R("accepted"),disabled:z||d.status==="accepted",className:`px-4 py-2 rounded-md font-medium ${d.status==="accepted"?"bg-emerald-100 text-emerald-800 cursor-default":"bg-white border border-emerald-500 text-emerald-700 hover:bg-emerald-50"}`,children:"Aannemen"})]})]})]}),a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Motivatiebrief"}),a.jsx("div",{className:"bg-gray-50 p-4 rounded-md text-gray-700 whitespace-pre-line",children:d.motivationLetter||"Geen motivatiebrief bijgevoegd"})]})}),d.notes&&a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Extra informatie"}),a.jsx("div",{className:"bg-gray-50 p-4 rounded-md text-gray-700 whitespace-pre-line",children:d.notes})]})})]}):null,Ie=()=>d?a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[a.jsxs("div",{className:"p-6",children:[a.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["CV van ",d.applicantName]}),d.cvUrl?a.jsx("div",{className:"aspect-[3/4] bg-gray-50 rounded-md border border-gray-200 overflow-hidden",children:a.jsx("iframe",{src:d.cvUrl,className:"w-full h-full",title:`CV van ${d.applicantName}`})}):a.jsx("div",{className:"aspect-[3/4] bg-gray-50 rounded-md border border-gray-200 flex items-center justify-center",children:a.jsxs("div",{className:"text-center p-6",children:[a.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),a.jsx("p",{className:"text-gray-600",children:"Geen CV bijgevoegd"})]})})]}),d.cvUrl&&a.jsx("div",{className:"bg-gray-50 p-6 border-t border-gray-200",children:a.jsxs("a",{href:d.cvUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center px-6 py-3 bg-primary-600 text-white font-medium rounded-md hover:bg-primary-700 transition-colors",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 00-1.414-1.414L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download CV"]})})]}),p&&a.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:a.jsxs("div",{className:"p-6",children:[a.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Uitgebreid profiel"}),p.profile&&a.jsxs("div",{className:"space-y-6",children:[p.profile.skills&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Vaardigheden"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:Array.isArray(p.profile.skills)?p.profile.skills.map((re,ye)=>a.jsx("span",{className:"bg-primary-50 text-primary-700 px-3 py-1 rounded-full text-sm",children:re},ye)):a.jsx("p",{className:"text-gray-600",children:"Geen vaardigheden opgegeven"})})]}),p.profile.availability&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Beschikbaarheid"}),a.jsx("p",{className:"text-gray-700",children:p.profile.availability})]}),p.profile.experience&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Werkervaring"}),Array.isArray(p.profile.experience)&&p.profile.experience.length>0?a.jsx("div",{className:"space-y-4",children:p.profile.experience.map((re,ye)=>a.jsxs("div",{className:"border-l-2 border-primary-200 pl-4",children:[a.jsxs("p",{className:"font-medium",children:[re.position," bij ",re.company]}),a.jsxs("p",{className:"text-gray-600 text-sm",children:[re.startDate," - ",re.endDate||"Heden"]}),re.description&&a.jsx("p",{className:"text-gray-700 mt-1",children:re.description})]},ye))}):a.jsx("p",{className:"text-gray-600",children:"Geen werkervaring opgegeven"})]}),p.profile.education&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Opleiding"}),Array.isArray(p.profile.education)&&p.profile.education.length>0?a.jsx("div",{className:"space-y-4",children:p.profile.education.map((re,ye)=>a.jsxs("div",{className:"border-l-2 border-primary-200 pl-4",children:[a.jsx("p",{className:"font-medium",children:re.degree}),a.jsx("p",{className:"text-gray-600",children:re.school}),a.jsxs("p",{className:"text-gray-600 text-sm",children:[re.startDate," - ",re.endDate||"Heden"]}),re.description&&a.jsx("p",{className:"text-gray-700 mt-1",children:re.description})]},ye))}):a.jsx("p",{className:"text-gray-600",children:"Geen opleiding opgegeven"})]})]}),(!p.profile||Object.keys(p.profile).length===0)&&a.jsx("p",{className:"text-gray-600",children:"Geen uitgebreid profiel beschikbaar"})]})})]}):null,Z=()=>{if(!d)return null;const re=E(d.status),ye=me=>{switch(me){case"pending":return"Je sollicitatie is ontvangen en wacht op beoordeling door de recruiter.";case"reviewing":return"De recruiter is momenteel je sollicitatie aan het beoordelen.";case"interview":return"Gefeliciteerd! De recruiter wil graag een gesprek met je plannen. Je kunt binnenkort een uitnodiging verwachten.";case"rejected":return"Helaas heeft de recruiter besloten niet verder te gaan met je sollicitatie. Kijk naar andere vacatures die mogelijk beter passen.";case"accepted":return"Gefeliciteerd! Je bent aangenomen voor deze positie. De recruiter zal contact met je opnemen voor de volgende stappen.";default:return"De status van je sollicitatie is onbekend."}};return a.jsxs("div",{className:"max-w-3xl mx-auto bg-white shadow-md rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-primary-800 px-6 py-4 text-white",children:[a.jsxs("h1",{className:"text-2xl font-bold mb-2",children:["Sollicitatie: ",d.jobTitle||"Onbekende functie"]}),a.jsx("p",{className:"text-primary-100",children:d.companyName||"Onbekend bedrijf"})]}),a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Sollicitatie verzonden op"}),a.jsx("p",{className:"font-medium",children:N(d.applicationDate)})]}),a.jsx("div",{children:a.jsx("span",{className:`inline-flex items-center px-4 py-2 rounded-full font-medium ${re.bgColor} ${re.textColor}`,children:re.text})})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Status van je sollicitatie"}),a.jsx("div",{className:"p-4 rounded-md bg-gray-50 border border-gray-200",children:a.jsx("p",{children:ye(d.status)})})]}),a.jsxs("div",{className:"mb-8",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Sollicitatieproces"}),a.jsxs("div",{className:"relative",children:[a.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 w-full h-1 bg-gray-200"}),a.jsx("div",{className:"relative flex justify-between",children:["pending","reviewing","interview","accepted"].map((me,O)=>{const K=d.status==="pending"&&O===0||d.status==="reviewing"&&O<=1||d.status==="interview"&&O<=2||d.status==="accepted"&&O<=3,ce=d.status==="pending"&&O===0||d.status==="reviewing"&&O===1||d.status==="interview"&&O===2||d.status==="accepted"&&O===3;return a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center z-10 ${ce?"ring-4 ring-primary-100 bg-primary-600 text-white":K?"bg-primary-600 text-white":"bg-gray-200 text-gray-500"}`,children:O+1}),a.jsxs("p",{className:`mt-2 text-sm ${ce?"font-medium text-primary-600":"text-gray-500"}`,children:[O===0&&"Ontvangen",O===1&&"In behandeling",O===2&&"Gesprek",O===3&&"Aangenomen"]})]},me)})})]})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-6 mt-6",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Jouw sollicitatie"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm text-gray-500",children:"Motivatiebrief"}),a.jsx("div",{className:"mt-1 p-3 bg-gray-50 rounded-md whitespace-pre-line",children:d.motivationLetter||"Geen motivatiebrief bijgevoegd"})]}),d.cvUrl&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm text-gray-500",children:"CV"}),a.jsx("div",{className:"mt-1",children:a.jsxs("a",{href:d.cvUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[a.jsx("svg",{className:"mr-2 h-5 w-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Bekijk je CV"]})})]}),d.notes&&a.jsxs("div",{children:[a.jsx("h3",{className:"text-sm text-gray-500",children:"Extra informatie"}),a.jsx("div",{className:"mt-1 p-3 bg-gray-50 rounded-md whitespace-pre-line",children:d.notes})]})]})]}),a.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[a.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Contact met recruiter"}),a.jsxs("button",{onClick:L,className:"w-full px-6 py-3 bg-primary-600 text-white font-medium rounded-md hover:bg-primary-700 transition-colors flex justify-center items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Stuur een bericht aan de recruiter"]})]})]}),a.jsx("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200",children:a.jsxs("button",{onClick:T,className:"flex items-center text-primary-600 hover:text-primary-800",children:[a.jsx("svg",{className:"w-5 h-5 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Terug naar dashboard"]})})]})};return a.jsx("div",{className:"min-h-screen bg-gray-50",children:a.jsx("div",{className:"container mx-auto px-4 py-12 mt-12",children:a.jsxs("div",{className:"max-w-5xl mx-auto",children:[a.jsxs("button",{onClick:T,className:"mb-6 flex items-center text-primary-600 hover:text-primary-800",children:[a.jsx("svg",{className:"w-5 h-5 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Terug naar dashboard"]}),x&&a.jsxs("div",{className:"flex justify-center items-center p-12",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"}),a.jsx("span",{className:"ml-3",children:"Sollicitatie details laden..."})]}),w&&a.jsxs("div",{className:"bg-red-50 text-red-700 p-6 rounded-lg mb-6",children:[a.jsx("h3",{className:"text-lg font-medium mb-2",children:"Er is een probleem opgetreden"}),a.jsx("p",{children:w})]}),U&&a.jsxs("div",{className:"bg-green-50 text-green-700 p-6 rounded-lg mb-6 flex items-center",children:[a.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),a.jsx("p",{children:"Status bijgewerkt"})]}),!x&&!w&&d&&a.jsx(a.Fragment,{children:q?Z():a.jsxs("div",{children:[a.jsx("div",{className:"bg-white shadow-md rounded-t-lg p-6 mb-0 border border-gray-200 border-b-0",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:d.applicantName||"Onbekende kandidaat"}),a.jsxs("p",{className:"text-gray-600",children:["Sollicitatie voor ",d.jobTitle||"Onbekende functie"," bij ",d.companyName||"Onbekend bedrijf"]})]}),a.jsx("div",{className:"mt-4 md:mt-0",children:d.status&&a.jsx("span",{className:`${E(d.status).bgColor} ${E(d.status).textColor} px-3 py-2 rounded-md font-medium`,children:E(d.status).text})})]})}),a.jsx("div",{className:"bg-white border-x border-t border-gray-200",children:a.jsxs("nav",{className:"flex border-b border-gray-200",children:[a.jsx("button",{onClick:()=>D("profiel"),className:`px-6 py-4 text-center w-1/3 font-medium text-sm focus:outline-none ${o==="profiel"?"border-b-2 border-primary-500 text-primary-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Profiel"}),a.jsx("button",{onClick:()=>D("sollicitatie"),className:`px-6 py-4 text-center w-1/3 font-medium text-sm focus:outline-none ${o==="sollicitatie"?"border-b-2 border-primary-500 text-primary-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Sollicitatie"}),a.jsx("button",{onClick:()=>D("cv"),className:`px-6 py-4 text-center w-1/3 font-medium text-sm focus:outline-none ${o==="cv"?"border-b-2 border-primary-500 text-primary-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"CV"})]})}),a.jsxs("div",{className:"p-6 bg-gray-50 border-x border-b border-gray-200 rounded-b-lg",children:[o==="profiel"&&I(),o==="sollicitatie"&&Te(),o==="cv"&&Ie()]})]})})]})})})},FD=({user:n})=>{const[e,t]=F.useState(!1),{favorites:i,loading:o,removeFavorite:c}=Nj(),d=Ln(),[m,p]=F.useState([]),[y,x]=F.useState(!0),j=async M=>{try{await c(M)}catch(S){console.error("Fout bij verwijderen favoriet:",S)}},w=M=>{d(`/job/${M}`)},k=M=>{d(`/applications/${M}`)};(()=>{let M=0,S=0;const G=["displayName","email","phoneNumber"];M+=G.length,G.forEach(R=>{n[R]&&S++});const q=["street","houseNumber","postalCode","city","country"];if(M+=q.length,q.forEach(R=>{(n[R]||n.address&&typeof n.address=="object"&&n.address[R])&&S++}),n.profile){const R=["skills","availability","cv","linkedin","portfolio","experience","education"];M+=R.length,R.forEach(N=>{n.profile&&n.profile[N]&&(Array.isArray(n.profile[N])?n.profile[N].length>0&&S++:S++)})}return Math.round(S/M*100)})();const $=()=>{alert("Deze functie is momenteel alleen beschikbaar voor recruiters. Als werkzoekende kun je alleen afspraken ontvangen van recruiters.")};F.useEffect(()=>{(async()=>{if(n.id)try{x(!0);const S=Sr(an(Le,"sollicitaties"),Rr("userId","==",n.id),fl("applicationDate","desc")),G=await Cr(S),q=[];G.forEach(R=>{const N=R.data();q.push({id:R.id,jobId:N.jobId,jobTitle:N.jobTitle||"Onbekende functie",companyName:N.companyName||"Onbekend bedrijf",status:N.status||"pending",applicationDate:N.applicationDate})}),p(q)}catch(S){console.error("Fout bij ophalen sollicitaties:",S)}finally{x(!1)}})()},[n.id]);const U=M=>M?M.toDate().toLocaleDateString("nl-NL",{day:"numeric",month:"long",year:"numeric"}):"Onbekende datum",H=M=>{switch(M){case"pending":return{color:"blue",bg:"blue-100",text:"Nieuw"};case"reviewing":return{color:"yellow",bg:"yellow-100",text:"In behandeling"};case"interview":return{color:"green",bg:"green-100",text:"Gesprek ingepland"};case"rejected":return{color:"red",bg:"red-100",text:"Afgewezen"};case"accepted":return{color:"emerald",bg:"emerald-100",text:"Aangenomen"};default:return{color:"gray",bg:"gray-100",text:"Onbekend"}}};return a.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6",children:a.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"p-6 bg-gradient-to-r from-primary-700 to-primary-900 text-white",children:[a.jsxs("h1",{className:"text-3xl font-bold",children:["Welkom, ",n.displayName||"Werkzoekende"]}),a.jsx("p",{className:"mt-2 text-primary-100",children:"Beheer je profiel en sollicitaties vanaf je persoonlijke dashboard"})]}),a.jsx("div",{className:"p-6 border-b",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Mijn profiel"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Zorg dat je profiel compleet is om je kansen op een baan te vergroten"})]}),a.jsx("a",{href:"/profile",className:"mt-4 md:mt-0 inline-block px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-md",children:"Profiel bekijken"})]})}),a.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white border rounded-lg shadow-sm p-5",children:[a.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Verstuurde sollicitaties"}),a.jsx("div",{className:"space-y-3",children:y?a.jsx("div",{className:"flex justify-center py-4",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-primary-600"})}):m.length>0?a.jsx("div",{className:"space-y-3",children:m.map(M=>{const S=H(M.status);return a.jsxs("div",{className:`border-l-4 border-${S.color}-500 pl-3 py-2 hover:bg-gray-50 cursor-pointer transition-colors duration-200`,onClick:()=>k(M.id),children:[a.jsxs("p",{className:"font-medium",children:[M.jobTitle," bij ",M.companyName]}),a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("p",{className:"text-sm text-gray-600",children:["Ingediend op ",U(M.applicationDate)]}),a.jsx("span",{className:`text-xs font-medium bg-${S.bg} text-${S.color}-800 px-2 py-1 rounded-full`,children:S.text})]})]},M.id)})}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-gray-500 text-sm italic",children:"Je hebt nog geen sollicitaties verstuurd."}),a.jsx("a",{href:"/jobs",className:"block text-primary-600 hover:text-primary-800 font-medium",children:"Zoek vacatures om te solliciteren"})]})})]}),a.jsxs("div",{className:"bg-white border rounded-lg shadow-sm p-5",children:[a.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Favoriete vacatures"}),a.jsx("div",{className:"space-y-3",children:o?a.jsx("div",{className:"flex justify-center py-4",children:a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-primary-600"})}):i.length>0?a.jsx("div",{className:"space-y-3",children:i.map(M=>{var S,G,q,R;return a.jsxs("div",{className:"border rounded-md p-3 hover:bg-gray-50",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("p",{className:"font-medium",children:((S=M.job)==null?void 0:S.title)||"Onbekende functie"}),a.jsx("button",{onClick:()=>j(M.jobId),className:"text-yellow-500 hover:text-yellow-600","aria-label":"Verwijder uit favorieten",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})})]}),a.jsxs("p",{className:"text-sm text-gray-600",children:[((G=M.job)==null?void 0:G.company)||"Onbekend bedrijf",", ",((q=M.job)==null?void 0:q.location)||"Onbekende locatie"]}),a.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[((R=M.job)==null?void 0:R.salary)&&a.jsxs("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:["",M.job.salary]}),a.jsx("button",{onClick:()=>w(M.jobId),className:"text-primary-600 hover:text-primary-800 text-sm",children:"Bekijken "})]})]},M.id)})}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-gray-500 text-sm italic",children:"Je hebt nog geen vacatures als favoriet gemarkeerd."}),a.jsx("a",{href:"/jobs",className:"block text-primary-600 hover:text-primary-800 font-medium",children:"Ontdek interessante vacatures"})]})})]}),a.jsxs("div",{className:"bg-white border rounded-lg shadow-sm p-5 col-span-1 md:col-span-2",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Mijn Agenda"}),a.jsx("button",{onClick:$,className:"px-3 py-1 bg-primary-600 hover:bg-primary-700 text-white text-sm rounded-md",children:"+ Afspraak toevoegen"})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-500 text-sm italic",children:"Je hebt geen geplande sollicitatiegesprekken of afspraken."}),a.jsx("div",{className:"hidden",children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx("div",{className:"border-l-4 border-blue-500 pl-3 py-2",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-3 text-blue-700",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Sollicitatiegesprek bij TechCorp"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Morgen, 10:00 - 11:00"})]})]})}),a.jsx("div",{className:"border-l-4 border-green-500 pl-3 py-2",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-3 text-green-700",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:"Telefonische screening InnovateCo"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Woensdag, 14:30 - 15:00"})]})]})})]})}),a.jsx("div",{className:"flex justify-center mt-4",children:a.jsx("a",{href:"#",className:"inline-block text-primary-600 hover:text-primary-800 font-medium",children:"Beheer je sollicitatiekalender"})})]})]})]})]})})},BD=({user:n})=>{const e=Ln(),[t,i]=F.useState([]),[o,c]=F.useState([]),[d,m]=F.useState(!1),[p,y]=F.useState(!1),[x,j]=F.useState(null),[w,k]=F.useState(null),[z,$]=F.useState(""),{userProfile:U,currentUser:H}=kt(),[M,S]=F.useState([]),[G,q]=F.useState(!0),[R,N]=F.useState(null),T=(()=>{let me=0,O=0;const K=["displayName","email","phoneNumber"];me+=K.length,K.forEach(le=>{n[le]&&O++});const ce=["companyName","companyAddress","companyCity","companyPostalCode","kvkNumber"];if(me+=ce.length,ce.forEach(le=>{n[le]&&O++}),n.profile){const le=["company","position","companyLogo","companyWebsite","companyDescription"];me+=le.length,le.forEach(ae=>{n.profile&&n.profile[ae]&&O++})}return Math.round(O/me*100)})(),P=()=>T<40?"bg-red-500":T<70?"bg-yellow-500":"bg-green-500",L=()=>n.profile&&n.profile.company?n.profile.company:n.companyName?n.companyName:"Je bedrijf",D=()=>{e("/create-job")},I=me=>{e(`/job/${me}`)},Te=()=>{e("/schedule-meeting")};F.useEffect(()=>{(async()=>{if(H)try{y(!0),k(null);const O=Ye.now(),K=an(Le,"meetings"),ce=Sr(K,Rr("recruiterId","==",H.uid),Rr("dateTime",">=",O),fl("dateTime","asc"),T1(5)),le=await Cr(ce),ae=[];le.forEach(je=>{const be=je.data();ae.push({id:je.id,title:be.title||"Ongetitelde afspraak",candidateName:be.candidateName||"Onbekende kandidaat",dateTime:be.dateTime,endDateTime:be.endDateTime,locationType:be.locationType,location:be.location,meetingLink:be.meetingLink,status:be.status||"gepland"})}),c(ae)}catch(O){console.error("Fout bij ophalen van meetings:",O),k("Er is een fout opgetreden bij het ophalen van je afspraken")}finally{y(!1)}})()},[H]),F.useEffect(()=>{(async()=>{console.log("Gebruiker ID velden:",{id:n.id,uid:n.uid,allKeys:Object.keys(n)});const O=n.id||n.uid;if(!O){console.log("Geen gebruikers-ID gevonden om vacatures mee op te halen",n),j("Gebruikers-ID niet gevonden. Probeer opnieuw in te loggen.");return}console.log("Vacatures ophalen voor recruiterId:",O),m(!0),j(null);try{const K=an(Le,"jobs"),ce=Sr(K,Rr("recruiterId","==",O),T1(50));console.log("Query uitgevoerd...");const le=await Cr(ce);console.log(`Aantal gevonden vacatures: ${le.size}`);const ae=[];le.forEach(je=>{const be=je.data();console.log("Vacature data:",{id:je.id,title:be.title,recruiterId:be.recruiterId,createdAt:be.createdAt}),ae.push({id:je.id,title:be.title||"Onbekende functie",company:be.company||"Onbekend bedrijf",location:be.location||"Onbekende locatie",createdAt:be.createdAt,status:be.status||"active"})}),ae.sort((je,be)=>{var Ce,Oe;if(!je.createdAt)return 1;if(!be.createdAt)return-1;try{const Be=je.createdAt instanceof Ye||(Ce=je.createdAt)!=null&&Ce.toDate?je.createdAt.toDate():new Date(je.createdAt);return(be.createdAt instanceof Ye||(Oe=be.createdAt)!=null&&Oe.toDate?be.createdAt.toDate():new Date(be.createdAt)).getTime()-Be.getTime()}catch(Be){return console.error("Fout bij sorteren:",Be),0}}),console.log("Opgehaalde vacatures (gesorteerd):",ae),i(ae)}catch(K){console.error("Fout bij ophalen van vacatures:",K),j("Er is een fout opgetreden bij het ophalen van je vacatures")}finally{m(!1)}})()},[n]),F.useEffect(()=>{(async()=>{if(n.id)try{q(!0),N(null);const O=Sr(an(Le,"sollicitaties"),Rr("recruiterId","==",n.id),fl("applicationDate","desc")),K=await Cr(O),ce=[];K.forEach(le=>{const ae=le.data();ce.push({id:le.id,jobId:ae.jobId,jobTitle:ae.jobTitle||"Onbekende functie",userId:ae.userId,applicantName:ae.applicantName||"Onbekende kandidaat",status:ae.status||"pending",applicationDate:ae.applicationDate,location:ae.location})}),S(ce)}catch(O){console.error("Fout bij ophalen sollicitaties:",O),N("Er is een fout opgetreden bij het laden van sollicitaties")}finally{q(!1)}})()},[n.id]);const Ie=me=>me?me.toDate().toLocaleDateString("nl-NL",{day:"numeric",month:"long",year:"numeric"}):"Onbekende datum",Z=me=>{switch(me){case"pending":return{color:"blue",bg:"blue-100",text:"Nieuw"};case"reviewing":return{color:"yellow",bg:"yellow-100",text:"In behandeling"};case"interview":return{color:"green",bg:"green-100",text:"Gesprek ingepland"};case"rejected":return{color:"red",bg:"red-100",text:"Afgewezen"};case"accepted":return{color:"emerald",bg:"emerald-100",text:"Aangenomen"};default:return{color:"gray",bg:"gray-100",text:"Onbekend"}}},re=me=>{e(`/applications/${me}`)},ye=(me,O)=>{const K=me.toDate(),ce=O.toDate(),le=new Date,ae=new Date(le);ae.setDate(ae.getDate()+1);let je="";K.toDateString()===le.toDateString()?je="Vandaag":K.toDateString()===ae.toDateString()?je="Morgen":je=K.toLocaleDateString("nl-NL",{weekday:"long",day:"numeric",month:"long"});const be=K.toLocaleTimeString("nl-NL",{hour:"2-digit",minute:"2-digit",hour12:!1}),Ce=ce.toLocaleTimeString("nl-NL",{hour:"2-digit",minute:"2-digit",hour12:!1});return`${je}, ${be} - ${Ce}`};return a.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6",children:a.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[a.jsxs("div",{className:"p-6 bg-gradient-to-r from-primary-700 to-primary-900 text-white",children:[a.jsxs("h1",{className:"text-3xl font-bold",children:["Welkom, ",n.displayName||"Recruiter"]}),a.jsxs("p",{className:"mt-2 text-primary-100",children:["Beheer je vacatures en vind de juiste kandidaten voor ",L()]})]}),a.jsx("div",{className:"p-6 border-b",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Bedrijfsprofiel"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Maak je bedrijfsprofiel compleet om meer geschikte kandidaten te vinden"})]}),a.jsxs("div",{className:"mt-4 md:mt-0",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"relative w-48 h-2 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:`absolute top-0 left-0 h-full ${P()}`,style:{width:`${T}%`}})}),a.jsxs("span",{className:"ml-3 font-medium",children:[T,"% compleet"]})]}),a.jsx("a",{href:"/profile/recruiter",className:"mt-2 inline-block text-primary-600 hover:text-primary-800 font-medium",children:"Profiel verbeteren "})]})]})}),a.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{className:"bg-white border rounded-lg shadow-sm p-5",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Mijn vacatures"}),a.jsx("button",{onClick:D,className:"px-3 py-1 bg-primary-600 hover:bg-primary-700 text-white text-sm rounded-md",children:"+ Nieuwe vacature"})]}),d&&a.jsxs("div",{className:"flex justify-center py-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-primary-600"}),a.jsx("span",{className:"ml-2",children:"Laden..."})]}),x&&a.jsxs("div",{className:"text-red-600 text-sm mb-4 bg-red-50 p-3 rounded-md",children:[a.jsx("p",{className:"font-medium",children:"Er is een fout opgetreden:"}),a.jsx("p",{children:x}),a.jsx("button",{onClick:()=>window.location.reload(),className:"mt-2 text-primary-600 hover:text-primary-800 font-medium",children:"Probeer opnieuw"})]}),!d&&!x&&t.length===0&&a.jsxs("div",{className:"space-y-3",children:[a.jsx("p",{className:"text-gray-500 text-sm italic",children:"Je hebt nog geen vacatures geplaatst."}),a.jsx(Ut,{to:"/create-job",className:"block text-primary-600 hover:text-primary-800 font-medium",children:"Aan de slag met je eerste vacature"})]}),!d&&!x&&t.length>0&&a.jsxs("div",{className:"space-y-3",children:[t.map(me=>{var O;return a.jsx("div",{onClick:()=>I(me.id),className:"border rounded-md p-4 hover:bg-gray-50 cursor-pointer transition-colors",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:me.title}),a.jsxs("p",{className:"text-sm text-gray-600",children:[me.company,"  ",me.location]}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(O=me.createdAt)!=null&&O.toDate?new Date(me.createdAt.toDate()).toLocaleDateString("nl-NL",{year:"numeric",month:"long",day:"numeric"}):"Datum onbekend"})]}),a.jsx("div",{children:a.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${me.status==="active"?"bg-green-100 text-green-800":me.status==="paused"?"bg-yellow-100 text-yellow-800":me.status==="deleted"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:me.status==="active"?"Actief":me.status==="paused"?"Gepauzeerd":me.status==="closed"?"Gesloten":me.status==="deleted"?"Verwijderd":"Onbekend"})})]})},me.id)}),a.jsx("div",{className:"mt-4",children:a.jsx(Ut,{to:"/create-job",className:"text-primary-600 hover:text-primary-800 text-sm font-medium",children:"+ Nog een vacature plaatsen"})})]})]}),a.jsxs("div",{className:"bg-white border rounded-lg shadow-sm p-5",children:[a.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Ontvangen sollicitaties"}),a.jsx("div",{className:"space-y-3",children:G?a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-500 text-sm",children:"Sollicitaties laden..."})]}):R?a.jsx("div",{className:"text-red-500 text-sm py-2",children:R}):M.length>0?a.jsx("div",{className:"space-y-3",children:M.map(me=>{const O=Z(me.status);return a.jsxs("div",{className:`border-l-4 border-${O.color}-500 pl-3 py-2 hover:bg-gray-50 cursor-pointer`,onClick:()=>re(me.id),children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:me.applicantName}),a.jsxs("p",{className:"text-sm text-gray-600",children:[me.jobTitle," ",me.location?` ${me.location}`:""]})]}),a.jsx("span",{className:`text-xs bg-${O.bg} text-${O.color}-800 px-2 py-1 rounded flex items-center h-fit`,children:O.text})]}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Sollicitatie ontvangen op ",Ie(me.applicationDate)]})]},me.id)})}):a.jsxs(a.Fragment,{children:[a.jsx("p",{className:"text-gray-500 text-sm italic",children:"Je hebt nog geen sollicitaties ontvangen."}),a.jsx("a",{href:"/create-job",className:"block text-primary-600 hover:text-primary-800 font-medium",children:"Plaats een vacature om sollicitaties te ontvangen"})]})})]}),a.jsxs("div",{className:"bg-white border rounded-lg shadow-sm p-5 md:col-span-2",children:[a.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Statistieken"}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[a.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-blue-700",children:t.length}),a.jsx("p",{className:"text-sm text-blue-800",children:"Actieve vacatures"})]}),a.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-green-700",children:M.length}),a.jsx("p",{className:"text-sm text-green-800",children:"Sollicitaties ontvangen"})]}),a.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-purple-700",children:"0"}),a.jsx("p",{className:"text-sm text-purple-800",children:"Interviews ingepland"})]}),a.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg text-center",children:[a.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:"0"}),a.jsx("p",{className:"text-sm text-yellow-800",children:"Kandidaten benaderd"})]})]})]}),a.jsxs("div",{className:"bg-white border rounded-lg shadow-sm p-5",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Favoriete kandidaten"}),a.jsx("a",{href:"/candidates",className:"px-3 py-1 text-primary-600 hover:text-primary-700 text-sm",children:"Alle kandidaten bekijken "})]}),a.jsxs("div",{className:"space-y-4",children:[a.jsx("p",{className:"text-gray-500 text-sm italic",children:"Je hebt nog geen favoriete kandidaten toegevoegd."}),a.jsx("div",{className:"hidden",children:a.jsxs("div",{className:"border rounded-md p-3 flex items-center hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center text-primary-700 font-bold mr-3",children:"JD"}),a.jsxs("div",{children:[a.jsx("h4",{className:"font-medium",children:"Jan de Vries"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Frontend Developer  4 jaar ervaring"})]}),a.jsxs("div",{className:"ml-auto flex space-x-2",children:[a.jsx("button",{className:"p-1 text-gray-400 hover:text-primary-600",children:a.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[a.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),a.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})}),a.jsx("button",{className:"p-1 text-gray-400 hover:text-red-600",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})})})]})]})}),a.jsx("a",{href:"/candidates",className:"block text-primary-600 hover:text-primary-800 font-medium",children:"Zoek kandidaten om toe te voegen"})]})]}),a.jsxs("div",{className:"bg-white border rounded-lg shadow-sm p-5",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"font-semibold text-lg",children:"Agenda"}),a.jsx("button",{onClick:Te,className:"px-3 py-1 bg-primary-600 hover:bg-primary-700 text-white text-sm rounded-md",children:"+ Afspraak toevoegen"})]}),a.jsxs("div",{className:"space-y-3",children:[p?a.jsxs("div",{className:"text-center py-4",children:[a.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-primary-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-500 text-sm",children:"Agenda laden..."})]}):w?a.jsx("div",{className:"text-red-500 text-sm py-2",children:w}):o.length===0?a.jsx("p",{className:"text-gray-500 text-sm italic",children:"Je hebt geen geplande afspraken voor de komende dagen."}):a.jsx("div",{className:"space-y-3",children:o.map(me=>a.jsx("div",{className:"border-l-4 border-primary-500 pl-3 py-2",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"mr-3 text-primary-700",children:a.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-medium",children:me.title}),a.jsx("p",{className:"text-sm text-gray-600",children:ye(me.dateTime,me.endDateTime)}),a.jsxs("p",{className:"text-xs text-gray-500",children:["Met ",me.candidateName]})]})]})},me.id))}),a.jsx("div",{className:"flex justify-center mt-4",children:a.jsx("a",{href:"/agenda",className:"inline-block text-primary-600 hover:text-primary-800 font-medium",children:"Beheer je agenda"})})]})]})]})]})})},Yd=({requiredRole:n})=>{const{currentUser:e,loading:t,userProfile:i}=kt();return console.log("ProtectedRoute rendering",{currentUser:e,loading:t,requiredRole:n,userProfile:i}),t?a.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary-600"}),a.jsx("div",{className:"ml-4",children:"Bezig met laden..."})]}):e?i?n&&!(n==="werkzoekende"&&hf(i)||n==="recruiter"&&ff(i))?(console.warn(`Gebruiker heeft niet de juiste rol. Vereist: ${n}, Actueel: ${bj(i)}`),a.jsx(Ba,{to:"/dashboard",replace:!0})):a.jsx(oh,{}):n?a.jsx(Ba,{to:"/dashboard",replace:!0}):a.jsx(oh,{}):a.jsx(Ba,{to:"/login",replace:!0})},qD=()=>{const{currentUser:n,loading:e}=kt();return console.log("PublicRoute rendering",{loading:e,currentUser:n}),F.useEffect(()=>{console.log("PublicRoute effect",{loading:e,currentUser:n})},[e,n]),e?(console.log("PublicRoute - Toont laadscherm"),a.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary-600"}),a.jsx("div",{className:"ml-4",children:"Bezig met laden..."})]})):n?(console.log("PublicRoute - Doorverwijzen naar home"),a.jsx(Ba,{to:"/",replace:!0})):(console.log("PublicRoute - Toont publieke content"),a.jsx(oh,{}))},HD=({children:n})=>a.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[a.jsx(fn,{}),a.jsx("main",{className:"flex-grow p-4 sm:p-6 md:p-8 mt-16",children:n}),a.jsx("footer",{className:"bg-white py-4 border-t border-gray-200",children:a.jsxs("div",{className:"container mx-auto px-4 text-center text-gray-500 text-sm",children:[" ",new Date().getFullYear()," PitchPro. Alle rechten voorbehouden."]})})]}),GD=()=>(console.log("Rendering SimpleDashboard"),a.jsxs("div",{className:"p-8",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Dashboard"}),a.jsx("p",{children:"Als je dit kunt zien, werkt de rendering correct."})]})),$D=()=>{const{userProfile:n,currentUser:e}=kt();return console.log("Dashboard component rendering met:",{currentUser:e==null?void 0:e.uid,userProfile:n==null?void 0:n.role,displayName:n==null?void 0:n.displayName}),e&&!n?(console.log("Gebruiker ingelogd maar geen profiel gevonden"),a.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[a.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Probleem met gebruikersprofiel"}),a.jsx("p",{className:"mb-4",children:"Je bent wel ingelogd, maar je gebruikersprofiel kon niet worden geladen."}),a.jsx(KD,{})]})):(n==null?void 0:n.role)==="werkzoekende"?(console.log("Werkzoekende dashboard wordt geladen"),a.jsx(FD,{user:n})):(n==null?void 0:n.role)==="recruiter"?(console.log("Recruiter dashboard wordt geladen",n),a.jsx(BD,{user:n})):(console.log("Geen profiel gevonden, laadscherm wordt getoond"),a.jsx("div",{className:"flex justify-center items-center h-screen",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}))},KD=()=>{const{currentUser:n,createOrUpdateProfile:e}=kt(),[t,i]=F.useState(!1),[o,c]=F.useState(null),[d,m]=F.useState(!1),[p,y]=F.useState("werkzoekende"),[x,j]=F.useState((n==null?void 0:n.displayName)||""),w=async()=>{if(n)try{if(i(!0),c(null),!x.trim()){c("Vul een naam in");return}await e(x,p),m(!0),setTimeout(()=>{window.location.reload()},2e3)}catch(k){console.error("Fout bij aanmaken profiel:",k),c("Er is een fout opgetreden bij het aanmaken van je profiel. Probeer het later opnieuw.")}finally{i(!1)}};return a.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md max-w-md mt-4",children:[a.jsx("h2",{className:"text-xl font-medium mb-4",children:"Maak je profiel opnieuw aan"}),o&&a.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:o}),d&&a.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:"Profiel succesvol aangemaakt! Pagina wordt vernieuwd..."}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Je naam"}),a.jsx("input",{type:"text",value:x,onChange:k=>j(k.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Vul je naam in",disabled:t||d})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("p",{className:"mb-2 text-sm font-medium text-gray-700",children:"Selecteer je gebruikerstype:"}),a.jsxs("div",{className:"flex space-x-4",children:[a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",className:"form-radio",name:"role",value:"werkzoekende",checked:p==="werkzoekende",onChange:()=>y("werkzoekende"),disabled:t||d}),a.jsx("span",{className:"ml-2",children:"Werkzoekende"})]}),a.jsxs("label",{className:"inline-flex items-center",children:[a.jsx("input",{type:"radio",className:"form-radio",name:"role",value:"recruiter",checked:p==="recruiter",onChange:()=>y("recruiter"),disabled:t||d}),a.jsx("span",{className:"ml-2",children:"Recruiter"})]})]})]}),a.jsx("button",{onClick:w,disabled:t||d,className:"w-full bg-primary-600 text-white py-2 px-4 rounded hover:bg-primary-700 disabled:opacity-50",children:t?"Bezig...":d?"Profiel aangemaakt":"Profiel aanmaken"})]})},QD=()=>{const{loading:n,currentUser:e,userProfile:t,authError:i}=kt();return console.log("AuthDebugger rendering",{loading:n,currentUser:e,userProfile:t,authError:i}),a.jsxs("div",{className:"fixed bottom-0 right-0 bg-black bg-opacity-75 text-white p-2 text-xs",children:["Loading: ",n?"Ja":"Nee",a.jsx("br",{}),"User: ",e?"Aanwezig":"Geen",a.jsx("br",{}),"Profile: ",t?t.role:"Geen",a.jsx("br",{}),"Error: ",i?i.message:"Geen"]})},YD=()=>{const{currentUser:n,loading:e}=kt();return console.log("Redirect component rendering",{loading:e,currentUser:n}),e?a.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary-600"}),a.jsx("div",{className:"ml-4",children:"Bezig met laden..."})]}):n?a.jsx(Ba,{to:"/dashboard",replace:!0}):a.jsx(Ba,{to:"/login",replace:!0})},WD=()=>a.jsx(HD,{children:a.jsx(oh,{})}),XD=()=>(console.log("App component rendering"),F.useEffect(()=>{const n=e=>{console.error("Onafgehandelde fout opgevangen:",e.error)};return window.addEventListener("error",n),()=>{window.removeEventListener("error",n)}},[]),a.jsx(Q3,{children:a.jsx(Y3,{children:a.jsx(W3,{children:a.jsxs(bT,{basename:"/",children:[a.jsxs(fT,{children:[a.jsx(nt,{path:"/",element:a.jsx(RD,{})}),a.jsxs(nt,{element:a.jsx(qD,{}),children:[a.jsx(nt,{path:"/login",element:a.jsx(xD,{})}),a.jsx(nt,{path:"/register",element:a.jsx(_D,{})}),a.jsx(nt,{path:"/reset-password",element:a.jsx(jD,{})})]}),a.jsx(nt,{path:"/about",element:a.jsx(kD,{})}),a.jsx(nt,{path:"/jobs",element:a.jsx(DD,{})}),a.jsx(nt,{path:"/job/:jobId",element:a.jsx(OD,{})}),a.jsx(nt,{element:a.jsx(Yd,{}),children:a.jsx(nt,{path:"/job-application/:jobId",element:a.jsx(VD,{})})}),a.jsxs(nt,{element:a.jsx(Yd,{requiredRole:"recruiter"}),children:[a.jsx(nt,{path:"/candidates",element:a.jsx(CD,{})}),a.jsx(nt,{path:"/candidate/:id",element:a.jsx(ID,{})}),a.jsx(nt,{path:"/schedule-meeting",element:a.jsx(Qd,{})}),a.jsx(nt,{path:"/schedule-meeting/:id",element:a.jsx(Qd,{})})]}),a.jsx(nt,{path:"/redirect",element:a.jsx(YD,{})}),a.jsx(nt,{path:"/simple",element:a.jsx(GD,{})}),a.jsx(nt,{element:a.jsx(Yd,{}),children:a.jsxs(nt,{element:a.jsx(WD,{}),children:[a.jsx(nt,{path:"/dashboard",element:a.jsx($D,{})}),a.jsx(nt,{path:"/messages",element:a.jsx(n_,{})}),a.jsx(nt,{path:"/messages/:chatId",element:a.jsx(n_,{})}),a.jsx(nt,{path:"/profile",element:a.jsx(Kd,{})}),a.jsx(nt,{path:"/profile/:type",element:a.jsx(Kd,{})}),a.jsx(nt,{path:"/profile/jobseeker",element:a.jsx(Kd,{})}),a.jsx(nt,{path:"/profile/recruiter",element:a.jsx(Kd,{})}),a.jsx(nt,{path:"/cv-preview",element:a.jsx(MD,{})}),a.jsx(nt,{path:"/applications/:applicationId",element:a.jsx(zD,{})}),a.jsxs(nt,{element:a.jsx(Yd,{requiredRole:"recruiter"}),children:[a.jsx(nt,{path:"/create-job",element:a.jsx(PD,{})}),a.jsx(nt,{path:"/edit-job/:jobId",element:a.jsx(LD,{})})]}),a.jsx(nt,{path:"/agenda",element:a.jsx(UD,{})}),a.jsx(nt,{path:"/schedule-meeting/:candidateId",element:a.jsx(Qd,{})}),a.jsx(nt,{path:"/schedule-meeting",element:a.jsx(Qd,{})})]})}),a.jsx(nt,{path:"*",element:a.jsx(Ba,{to:"/",replace:!0})})]}),a.jsx(QD,{})]})})})}));console.log("Main.jsx initialisatie gestart");const Lj=document.getElementById("root");if(!Lj)throw new Error('Geen "root" element gevonden in de DOM. Controleer je index.html bestand.');console.log("Root element gevonden, gaat nu app renderen");const JD=bE.createRoot(Lj);JD.render(a.jsx(Pe.StrictMode,{children:a.jsx(XD,{})}));console.log("Rendering verzonden naar ReactDOM");
//# sourceMappingURL=index-CbGB8T3Y.js.map
