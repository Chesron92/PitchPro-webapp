import{d as u,r,j as e}from"./react-vendor-BJ-6AA60.js";import{query as f,collection as j,where as v,orderBy as N,getDocs as y}from"./firebase-firestore-CCnivBKz.js";import{d as w}from"./index-CVvBu09D.js";import"./firebase-app-CzzSlWfx.js";function T({user:a}){const m=u(),[k,A]=r.useState([]),[S,D]=r.useState([]),[C,z]=r.useState(!0),[p,c]=r.useState(!0),[F,E]=r.useState(0),[d,x]=r.useState([]),h=s=>{m(`/applications/${s}`)};(()=>{let s=0,t=0;const o=["displayName","email","phoneNumber"];s+=o.length,o.forEach(l=>{a[l]&&t++});const n=["street","houseNumber","postalCode","city","country"];if(s+=n.length,n.forEach(l=>{(a[l]||a.address&&typeof a.address=="object"&&a.address[l])&&t++}),a.profile){const l=["skills","availability","cv","linkedin","portfolio","experience","education"];s+=l.length,l.forEach(i=>{a.profile&&a.profile[i]&&(Array.isArray(a.profile[i])?a.profile[i].length>0&&t++:t++)})}return Math.round(t/s*100)})(),r.useEffect(()=>{(async()=>{if(a.id)try{c(!0);const t=f(j(w,"sollicitaties"),v("userId","==",a.id),N("applicationDate","desc")),o=await y(t),n=[];o.forEach(l=>{const i=l.data();n.push({id:l.id,jobId:i.jobId,jobTitle:i.jobTitle||"Onbekende functie",companyName:i.companyName||"Onbekend bedrijf",status:i.status||"pending",applicationDate:i.applicationDate})}),x(n)}catch(t){console.error("Fout bij ophalen sollicitaties:",t)}finally{c(!1)}})()},[a.id]);const g=s=>s?s.toDate().toLocaleDateString("nl-NL",{day:"numeric",month:"long",year:"numeric"}):"Onbekende datum",b=s=>{switch(s){case"pending":return{color:"blue",bg:"blue-100",text:"Nieuw"};case"reviewing":return{color:"yellow",bg:"yellow-100",text:"In behandeling"};case"interview":return{color:"green",bg:"green-100",text:"Gesprek ingepland"};case"rejected":return{color:"red",bg:"red-100",text:"Afgewezen"};case"accepted":return{color:"emerald",bg:"emerald-100",text:"Aangenomen"};default:return{color:"gray",bg:"gray-100",text:"Onbekend"}}};return e.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"p-6 bg-gradient-to-r from-primary-700 to-primary-900 text-white",children:[e.jsxs("h1",{className:"text-3xl font-bold",children:["Welkom, ",a.displayName||"Werkzoekende"]}),e.jsx("p",{className:"mt-2 text-primary-100",children:"Vind je droombaan en beheer je sollicitaties op één plek"})]}),e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Mijn profiel"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Zorg dat je profiel compleet is om je kansen op een baan te vergroten"})]}),e.jsx("a",{href:"/profile",className:"mt-4 md:mt-0 inline-block px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-md",children:"Profiel bekijken"})]})}),e.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border rounded-lg shadow-sm p-5",children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Verstuurde sollicitaties"}),e.jsx("div",{className:"space-y-3",children:p?e.jsx("div",{className:"flex justify-center py-4",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-primary-600"})}):d.length>0?e.jsx("div",{className:"space-y-3",children:d.map(s=>{const t=b(s.status);return e.jsxs("div",{className:`border-l-4 border-${t.color}-500 pl-3 py-2 hover:bg-gray-50 cursor-pointer transition-colors duration-200`,onClick:()=>h(s.id),children:[e.jsxs("p",{className:"font-medium",children:[s.jobTitle," bij ",s.companyName]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Ingediend op ",g(s.applicationDate)]}),e.jsx("span",{className:`text-xs font-medium bg-${t.bg} text-${t.color}-800 px-2 py-1 rounded-full`,children:t.text})]})]},s.id)})}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-gray-500 text-sm italic",children:"Je hebt nog geen sollicitaties verstuurd."}),e.jsx("a",{href:"/jobs",className:"block text-primary-600 hover:text-primary-800 font-medium",children:"Zoek vacatures om te solliciteren"})]})})]}),e.jsxs("div",{className:"bg-white border rounded-lg shadow-sm p-5",children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Favoriete vacatures"}),e.jsx("div",{className:"space-y-3"})]}),e.jsxs("div",{className:"bg-white border rounded-lg shadow-sm p-5 col-span-1 md:col-span-2",children:[e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsx("h3",{className:"font-semibold text-lg",children:"Mijn Agenda"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-gray-500 text-sm italic",children:"Je hebt geen geplande sollicitatiegesprekken of afspraken."}),e.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-3 rounded",children:e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("span",{className:"font-medium",children:"Info:"})," Als werkzoekende kun je alleen afspraken ontvangen van recruiters. Je kunt zelf geen afspraken plannen."]})}),e.jsx("div",{className:"hidden",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"border-l-4 border-blue-500 pl-3 py-2",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-3 text-blue-700",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Sollicitatiegesprek bij TechCorp"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Morgen, 10:00 - 11:00"})]})]})}),e.jsx("div",{className:"border-l-4 border-green-500 pl-3 py-2",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-3 text-green-700",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Telefonische screening InnovateCo"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Woensdag, 14:30 - 15:00"})]})]})})]})})]})]})]})]})})}export{T as default};
//# sourceMappingURL=JobSeekerDashboard-B_mko0Dy.js.map
