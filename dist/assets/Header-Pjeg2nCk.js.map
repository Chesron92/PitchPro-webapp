{"version":3,"file":"Header-Pjeg2nCk.js","sources":["../../src/components/common/Header.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { useMessages } from '../../contexts/MessageContext';\n\nconst Header: React.FC = () => {\n  const { currentUser, logout, userProfile } = useAuth();\n  const location = useLocation();\n  const isHomePage = location.pathname === '/' || location.pathname === '/home';\n  \n  // Veilig ophalen van ongelezen berichten\n  let unreadCount = 0;\n  try {\n    const { getUnreadCount } = useMessages();\n    if (currentUser) {\n      unreadCount = getUnreadCount();\n    }\n  } catch (error) {\n    console.error('MessageContext niet beschikbaar:', error);\n    // Fallback: geen ongelezen berichten tonen\n  }\n  \n  // Controleer of de gebruiker een recruiter is\n  const isRecruiter = userProfile?.role === 'recruiter' || userProfile?.userType === 'recruiter';\n  // Anders is het een werkzoekende of niet ingelogde gebruiker\n  const isJobSeeker = userProfile?.role === 'werkzoekende' || userProfile?.userType === 'werkzoekende';\n  \n  // Debug informatie\n  useEffect(() => {\n    console.log('Header userProfile:', userProfile);\n    console.log('isRecruiter:', isRecruiter);\n    console.log('isJobSeeker:', isJobSeeker);\n  }, [userProfile, isRecruiter, isJobSeeker]);\n\n  // Vervanging voor de inlog knop om te zorgen dat deze werkt\n  const renderAuthButtons = () => {\n    if (currentUser) {\n      return (\n        <div className=\"flex items-center space-x-4\">\n          <Link \n            to=\"/messages\" \n            className={`${isHomePage ? 'text-white' : 'text-gray-700'} hover:opacity-80 relative`}\n            aria-label=\"Berichten\"\n          >\n            <svg \n              xmlns=\"http://www.w3.org/2000/svg\" \n              className=\"h-6 w-6\" \n              fill=\"none\" \n              viewBox=\"0 0 24 24\" \n              stroke=\"currentColor\"\n            >\n              <path \n                strokeLinecap=\"round\" \n                strokeLinejoin=\"round\" \n                strokeWidth={2} \n                d=\"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z\" \n              />\n            </svg>\n            {/* Indicator voor ongelezen berichten */}\n            {unreadCount > 0 && (\n              <span className=\"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center\">\n                {unreadCount > 99 ? '99+' : unreadCount}\n              </span>\n            )}\n          </Link>\n          {/* Kalender icoon voor alle ingelogde gebruikers */}\n          <Link \n            to=\"/agenda\" \n            className={`${isHomePage ? 'text-white' : 'text-gray-700'} hover:opacity-80 relative`}\n            aria-label=\"Agenda\"\n          >\n            <svg \n              xmlns=\"http://www.w3.org/2000/svg\" \n              className=\"h-6 w-6\" \n              fill=\"none\" \n              viewBox=\"0 0 24 24\" \n              stroke=\"currentColor\"\n            >\n              <path \n                strokeLinecap=\"round\" \n                strokeLinejoin=\"round\" \n                strokeWidth={2} \n                d=\"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z\" \n              />\n            </svg>\n          </Link>\n          <Link \n            to=\"/dashboard/profile\" \n            className={`${isHomePage ? 'text-white' : 'text-gray-700'} hover:opacity-80`}\n          >\n            Profiel\n          </Link>\n          <button \n            onClick={logout} \n            className={`px-4 py-2 rounded-md text-sm font-medium ${\n              isHomePage ? 'text-white bg-primary-600 hover:bg-primary-700' : 'text-white bg-primary-600 hover:bg-primary-700'\n            }`}\n          >\n            Uitloggen\n          </button>\n        </div>\n      );\n    } else {\n      return (\n        <div className=\"flex items-center space-x-4\">\n          <Link\n            to=\"/login\"\n            className={`px-4 py-2 rounded-md text-sm font-medium ${\n              isHomePage ? 'text-white' : 'text-primary-600 hover:text-primary-700'\n            }`}\n          >\n            Inloggen\n          </Link>\n          <Link\n            to=\"/register\"\n            className={`px-4 py-2 rounded-md text-sm font-medium ${\n              isHomePage ? 'text-white bg-primary-600 hover:bg-primary-700' : 'text-white bg-primary-600 hover:bg-primary-700'\n            }`}\n          >\n            Registreren\n          </Link>\n        </div>\n      );\n    }\n  };\n\n  return (\n    <header className={`w-full ${isHomePage ? 'bg-transparent absolute top-0 z-10' : 'bg-white shadow-sm'}`}>\n      <div className=\"container mx-auto px-4 py-4\">\n        <div className=\"flex justify-between items-center\">\n          {/* Logo en merknaam */}\n          <Link to=\"/\" className=\"flex items-center\">\n            <span className={`text-2xl font-bold ${isHomePage ? 'text-white' : 'text-primary-600'}`}>PitchPro</span>\n          </Link>\n          \n          {/* Navigatiemenu gebaseerd op gebruikersrol */}\n          <nav className=\"flex space-x-6\">\n            <Link to=\"/\" className={`${isHomePage ? 'text-white' : 'text-gray-700'} hover:opacity-80`}>\n              Home\n            </Link>\n            <Link to=\"/about\" className={`${isHomePage ? 'text-white' : 'text-gray-700'} hover:opacity-80`}>\n              Over ons\n            </Link>\n            \n            {/* Vacatures alleen tonen voor werkzoekenden en niet-ingelogde gebruikers */}\n            {(!isRecruiter) && (\n              <Link to=\"/jobs\" className={`${isHomePage ? 'text-white' : 'text-gray-700'} hover:opacity-80`}>\n                Vacatures\n              </Link>\n            )}\n            \n            {/* Toon 'Kandidaten' alleen voor recruiters */}\n            {isRecruiter && (\n              <Link to=\"/candidates\" className={`${isHomePage ? 'text-white' : 'text-gray-700'} hover:opacity-80`}>\n                Kandidaten\n              </Link>\n            )}\n            \n            {/* Dashboard voor ingelogde gebruikers */}\n            {currentUser && (\n              <Link to=\"/dashboard\" className={`${isHomePage ? 'text-white' : 'text-gray-700'} hover:opacity-80`}>\n                Dashboard\n              </Link>\n            )}\n          </nav>\n          \n          {/* Login/Register of Gebruikersmenu */}\n          <div className=\"flex items-center\">\n            {renderAuthButtons()}\n          </div>\n        </div>\n      </div>\n    </header>\n  );\n};\n\nexport default Header;"],"names":["Header","currentUser","logout","userProfile","useAuth","location","useLocation","isHomePage","unreadCount","getUnreadCount","useMessages","error","isRecruiter","isJobSeeker","useEffect","renderAuthButtons","jsxs","Link","jsx"],"mappings":"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"}