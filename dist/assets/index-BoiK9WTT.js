function dj(r,e){for(var t=0;t<e.length;t++){const n=e[t];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in r)){const l=Object.getOwnPropertyDescriptor(n,a);l&&Object.defineProperty(r,a,l.get?l:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const u of l.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();function kx(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var Uf={exports:{}},Pl={},zf={exports:{}},Ze={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function hj(){if(yy)return Ze;yy=1;var r=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),u=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),_=Symbol.iterator;function w(R){return R===null||typeof R!="object"?null:(R=_&&R[_]||R["@@iterator"],typeof R=="function"?R:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,B={};function O(R,G,ae){this.props=R,this.context=G,this.refs=B,this.updater=ae||S}O.prototype.isReactComponent={},O.prototype.setState=function(R,G){if(typeof R!="object"&&typeof R!="function"&&R!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,R,G,"setState")},O.prototype.forceUpdate=function(R){this.updater.enqueueForceUpdate(this,R,"forceUpdate")};function H(){}H.prototype=O.prototype;function V(R,G,ae){this.props=R,this.context=G,this.refs=B,this.updater=ae||S}var T=V.prototype=new H;T.constructor=V,U(T,O.prototype),T.isPureReactComponent=!0;var $=Array.isArray,q=Object.prototype.hasOwnProperty,I={current:null},j={key:!0,ref:!0,__self:!0,__source:!0};function N(R,G,ae){var ge,ie={},Ne=null,xe=null;if(G!=null)for(ge in G.ref!==void 0&&(xe=G.ref),G.key!==void 0&&(Ne=""+G.key),G)q.call(G,ge)&&!j.hasOwnProperty(ge)&&(ie[ge]=G[ge]);var ke=arguments.length-2;if(ke===1)ie.children=ae;else if(1<ke){for(var Pe=Array(ke),Oe=0;Oe<ke;Oe++)Pe[Oe]=arguments[Oe+2];ie.children=Pe}if(R&&R.defaultProps)for(ge in ke=R.defaultProps,ke)ie[ge]===void 0&&(ie[ge]=ke[ge]);return{$$typeof:r,type:R,key:Ne,ref:xe,props:ie,_owner:I.current}}function k(R,G){return{$$typeof:r,type:R.type,key:G,ref:R.ref,props:R.props,_owner:R._owner}}function L(R){return typeof R=="object"&&R!==null&&R.$$typeof===r}function F(R){var G={"=":"=0",":":"=2"};return"$"+R.replace(/[=:]/g,function(ae){return G[ae]})}var D=/\/+/g;function C(R,G){return typeof R=="object"&&R!==null&&R.key!=null?F(""+R.key):G.toString(36)}function ve(R,G,ae,ge,ie){var Ne=typeof R;(Ne==="undefined"||Ne==="boolean")&&(R=null);var xe=!1;if(R===null)xe=!0;else switch(Ne){case"string":case"number":xe=!0;break;case"object":switch(R.$$typeof){case r:case e:xe=!0}}if(xe)return xe=R,ie=ie(xe),R=ge===""?"."+C(xe,0):ge,$(ie)?(ae="",R!=null&&(ae=R.replace(D,"$&/")+"/"),ve(ie,G,ae,"",function(Oe){return Oe})):ie!=null&&(L(ie)&&(ie=k(ie,ae+(!ie.key||xe&&xe.key===ie.key?"":(""+ie.key).replace(D,"$&/")+"/")+R)),G.push(ie)),1;if(xe=0,ge=ge===""?".":ge+":",$(R))for(var ke=0;ke<R.length;ke++){Ne=R[ke];var Pe=ge+C(Ne,ke);xe+=ve(Ne,G,ae,Pe,ie)}else if(Pe=w(R),typeof Pe=="function")for(R=Pe.call(R),ke=0;!(Ne=R.next()).done;)Ne=Ne.value,Pe=ge+C(Ne,ke++),xe+=ve(Ne,G,ae,Pe,ie);else if(Ne==="object")throw G=String(R),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(R).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.");return xe}function Le(R,G,ae){if(R==null)return R;var ge=[],ie=0;return ve(R,ge,"","",function(Ne){return G.call(ae,Ne,ie++)}),ge}function Ve(R){if(R._status===-1){var G=R._result;G=G(),G.then(function(ae){(R._status===0||R._status===-1)&&(R._status=1,R._result=ae)},function(ae){(R._status===0||R._status===-1)&&(R._status=2,R._result=ae)}),R._status===-1&&(R._status=0,R._result=G)}if(R._status===1)return R._result.default;throw R._result}var _e={current:null},ne={transition:null},ee={ReactCurrentDispatcher:_e,ReactCurrentBatchConfig:ne,ReactCurrentOwner:I};return Ze.Children={map:Le,forEach:function(R,G,ae){Le(R,function(){G.apply(this,arguments)},ae)},count:function(R){var G=0;return Le(R,function(){G++}),G},toArray:function(R){return Le(R,function(G){return G})||[]},only:function(R){if(!L(R))throw Error("React.Children.only expected to receive a single React element child.");return R}},Ze.Component=O,Ze.Fragment=t,Ze.Profiler=a,Ze.PureComponent=V,Ze.StrictMode=n,Ze.Suspense=m,Ze.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,Ze.cloneElement=function(R,G,ae){if(R==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+R+".");var ge=U({},R.props),ie=R.key,Ne=R.ref,xe=R._owner;if(G!=null){if(G.ref!==void 0&&(Ne=G.ref,xe=I.current),G.key!==void 0&&(ie=""+G.key),R.type&&R.type.defaultProps)var ke=R.type.defaultProps;for(Pe in G)q.call(G,Pe)&&!j.hasOwnProperty(Pe)&&(ge[Pe]=G[Pe]===void 0&&ke!==void 0?ke[Pe]:G[Pe])}var Pe=arguments.length-2;if(Pe===1)ge.children=ae;else if(1<Pe){ke=Array(Pe);for(var Oe=0;Oe<Pe;Oe++)ke[Oe]=arguments[Oe+2];ge.children=ke}return{$$typeof:r,type:R.type,key:ie,ref:Ne,props:ge,_owner:xe}},Ze.createContext=function(R){return R={$$typeof:u,_currentValue:R,_currentValue2:R,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},R.Provider={$$typeof:l,_context:R},R.Consumer=R},Ze.createElement=N,Ze.createFactory=function(R){var G=N.bind(null,R);return G.type=R,G},Ze.createRef=function(){return{current:null}},Ze.forwardRef=function(R){return{$$typeof:f,render:R}},Ze.isValidElement=L,Ze.lazy=function(R){return{$$typeof:x,_payload:{_status:-1,_result:R},_init:Ve}},Ze.memo=function(R,G){return{$$typeof:g,type:R,compare:G===void 0?null:G}},Ze.startTransition=function(R){var G=ne.transition;ne.transition={};try{R()}finally{ne.transition=G}},Ze.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Ze.useCallback=function(R,G){return _e.current.useCallback(R,G)},Ze.useContext=function(R){return _e.current.useContext(R)},Ze.useDebugValue=function(){},Ze.useDeferredValue=function(R){return _e.current.useDeferredValue(R)},Ze.useEffect=function(R,G){return _e.current.useEffect(R,G)},Ze.useId=function(){return _e.current.useId()},Ze.useImperativeHandle=function(R,G,ae){return _e.current.useImperativeHandle(R,G,ae)},Ze.useInsertionEffect=function(R,G){return _e.current.useInsertionEffect(R,G)},Ze.useLayoutEffect=function(R,G){return _e.current.useLayoutEffect(R,G)},Ze.useMemo=function(R,G){return _e.current.useMemo(R,G)},Ze.useReducer=function(R,G,ae){return _e.current.useReducer(R,G,ae)},Ze.useRef=function(R){return _e.current.useRef(R)},Ze.useState=function(R){return _e.current.useState(R)},Ze.useSyncExternalStore=function(R,G,ae){return _e.current.useSyncExternalStore(R,G,ae)},Ze.useTransition=function(){return _e.current.useTransition()},Ze.version="18.2.0",Ze}var vy;function Km(){return vy||(vy=1,zf.exports=hj()),zf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xy;function fj(){if(xy)return Pl;xy=1;var r=Km(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function u(f,m,g){var x,_={},w=null,S=null;g!==void 0&&(w=""+g),m.key!==void 0&&(w=""+m.key),m.ref!==void 0&&(S=m.ref);for(x in m)n.call(m,x)&&!l.hasOwnProperty(x)&&(_[x]=m[x]);if(f&&f.defaultProps)for(x in m=f.defaultProps,m)_[x]===void 0&&(_[x]=m[x]);return{$$typeof:e,type:f,key:w,ref:S,props:_,_owner:a.current}}return Pl.Fragment=t,Pl.jsx=u,Pl.jsxs=u,Pl}var by;function mj(){return by||(by=1,Uf.exports=fj()),Uf.exports}var i=mj(),z=Km();const Ue=kx(z),pj=dj({__proto__:null,default:Ue},[z]);var Fu={},Bf={exports:{}},zr={},$f={exports:{}},Hf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy;function gj(){return wy||(wy=1,function(r){function e(ne,ee){var R=ne.length;ne.push(ee);e:for(;0<R;){var G=R-1>>>1,ae=ne[G];if(0<a(ae,ee))ne[G]=ee,ne[R]=ae,R=G;else break e}}function t(ne){return ne.length===0?null:ne[0]}function n(ne){if(ne.length===0)return null;var ee=ne[0],R=ne.pop();if(R!==ee){ne[0]=R;e:for(var G=0,ae=ne.length,ge=ae>>>1;G<ge;){var ie=2*(G+1)-1,Ne=ne[ie],xe=ie+1,ke=ne[xe];if(0>a(Ne,R))xe<ae&&0>a(ke,Ne)?(ne[G]=ke,ne[xe]=R,G=xe):(ne[G]=Ne,ne[ie]=R,G=ie);else if(xe<ae&&0>a(ke,R))ne[G]=ke,ne[xe]=R,G=xe;else break e}}return ee}function a(ne,ee){var R=ne.sortIndex-ee.sortIndex;return R!==0?R:ne.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var u=Date,f=u.now();r.unstable_now=function(){return u.now()-f}}var m=[],g=[],x=1,_=null,w=3,S=!1,U=!1,B=!1,O=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function T(ne){for(var ee=t(g);ee!==null;){if(ee.callback===null)n(g);else if(ee.startTime<=ne)n(g),ee.sortIndex=ee.expirationTime,e(m,ee);else break;ee=t(g)}}function $(ne){if(B=!1,T(ne),!U)if(t(m)!==null)U=!0,Ve(q);else{var ee=t(g);ee!==null&&_e($,ee.startTime-ne)}}function q(ne,ee){U=!1,B&&(B=!1,H(N),N=-1),S=!0;var R=w;try{for(T(ee),_=t(m);_!==null&&(!(_.expirationTime>ee)||ne&&!F());){var G=_.callback;if(typeof G=="function"){_.callback=null,w=_.priorityLevel;var ae=G(_.expirationTime<=ee);ee=r.unstable_now(),typeof ae=="function"?_.callback=ae:_===t(m)&&n(m),T(ee)}else n(m);_=t(m)}if(_!==null)var ge=!0;else{var ie=t(g);ie!==null&&_e($,ie.startTime-ee),ge=!1}return ge}finally{_=null,w=R,S=!1}}var I=!1,j=null,N=-1,k=5,L=-1;function F(){return!(r.unstable_now()-L<k)}function D(){if(j!==null){var ne=r.unstable_now();L=ne;var ee=!0;try{ee=j(!0,ne)}finally{ee?C():(I=!1,j=null)}}else I=!1}var C;if(typeof V=="function")C=function(){V(D)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,Le=ve.port2;ve.port1.onmessage=D,C=function(){Le.postMessage(null)}}else C=function(){O(D,0)};function Ve(ne){j=ne,I||(I=!0,C())}function _e(ne,ee){N=O(function(){ne(r.unstable_now())},ee)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(ne){ne.callback=null},r.unstable_continueExecution=function(){U||S||(U=!0,Ve(q))},r.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<ne?Math.floor(1e3/ne):5},r.unstable_getCurrentPriorityLevel=function(){return w},r.unstable_getFirstCallbackNode=function(){return t(m)},r.unstable_next=function(ne){switch(w){case 1:case 2:case 3:var ee=3;break;default:ee=w}var R=w;w=ee;try{return ne()}finally{w=R}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(ne,ee){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var R=w;w=ne;try{return ee()}finally{w=R}},r.unstable_scheduleCallback=function(ne,ee,R){var G=r.unstable_now();switch(typeof R=="object"&&R!==null?(R=R.delay,R=typeof R=="number"&&0<R?G+R:G):R=G,ne){case 1:var ae=-1;break;case 2:ae=250;break;case 5:ae=1073741823;break;case 4:ae=1e4;break;default:ae=5e3}return ae=R+ae,ne={id:x++,callback:ee,priorityLevel:ne,startTime:R,expirationTime:ae,sortIndex:-1},R>G?(ne.sortIndex=R,e(g,ne),t(m)===null&&ne===t(g)&&(B?(H(N),N=-1):B=!0,_e($,R-G))):(ne.sortIndex=ae,e(m,ne),U||S||(U=!0,Ve(q))),ne},r.unstable_shouldYield=F,r.unstable_wrapCallback=function(ne){var ee=w;return function(){var R=w;w=ee;try{return ne.apply(this,arguments)}finally{w=R}}}}(Hf)),Hf}var _y;function yj(){return _y||(_y=1,$f.exports=gj()),$f.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jy;function vj(){if(jy)return zr;jy=1;var r=Km(),e=yj();function t(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)o+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,a={};function l(s,o){u(s,o),u(s+"Capture",o)}function u(s,o){for(a[s]=o,s=0;s<o.length;s++)n.add(o[s])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,g=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,x={},_={};function w(s){return m.call(_,s)?!0:m.call(x,s)?!1:g.test(s)?_[s]=!0:(x[s]=!0,!1)}function S(s,o,c,h){if(c!==null&&c.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function U(s,o,c,h){if(o===null||typeof o>"u"||S(s,o,c,h))return!0;if(h)return!1;if(c!==null)switch(c.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function B(s,o,c,h,p,v,E){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=p,this.mustUseProperty=c,this.propertyName=s,this.type=o,this.sanitizeURL=v,this.removeEmptyString=E}var O={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){O[s]=new B(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];O[o]=new B(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){O[s]=new B(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){O[s]=new B(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){O[s]=new B(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){O[s]=new B(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){O[s]=new B(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){O[s]=new B(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){O[s]=new B(s,5,!1,s.toLowerCase(),null,!1,!1)});var H=/[\-:]([a-z])/g;function V(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(H,V);O[o]=new B(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(H,V);O[o]=new B(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(H,V);O[o]=new B(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){O[s]=new B(s,1,!1,s.toLowerCase(),null,!1,!1)}),O.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){O[s]=new B(s,1,!1,s.toLowerCase(),null,!0,!0)});function T(s,o,c,h){var p=O.hasOwnProperty(o)?O[o]:null;(p!==null?p.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(U(o,c,p,h)&&(c=null),h||p===null?w(o)&&(c===null?s.removeAttribute(o):s.setAttribute(o,""+c)):p.mustUseProperty?s[p.propertyName]=c===null?p.type===3?!1:"":c:(o=p.attributeName,h=p.attributeNamespace,c===null?s.removeAttribute(o):(p=p.type,c=p===3||p===4&&c===!0?"":""+c,h?s.setAttributeNS(h,o,c):s.setAttribute(o,c))))}var $=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),I=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),L=Symbol.for("react.provider"),F=Symbol.for("react.context"),D=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),Le=Symbol.for("react.memo"),Ve=Symbol.for("react.lazy"),_e=Symbol.for("react.offscreen"),ne=Symbol.iterator;function ee(s){return s===null||typeof s!="object"?null:(s=ne&&s[ne]||s["@@iterator"],typeof s=="function"?s:null)}var R=Object.assign,G;function ae(s){if(G===void 0)try{throw Error()}catch(c){var o=c.stack.trim().match(/\n( *(at )?)/);G=o&&o[1]||""}return`
`+G+s}var ge=!1;function ie(s,o){if(!s||ge)return"";ge=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Z){var h=Z}Reflect.construct(s,[],o)}else{try{o.call()}catch(Z){h=Z}s.call(o.prototype)}else{try{throw Error()}catch(Z){h=Z}s()}}catch(Z){if(Z&&h&&typeof Z.stack=="string"){for(var p=Z.stack.split(`
`),v=h.stack.split(`
`),E=p.length-1,M=v.length-1;1<=E&&0<=M&&p[E]!==v[M];)M--;for(;1<=E&&0<=M;E--,M--)if(p[E]!==v[M]){if(E!==1||M!==1)do if(E--,M--,0>M||p[E]!==v[M]){var W=`
`+p[E].replace(" at new "," at ");return s.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",s.displayName)),W}while(1<=E&&0<=M);break}}}finally{ge=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?ae(s):""}function Ne(s){switch(s.tag){case 5:return ae(s.type);case 16:return ae("Lazy");case 13:return ae("Suspense");case 19:return ae("SuspenseList");case 0:case 2:case 15:return s=ie(s.type,!1),s;case 11:return s=ie(s.type.render,!1),s;case 1:return s=ie(s.type,!0),s;default:return""}}function xe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case j:return"Fragment";case I:return"Portal";case k:return"Profiler";case N:return"StrictMode";case C:return"Suspense";case ve:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case F:return(s.displayName||"Context")+".Consumer";case L:return(s._context.displayName||"Context")+".Provider";case D:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Le:return o=s.displayName||null,o!==null?o:xe(s.type)||"Memo";case Ve:o=s._payload,s=s._init;try{return xe(s(o))}catch{}}return null}function ke(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(o);case 8:return o===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Pe(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Oe(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Vt(s){var o=Oe(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var p=c.get,v=c.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return p.call(this)},set:function(E){h=""+E,v.call(this,E)}}),Object.defineProperty(s,o,{enumerable:c.enumerable}),{getValue:function(){return h},setValue:function(E){h=""+E},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function vt(s){s._valueTracker||(s._valueTracker=Vt(s))}function Mt(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var c=o.getValue(),h="";return s&&(h=Oe(s)?s.checked?"true":"false":s.value),s=h,s!==c?(o.setValue(s),!0):!1}function jt(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function We(s,o){var c=o.checked;return R({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function de(s,o){var c=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;c=Pe(o.value!=null?o.value:c),s._wrapperState={initialChecked:h,initialValue:c,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function et(s,o){o=o.checked,o!=null&&T(s,"checked",o,!1)}function be(s,o){et(s,o);var c=Pe(o.value),h=o.type;if(c!=null)h==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?Xe(s,o.type,c):o.hasOwnProperty("defaultValue")&&Xe(s,o.type,Pe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function ht(s,o,c){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,c||o===s.value||(s.value=o),s.defaultValue=o}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function Xe(s,o,c){(o!=="number"||jt(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var Fe=Array.isArray;function ce(s,o,c,h){if(s=s.options,o){o={};for(var p=0;p<c.length;p++)o["$"+c[p]]=!0;for(c=0;c<s.length;c++)p=o.hasOwnProperty("$"+s[c].value),s[c].selected!==p&&(s[c].selected=p),p&&h&&(s[c].defaultSelected=!0)}else{for(c=""+Pe(c),o=null,p=0;p<s.length;p++){if(s[p].value===c){s[p].selected=!0,h&&(s[p].defaultSelected=!0);return}o!==null||s[p].disabled||(o=s[p])}o!==null&&(o.selected=!0)}}function P(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return R({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function J(s,o){var c=o.value;if(c==null){if(c=o.children,o=o.defaultValue,c!=null){if(o!=null)throw Error(t(92));if(Fe(c)){if(1<c.length)throw Error(t(93));c=c[0]}o=c}o==null&&(o=""),c=o}s._wrapperState={initialValue:Pe(c)}}function te(s,o){var c=Pe(o.value),h=Pe(o.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),o.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),h!=null&&(s.defaultValue=""+h)}function ye(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function le(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?le(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var Ee,Ke=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,c,h,p){MSApp.execUnsafeLocalFunction(function(){return s(o,c,h,p)})}:s}(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(Ee=Ee||document.createElement("div"),Ee.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Ee.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function nt(s,o){if(o){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=o;return}}s.textContent=o}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ps=["Webkit","ms","Moz","O"];Object.keys(ft).forEach(function(s){ps.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),ft[o]=ft[s]})});function gs(s,o,c){return o==null||typeof o=="boolean"||o===""?"":c||typeof o!="number"||o===0||ft.hasOwnProperty(s)&&ft[s]?(""+o).trim():o+"px"}function ys(s,o){s=s.style;for(var c in o)if(o.hasOwnProperty(c)){var h=c.indexOf("--")===0,p=gs(c,o[c],h);c==="float"&&(c="cssFloat"),h?s.setProperty(c,p):s[c]=p}}var Li=R({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function qs(s,o){if(o){if(Li[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Fi(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Hn=null;function Po(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Do=null,an=null,Wn=null;function Vo(s){if(s=vl(s)){if(typeof Do!="function")throw Error(t(280));var o=s.stateNode;o&&(o=Zc(o),Do(s.stateNode,s.type,o))}}function qn(s){an?Wn?Wn.push(s):Wn=[s]:an=s}function Qa(){if(an){var s=an,o=Wn;if(Wn=an=null,Vo(s),o)for(s=0;s<o.length;s++)Vo(o[s])}}function Mi(s,o){return s(o)}function Ja(){}var vs=!1;function Ya(s,o,c){if(vs)return s(o,c);vs=!0;try{return Mi(s,o,c)}finally{vs=!1,(an!==null||Wn!==null)&&(Ja(),Qa())}}function Ut(s,o){var c=s.stateNode;if(c===null)return null;var h=Zc(c);if(h===null)return null;c=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,o,typeof c));return c}var Oo=!1;if(f)try{var Nn={};Object.defineProperty(Nn,"passive",{get:function(){Oo=!0}}),window.addEventListener("test",Nn,Nn),window.removeEventListener("test",Nn,Nn)}catch{Oo=!1}function Ui(s,o,c,h,p,v,E,M,W){var Z=Array.prototype.slice.call(arguments,3);try{o.apply(c,Z)}catch(he){this.onError(he)}}var zi=!1,Lo=null,En=!1,Xa=null,fh={onError:function(s){zi=!0,Lo=s}};function Fo(s,o,c,h,p,v,E,M,W){zi=!1,Lo=null,Ui.apply(fh,arguments)}function Nc(s,o,c,h,p,v,E,M,W){if(Fo.apply(this,arguments),zi){if(zi){var Z=Lo;zi=!1,Lo=null}else throw Error(t(198));En||(En=!0,Xa=Z)}}function kn(s){var o=s,c=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(c=o.return),s=o.return;while(s)}return o.tag===3?c:null}function Bi(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Tn(s){if(kn(s)!==s)throw Error(t(188))}function Ec(s){var o=s.alternate;if(!o){if(o=kn(s),o===null)throw Error(t(188));return o!==s?null:s}for(var c=s,h=o;;){var p=c.return;if(p===null)break;var v=p.alternate;if(v===null){if(h=p.return,h!==null){c=h;continue}break}if(p.child===v.child){for(v=p.child;v;){if(v===c)return Tn(p),s;if(v===h)return Tn(p),o;v=v.sibling}throw Error(t(188))}if(c.return!==h.return)c=p,h=v;else{for(var E=!1,M=p.child;M;){if(M===c){E=!0,c=p,h=v;break}if(M===h){E=!0,h=p,c=v;break}M=M.sibling}if(!E){for(M=v.child;M;){if(M===c){E=!0,c=v,h=p;break}if(M===h){E=!0,h=v,c=p;break}M=M.sibling}if(!E)throw Error(t(189))}}if(c.alternate!==h)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:o}function Za(s){return s=Ec(s),s!==null?Mo(s):null}function Mo(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=Mo(s);if(o!==null)return o;s=s.sibling}return null}var Uo=e.unstable_scheduleCallback,el=e.unstable_cancelCallback,kc=e.unstable_shouldYield,mh=e.unstable_requestPaint,xt=e.unstable_now,Tc=e.unstable_getCurrentPriorityLevel,$i=e.unstable_ImmediatePriority,Gs=e.unstable_UserBlockingPriority,ln=e.unstable_NormalPriority,tl=e.unstable_LowPriority,Ic=e.unstable_IdlePriority,Hi=null,Qr=null;function Sc(s){if(Qr&&typeof Qr.onCommitFiberRoot=="function")try{Qr.onCommitFiberRoot(Hi,s,void 0,(s.current.flags&128)===128)}catch{}}var Tr=Math.clz32?Math.clz32:Cc,rl=Math.log,Ac=Math.LN2;function Cc(s){return s>>>=0,s===0?32:31-(rl(s)/Ac|0)|0}var zo=64,Bo=4194304;function Ks(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Wi(s,o){var c=s.pendingLanes;if(c===0)return 0;var h=0,p=s.suspendedLanes,v=s.pingedLanes,E=c&268435455;if(E!==0){var M=E&~p;M!==0?h=Ks(M):(v&=E,v!==0&&(h=Ks(v)))}else E=c&~p,E!==0?h=Ks(E):v!==0&&(h=Ks(v));if(h===0)return 0;if(o!==0&&o!==h&&(o&p)===0&&(p=h&-h,v=o&-o,p>=v||p===16&&(v&4194240)!==0))return o;if((h&4)!==0&&(h|=c&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)c=31-Tr(o),p=1<<c,h|=s[c],o&=~p;return h}function ph(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xs(s,o){for(var c=s.suspendedLanes,h=s.pingedLanes,p=s.expirationTimes,v=s.pendingLanes;0<v;){var E=31-Tr(v),M=1<<E,W=p[E];W===-1?((M&c)===0||(M&h)!==0)&&(p[E]=ph(M,o)):W<=o&&(s.expiredLanes|=M),v&=~M}}function Jr(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function qi(){var s=zo;return zo<<=1,(zo&4194240)===0&&(zo=64),s}function Qs(s){for(var o=[],c=0;31>c;c++)o.push(s);return o}function Js(s,o,c){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-Tr(o),s[o]=c}function yt(s,o){var c=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<c;){var p=31-Tr(c),v=1<<p;o[p]=0,h[p]=-1,s[p]=-1,c&=~v}}function Ys(s,o){var c=s.entangledLanes|=o;for(s=s.entanglements;c;){var h=31-Tr(c),p=1<<h;p&o|s[h]&o&&(s[h]|=o),c&=~p}}var st=0;function Xs(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Rc,$o,Pc,Dc,Vc,nl=!1,Gn=[],ar=null,In=null,Sn=null,Zs=new Map,cn=new Map,Kn=[],gh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Oc(s,o){switch(s){case"focusin":case"focusout":ar=null;break;case"dragenter":case"dragleave":In=null;break;case"mouseover":case"mouseout":Sn=null;break;case"pointerover":case"pointerout":Zs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":cn.delete(o.pointerId)}}function Dr(s,o,c,h,p,v){return s===null||s.nativeEvent!==v?(s={blockedOn:o,domEventName:c,eventSystemFlags:h,nativeEvent:v,targetContainers:[p]},o!==null&&(o=vl(o),o!==null&&$o(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,p!==null&&o.indexOf(p)===-1&&o.push(p),s)}function yh(s,o,c,h,p){switch(o){case"focusin":return ar=Dr(ar,s,o,c,h,p),!0;case"dragenter":return In=Dr(In,s,o,c,h,p),!0;case"mouseover":return Sn=Dr(Sn,s,o,c,h,p),!0;case"pointerover":var v=p.pointerId;return Zs.set(v,Dr(Zs.get(v)||null,s,o,c,h,p)),!0;case"gotpointercapture":return v=p.pointerId,cn.set(v,Dr(cn.get(v)||null,s,o,c,h,p)),!0}return!1}function Lc(s){var o=Yi(s.target);if(o!==null){var c=kn(o);if(c!==null){if(o=c.tag,o===13){if(o=Bi(c),o!==null){s.blockedOn=o,Vc(s.priority,function(){Pc(c)});return}}else if(o===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function bs(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var c=Ho(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);Hn=h,c.target.dispatchEvent(h),Hn=null}else return o=vl(c),o!==null&&$o(o),s.blockedOn=c,!1;o.shift()}return!0}function Gi(s,o,c){bs(s)&&c.delete(o)}function Fc(){nl=!1,ar!==null&&bs(ar)&&(ar=null),In!==null&&bs(In)&&(In=null),Sn!==null&&bs(Sn)&&(Sn=null),Zs.forEach(Gi),cn.forEach(Gi)}function An(s,o){s.blockedOn===o&&(s.blockedOn=null,nl||(nl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Fc)))}function Cn(s){function o(p){return An(p,s)}if(0<Gn.length){An(Gn[0],s);for(var c=1;c<Gn.length;c++){var h=Gn[c];h.blockedOn===s&&(h.blockedOn=null)}}for(ar!==null&&An(ar,s),In!==null&&An(In,s),Sn!==null&&An(Sn,s),Zs.forEach(o),cn.forEach(o),c=0;c<Kn.length;c++)h=Kn[c],h.blockedOn===s&&(h.blockedOn=null);for(;0<Kn.length&&(c=Kn[0],c.blockedOn===null);)Lc(c),c.blockedOn===null&&Kn.shift()}var ws=$.ReactCurrentBatchConfig,ei=!0;function It(s,o,c,h){var p=st,v=ws.transition;ws.transition=null;try{st=1,sl(s,o,c,h)}finally{st=p,ws.transition=v}}function vh(s,o,c,h){var p=st,v=ws.transition;ws.transition=null;try{st=4,sl(s,o,c,h)}finally{st=p,ws.transition=v}}function sl(s,o,c,h){if(ei){var p=Ho(s,o,c,h);if(p===null)Sh(s,o,h,Ki,c),Oc(s,h);else if(yh(p,s,o,c,h))h.stopPropagation();else if(Oc(s,h),o&4&&-1<gh.indexOf(s)){for(;p!==null;){var v=vl(p);if(v!==null&&Rc(v),v=Ho(s,o,c,h),v===null&&Sh(s,o,h,Ki,c),v===p)break;p=v}p!==null&&h.stopPropagation()}else Sh(s,o,h,null,c)}}var Ki=null;function Ho(s,o,c,h){if(Ki=null,s=Po(h),s=Yi(s),s!==null)if(o=kn(s),o===null)s=null;else if(c=o.tag,c===13){if(s=Bi(o),s!==null)return s;s=null}else if(c===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return Ki=s,null}function il(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tc()){case $i:return 1;case Gs:return 4;case ln:case tl:return 16;case Ic:return 536870912;default:return 16}default:return 16}}var Yr=null,Wo=null,Vr=null;function ol(){if(Vr)return Vr;var s,o=Wo,c=o.length,h,p="value"in Yr?Yr.value:Yr.textContent,v=p.length;for(s=0;s<c&&o[s]===p[s];s++);var E=c-s;for(h=1;h<=E&&o[c-h]===p[v-h];h++);return Vr=p.slice(s,1<h?1-h:void 0)}function qo(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function Qn(){return!0}function al(){return!1}function lr(s){function o(c,h,p,v,E){this._reactName=c,this._targetInst=p,this.type=h,this.nativeEvent=v,this.target=E,this.currentTarget=null;for(var M in s)s.hasOwnProperty(M)&&(c=s[M],this[M]=c?c(v):v[M]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Qn:al,this.isPropagationStopped=al,this}return R(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Qn)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Qn)},persist:function(){},isPersistent:Qn}),o}var Rn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Go=lr(Rn),Jn=R({},Rn,{view:0,detail:0}),xh=lr(Jn),Ko,_s,ti,Qi=R({},Jn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yn,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==ti&&(ti&&s.type==="mousemove"?(Ko=s.screenX-ti.screenX,_s=s.screenY-ti.screenY):_s=Ko=0,ti=s),Ko)},movementY:function(s){return"movementY"in s?s.movementY:_s}}),Qo=lr(Qi),ll=R({},Qi,{dataTransfer:0}),Mc=lr(ll),Jo=R({},Jn,{relatedTarget:0}),Yo=lr(Jo),Uc=R({},Rn,{animationName:0,elapsedTime:0,pseudoElement:0}),js=lr(Uc),zc=R({},Rn,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Bc=lr(zc),$c=R({},Rn,{data:0}),cl=lr($c),Xo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ir={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wc(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Hc[s])?!!o[s]:!1}function Yn(){return Wc}var d=R({},Jn,{key:function(s){if(s.key){var o=Xo[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=qo(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Ir[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yn,charCode:function(s){return s.type==="keypress"?qo(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?qo(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),y=lr(d),b=R({},Qi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),A=lr(b),Q=R({},Jn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yn}),re=lr(Q),we=R({},Rn,{propertyName:0,elapsedTime:0,pseudoElement:0}),mt=lr(we),Xt=R({},Qi,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),ot=lr(Xt),rr=[9,13,27,32],Wt=f&&"CompositionEvent"in window,un=null;f&&"documentMode"in document&&(un=document.documentMode);var Xr=f&&"TextEvent"in window&&!un,Ji=f&&(!Wt||un&&8<un&&11>=un),Zo=" ",ug=!1;function dg(s,o){switch(s){case"keyup":return rr.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function hg(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ea=!1;function l_(s,o){switch(s){case"compositionend":return hg(o);case"keypress":return o.which!==32?null:(ug=!0,Zo);case"textInput":return s=o.data,s===Zo&&ug?null:s;default:return null}}function c_(s,o){if(ea)return s==="compositionend"||!Wt&&dg(s,o)?(s=ol(),Vr=Wo=Yr=null,ea=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Ji&&o.locale!=="ko"?null:o.data;default:return null}}var u_={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function fg(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!u_[s.type]:o==="textarea"}function mg(s,o,c,h){qn(h),o=Jc(o,"onChange"),0<o.length&&(c=new Go("onChange","change",null,c,h),s.push({event:c,listeners:o}))}var ul=null,dl=null;function d_(s){Rg(s,0)}function qc(s){var o=ia(s);if(Mt(o))return s}function h_(s,o){if(s==="change")return o}var pg=!1;if(f){var bh;if(f){var wh="oninput"in document;if(!wh){var gg=document.createElement("div");gg.setAttribute("oninput","return;"),wh=typeof gg.oninput=="function"}bh=wh}else bh=!1;pg=bh&&(!document.documentMode||9<document.documentMode)}function yg(){ul&&(ul.detachEvent("onpropertychange",vg),dl=ul=null)}function vg(s){if(s.propertyName==="value"&&qc(dl)){var o=[];mg(o,dl,s,Po(s)),Ya(d_,o)}}function f_(s,o,c){s==="focusin"?(yg(),ul=o,dl=c,ul.attachEvent("onpropertychange",vg)):s==="focusout"&&yg()}function m_(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return qc(dl)}function p_(s,o){if(s==="click")return qc(o)}function g_(s,o){if(s==="input"||s==="change")return qc(o)}function y_(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var Pn=typeof Object.is=="function"?Object.is:y_;function hl(s,o){if(Pn(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var c=Object.keys(s),h=Object.keys(o);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var p=c[h];if(!m.call(o,p)||!Pn(s[p],o[p]))return!1}return!0}function xg(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function bg(s,o){var c=xg(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=o&&h>=o)return{node:c,offset:o-s};s=h}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=xg(c)}}function wg(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?wg(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function _g(){for(var s=window,o=jt();o instanceof s.HTMLIFrameElement;){try{var c=typeof o.contentWindow.location.href=="string"}catch{c=!1}if(c)s=o.contentWindow;else break;o=jt(s.document)}return o}function _h(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function v_(s){var o=_g(),c=s.focusedElem,h=s.selectionRange;if(o!==c&&c&&c.ownerDocument&&wg(c.ownerDocument.documentElement,c)){if(h!==null&&_h(c)){if(o=h.start,s=h.end,s===void 0&&(s=o),"selectionStart"in c)c.selectionStart=o,c.selectionEnd=Math.min(s,c.value.length);else if(s=(o=c.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var p=c.textContent.length,v=Math.min(h.start,p);h=h.end===void 0?v:Math.min(h.end,p),!s.extend&&v>h&&(p=h,h=v,v=p),p=bg(c,v);var E=bg(c,h);p&&E&&(s.rangeCount!==1||s.anchorNode!==p.node||s.anchorOffset!==p.offset||s.focusNode!==E.node||s.focusOffset!==E.offset)&&(o=o.createRange(),o.setStart(p.node,p.offset),s.removeAllRanges(),v>h?(s.addRange(o),s.extend(E.node,E.offset)):(o.setEnd(E.node,E.offset),s.addRange(o)))}}for(o=[],s=c;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<o.length;c++)s=o[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var x_=f&&"documentMode"in document&&11>=document.documentMode,ta=null,jh=null,fl=null,Nh=!1;function jg(s,o,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Nh||ta==null||ta!==jt(h)||(h=ta,"selectionStart"in h&&_h(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),fl&&hl(fl,h)||(fl=h,h=Jc(jh,"onSelect"),0<h.length&&(o=new Go("onSelect","select",null,o,c),s.push({event:o,listeners:h}),o.target=ta)))}function Gc(s,o){var c={};return c[s.toLowerCase()]=o.toLowerCase(),c["Webkit"+s]="webkit"+o,c["Moz"+s]="moz"+o,c}var ra={animationend:Gc("Animation","AnimationEnd"),animationiteration:Gc("Animation","AnimationIteration"),animationstart:Gc("Animation","AnimationStart"),transitionend:Gc("Transition","TransitionEnd")},Eh={},Ng={};f&&(Ng=document.createElement("div").style,"AnimationEvent"in window||(delete ra.animationend.animation,delete ra.animationiteration.animation,delete ra.animationstart.animation),"TransitionEvent"in window||delete ra.transitionend.transition);function Kc(s){if(Eh[s])return Eh[s];if(!ra[s])return s;var o=ra[s],c;for(c in o)if(o.hasOwnProperty(c)&&c in Ng)return Eh[s]=o[c];return s}var Eg=Kc("animationend"),kg=Kc("animationiteration"),Tg=Kc("animationstart"),Ig=Kc("transitionend"),Sg=new Map,Ag="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ri(s,o){Sg.set(s,o),l(o,[s])}for(var kh=0;kh<Ag.length;kh++){var Th=Ag[kh],b_=Th.toLowerCase(),w_=Th[0].toUpperCase()+Th.slice(1);ri(b_,"on"+w_)}ri(Eg,"onAnimationEnd"),ri(kg,"onAnimationIteration"),ri(Tg,"onAnimationStart"),ri("dblclick","onDoubleClick"),ri("focusin","onFocus"),ri("focusout","onBlur"),ri(Ig,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ml="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),__=new Set("cancel close invalid load scroll toggle".split(" ").concat(ml));function Cg(s,o,c){var h=s.type||"unknown-event";s.currentTarget=c,Nc(h,o,void 0,s),s.currentTarget=null}function Rg(s,o){o=(o&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],p=h.event;h=h.listeners;e:{var v=void 0;if(o)for(var E=h.length-1;0<=E;E--){var M=h[E],W=M.instance,Z=M.currentTarget;if(M=M.listener,W!==v&&p.isPropagationStopped())break e;Cg(p,M,Z),v=W}else for(E=0;E<h.length;E++){if(M=h[E],W=M.instance,Z=M.currentTarget,M=M.listener,W!==v&&p.isPropagationStopped())break e;Cg(p,M,Z),v=W}}}if(En)throw s=Xa,En=!1,Xa=null,s}function Nt(s,o){var c=o[Vh];c===void 0&&(c=o[Vh]=new Set);var h=s+"__bubble";c.has(h)||(Pg(o,s,2,!1),c.add(h))}function Ih(s,o,c){var h=0;o&&(h|=4),Pg(c,s,h,o)}var Qc="_reactListening"+Math.random().toString(36).slice(2);function pl(s){if(!s[Qc]){s[Qc]=!0,n.forEach(function(c){c!=="selectionchange"&&(__.has(c)||Ih(c,!1,s),Ih(c,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[Qc]||(o[Qc]=!0,Ih("selectionchange",!1,o))}}function Pg(s,o,c,h){switch(il(o)){case 1:var p=It;break;case 4:p=vh;break;default:p=sl}c=p.bind(null,o,c,s),p=void 0,!Oo||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(p=!0),h?p!==void 0?s.addEventListener(o,c,{capture:!0,passive:p}):s.addEventListener(o,c,!0):p!==void 0?s.addEventListener(o,c,{passive:p}):s.addEventListener(o,c,!1)}function Sh(s,o,c,h,p){var v=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var M=h.stateNode.containerInfo;if(M===p||M.nodeType===8&&M.parentNode===p)break;if(E===4)for(E=h.return;E!==null;){var W=E.tag;if((W===3||W===4)&&(W=E.stateNode.containerInfo,W===p||W.nodeType===8&&W.parentNode===p))return;E=E.return}for(;M!==null;){if(E=Yi(M),E===null)return;if(W=E.tag,W===5||W===6){h=v=E;continue e}M=M.parentNode}}h=h.return}Ya(function(){var Z=v,he=Po(c),me=[];e:{var ue=Sg.get(s);if(ue!==void 0){var Te=Go,Ae=s;switch(s){case"keypress":if(qo(c)===0)break e;case"keydown":case"keyup":Te=y;break;case"focusin":Ae="focus",Te=Yo;break;case"focusout":Ae="blur",Te=Yo;break;case"beforeblur":case"afterblur":Te=Yo;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=Qo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Mc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=re;break;case Eg:case kg:case Tg:Te=js;break;case Ig:Te=mt;break;case"scroll":Te=xh;break;case"wheel":Te=ot;break;case"copy":case"cut":case"paste":Te=Bc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=A}var Ce=(o&4)!==0,zt=!Ce&&s==="scroll",Y=Ce?ue!==null?ue+"Capture":null:ue;Ce=[];for(var K=Z,X;K!==null;){X=K;var pe=X.stateNode;if(X.tag===5&&pe!==null&&(X=pe,Y!==null&&(pe=Ut(K,Y),pe!=null&&Ce.push(gl(K,pe,X)))),zt)break;K=K.return}0<Ce.length&&(ue=new Te(ue,Ae,null,c,he),me.push({event:ue,listeners:Ce}))}}if((o&7)===0){e:{if(ue=s==="mouseover"||s==="pointerover",Te=s==="mouseout"||s==="pointerout",ue&&c!==Hn&&(Ae=c.relatedTarget||c.fromElement)&&(Yi(Ae)||Ae[Ns]))break e;if((Te||ue)&&(ue=he.window===he?he:(ue=he.ownerDocument)?ue.defaultView||ue.parentWindow:window,Te?(Ae=c.relatedTarget||c.toElement,Te=Z,Ae=Ae?Yi(Ae):null,Ae!==null&&(zt=kn(Ae),Ae!==zt||Ae.tag!==5&&Ae.tag!==6)&&(Ae=null)):(Te=null,Ae=Z),Te!==Ae)){if(Ce=Qo,pe="onMouseLeave",Y="onMouseEnter",K="mouse",(s==="pointerout"||s==="pointerover")&&(Ce=A,pe="onPointerLeave",Y="onPointerEnter",K="pointer"),zt=Te==null?ue:ia(Te),X=Ae==null?ue:ia(Ae),ue=new Ce(pe,K+"leave",Te,c,he),ue.target=zt,ue.relatedTarget=X,pe=null,Yi(he)===Z&&(Ce=new Ce(Y,K+"enter",Ae,c,he),Ce.target=X,Ce.relatedTarget=zt,pe=Ce),zt=pe,Te&&Ae)t:{for(Ce=Te,Y=Ae,K=0,X=Ce;X;X=na(X))K++;for(X=0,pe=Y;pe;pe=na(pe))X++;for(;0<K-X;)Ce=na(Ce),K--;for(;0<X-K;)Y=na(Y),X--;for(;K--;){if(Ce===Y||Y!==null&&Ce===Y.alternate)break t;Ce=na(Ce),Y=na(Y)}Ce=null}else Ce=null;Te!==null&&Dg(me,ue,Te,Ce,!1),Ae!==null&&zt!==null&&Dg(me,zt,Ae,Ce,!0)}}e:{if(ue=Z?ia(Z):window,Te=ue.nodeName&&ue.nodeName.toLowerCase(),Te==="select"||Te==="input"&&ue.type==="file")var De=h_;else if(fg(ue))if(pg)De=g_;else{De=m_;var ze=f_}else(Te=ue.nodeName)&&Te.toLowerCase()==="input"&&(ue.type==="checkbox"||ue.type==="radio")&&(De=p_);if(De&&(De=De(s,Z))){mg(me,De,c,he);break e}ze&&ze(s,ue,Z),s==="focusout"&&(ze=ue._wrapperState)&&ze.controlled&&ue.type==="number"&&Xe(ue,"number",ue.value)}switch(ze=Z?ia(Z):window,s){case"focusin":(fg(ze)||ze.contentEditable==="true")&&(ta=ze,jh=Z,fl=null);break;case"focusout":fl=jh=ta=null;break;case"mousedown":Nh=!0;break;case"contextmenu":case"mouseup":case"dragend":Nh=!1,jg(me,c,he);break;case"selectionchange":if(x_)break;case"keydown":case"keyup":jg(me,c,he)}var Be;if(Wt)e:{switch(s){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else ea?dg(s,c)&&(qe="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(qe="onCompositionStart");qe&&(Ji&&c.locale!=="ko"&&(ea||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&ea&&(Be=ol()):(Yr=he,Wo="value"in Yr?Yr.value:Yr.textContent,ea=!0)),ze=Jc(Z,qe),0<ze.length&&(qe=new cl(qe,s,null,c,he),me.push({event:qe,listeners:ze}),Be?qe.data=Be:(Be=hg(c),Be!==null&&(qe.data=Be)))),(Be=Xr?l_(s,c):c_(s,c))&&(Z=Jc(Z,"onBeforeInput"),0<Z.length&&(he=new cl("onBeforeInput","beforeinput",null,c,he),me.push({event:he,listeners:Z}),he.data=Be))}Rg(me,o)})}function gl(s,o,c){return{instance:s,listener:o,currentTarget:c}}function Jc(s,o){for(var c=o+"Capture",h=[];s!==null;){var p=s,v=p.stateNode;p.tag===5&&v!==null&&(p=v,v=Ut(s,c),v!=null&&h.unshift(gl(s,v,p)),v=Ut(s,o),v!=null&&h.push(gl(s,v,p))),s=s.return}return h}function na(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function Dg(s,o,c,h,p){for(var v=o._reactName,E=[];c!==null&&c!==h;){var M=c,W=M.alternate,Z=M.stateNode;if(W!==null&&W===h)break;M.tag===5&&Z!==null&&(M=Z,p?(W=Ut(c,v),W!=null&&E.unshift(gl(c,W,M))):p||(W=Ut(c,v),W!=null&&E.push(gl(c,W,M)))),c=c.return}E.length!==0&&s.push({event:o,listeners:E})}var j_=/\r\n?/g,N_=/\u0000|\uFFFD/g;function Vg(s){return(typeof s=="string"?s:""+s).replace(j_,`
`).replace(N_,"")}function Yc(s,o,c){if(o=Vg(o),Vg(s)!==o&&c)throw Error(t(425))}function Xc(){}var Ah=null,Ch=null;function Rh(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Ph=typeof setTimeout=="function"?setTimeout:void 0,E_=typeof clearTimeout=="function"?clearTimeout:void 0,Og=typeof Promise=="function"?Promise:void 0,k_=typeof queueMicrotask=="function"?queueMicrotask:typeof Og<"u"?function(s){return Og.resolve(null).then(s).catch(T_)}:Ph;function T_(s){setTimeout(function(){throw s})}function Dh(s,o){var c=o,h=0;do{var p=c.nextSibling;if(s.removeChild(c),p&&p.nodeType===8)if(c=p.data,c==="/$"){if(h===0){s.removeChild(p),Cn(o);return}h--}else c!=="$"&&c!=="$?"&&c!=="$!"||h++;c=p}while(c);Cn(o)}function ni(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function Lg(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(o===0)return s;o--}else c==="/$"&&o++}s=s.previousSibling}return null}var sa=Math.random().toString(36).slice(2),Xn="__reactFiber$"+sa,yl="__reactProps$"+sa,Ns="__reactContainer$"+sa,Vh="__reactEvents$"+sa,I_="__reactListeners$"+sa,S_="__reactHandles$"+sa;function Yi(s){var o=s[Xn];if(o)return o;for(var c=s.parentNode;c;){if(o=c[Ns]||c[Xn]){if(c=o.alternate,o.child!==null||c!==null&&c.child!==null)for(s=Lg(s);s!==null;){if(c=s[Xn])return c;s=Lg(s)}return o}s=c,c=s.parentNode}return null}function vl(s){return s=s[Xn]||s[Ns],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function ia(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function Zc(s){return s[yl]||null}var Oh=[],oa=-1;function si(s){return{current:s}}function Et(s){0>oa||(s.current=Oh[oa],Oh[oa]=null,oa--)}function bt(s,o){oa++,Oh[oa]=s.current,s.current=o}var ii={},gr=si(ii),Or=si(!1),Xi=ii;function aa(s,o){var c=s.type.contextTypes;if(!c)return ii;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var p={},v;for(v in c)p[v]=o[v];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=p),p}function Lr(s){return s=s.childContextTypes,s!=null}function eu(){Et(Or),Et(gr)}function Fg(s,o,c){if(gr.current!==ii)throw Error(t(168));bt(gr,o),bt(Or,c)}function Mg(s,o,c){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return c;h=h.getChildContext();for(var p in h)if(!(p in o))throw Error(t(108,ke(s)||"Unknown",p));return R({},c,h)}function tu(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||ii,Xi=gr.current,bt(gr,s),bt(Or,Or.current),!0}function Ug(s,o,c){var h=s.stateNode;if(!h)throw Error(t(169));c?(s=Mg(s,o,Xi),h.__reactInternalMemoizedMergedChildContext=s,Et(Or),Et(gr),bt(gr,s)):Et(Or),bt(Or,c)}var Es=null,ru=!1,Lh=!1;function zg(s){Es===null?Es=[s]:Es.push(s)}function A_(s){ru=!0,zg(s)}function oi(){if(!Lh&&Es!==null){Lh=!0;var s=0,o=st;try{var c=Es;for(st=1;s<c.length;s++){var h=c[s];do h=h(!0);while(h!==null)}Es=null,ru=!1}catch(p){throw Es!==null&&(Es=Es.slice(s+1)),Uo($i,oi),p}finally{st=o,Lh=!1}}return null}var la=[],ca=0,nu=null,su=0,dn=[],hn=0,Zi=null,ks=1,Ts="";function eo(s,o){la[ca++]=su,la[ca++]=nu,nu=s,su=o}function Bg(s,o,c){dn[hn++]=ks,dn[hn++]=Ts,dn[hn++]=Zi,Zi=s;var h=ks;s=Ts;var p=32-Tr(h)-1;h&=~(1<<p),c+=1;var v=32-Tr(o)+p;if(30<v){var E=p-p%5;v=(h&(1<<E)-1).toString(32),h>>=E,p-=E,ks=1<<32-Tr(o)+p|c<<p|h,Ts=v+s}else ks=1<<v|c<<p|h,Ts=s}function Fh(s){s.return!==null&&(eo(s,1),Bg(s,1,0))}function Mh(s){for(;s===nu;)nu=la[--ca],la[ca]=null,su=la[--ca],la[ca]=null;for(;s===Zi;)Zi=dn[--hn],dn[hn]=null,Ts=dn[--hn],dn[hn]=null,ks=dn[--hn],dn[hn]=null}var Zr=null,en=null,St=!1,Dn=null;function $g(s,o){var c=gn(5,null,null,0);c.elementType="DELETED",c.stateNode=o,c.return=s,o=s.deletions,o===null?(s.deletions=[c],s.flags|=16):o.push(c)}function Hg(s,o){switch(s.tag){case 5:var c=s.type;return o=o.nodeType!==1||c.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Zr=s,en=ni(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Zr=s,en=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(c=Zi!==null?{id:ks,overflow:Ts}:null,s.memoizedState={dehydrated:o,treeContext:c,retryLane:1073741824},c=gn(18,null,null,0),c.stateNode=o,c.return=s,s.child=c,Zr=s,en=null,!0):!1;default:return!1}}function Uh(s){return(s.mode&1)!==0&&(s.flags&128)===0}function zh(s){if(St){var o=en;if(o){var c=o;if(!Hg(s,o)){if(Uh(s))throw Error(t(418));o=ni(c.nextSibling);var h=Zr;o&&Hg(s,o)?$g(h,c):(s.flags=s.flags&-4097|2,St=!1,Zr=s)}}else{if(Uh(s))throw Error(t(418));s.flags=s.flags&-4097|2,St=!1,Zr=s}}}function Wg(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Zr=s}function iu(s){if(s!==Zr)return!1;if(!St)return Wg(s),St=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Rh(s.type,s.memoizedProps)),o&&(o=en)){if(Uh(s))throw qg(),Error(t(418));for(;o;)$g(s,o),o=ni(o.nextSibling)}if(Wg(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(o===0){en=ni(s.nextSibling);break e}o--}else c!=="$"&&c!=="$!"&&c!=="$?"||o++}s=s.nextSibling}en=null}}else en=Zr?ni(s.stateNode.nextSibling):null;return!0}function qg(){for(var s=en;s;)s=ni(s.nextSibling)}function ua(){en=Zr=null,St=!1}function Bh(s){Dn===null?Dn=[s]:Dn.push(s)}var C_=$.ReactCurrentBatchConfig;function Vn(s,o){if(s&&s.defaultProps){o=R({},o),s=s.defaultProps;for(var c in s)o[c]===void 0&&(o[c]=s[c]);return o}return o}var ou=si(null),au=null,da=null,$h=null;function Hh(){$h=da=au=null}function Wh(s){var o=ou.current;Et(ou),s._currentValue=o}function qh(s,o,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===c)break;s=s.return}}function ha(s,o){au=s,$h=da=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(Fr=!0),s.firstContext=null)}function fn(s){var o=s._currentValue;if($h!==s)if(s={context:s,memoizedValue:o,next:null},da===null){if(au===null)throw Error(t(308));da=s,au.dependencies={lanes:0,firstContext:s}}else da=da.next=s;return o}var to=null;function Gh(s){to===null?to=[s]:to.push(s)}function Gg(s,o,c,h){var p=o.interleaved;return p===null?(c.next=c,Gh(o)):(c.next=p.next,p.next=c),o.interleaved=c,Is(s,h)}function Is(s,o){s.lanes|=o;var c=s.alternate;for(c!==null&&(c.lanes|=o),c=s,s=s.return;s!==null;)s.childLanes|=o,c=s.alternate,c!==null&&(c.childLanes|=o),c=s,s=s.return;return c.tag===3?c.stateNode:null}var ai=!1;function Kh(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Kg(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function Ss(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function li(s,o,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(lt&2)!==0){var p=h.pending;return p===null?o.next=o:(o.next=p.next,p.next=o),h.pending=o,Is(s,c)}return p=h.interleaved,p===null?(o.next=o,Gh(h)):(o.next=p.next,p.next=o),h.interleaved=o,Is(s,c)}function lu(s,o,c){if(o=o.updateQueue,o!==null&&(o=o.shared,(c&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,Ys(s,c)}}function Qg(s,o){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var p=null,v=null;if(c=c.firstBaseUpdate,c!==null){do{var E={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};v===null?p=v=E:v=v.next=E,c=c.next}while(c!==null);v===null?p=v=o:v=v.next=o}else p=v=o;c={baseState:h.baseState,firstBaseUpdate:p,lastBaseUpdate:v,shared:h.shared,effects:h.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=o:s.next=o,c.lastBaseUpdate=o}function cu(s,o,c,h){var p=s.updateQueue;ai=!1;var v=p.firstBaseUpdate,E=p.lastBaseUpdate,M=p.shared.pending;if(M!==null){p.shared.pending=null;var W=M,Z=W.next;W.next=null,E===null?v=Z:E.next=Z,E=W;var he=s.alternate;he!==null&&(he=he.updateQueue,M=he.lastBaseUpdate,M!==E&&(M===null?he.firstBaseUpdate=Z:M.next=Z,he.lastBaseUpdate=W))}if(v!==null){var me=p.baseState;E=0,he=Z=W=null,M=v;do{var ue=M.lane,Te=M.eventTime;if((h&ue)===ue){he!==null&&(he=he.next={eventTime:Te,lane:0,tag:M.tag,payload:M.payload,callback:M.callback,next:null});e:{var Ae=s,Ce=M;switch(ue=o,Te=c,Ce.tag){case 1:if(Ae=Ce.payload,typeof Ae=="function"){me=Ae.call(Te,me,ue);break e}me=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=Ce.payload,ue=typeof Ae=="function"?Ae.call(Te,me,ue):Ae,ue==null)break e;me=R({},me,ue);break e;case 2:ai=!0}}M.callback!==null&&M.lane!==0&&(s.flags|=64,ue=p.effects,ue===null?p.effects=[M]:ue.push(M))}else Te={eventTime:Te,lane:ue,tag:M.tag,payload:M.payload,callback:M.callback,next:null},he===null?(Z=he=Te,W=me):he=he.next=Te,E|=ue;if(M=M.next,M===null){if(M=p.shared.pending,M===null)break;ue=M,M=ue.next,ue.next=null,p.lastBaseUpdate=ue,p.shared.pending=null}}while(!0);if(he===null&&(W=me),p.baseState=W,p.firstBaseUpdate=Z,p.lastBaseUpdate=he,o=p.shared.interleaved,o!==null){p=o;do E|=p.lane,p=p.next;while(p!==o)}else v===null&&(p.shared.lanes=0);so|=E,s.lanes=E,s.memoizedState=me}}function Jg(s,o,c){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],p=h.callback;if(p!==null){if(h.callback=null,h=c,typeof p!="function")throw Error(t(191,p));p.call(h)}}}var Yg=new r.Component().refs;function Qh(s,o,c,h){o=s.memoizedState,c=c(h,o),c=c==null?o:R({},o,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var uu={isMounted:function(s){return(s=s._reactInternals)?kn(s)===s:!1},enqueueSetState:function(s,o,c){s=s._reactInternals;var h=Ar(),p=hi(s),v=Ss(h,p);v.payload=o,c!=null&&(v.callback=c),o=li(s,v,p),o!==null&&(Fn(o,s,p,h),lu(o,s,p))},enqueueReplaceState:function(s,o,c){s=s._reactInternals;var h=Ar(),p=hi(s),v=Ss(h,p);v.tag=1,v.payload=o,c!=null&&(v.callback=c),o=li(s,v,p),o!==null&&(Fn(o,s,p,h),lu(o,s,p))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var c=Ar(),h=hi(s),p=Ss(c,h);p.tag=2,o!=null&&(p.callback=o),o=li(s,p,h),o!==null&&(Fn(o,s,h,c),lu(o,s,h))}};function Xg(s,o,c,h,p,v,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,v,E):o.prototype&&o.prototype.isPureReactComponent?!hl(c,h)||!hl(p,v):!0}function Zg(s,o,c){var h=!1,p=ii,v=o.contextType;return typeof v=="object"&&v!==null?v=fn(v):(p=Lr(o)?Xi:gr.current,h=o.contextTypes,v=(h=h!=null)?aa(s,p):ii),o=new o(c,v),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=uu,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=p,s.__reactInternalMemoizedMaskedChildContext=v),o}function e0(s,o,c,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(c,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(c,h),o.state!==s&&uu.enqueueReplaceState(o,o.state,null)}function Jh(s,o,c,h){var p=s.stateNode;p.props=c,p.state=s.memoizedState,p.refs=Yg,Kh(s);var v=o.contextType;typeof v=="object"&&v!==null?p.context=fn(v):(v=Lr(o)?Xi:gr.current,p.context=aa(s,v)),p.state=s.memoizedState,v=o.getDerivedStateFromProps,typeof v=="function"&&(Qh(s,o,v,c),p.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(o=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),o!==p.state&&uu.enqueueReplaceState(p,p.state,null),cu(s,c,p,h),p.state=s.memoizedState),typeof p.componentDidMount=="function"&&(s.flags|=4194308)}function xl(s,o,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var h=c.stateNode}if(!h)throw Error(t(147,s));var p=h,v=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===v?o.ref:(o=function(E){var M=p.refs;M===Yg&&(M=p.refs={}),E===null?delete M[v]:M[v]=E},o._stringRef=v,o)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function du(s,o){throw s=Object.prototype.toString.call(o),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function t0(s){var o=s._init;return o(s._payload)}function r0(s){function o(Y,K){if(s){var X=Y.deletions;X===null?(Y.deletions=[K],Y.flags|=16):X.push(K)}}function c(Y,K){if(!s)return null;for(;K!==null;)o(Y,K),K=K.sibling;return null}function h(Y,K){for(Y=new Map;K!==null;)K.key!==null?Y.set(K.key,K):Y.set(K.index,K),K=K.sibling;return Y}function p(Y,K){return Y=mi(Y,K),Y.index=0,Y.sibling=null,Y}function v(Y,K,X){return Y.index=X,s?(X=Y.alternate,X!==null?(X=X.index,X<K?(Y.flags|=2,K):X):(Y.flags|=2,K)):(Y.flags|=1048576,K)}function E(Y){return s&&Y.alternate===null&&(Y.flags|=2),Y}function M(Y,K,X,pe){return K===null||K.tag!==6?(K=Df(X,Y.mode,pe),K.return=Y,K):(K=p(K,X),K.return=Y,K)}function W(Y,K,X,pe){var De=X.type;return De===j?he(Y,K,X.props.children,pe,X.key):K!==null&&(K.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===Ve&&t0(De)===K.type)?(pe=p(K,X.props),pe.ref=xl(Y,K,X),pe.return=Y,pe):(pe=Au(X.type,X.key,X.props,null,Y.mode,pe),pe.ref=xl(Y,K,X),pe.return=Y,pe)}function Z(Y,K,X,pe){return K===null||K.tag!==4||K.stateNode.containerInfo!==X.containerInfo||K.stateNode.implementation!==X.implementation?(K=Vf(X,Y.mode,pe),K.return=Y,K):(K=p(K,X.children||[]),K.return=Y,K)}function he(Y,K,X,pe,De){return K===null||K.tag!==7?(K=lo(X,Y.mode,pe,De),K.return=Y,K):(K=p(K,X),K.return=Y,K)}function me(Y,K,X){if(typeof K=="string"&&K!==""||typeof K=="number")return K=Df(""+K,Y.mode,X),K.return=Y,K;if(typeof K=="object"&&K!==null){switch(K.$$typeof){case q:return X=Au(K.type,K.key,K.props,null,Y.mode,X),X.ref=xl(Y,null,K),X.return=Y,X;case I:return K=Vf(K,Y.mode,X),K.return=Y,K;case Ve:var pe=K._init;return me(Y,pe(K._payload),X)}if(Fe(K)||ee(K))return K=lo(K,Y.mode,X,null),K.return=Y,K;du(Y,K)}return null}function ue(Y,K,X,pe){var De=K!==null?K.key:null;if(typeof X=="string"&&X!==""||typeof X=="number")return De!==null?null:M(Y,K,""+X,pe);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case q:return X.key===De?W(Y,K,X,pe):null;case I:return X.key===De?Z(Y,K,X,pe):null;case Ve:return De=X._init,ue(Y,K,De(X._payload),pe)}if(Fe(X)||ee(X))return De!==null?null:he(Y,K,X,pe,null);du(Y,X)}return null}function Te(Y,K,X,pe,De){if(typeof pe=="string"&&pe!==""||typeof pe=="number")return Y=Y.get(X)||null,M(K,Y,""+pe,De);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case q:return Y=Y.get(pe.key===null?X:pe.key)||null,W(K,Y,pe,De);case I:return Y=Y.get(pe.key===null?X:pe.key)||null,Z(K,Y,pe,De);case Ve:var ze=pe._init;return Te(Y,K,X,ze(pe._payload),De)}if(Fe(pe)||ee(pe))return Y=Y.get(X)||null,he(K,Y,pe,De,null);du(K,pe)}return null}function Ae(Y,K,X,pe){for(var De=null,ze=null,Be=K,qe=K=0,ir=null;Be!==null&&qe<X.length;qe++){Be.index>qe?(ir=Be,Be=null):ir=Be.sibling;var ut=ue(Y,Be,X[qe],pe);if(ut===null){Be===null&&(Be=ir);break}s&&Be&&ut.alternate===null&&o(Y,Be),K=v(ut,K,qe),ze===null?De=ut:ze.sibling=ut,ze=ut,Be=ir}if(qe===X.length)return c(Y,Be),St&&eo(Y,qe),De;if(Be===null){for(;qe<X.length;qe++)Be=me(Y,X[qe],pe),Be!==null&&(K=v(Be,K,qe),ze===null?De=Be:ze.sibling=Be,ze=Be);return St&&eo(Y,qe),De}for(Be=h(Y,Be);qe<X.length;qe++)ir=Te(Be,Y,qe,X[qe],pe),ir!==null&&(s&&ir.alternate!==null&&Be.delete(ir.key===null?qe:ir.key),K=v(ir,K,qe),ze===null?De=ir:ze.sibling=ir,ze=ir);return s&&Be.forEach(function(pi){return o(Y,pi)}),St&&eo(Y,qe),De}function Ce(Y,K,X,pe){var De=ee(X);if(typeof De!="function")throw Error(t(150));if(X=De.call(X),X==null)throw Error(t(151));for(var ze=De=null,Be=K,qe=K=0,ir=null,ut=X.next();Be!==null&&!ut.done;qe++,ut=X.next()){Be.index>qe?(ir=Be,Be=null):ir=Be.sibling;var pi=ue(Y,Be,ut.value,pe);if(pi===null){Be===null&&(Be=ir);break}s&&Be&&pi.alternate===null&&o(Y,Be),K=v(pi,K,qe),ze===null?De=pi:ze.sibling=pi,ze=pi,Be=ir}if(ut.done)return c(Y,Be),St&&eo(Y,qe),De;if(Be===null){for(;!ut.done;qe++,ut=X.next())ut=me(Y,ut.value,pe),ut!==null&&(K=v(ut,K,qe),ze===null?De=ut:ze.sibling=ut,ze=ut);return St&&eo(Y,qe),De}for(Be=h(Y,Be);!ut.done;qe++,ut=X.next())ut=Te(Be,Y,qe,ut.value,pe),ut!==null&&(s&&ut.alternate!==null&&Be.delete(ut.key===null?qe:ut.key),K=v(ut,K,qe),ze===null?De=ut:ze.sibling=ut,ze=ut);return s&&Be.forEach(function(uj){return o(Y,uj)}),St&&eo(Y,qe),De}function zt(Y,K,X,pe){if(typeof X=="object"&&X!==null&&X.type===j&&X.key===null&&(X=X.props.children),typeof X=="object"&&X!==null){switch(X.$$typeof){case q:e:{for(var De=X.key,ze=K;ze!==null;){if(ze.key===De){if(De=X.type,De===j){if(ze.tag===7){c(Y,ze.sibling),K=p(ze,X.props.children),K.return=Y,Y=K;break e}}else if(ze.elementType===De||typeof De=="object"&&De!==null&&De.$$typeof===Ve&&t0(De)===ze.type){c(Y,ze.sibling),K=p(ze,X.props),K.ref=xl(Y,ze,X),K.return=Y,Y=K;break e}c(Y,ze);break}else o(Y,ze);ze=ze.sibling}X.type===j?(K=lo(X.props.children,Y.mode,pe,X.key),K.return=Y,Y=K):(pe=Au(X.type,X.key,X.props,null,Y.mode,pe),pe.ref=xl(Y,K,X),pe.return=Y,Y=pe)}return E(Y);case I:e:{for(ze=X.key;K!==null;){if(K.key===ze)if(K.tag===4&&K.stateNode.containerInfo===X.containerInfo&&K.stateNode.implementation===X.implementation){c(Y,K.sibling),K=p(K,X.children||[]),K.return=Y,Y=K;break e}else{c(Y,K);break}else o(Y,K);K=K.sibling}K=Vf(X,Y.mode,pe),K.return=Y,Y=K}return E(Y);case Ve:return ze=X._init,zt(Y,K,ze(X._payload),pe)}if(Fe(X))return Ae(Y,K,X,pe);if(ee(X))return Ce(Y,K,X,pe);du(Y,X)}return typeof X=="string"&&X!==""||typeof X=="number"?(X=""+X,K!==null&&K.tag===6?(c(Y,K.sibling),K=p(K,X),K.return=Y,Y=K):(c(Y,K),K=Df(X,Y.mode,pe),K.return=Y,Y=K),E(Y)):c(Y,K)}return zt}var fa=r0(!0),n0=r0(!1),bl={},Zn=si(bl),wl=si(bl),_l=si(bl);function ro(s){if(s===bl)throw Error(t(174));return s}function Yh(s,o){switch(bt(_l,o),bt(wl,s),bt(Zn,bl),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:se(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=se(o,s)}Et(Zn),bt(Zn,o)}function ma(){Et(Zn),Et(wl),Et(_l)}function s0(s){ro(_l.current);var o=ro(Zn.current),c=se(o,s.type);o!==c&&(bt(wl,s),bt(Zn,c))}function Xh(s){wl.current===s&&(Et(Zn),Et(wl))}var At=si(0);function hu(s){for(var o=s;o!==null;){if(o.tag===13){var c=o.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Zh=[];function ef(){for(var s=0;s<Zh.length;s++)Zh[s]._workInProgressVersionPrimary=null;Zh.length=0}var fu=$.ReactCurrentDispatcher,tf=$.ReactCurrentBatchConfig,no=0,Ct=null,Zt=null,nr=null,mu=!1,jl=!1,Nl=0,R_=0;function yr(){throw Error(t(321))}function rf(s,o){if(o===null)return!1;for(var c=0;c<o.length&&c<s.length;c++)if(!Pn(s[c],o[c]))return!1;return!0}function nf(s,o,c,h,p,v){if(no=v,Ct=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,fu.current=s===null||s.memoizedState===null?O_:L_,s=c(h,p),jl){v=0;do{if(jl=!1,Nl=0,25<=v)throw Error(t(301));v+=1,nr=Zt=null,o.updateQueue=null,fu.current=F_,s=c(h,p)}while(jl)}if(fu.current=yu,o=Zt!==null&&Zt.next!==null,no=0,nr=Zt=Ct=null,mu=!1,o)throw Error(t(300));return s}function sf(){var s=Nl!==0;return Nl=0,s}function es(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?Ct.memoizedState=nr=s:nr=nr.next=s,nr}function mn(){if(Zt===null){var s=Ct.alternate;s=s!==null?s.memoizedState:null}else s=Zt.next;var o=nr===null?Ct.memoizedState:nr.next;if(o!==null)nr=o,Zt=s;else{if(s===null)throw Error(t(310));Zt=s,s={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},nr===null?Ct.memoizedState=nr=s:nr=nr.next=s}return nr}function El(s,o){return typeof o=="function"?o(s):o}function of(s){var o=mn(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=Zt,p=h.baseQueue,v=c.pending;if(v!==null){if(p!==null){var E=p.next;p.next=v.next,v.next=E}h.baseQueue=p=v,c.pending=null}if(p!==null){v=p.next,h=h.baseState;var M=E=null,W=null,Z=v;do{var he=Z.lane;if((no&he)===he)W!==null&&(W=W.next={lane:0,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null}),h=Z.hasEagerState?Z.eagerState:s(h,Z.action);else{var me={lane:he,action:Z.action,hasEagerState:Z.hasEagerState,eagerState:Z.eagerState,next:null};W===null?(M=W=me,E=h):W=W.next=me,Ct.lanes|=he,so|=he}Z=Z.next}while(Z!==null&&Z!==v);W===null?E=h:W.next=M,Pn(h,o.memoizedState)||(Fr=!0),o.memoizedState=h,o.baseState=E,o.baseQueue=W,c.lastRenderedState=h}if(s=c.interleaved,s!==null){p=s;do v=p.lane,Ct.lanes|=v,so|=v,p=p.next;while(p!==s)}else p===null&&(c.lanes=0);return[o.memoizedState,c.dispatch]}function af(s){var o=mn(),c=o.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var h=c.dispatch,p=c.pending,v=o.memoizedState;if(p!==null){c.pending=null;var E=p=p.next;do v=s(v,E.action),E=E.next;while(E!==p);Pn(v,o.memoizedState)||(Fr=!0),o.memoizedState=v,o.baseQueue===null&&(o.baseState=v),c.lastRenderedState=v}return[v,h]}function i0(){}function o0(s,o){var c=Ct,h=mn(),p=o(),v=!Pn(h.memoizedState,p);if(v&&(h.memoizedState=p,Fr=!0),h=h.queue,lf(c0.bind(null,c,h,s),[s]),h.getSnapshot!==o||v||nr!==null&&nr.memoizedState.tag&1){if(c.flags|=2048,kl(9,l0.bind(null,c,h,p,o),void 0,null),sr===null)throw Error(t(349));(no&30)!==0||a0(c,o,p)}return p}function a0(s,o,c){s.flags|=16384,s={getSnapshot:o,value:c},o=Ct.updateQueue,o===null?(o={lastEffect:null,stores:null},Ct.updateQueue=o,o.stores=[s]):(c=o.stores,c===null?o.stores=[s]:c.push(s))}function l0(s,o,c,h){o.value=c,o.getSnapshot=h,u0(o)&&d0(s)}function c0(s,o,c){return c(function(){u0(o)&&d0(s)})}function u0(s){var o=s.getSnapshot;s=s.value;try{var c=o();return!Pn(s,c)}catch{return!0}}function d0(s){var o=Is(s,1);o!==null&&Fn(o,s,1,-1)}function h0(s){var o=es();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:El,lastRenderedState:s},o.queue=s,s=s.dispatch=V_.bind(null,Ct,s),[o.memoizedState,s]}function kl(s,o,c,h){return s={tag:s,create:o,destroy:c,deps:h,next:null},o=Ct.updateQueue,o===null?(o={lastEffect:null,stores:null},Ct.updateQueue=o,o.lastEffect=s.next=s):(c=o.lastEffect,c===null?o.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,o.lastEffect=s)),s}function f0(){return mn().memoizedState}function pu(s,o,c,h){var p=es();Ct.flags|=s,p.memoizedState=kl(1|o,c,void 0,h===void 0?null:h)}function gu(s,o,c,h){var p=mn();h=h===void 0?null:h;var v=void 0;if(Zt!==null){var E=Zt.memoizedState;if(v=E.destroy,h!==null&&rf(h,E.deps)){p.memoizedState=kl(o,c,v,h);return}}Ct.flags|=s,p.memoizedState=kl(1|o,c,v,h)}function m0(s,o){return pu(8390656,8,s,o)}function lf(s,o){return gu(2048,8,s,o)}function p0(s,o){return gu(4,2,s,o)}function g0(s,o){return gu(4,4,s,o)}function y0(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function v0(s,o,c){return c=c!=null?c.concat([s]):null,gu(4,4,y0.bind(null,o,s),c)}function cf(){}function x0(s,o){var c=mn();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&rf(o,h[1])?h[0]:(c.memoizedState=[s,o],s)}function b0(s,o){var c=mn();o=o===void 0?null:o;var h=c.memoizedState;return h!==null&&o!==null&&rf(o,h[1])?h[0]:(s=s(),c.memoizedState=[s,o],s)}function w0(s,o,c){return(no&21)===0?(s.baseState&&(s.baseState=!1,Fr=!0),s.memoizedState=c):(Pn(c,o)||(c=qi(),Ct.lanes|=c,so|=c,s.baseState=!0),o)}function P_(s,o){var c=st;st=c!==0&&4>c?c:4,s(!0);var h=tf.transition;tf.transition={};try{s(!1),o()}finally{st=c,tf.transition=h}}function _0(){return mn().memoizedState}function D_(s,o,c){var h=hi(s);if(c={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null},j0(s))N0(o,c);else if(c=Gg(s,o,c,h),c!==null){var p=Ar();Fn(c,s,h,p),E0(c,o,h)}}function V_(s,o,c){var h=hi(s),p={lane:h,action:c,hasEagerState:!1,eagerState:null,next:null};if(j0(s))N0(o,p);else{var v=s.alternate;if(s.lanes===0&&(v===null||v.lanes===0)&&(v=o.lastRenderedReducer,v!==null))try{var E=o.lastRenderedState,M=v(E,c);if(p.hasEagerState=!0,p.eagerState=M,Pn(M,E)){var W=o.interleaved;W===null?(p.next=p,Gh(o)):(p.next=W.next,W.next=p),o.interleaved=p;return}}catch{}finally{}c=Gg(s,o,p,h),c!==null&&(p=Ar(),Fn(c,s,h,p),E0(c,o,h))}}function j0(s){var o=s.alternate;return s===Ct||o!==null&&o===Ct}function N0(s,o){jl=mu=!0;var c=s.pending;c===null?o.next=o:(o.next=c.next,c.next=o),s.pending=o}function E0(s,o,c){if((c&4194240)!==0){var h=o.lanes;h&=s.pendingLanes,c|=h,o.lanes=c,Ys(s,c)}}var yu={readContext:fn,useCallback:yr,useContext:yr,useEffect:yr,useImperativeHandle:yr,useInsertionEffect:yr,useLayoutEffect:yr,useMemo:yr,useReducer:yr,useRef:yr,useState:yr,useDebugValue:yr,useDeferredValue:yr,useTransition:yr,useMutableSource:yr,useSyncExternalStore:yr,useId:yr,unstable_isNewReconciler:!1},O_={readContext:fn,useCallback:function(s,o){return es().memoizedState=[s,o===void 0?null:o],s},useContext:fn,useEffect:m0,useImperativeHandle:function(s,o,c){return c=c!=null?c.concat([s]):null,pu(4194308,4,y0.bind(null,o,s),c)},useLayoutEffect:function(s,o){return pu(4194308,4,s,o)},useInsertionEffect:function(s,o){return pu(4,2,s,o)},useMemo:function(s,o){var c=es();return o=o===void 0?null:o,s=s(),c.memoizedState=[s,o],s},useReducer:function(s,o,c){var h=es();return o=c!==void 0?c(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=D_.bind(null,Ct,s),[h.memoizedState,s]},useRef:function(s){var o=es();return s={current:s},o.memoizedState=s},useState:h0,useDebugValue:cf,useDeferredValue:function(s){return es().memoizedState=s},useTransition:function(){var s=h0(!1),o=s[0];return s=P_.bind(null,s[1]),es().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,c){var h=Ct,p=es();if(St){if(c===void 0)throw Error(t(407));c=c()}else{if(c=o(),sr===null)throw Error(t(349));(no&30)!==0||a0(h,o,c)}p.memoizedState=c;var v={value:c,getSnapshot:o};return p.queue=v,m0(c0.bind(null,h,v,s),[s]),h.flags|=2048,kl(9,l0.bind(null,h,v,c,o),void 0,null),c},useId:function(){var s=es(),o=sr.identifierPrefix;if(St){var c=Ts,h=ks;c=(h&~(1<<32-Tr(h)-1)).toString(32)+c,o=":"+o+"R"+c,c=Nl++,0<c&&(o+="H"+c.toString(32)),o+=":"}else c=R_++,o=":"+o+"r"+c.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},L_={readContext:fn,useCallback:x0,useContext:fn,useEffect:lf,useImperativeHandle:v0,useInsertionEffect:p0,useLayoutEffect:g0,useMemo:b0,useReducer:of,useRef:f0,useState:function(){return of(El)},useDebugValue:cf,useDeferredValue:function(s){var o=mn();return w0(o,Zt.memoizedState,s)},useTransition:function(){var s=of(El)[0],o=mn().memoizedState;return[s,o]},useMutableSource:i0,useSyncExternalStore:o0,useId:_0,unstable_isNewReconciler:!1},F_={readContext:fn,useCallback:x0,useContext:fn,useEffect:lf,useImperativeHandle:v0,useInsertionEffect:p0,useLayoutEffect:g0,useMemo:b0,useReducer:af,useRef:f0,useState:function(){return af(El)},useDebugValue:cf,useDeferredValue:function(s){var o=mn();return Zt===null?o.memoizedState=s:w0(o,Zt.memoizedState,s)},useTransition:function(){var s=af(El)[0],o=mn().memoizedState;return[s,o]},useMutableSource:i0,useSyncExternalStore:o0,useId:_0,unstable_isNewReconciler:!1};function pa(s,o){try{var c="",h=o;do c+=Ne(h),h=h.return;while(h);var p=c}catch(v){p=`
Error generating stack: `+v.message+`
`+v.stack}return{value:s,source:o,stack:p,digest:null}}function uf(s,o,c){return{value:s,source:null,stack:c??null,digest:o??null}}function df(s,o){try{console.error(o.value)}catch(c){setTimeout(function(){throw c})}}var M_=typeof WeakMap=="function"?WeakMap:Map;function k0(s,o,c){c=Ss(-1,c),c.tag=3,c.payload={element:null};var h=o.value;return c.callback=function(){Nu||(Nu=!0,kf=h),df(s,o)},c}function T0(s,o,c){c=Ss(-1,c),c.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var p=o.value;c.payload=function(){return h(p)},c.callback=function(){df(s,o)}}var v=s.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(c.callback=function(){df(s,o),typeof h!="function"&&(ui===null?ui=new Set([this]):ui.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})}),c}function I0(s,o,c){var h=s.pingCache;if(h===null){h=s.pingCache=new M_;var p=new Set;h.set(o,p)}else p=h.get(o),p===void 0&&(p=new Set,h.set(o,p));p.has(c)||(p.add(c),s=Z_.bind(null,s,o,c),o.then(s,s))}function S0(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function A0(s,o,c,h,p){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(o=Ss(-1,1),o.tag=2,li(c,o,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=p,s)}var U_=$.ReactCurrentOwner,Fr=!1;function Sr(s,o,c,h){o.child=s===null?n0(o,null,c,h):fa(o,s.child,c,h)}function C0(s,o,c,h,p){c=c.render;var v=o.ref;return ha(o,p),h=nf(s,o,c,h,v,p),c=sf(),s!==null&&!Fr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~p,As(s,o,p)):(St&&c&&Fh(o),o.flags|=1,Sr(s,o,h,p),o.child)}function R0(s,o,c,h,p){if(s===null){var v=c.type;return typeof v=="function"&&!Pf(v)&&v.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(o.tag=15,o.type=v,P0(s,o,v,h,p)):(s=Au(c.type,null,h,o,o.mode,p),s.ref=o.ref,s.return=o,o.child=s)}if(v=s.child,(s.lanes&p)===0){var E=v.memoizedProps;if(c=c.compare,c=c!==null?c:hl,c(E,h)&&s.ref===o.ref)return As(s,o,p)}return o.flags|=1,s=mi(v,h),s.ref=o.ref,s.return=o,o.child=s}function P0(s,o,c,h,p){if(s!==null){var v=s.memoizedProps;if(hl(v,h)&&s.ref===o.ref)if(Fr=!1,o.pendingProps=h=v,(s.lanes&p)!==0)(s.flags&131072)!==0&&(Fr=!0);else return o.lanes=s.lanes,As(s,o,p)}return hf(s,o,c,h,p)}function D0(s,o,c){var h=o.pendingProps,p=h.children,v=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},bt(ya,tn),tn|=c;else{if((c&1073741824)===0)return s=v!==null?v.baseLanes|c:c,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,bt(ya,tn),tn|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=v!==null?v.baseLanes:c,bt(ya,tn),tn|=h}else v!==null?(h=v.baseLanes|c,o.memoizedState=null):h=c,bt(ya,tn),tn|=h;return Sr(s,o,p,c),o.child}function V0(s,o){var c=o.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(o.flags|=512,o.flags|=2097152)}function hf(s,o,c,h,p){var v=Lr(c)?Xi:gr.current;return v=aa(o,v),ha(o,p),c=nf(s,o,c,h,v,p),h=sf(),s!==null&&!Fr?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~p,As(s,o,p)):(St&&h&&Fh(o),o.flags|=1,Sr(s,o,c,p),o.child)}function O0(s,o,c,h,p){if(Lr(c)){var v=!0;tu(o)}else v=!1;if(ha(o,p),o.stateNode===null)xu(s,o),Zg(o,c,h),Jh(o,c,h,p),h=!0;else if(s===null){var E=o.stateNode,M=o.memoizedProps;E.props=M;var W=E.context,Z=c.contextType;typeof Z=="object"&&Z!==null?Z=fn(Z):(Z=Lr(c)?Xi:gr.current,Z=aa(o,Z));var he=c.getDerivedStateFromProps,me=typeof he=="function"||typeof E.getSnapshotBeforeUpdate=="function";me||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(M!==h||W!==Z)&&e0(o,E,h,Z),ai=!1;var ue=o.memoizedState;E.state=ue,cu(o,h,E,p),W=o.memoizedState,M!==h||ue!==W||Or.current||ai?(typeof he=="function"&&(Qh(o,c,he,h),W=o.memoizedState),(M=ai||Xg(o,c,M,h,ue,W,Z))?(me||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(o.flags|=4194308)):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=W),E.props=h,E.state=W,E.context=Z,h=M):(typeof E.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{E=o.stateNode,Kg(s,o),M=o.memoizedProps,Z=o.type===o.elementType?M:Vn(o.type,M),E.props=Z,me=o.pendingProps,ue=E.context,W=c.contextType,typeof W=="object"&&W!==null?W=fn(W):(W=Lr(c)?Xi:gr.current,W=aa(o,W));var Te=c.getDerivedStateFromProps;(he=typeof Te=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(M!==me||ue!==W)&&e0(o,E,h,W),ai=!1,ue=o.memoizedState,E.state=ue,cu(o,h,E,p);var Ae=o.memoizedState;M!==me||ue!==Ae||Or.current||ai?(typeof Te=="function"&&(Qh(o,c,Te,h),Ae=o.memoizedState),(Z=ai||Xg(o,c,Z,h,ue,Ae,W)||!1)?(he||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(h,Ae,W),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(h,Ae,W)),typeof E.componentDidUpdate=="function"&&(o.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof E.componentDidUpdate!="function"||M===s.memoizedProps&&ue===s.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&ue===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=Ae),E.props=h,E.state=Ae,E.context=W,h=Z):(typeof E.componentDidUpdate!="function"||M===s.memoizedProps&&ue===s.memoizedState||(o.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||M===s.memoizedProps&&ue===s.memoizedState||(o.flags|=1024),h=!1)}return ff(s,o,c,h,v,p)}function ff(s,o,c,h,p,v){V0(s,o);var E=(o.flags&128)!==0;if(!h&&!E)return p&&Ug(o,c,!1),As(s,o,v);h=o.stateNode,U_.current=o;var M=E&&typeof c.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&E?(o.child=fa(o,s.child,null,v),o.child=fa(o,null,M,v)):Sr(s,o,M,v),o.memoizedState=h.state,p&&Ug(o,c,!0),o.child}function L0(s){var o=s.stateNode;o.pendingContext?Fg(s,o.pendingContext,o.pendingContext!==o.context):o.context&&Fg(s,o.context,!1),Yh(s,o.containerInfo)}function F0(s,o,c,h,p){return ua(),Bh(p),o.flags|=256,Sr(s,o,c,h),o.child}var mf={dehydrated:null,treeContext:null,retryLane:0};function pf(s){return{baseLanes:s,cachePool:null,transitions:null}}function M0(s,o,c){var h=o.pendingProps,p=At.current,v=!1,E=(o.flags&128)!==0,M;if((M=E)||(M=s!==null&&s.memoizedState===null?!1:(p&2)!==0),M?(v=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(p|=1),bt(At,p&1),s===null)return zh(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(E=h.children,s=h.fallback,v?(h=o.mode,v=o.child,E={mode:"hidden",children:E},(h&1)===0&&v!==null?(v.childLanes=0,v.pendingProps=E):v=Cu(E,h,0,null),s=lo(s,h,c,null),v.return=o,s.return=o,v.sibling=s,o.child=v,o.child.memoizedState=pf(c),o.memoizedState=mf,s):gf(o,E));if(p=s.memoizedState,p!==null&&(M=p.dehydrated,M!==null))return z_(s,o,E,h,M,p,c);if(v){v=h.fallback,E=o.mode,p=s.child,M=p.sibling;var W={mode:"hidden",children:h.children};return(E&1)===0&&o.child!==p?(h=o.child,h.childLanes=0,h.pendingProps=W,o.deletions=null):(h=mi(p,W),h.subtreeFlags=p.subtreeFlags&14680064),M!==null?v=mi(M,v):(v=lo(v,E,c,null),v.flags|=2),v.return=o,h.return=o,h.sibling=v,o.child=h,h=v,v=o.child,E=s.child.memoizedState,E=E===null?pf(c):{baseLanes:E.baseLanes|c,cachePool:null,transitions:E.transitions},v.memoizedState=E,v.childLanes=s.childLanes&~c,o.memoizedState=mf,h}return v=s.child,s=v.sibling,h=mi(v,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=c),h.return=o,h.sibling=null,s!==null&&(c=o.deletions,c===null?(o.deletions=[s],o.flags|=16):c.push(s)),o.child=h,o.memoizedState=null,h}function gf(s,o){return o=Cu({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function vu(s,o,c,h){return h!==null&&Bh(h),fa(o,s.child,null,c),s=gf(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function z_(s,o,c,h,p,v,E){if(c)return o.flags&256?(o.flags&=-257,h=uf(Error(t(422))),vu(s,o,E,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(v=h.fallback,p=o.mode,h=Cu({mode:"visible",children:h.children},p,0,null),v=lo(v,p,E,null),v.flags|=2,h.return=o,v.return=o,h.sibling=v,o.child=h,(o.mode&1)!==0&&fa(o,s.child,null,E),o.child.memoizedState=pf(E),o.memoizedState=mf,v);if((o.mode&1)===0)return vu(s,o,E,null);if(p.data==="$!"){if(h=p.nextSibling&&p.nextSibling.dataset,h)var M=h.dgst;return h=M,v=Error(t(419)),h=uf(v,h,void 0),vu(s,o,E,h)}if(M=(E&s.childLanes)!==0,Fr||M){if(h=sr,h!==null){switch(E&-E){case 4:p=2;break;case 16:p=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:p=32;break;case 536870912:p=268435456;break;default:p=0}p=(p&(h.suspendedLanes|E))!==0?0:p,p!==0&&p!==v.retryLane&&(v.retryLane=p,Is(s,p),Fn(h,s,p,-1))}return Rf(),h=uf(Error(t(421))),vu(s,o,E,h)}return p.data==="$?"?(o.flags|=128,o.child=s.child,o=ej.bind(null,s),p._reactRetry=o,null):(s=v.treeContext,en=ni(p.nextSibling),Zr=o,St=!0,Dn=null,s!==null&&(dn[hn++]=ks,dn[hn++]=Ts,dn[hn++]=Zi,ks=s.id,Ts=s.overflow,Zi=o),o=gf(o,h.children),o.flags|=4096,o)}function U0(s,o,c){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),qh(s.return,o,c)}function yf(s,o,c,h,p){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:p}:(v.isBackwards=o,v.rendering=null,v.renderingStartTime=0,v.last=h,v.tail=c,v.tailMode=p)}function z0(s,o,c){var h=o.pendingProps,p=h.revealOrder,v=h.tail;if(Sr(s,o,h.children,c),h=At.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&U0(s,c,o);else if(s.tag===19)U0(s,c,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(bt(At,h),(o.mode&1)===0)o.memoizedState=null;else switch(p){case"forwards":for(c=o.child,p=null;c!==null;)s=c.alternate,s!==null&&hu(s)===null&&(p=c),c=c.sibling;c=p,c===null?(p=o.child,o.child=null):(p=c.sibling,c.sibling=null),yf(o,!1,p,c,v);break;case"backwards":for(c=null,p=o.child,o.child=null;p!==null;){if(s=p.alternate,s!==null&&hu(s)===null){o.child=p;break}s=p.sibling,p.sibling=c,c=p,p=s}yf(o,!0,c,null,v);break;case"together":yf(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function xu(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function As(s,o,c){if(s!==null&&(o.dependencies=s.dependencies),so|=o.lanes,(c&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(t(153));if(o.child!==null){for(s=o.child,c=mi(s,s.pendingProps),o.child=c,c.return=o;s.sibling!==null;)s=s.sibling,c=c.sibling=mi(s,s.pendingProps),c.return=o;c.sibling=null}return o.child}function B_(s,o,c){switch(o.tag){case 3:L0(o),ua();break;case 5:s0(o);break;case 1:Lr(o.type)&&tu(o);break;case 4:Yh(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,p=o.memoizedProps.value;bt(ou,h._currentValue),h._currentValue=p;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(bt(At,At.current&1),o.flags|=128,null):(c&o.child.childLanes)!==0?M0(s,o,c):(bt(At,At.current&1),s=As(s,o,c),s!==null?s.sibling:null);bt(At,At.current&1);break;case 19:if(h=(c&o.childLanes)!==0,(s.flags&128)!==0){if(h)return z0(s,o,c);o.flags|=128}if(p=o.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),bt(At,At.current),h)break;return null;case 22:case 23:return o.lanes=0,D0(s,o,c)}return As(s,o,c)}var B0,vf,$0,H0;B0=function(s,o){for(var c=o.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},vf=function(){},$0=function(s,o,c,h){var p=s.memoizedProps;if(p!==h){s=o.stateNode,ro(Zn.current);var v=null;switch(c){case"input":p=We(s,p),h=We(s,h),v=[];break;case"select":p=R({},p,{value:void 0}),h=R({},h,{value:void 0}),v=[];break;case"textarea":p=P(s,p),h=P(s,h),v=[];break;default:typeof p.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=Xc)}qs(c,h);var E;c=null;for(Z in p)if(!h.hasOwnProperty(Z)&&p.hasOwnProperty(Z)&&p[Z]!=null)if(Z==="style"){var M=p[Z];for(E in M)M.hasOwnProperty(E)&&(c||(c={}),c[E]="")}else Z!=="dangerouslySetInnerHTML"&&Z!=="children"&&Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&Z!=="autoFocus"&&(a.hasOwnProperty(Z)?v||(v=[]):(v=v||[]).push(Z,null));for(Z in h){var W=h[Z];if(M=p!=null?p[Z]:void 0,h.hasOwnProperty(Z)&&W!==M&&(W!=null||M!=null))if(Z==="style")if(M){for(E in M)!M.hasOwnProperty(E)||W&&W.hasOwnProperty(E)||(c||(c={}),c[E]="");for(E in W)W.hasOwnProperty(E)&&M[E]!==W[E]&&(c||(c={}),c[E]=W[E])}else c||(v||(v=[]),v.push(Z,c)),c=W;else Z==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,M=M?M.__html:void 0,W!=null&&M!==W&&(v=v||[]).push(Z,W)):Z==="children"?typeof W!="string"&&typeof W!="number"||(v=v||[]).push(Z,""+W):Z!=="suppressContentEditableWarning"&&Z!=="suppressHydrationWarning"&&(a.hasOwnProperty(Z)?(W!=null&&Z==="onScroll"&&Nt("scroll",s),v||M===W||(v=[])):(v=v||[]).push(Z,W))}c&&(v=v||[]).push("style",c);var Z=v;(o.updateQueue=Z)&&(o.flags|=4)}},H0=function(s,o,c,h){c!==h&&(o.flags|=4)};function Tl(s,o){if(!St)switch(s.tailMode){case"hidden":o=s.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function vr(s){var o=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(o)for(var p=s.child;p!==null;)c|=p.lanes|p.childLanes,h|=p.subtreeFlags&14680064,h|=p.flags&14680064,p.return=s,p=p.sibling;else for(p=s.child;p!==null;)c|=p.lanes|p.childLanes,h|=p.subtreeFlags,h|=p.flags,p.return=s,p=p.sibling;return s.subtreeFlags|=h,s.childLanes=c,o}function $_(s,o,c){var h=o.pendingProps;switch(Mh(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vr(o),null;case 1:return Lr(o.type)&&eu(),vr(o),null;case 3:return h=o.stateNode,ma(),Et(Or),Et(gr),ef(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(iu(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Dn!==null&&(Sf(Dn),Dn=null))),vf(s,o),vr(o),null;case 5:Xh(o);var p=ro(_l.current);if(c=o.type,s!==null&&o.stateNode!=null)$0(s,o,c,h,p),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return vr(o),null}if(s=ro(Zn.current),iu(o)){h=o.stateNode,c=o.type;var v=o.memoizedProps;switch(h[Xn]=o,h[yl]=v,s=(o.mode&1)!==0,c){case"dialog":Nt("cancel",h),Nt("close",h);break;case"iframe":case"object":case"embed":Nt("load",h);break;case"video":case"audio":for(p=0;p<ml.length;p++)Nt(ml[p],h);break;case"source":Nt("error",h);break;case"img":case"image":case"link":Nt("error",h),Nt("load",h);break;case"details":Nt("toggle",h);break;case"input":de(h,v),Nt("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!v.multiple},Nt("invalid",h);break;case"textarea":J(h,v),Nt("invalid",h)}qs(c,v),p=null;for(var E in v)if(v.hasOwnProperty(E)){var M=v[E];E==="children"?typeof M=="string"?h.textContent!==M&&(v.suppressHydrationWarning!==!0&&Yc(h.textContent,M,s),p=["children",M]):typeof M=="number"&&h.textContent!==""+M&&(v.suppressHydrationWarning!==!0&&Yc(h.textContent,M,s),p=["children",""+M]):a.hasOwnProperty(E)&&M!=null&&E==="onScroll"&&Nt("scroll",h)}switch(c){case"input":vt(h),ht(h,v,!0);break;case"textarea":vt(h),ye(h);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(h.onclick=Xc)}h=p,o.updateQueue=h,h!==null&&(o.flags|=4)}else{E=p.nodeType===9?p:p.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=le(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=E.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=E.createElement(c,{is:h.is}):(s=E.createElement(c),c==="select"&&(E=s,h.multiple?E.multiple=!0:h.size&&(E.size=h.size))):s=E.createElementNS(s,c),s[Xn]=o,s[yl]=h,B0(s,o,!1,!1),o.stateNode=s;e:{switch(E=Fi(c,h),c){case"dialog":Nt("cancel",s),Nt("close",s),p=h;break;case"iframe":case"object":case"embed":Nt("load",s),p=h;break;case"video":case"audio":for(p=0;p<ml.length;p++)Nt(ml[p],s);p=h;break;case"source":Nt("error",s),p=h;break;case"img":case"image":case"link":Nt("error",s),Nt("load",s),p=h;break;case"details":Nt("toggle",s),p=h;break;case"input":de(s,h),p=We(s,h),Nt("invalid",s);break;case"option":p=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},p=R({},h,{value:void 0}),Nt("invalid",s);break;case"textarea":J(s,h),p=P(s,h),Nt("invalid",s);break;default:p=h}qs(c,p),M=p;for(v in M)if(M.hasOwnProperty(v)){var W=M[v];v==="style"?ys(s,W):v==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&Ke(s,W)):v==="children"?typeof W=="string"?(c!=="textarea"||W!=="")&&nt(s,W):typeof W=="number"&&nt(s,""+W):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(a.hasOwnProperty(v)?W!=null&&v==="onScroll"&&Nt("scroll",s):W!=null&&T(s,v,W,E))}switch(c){case"input":vt(s),ht(s,h,!1);break;case"textarea":vt(s),ye(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Pe(h.value));break;case"select":s.multiple=!!h.multiple,v=h.value,v!=null?ce(s,!!h.multiple,v,!1):h.defaultValue!=null&&ce(s,!!h.multiple,h.defaultValue,!0);break;default:typeof p.onClick=="function"&&(s.onclick=Xc)}switch(c){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return vr(o),null;case 6:if(s&&o.stateNode!=null)H0(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(c=ro(_l.current),ro(Zn.current),iu(o)){if(h=o.stateNode,c=o.memoizedProps,h[Xn]=o,(v=h.nodeValue!==c)&&(s=Zr,s!==null))switch(s.tag){case 3:Yc(h.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Yc(h.nodeValue,c,(s.mode&1)!==0)}v&&(o.flags|=4)}else h=(c.nodeType===9?c:c.ownerDocument).createTextNode(h),h[Xn]=o,o.stateNode=h}return vr(o),null;case 13:if(Et(At),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(St&&en!==null&&(o.mode&1)!==0&&(o.flags&128)===0)qg(),ua(),o.flags|=98560,v=!1;else if(v=iu(o),h!==null&&h.dehydrated!==null){if(s===null){if(!v)throw Error(t(318));if(v=o.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(t(317));v[Xn]=o}else ua(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;vr(o),v=!1}else Dn!==null&&(Sf(Dn),Dn=null),v=!0;if(!v)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=c,o):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(At.current&1)!==0?er===0&&(er=3):Rf())),o.updateQueue!==null&&(o.flags|=4),vr(o),null);case 4:return ma(),vf(s,o),s===null&&pl(o.stateNode.containerInfo),vr(o),null;case 10:return Wh(o.type._context),vr(o),null;case 17:return Lr(o.type)&&eu(),vr(o),null;case 19:if(Et(At),v=o.memoizedState,v===null)return vr(o),null;if(h=(o.flags&128)!==0,E=v.rendering,E===null)if(h)Tl(v,!1);else{if(er!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(E=hu(s),E!==null){for(o.flags|=128,Tl(v,!1),h=E.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=c,c=o.child;c!==null;)v=c,s=h,v.flags&=14680066,E=v.alternate,E===null?(v.childLanes=0,v.lanes=s,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=E.childLanes,v.lanes=E.lanes,v.child=E.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=E.memoizedProps,v.memoizedState=E.memoizedState,v.updateQueue=E.updateQueue,v.type=E.type,s=E.dependencies,v.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return bt(At,At.current&1|2),o.child}s=s.sibling}v.tail!==null&&xt()>va&&(o.flags|=128,h=!0,Tl(v,!1),o.lanes=4194304)}else{if(!h)if(s=hu(E),s!==null){if(o.flags|=128,h=!0,c=s.updateQueue,c!==null&&(o.updateQueue=c,o.flags|=4),Tl(v,!0),v.tail===null&&v.tailMode==="hidden"&&!E.alternate&&!St)return vr(o),null}else 2*xt()-v.renderingStartTime>va&&c!==1073741824&&(o.flags|=128,h=!0,Tl(v,!1),o.lanes=4194304);v.isBackwards?(E.sibling=o.child,o.child=E):(c=v.last,c!==null?c.sibling=E:o.child=E,v.last=E)}return v.tail!==null?(o=v.tail,v.rendering=o,v.tail=o.sibling,v.renderingStartTime=xt(),o.sibling=null,c=At.current,bt(At,h?c&1|2:c&1),o):(vr(o),null);case 22:case 23:return Cf(),h=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(tn&1073741824)!==0&&(vr(o),o.subtreeFlags&6&&(o.flags|=8192)):vr(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function H_(s,o){switch(Mh(o),o.tag){case 1:return Lr(o.type)&&eu(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return ma(),Et(Or),Et(gr),ef(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Xh(o),null;case 13:if(Et(At),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(t(340));ua()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return Et(At),null;case 4:return ma(),null;case 10:return Wh(o.type._context),null;case 22:case 23:return Cf(),null;case 24:return null;default:return null}}var bu=!1,xr=!1,W_=typeof WeakSet=="function"?WeakSet:Set,Se=null;function ga(s,o){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(h){Ot(s,o,h)}else c.current=null}function xf(s,o,c){try{c()}catch(h){Ot(s,o,h)}}var W0=!1;function q_(s,o){if(Ah=ei,s=_g(),_h(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var p=h.anchorOffset,v=h.focusNode;h=h.focusOffset;try{c.nodeType,v.nodeType}catch{c=null;break e}var E=0,M=-1,W=-1,Z=0,he=0,me=s,ue=null;t:for(;;){for(var Te;me!==c||p!==0&&me.nodeType!==3||(M=E+p),me!==v||h!==0&&me.nodeType!==3||(W=E+h),me.nodeType===3&&(E+=me.nodeValue.length),(Te=me.firstChild)!==null;)ue=me,me=Te;for(;;){if(me===s)break t;if(ue===c&&++Z===p&&(M=E),ue===v&&++he===h&&(W=E),(Te=me.nextSibling)!==null)break;me=ue,ue=me.parentNode}me=Te}c=M===-1||W===-1?null:{start:M,end:W}}else c=null}c=c||{start:0,end:0}}else c=null;for(Ch={focusedElem:s,selectionRange:c},ei=!1,Se=o;Se!==null;)if(o=Se,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Se=s;else for(;Se!==null;){o=Se;try{var Ae=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Ae!==null){var Ce=Ae.memoizedProps,zt=Ae.memoizedState,Y=o.stateNode,K=Y.getSnapshotBeforeUpdate(o.elementType===o.type?Ce:Vn(o.type,Ce),zt);Y.__reactInternalSnapshotBeforeUpdate=K}break;case 3:var X=o.stateNode.containerInfo;X.nodeType===1?X.textContent="":X.nodeType===9&&X.documentElement&&X.removeChild(X.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(pe){Ot(o,o.return,pe)}if(s=o.sibling,s!==null){s.return=o.return,Se=s;break}Se=o.return}return Ae=W0,W0=!1,Ae}function Il(s,o,c){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var p=h=h.next;do{if((p.tag&s)===s){var v=p.destroy;p.destroy=void 0,v!==void 0&&xf(o,c,v)}p=p.next}while(p!==h)}}function wu(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var c=o=o.next;do{if((c.tag&s)===s){var h=c.create;c.destroy=h()}c=c.next}while(c!==o)}}function bf(s){var o=s.ref;if(o!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof o=="function"?o(s):o.current=s}}function q0(s){var o=s.alternate;o!==null&&(s.alternate=null,q0(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Xn],delete o[yl],delete o[Vh],delete o[I_],delete o[S_])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function G0(s){return s.tag===5||s.tag===3||s.tag===4}function K0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||G0(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function wf(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?c.nodeType===8?c.parentNode.insertBefore(s,o):c.insertBefore(s,o):(c.nodeType===8?(o=c.parentNode,o.insertBefore(s,c)):(o=c,o.appendChild(s)),c=c._reactRootContainer,c!=null||o.onclick!==null||(o.onclick=Xc));else if(h!==4&&(s=s.child,s!==null))for(wf(s,o,c),s=s.sibling;s!==null;)wf(s,o,c),s=s.sibling}function _f(s,o,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?c.insertBefore(s,o):c.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(_f(s,o,c),s=s.sibling;s!==null;)_f(s,o,c),s=s.sibling}var cr=null,On=!1;function ci(s,o,c){for(c=c.child;c!==null;)Q0(s,o,c),c=c.sibling}function Q0(s,o,c){if(Qr&&typeof Qr.onCommitFiberUnmount=="function")try{Qr.onCommitFiberUnmount(Hi,c)}catch{}switch(c.tag){case 5:xr||ga(c,o);case 6:var h=cr,p=On;cr=null,ci(s,o,c),cr=h,On=p,cr!==null&&(On?(s=cr,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):cr.removeChild(c.stateNode));break;case 18:cr!==null&&(On?(s=cr,c=c.stateNode,s.nodeType===8?Dh(s.parentNode,c):s.nodeType===1&&Dh(s,c),Cn(s)):Dh(cr,c.stateNode));break;case 4:h=cr,p=On,cr=c.stateNode.containerInfo,On=!0,ci(s,o,c),cr=h,On=p;break;case 0:case 11:case 14:case 15:if(!xr&&(h=c.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){p=h=h.next;do{var v=p,E=v.destroy;v=v.tag,E!==void 0&&((v&2)!==0||(v&4)!==0)&&xf(c,o,E),p=p.next}while(p!==h)}ci(s,o,c);break;case 1:if(!xr&&(ga(c,o),h=c.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=c.memoizedProps,h.state=c.memoizedState,h.componentWillUnmount()}catch(M){Ot(c,o,M)}ci(s,o,c);break;case 21:ci(s,o,c);break;case 22:c.mode&1?(xr=(h=xr)||c.memoizedState!==null,ci(s,o,c),xr=h):ci(s,o,c);break;default:ci(s,o,c)}}function J0(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new W_),o.forEach(function(h){var p=tj.bind(null,s,h);c.has(h)||(c.add(h),h.then(p,p))})}}function Ln(s,o){var c=o.deletions;if(c!==null)for(var h=0;h<c.length;h++){var p=c[h];try{var v=s,E=o,M=E;e:for(;M!==null;){switch(M.tag){case 5:cr=M.stateNode,On=!1;break e;case 3:cr=M.stateNode.containerInfo,On=!0;break e;case 4:cr=M.stateNode.containerInfo,On=!0;break e}M=M.return}if(cr===null)throw Error(t(160));Q0(v,E,p),cr=null,On=!1;var W=p.alternate;W!==null&&(W.return=null),p.return=null}catch(Z){Ot(p,o,Z)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Y0(o,s),o=o.sibling}function Y0(s,o){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Ln(o,s),ts(s),h&4){try{Il(3,s,s.return),wu(3,s)}catch(Ce){Ot(s,s.return,Ce)}try{Il(5,s,s.return)}catch(Ce){Ot(s,s.return,Ce)}}break;case 1:Ln(o,s),ts(s),h&512&&c!==null&&ga(c,c.return);break;case 5:if(Ln(o,s),ts(s),h&512&&c!==null&&ga(c,c.return),s.flags&32){var p=s.stateNode;try{nt(p,"")}catch(Ce){Ot(s,s.return,Ce)}}if(h&4&&(p=s.stateNode,p!=null)){var v=s.memoizedProps,E=c!==null?c.memoizedProps:v,M=s.type,W=s.updateQueue;if(s.updateQueue=null,W!==null)try{M==="input"&&v.type==="radio"&&v.name!=null&&et(p,v),Fi(M,E);var Z=Fi(M,v);for(E=0;E<W.length;E+=2){var he=W[E],me=W[E+1];he==="style"?ys(p,me):he==="dangerouslySetInnerHTML"?Ke(p,me):he==="children"?nt(p,me):T(p,he,me,Z)}switch(M){case"input":be(p,v);break;case"textarea":te(p,v);break;case"select":var ue=p._wrapperState.wasMultiple;p._wrapperState.wasMultiple=!!v.multiple;var Te=v.value;Te!=null?ce(p,!!v.multiple,Te,!1):ue!==!!v.multiple&&(v.defaultValue!=null?ce(p,!!v.multiple,v.defaultValue,!0):ce(p,!!v.multiple,v.multiple?[]:"",!1))}p[yl]=v}catch(Ce){Ot(s,s.return,Ce)}}break;case 6:if(Ln(o,s),ts(s),h&4){if(s.stateNode===null)throw Error(t(162));p=s.stateNode,v=s.memoizedProps;try{p.nodeValue=v}catch(Ce){Ot(s,s.return,Ce)}}break;case 3:if(Ln(o,s),ts(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{Cn(o.containerInfo)}catch(Ce){Ot(s,s.return,Ce)}break;case 4:Ln(o,s),ts(s);break;case 13:Ln(o,s),ts(s),p=s.child,p.flags&8192&&(v=p.memoizedState!==null,p.stateNode.isHidden=v,!v||p.alternate!==null&&p.alternate.memoizedState!==null||(Ef=xt())),h&4&&J0(s);break;case 22:if(he=c!==null&&c.memoizedState!==null,s.mode&1?(xr=(Z=xr)||he,Ln(o,s),xr=Z):Ln(o,s),ts(s),h&8192){if(Z=s.memoizedState!==null,(s.stateNode.isHidden=Z)&&!he&&(s.mode&1)!==0)for(Se=s,he=s.child;he!==null;){for(me=Se=he;Se!==null;){switch(ue=Se,Te=ue.child,ue.tag){case 0:case 11:case 14:case 15:Il(4,ue,ue.return);break;case 1:ga(ue,ue.return);var Ae=ue.stateNode;if(typeof Ae.componentWillUnmount=="function"){h=ue,c=ue.return;try{o=h,Ae.props=o.memoizedProps,Ae.state=o.memoizedState,Ae.componentWillUnmount()}catch(Ce){Ot(h,c,Ce)}}break;case 5:ga(ue,ue.return);break;case 22:if(ue.memoizedState!==null){ey(me);continue}}Te!==null?(Te.return=ue,Se=Te):ey(me)}he=he.sibling}e:for(he=null,me=s;;){if(me.tag===5){if(he===null){he=me;try{p=me.stateNode,Z?(v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(M=me.stateNode,W=me.memoizedProps.style,E=W!=null&&W.hasOwnProperty("display")?W.display:null,M.style.display=gs("display",E))}catch(Ce){Ot(s,s.return,Ce)}}}else if(me.tag===6){if(he===null)try{me.stateNode.nodeValue=Z?"":me.memoizedProps}catch(Ce){Ot(s,s.return,Ce)}}else if((me.tag!==22&&me.tag!==23||me.memoizedState===null||me===s)&&me.child!==null){me.child.return=me,me=me.child;continue}if(me===s)break e;for(;me.sibling===null;){if(me.return===null||me.return===s)break e;he===me&&(he=null),me=me.return}he===me&&(he=null),me.sibling.return=me.return,me=me.sibling}}break;case 19:Ln(o,s),ts(s),h&4&&J0(s);break;case 21:break;default:Ln(o,s),ts(s)}}function ts(s){var o=s.flags;if(o&2){try{e:{for(var c=s.return;c!==null;){if(G0(c)){var h=c;break e}c=c.return}throw Error(t(160))}switch(h.tag){case 5:var p=h.stateNode;h.flags&32&&(nt(p,""),h.flags&=-33);var v=K0(s);_f(s,v,p);break;case 3:case 4:var E=h.stateNode.containerInfo,M=K0(s);wf(s,M,E);break;default:throw Error(t(161))}}catch(W){Ot(s,s.return,W)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function G_(s,o,c){Se=s,X0(s)}function X0(s,o,c){for(var h=(s.mode&1)!==0;Se!==null;){var p=Se,v=p.child;if(p.tag===22&&h){var E=p.memoizedState!==null||bu;if(!E){var M=p.alternate,W=M!==null&&M.memoizedState!==null||xr;M=bu;var Z=xr;if(bu=E,(xr=W)&&!Z)for(Se=p;Se!==null;)E=Se,W=E.child,E.tag===22&&E.memoizedState!==null?ty(p):W!==null?(W.return=E,Se=W):ty(p);for(;v!==null;)Se=v,X0(v),v=v.sibling;Se=p,bu=M,xr=Z}Z0(s)}else(p.subtreeFlags&8772)!==0&&v!==null?(v.return=p,Se=v):Z0(s)}}function Z0(s){for(;Se!==null;){var o=Se;if((o.flags&8772)!==0){var c=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:xr||wu(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!xr)if(c===null)h.componentDidMount();else{var p=o.elementType===o.type?c.memoizedProps:Vn(o.type,c.memoizedProps);h.componentDidUpdate(p,c.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var v=o.updateQueue;v!==null&&Jg(o,v,h);break;case 3:var E=o.updateQueue;if(E!==null){if(c=null,o.child!==null)switch(o.child.tag){case 5:c=o.child.stateNode;break;case 1:c=o.child.stateNode}Jg(o,E,c)}break;case 5:var M=o.stateNode;if(c===null&&o.flags&4){c=M;var W=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&c.focus();break;case"img":W.src&&(c.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Z=o.alternate;if(Z!==null){var he=Z.memoizedState;if(he!==null){var me=he.dehydrated;me!==null&&Cn(me)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}xr||o.flags&512&&bf(o)}catch(ue){Ot(o,o.return,ue)}}if(o===s){Se=null;break}if(c=o.sibling,c!==null){c.return=o.return,Se=c;break}Se=o.return}}function ey(s){for(;Se!==null;){var o=Se;if(o===s){Se=null;break}var c=o.sibling;if(c!==null){c.return=o.return,Se=c;break}Se=o.return}}function ty(s){for(;Se!==null;){var o=Se;try{switch(o.tag){case 0:case 11:case 15:var c=o.return;try{wu(4,o)}catch(W){Ot(o,c,W)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var p=o.return;try{h.componentDidMount()}catch(W){Ot(o,p,W)}}var v=o.return;try{bf(o)}catch(W){Ot(o,v,W)}break;case 5:var E=o.return;try{bf(o)}catch(W){Ot(o,E,W)}}}catch(W){Ot(o,o.return,W)}if(o===s){Se=null;break}var M=o.sibling;if(M!==null){M.return=o.return,Se=M;break}Se=o.return}}var K_=Math.ceil,_u=$.ReactCurrentDispatcher,jf=$.ReactCurrentOwner,pn=$.ReactCurrentBatchConfig,lt=0,sr=null,qt=null,ur=0,tn=0,ya=si(0),er=0,Sl=null,so=0,ju=0,Nf=0,Al=null,Mr=null,Ef=0,va=1/0,Cs=null,Nu=!1,kf=null,ui=null,Eu=!1,di=null,ku=0,Cl=0,Tf=null,Tu=-1,Iu=0;function Ar(){return(lt&6)!==0?xt():Tu!==-1?Tu:Tu=xt()}function hi(s){return(s.mode&1)===0?1:(lt&2)!==0&&ur!==0?ur&-ur:C_.transition!==null?(Iu===0&&(Iu=qi()),Iu):(s=st,s!==0||(s=window.event,s=s===void 0?16:il(s.type)),s)}function Fn(s,o,c,h){if(50<Cl)throw Cl=0,Tf=null,Error(t(185));Js(s,c,h),((lt&2)===0||s!==sr)&&(s===sr&&((lt&2)===0&&(ju|=c),er===4&&fi(s,ur)),Ur(s,h),c===1&&lt===0&&(o.mode&1)===0&&(va=xt()+500,ru&&oi()))}function Ur(s,o){var c=s.callbackNode;xs(s,o);var h=Wi(s,s===sr?ur:0);if(h===0)c!==null&&el(c),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(c!=null&&el(c),o===1)s.tag===0?A_(ny.bind(null,s)):zg(ny.bind(null,s)),k_(function(){(lt&6)===0&&oi()}),c=null;else{switch(Xs(h)){case 1:c=$i;break;case 4:c=Gs;break;case 16:c=ln;break;case 536870912:c=Ic;break;default:c=ln}c=dy(c,ry.bind(null,s))}s.callbackPriority=o,s.callbackNode=c}}function ry(s,o){if(Tu=-1,Iu=0,(lt&6)!==0)throw Error(t(327));var c=s.callbackNode;if(xa()&&s.callbackNode!==c)return null;var h=Wi(s,s===sr?ur:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||o)o=Su(s,h);else{o=h;var p=lt;lt|=2;var v=iy();(sr!==s||ur!==o)&&(Cs=null,va=xt()+500,oo(s,o));do try{Y_();break}catch(M){sy(s,M)}while(!0);Hh(),_u.current=v,lt=p,qt!==null?o=0:(sr=null,ur=0,o=er)}if(o!==0){if(o===2&&(p=Jr(s),p!==0&&(h=p,o=If(s,p))),o===1)throw c=Sl,oo(s,0),fi(s,h),Ur(s,xt()),c;if(o===6)fi(s,h);else{if(p=s.current.alternate,(h&30)===0&&!Q_(p)&&(o=Su(s,h),o===2&&(v=Jr(s),v!==0&&(h=v,o=If(s,v))),o===1))throw c=Sl,oo(s,0),fi(s,h),Ur(s,xt()),c;switch(s.finishedWork=p,s.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:ao(s,Mr,Cs);break;case 3:if(fi(s,h),(h&130023424)===h&&(o=Ef+500-xt(),10<o)){if(Wi(s,0)!==0)break;if(p=s.suspendedLanes,(p&h)!==h){Ar(),s.pingedLanes|=s.suspendedLanes&p;break}s.timeoutHandle=Ph(ao.bind(null,s,Mr,Cs),o);break}ao(s,Mr,Cs);break;case 4:if(fi(s,h),(h&4194240)===h)break;for(o=s.eventTimes,p=-1;0<h;){var E=31-Tr(h);v=1<<E,E=o[E],E>p&&(p=E),h&=~v}if(h=p,h=xt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*K_(h/1960))-h,10<h){s.timeoutHandle=Ph(ao.bind(null,s,Mr,Cs),h);break}ao(s,Mr,Cs);break;case 5:ao(s,Mr,Cs);break;default:throw Error(t(329))}}}return Ur(s,xt()),s.callbackNode===c?ry.bind(null,s):null}function If(s,o){var c=Al;return s.current.memoizedState.isDehydrated&&(oo(s,o).flags|=256),s=Su(s,o),s!==2&&(o=Mr,Mr=c,o!==null&&Sf(o)),s}function Sf(s){Mr===null?Mr=s:Mr.push.apply(Mr,s)}function Q_(s){for(var o=s;;){if(o.flags&16384){var c=o.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var h=0;h<c.length;h++){var p=c[h],v=p.getSnapshot;p=p.value;try{if(!Pn(v(),p))return!1}catch{return!1}}}if(c=o.child,o.subtreeFlags&16384&&c!==null)c.return=o,o=c;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function fi(s,o){for(o&=~Nf,o&=~ju,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var c=31-Tr(o),h=1<<c;s[c]=-1,o&=~h}}function ny(s){if((lt&6)!==0)throw Error(t(327));xa();var o=Wi(s,0);if((o&1)===0)return Ur(s,xt()),null;var c=Su(s,o);if(s.tag!==0&&c===2){var h=Jr(s);h!==0&&(o=h,c=If(s,h))}if(c===1)throw c=Sl,oo(s,0),fi(s,o),Ur(s,xt()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,ao(s,Mr,Cs),Ur(s,xt()),null}function Af(s,o){var c=lt;lt|=1;try{return s(o)}finally{lt=c,lt===0&&(va=xt()+500,ru&&oi())}}function io(s){di!==null&&di.tag===0&&(lt&6)===0&&xa();var o=lt;lt|=1;var c=pn.transition,h=st;try{if(pn.transition=null,st=1,s)return s()}finally{st=h,pn.transition=c,lt=o,(lt&6)===0&&oi()}}function Cf(){tn=ya.current,Et(ya)}function oo(s,o){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,E_(c)),qt!==null)for(c=qt.return;c!==null;){var h=c;switch(Mh(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&eu();break;case 3:ma(),Et(Or),Et(gr),ef();break;case 5:Xh(h);break;case 4:ma();break;case 13:Et(At);break;case 19:Et(At);break;case 10:Wh(h.type._context);break;case 22:case 23:Cf()}c=c.return}if(sr=s,qt=s=mi(s.current,null),ur=tn=o,er=0,Sl=null,Nf=ju=so=0,Mr=Al=null,to!==null){for(o=0;o<to.length;o++)if(c=to[o],h=c.interleaved,h!==null){c.interleaved=null;var p=h.next,v=c.pending;if(v!==null){var E=v.next;v.next=p,h.next=E}c.pending=h}to=null}return s}function sy(s,o){do{var c=qt;try{if(Hh(),fu.current=yu,mu){for(var h=Ct.memoizedState;h!==null;){var p=h.queue;p!==null&&(p.pending=null),h=h.next}mu=!1}if(no=0,nr=Zt=Ct=null,jl=!1,Nl=0,jf.current=null,c===null||c.return===null){er=1,Sl=o,qt=null;break}e:{var v=s,E=c.return,M=c,W=o;if(o=ur,M.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var Z=W,he=M,me=he.tag;if((he.mode&1)===0&&(me===0||me===11||me===15)){var ue=he.alternate;ue?(he.updateQueue=ue.updateQueue,he.memoizedState=ue.memoizedState,he.lanes=ue.lanes):(he.updateQueue=null,he.memoizedState=null)}var Te=S0(E);if(Te!==null){Te.flags&=-257,A0(Te,E,M,v,o),Te.mode&1&&I0(v,Z,o),o=Te,W=Z;var Ae=o.updateQueue;if(Ae===null){var Ce=new Set;Ce.add(W),o.updateQueue=Ce}else Ae.add(W);break e}else{if((o&1)===0){I0(v,Z,o),Rf();break e}W=Error(t(426))}}else if(St&&M.mode&1){var zt=S0(E);if(zt!==null){(zt.flags&65536)===0&&(zt.flags|=256),A0(zt,E,M,v,o),Bh(pa(W,M));break e}}v=W=pa(W,M),er!==4&&(er=2),Al===null?Al=[v]:Al.push(v),v=E;do{switch(v.tag){case 3:v.flags|=65536,o&=-o,v.lanes|=o;var Y=k0(v,W,o);Qg(v,Y);break e;case 1:M=W;var K=v.type,X=v.stateNode;if((v.flags&128)===0&&(typeof K.getDerivedStateFromError=="function"||X!==null&&typeof X.componentDidCatch=="function"&&(ui===null||!ui.has(X)))){v.flags|=65536,o&=-o,v.lanes|=o;var pe=T0(v,M,o);Qg(v,pe);break e}}v=v.return}while(v!==null)}ay(c)}catch(De){o=De,qt===c&&c!==null&&(qt=c=c.return);continue}break}while(!0)}function iy(){var s=_u.current;return _u.current=yu,s===null?yu:s}function Rf(){(er===0||er===3||er===2)&&(er=4),sr===null||(so&268435455)===0&&(ju&268435455)===0||fi(sr,ur)}function Su(s,o){var c=lt;lt|=2;var h=iy();(sr!==s||ur!==o)&&(Cs=null,oo(s,o));do try{J_();break}catch(p){sy(s,p)}while(!0);if(Hh(),lt=c,_u.current=h,qt!==null)throw Error(t(261));return sr=null,ur=0,er}function J_(){for(;qt!==null;)oy(qt)}function Y_(){for(;qt!==null&&!kc();)oy(qt)}function oy(s){var o=uy(s.alternate,s,tn);s.memoizedProps=s.pendingProps,o===null?ay(s):qt=o,jf.current=null}function ay(s){var o=s;do{var c=o.alternate;if(s=o.return,(o.flags&32768)===0){if(c=$_(c,o,tn),c!==null){qt=c;return}}else{if(c=H_(c,o),c!==null){c.flags&=32767,qt=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{er=6,qt=null;return}}if(o=o.sibling,o!==null){qt=o;return}qt=o=s}while(o!==null);er===0&&(er=5)}function ao(s,o,c){var h=st,p=pn.transition;try{pn.transition=null,st=1,X_(s,o,c,h)}finally{pn.transition=p,st=h}return null}function X_(s,o,c,h){do xa();while(di!==null);if((lt&6)!==0)throw Error(t(327));c=s.finishedWork;var p=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var v=c.lanes|c.childLanes;if(yt(s,v),s===sr&&(qt=sr=null,ur=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||Eu||(Eu=!0,dy(ln,function(){return xa(),null})),v=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||v){v=pn.transition,pn.transition=null;var E=st;st=1;var M=lt;lt|=4,jf.current=null,q_(s,c),Y0(c,s),v_(Ch),ei=!!Ah,Ch=Ah=null,s.current=c,G_(c),mh(),lt=M,st=E,pn.transition=v}else s.current=c;if(Eu&&(Eu=!1,di=s,ku=p),v=s.pendingLanes,v===0&&(ui=null),Sc(c.stateNode),Ur(s,xt()),o!==null)for(h=s.onRecoverableError,c=0;c<o.length;c++)p=o[c],h(p.value,{componentStack:p.stack,digest:p.digest});if(Nu)throw Nu=!1,s=kf,kf=null,s;return(ku&1)!==0&&s.tag!==0&&xa(),v=s.pendingLanes,(v&1)!==0?s===Tf?Cl++:(Cl=0,Tf=s):Cl=0,oi(),null}function xa(){if(di!==null){var s=Xs(ku),o=pn.transition,c=st;try{if(pn.transition=null,st=16>s?16:s,di===null)var h=!1;else{if(s=di,di=null,ku=0,(lt&6)!==0)throw Error(t(331));var p=lt;for(lt|=4,Se=s.current;Se!==null;){var v=Se,E=v.child;if((Se.flags&16)!==0){var M=v.deletions;if(M!==null){for(var W=0;W<M.length;W++){var Z=M[W];for(Se=Z;Se!==null;){var he=Se;switch(he.tag){case 0:case 11:case 15:Il(8,he,v)}var me=he.child;if(me!==null)me.return=he,Se=me;else for(;Se!==null;){he=Se;var ue=he.sibling,Te=he.return;if(q0(he),he===Z){Se=null;break}if(ue!==null){ue.return=Te,Se=ue;break}Se=Te}}}var Ae=v.alternate;if(Ae!==null){var Ce=Ae.child;if(Ce!==null){Ae.child=null;do{var zt=Ce.sibling;Ce.sibling=null,Ce=zt}while(Ce!==null)}}Se=v}}if((v.subtreeFlags&2064)!==0&&E!==null)E.return=v,Se=E;else e:for(;Se!==null;){if(v=Se,(v.flags&2048)!==0)switch(v.tag){case 0:case 11:case 15:Il(9,v,v.return)}var Y=v.sibling;if(Y!==null){Y.return=v.return,Se=Y;break e}Se=v.return}}var K=s.current;for(Se=K;Se!==null;){E=Se;var X=E.child;if((E.subtreeFlags&2064)!==0&&X!==null)X.return=E,Se=X;else e:for(E=K;Se!==null;){if(M=Se,(M.flags&2048)!==0)try{switch(M.tag){case 0:case 11:case 15:wu(9,M)}}catch(De){Ot(M,M.return,De)}if(M===E){Se=null;break e}var pe=M.sibling;if(pe!==null){pe.return=M.return,Se=pe;break e}Se=M.return}}if(lt=p,oi(),Qr&&typeof Qr.onPostCommitFiberRoot=="function")try{Qr.onPostCommitFiberRoot(Hi,s)}catch{}h=!0}return h}finally{st=c,pn.transition=o}}return!1}function ly(s,o,c){o=pa(c,o),o=k0(s,o,1),s=li(s,o,1),o=Ar(),s!==null&&(Js(s,1,o),Ur(s,o))}function Ot(s,o,c){if(s.tag===3)ly(s,s,c);else for(;o!==null;){if(o.tag===3){ly(o,s,c);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(ui===null||!ui.has(h))){s=pa(c,s),s=T0(o,s,1),o=li(o,s,1),s=Ar(),o!==null&&(Js(o,1,s),Ur(o,s));break}}o=o.return}}function Z_(s,o,c){var h=s.pingCache;h!==null&&h.delete(o),o=Ar(),s.pingedLanes|=s.suspendedLanes&c,sr===s&&(ur&c)===c&&(er===4||er===3&&(ur&130023424)===ur&&500>xt()-Ef?oo(s,0):Nf|=c),Ur(s,o)}function cy(s,o){o===0&&((s.mode&1)===0?o=1:(o=Bo,Bo<<=1,(Bo&130023424)===0&&(Bo=4194304)));var c=Ar();s=Is(s,o),s!==null&&(Js(s,o,c),Ur(s,c))}function ej(s){var o=s.memoizedState,c=0;o!==null&&(c=o.retryLane),cy(s,c)}function tj(s,o){var c=0;switch(s.tag){case 13:var h=s.stateNode,p=s.memoizedState;p!==null&&(c=p.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),cy(s,c)}var uy;uy=function(s,o,c){if(s!==null)if(s.memoizedProps!==o.pendingProps||Or.current)Fr=!0;else{if((s.lanes&c)===0&&(o.flags&128)===0)return Fr=!1,B_(s,o,c);Fr=(s.flags&131072)!==0}else Fr=!1,St&&(o.flags&1048576)!==0&&Bg(o,su,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;xu(s,o),s=o.pendingProps;var p=aa(o,gr.current);ha(o,c),p=nf(null,o,h,s,p,c);var v=sf();return o.flags|=1,typeof p=="object"&&p!==null&&typeof p.render=="function"&&p.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,Lr(h)?(v=!0,tu(o)):v=!1,o.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,Kh(o),p.updater=uu,o.stateNode=p,p._reactInternals=o,Jh(o,h,s,c),o=ff(null,o,h,!0,v,c)):(o.tag=0,St&&v&&Fh(o),Sr(null,o,p,c),o=o.child),o;case 16:h=o.elementType;e:{switch(xu(s,o),s=o.pendingProps,p=h._init,h=p(h._payload),o.type=h,p=o.tag=nj(h),s=Vn(h,s),p){case 0:o=hf(null,o,h,s,c);break e;case 1:o=O0(null,o,h,s,c);break e;case 11:o=C0(null,o,h,s,c);break e;case 14:o=R0(null,o,h,Vn(h.type,s),c);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Vn(h,p),hf(s,o,h,p,c);case 1:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Vn(h,p),O0(s,o,h,p,c);case 3:e:{if(L0(o),s===null)throw Error(t(387));h=o.pendingProps,v=o.memoizedState,p=v.element,Kg(s,o),cu(o,h,null,c);var E=o.memoizedState;if(h=E.element,v.isDehydrated)if(v={element:h,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},o.updateQueue.baseState=v,o.memoizedState=v,o.flags&256){p=pa(Error(t(423)),o),o=F0(s,o,h,c,p);break e}else if(h!==p){p=pa(Error(t(424)),o),o=F0(s,o,h,c,p);break e}else for(en=ni(o.stateNode.containerInfo.firstChild),Zr=o,St=!0,Dn=null,c=n0(o,null,h,c),o.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(ua(),h===p){o=As(s,o,c);break e}Sr(s,o,h,c)}o=o.child}return o;case 5:return s0(o),s===null&&zh(o),h=o.type,p=o.pendingProps,v=s!==null?s.memoizedProps:null,E=p.children,Rh(h,p)?E=null:v!==null&&Rh(h,v)&&(o.flags|=32),V0(s,o),Sr(s,o,E,c),o.child;case 6:return s===null&&zh(o),null;case 13:return M0(s,o,c);case 4:return Yh(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=fa(o,null,h,c):Sr(s,o,h,c),o.child;case 11:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Vn(h,p),C0(s,o,h,p,c);case 7:return Sr(s,o,o.pendingProps,c),o.child;case 8:return Sr(s,o,o.pendingProps.children,c),o.child;case 12:return Sr(s,o,o.pendingProps.children,c),o.child;case 10:e:{if(h=o.type._context,p=o.pendingProps,v=o.memoizedProps,E=p.value,bt(ou,h._currentValue),h._currentValue=E,v!==null)if(Pn(v.value,E)){if(v.children===p.children&&!Or.current){o=As(s,o,c);break e}}else for(v=o.child,v!==null&&(v.return=o);v!==null;){var M=v.dependencies;if(M!==null){E=v.child;for(var W=M.firstContext;W!==null;){if(W.context===h){if(v.tag===1){W=Ss(-1,c&-c),W.tag=2;var Z=v.updateQueue;if(Z!==null){Z=Z.shared;var he=Z.pending;he===null?W.next=W:(W.next=he.next,he.next=W),Z.pending=W}}v.lanes|=c,W=v.alternate,W!==null&&(W.lanes|=c),qh(v.return,c,o),M.lanes|=c;break}W=W.next}}else if(v.tag===10)E=v.type===o.type?null:v.child;else if(v.tag===18){if(E=v.return,E===null)throw Error(t(341));E.lanes|=c,M=E.alternate,M!==null&&(M.lanes|=c),qh(E,c,o),E=v.sibling}else E=v.child;if(E!==null)E.return=v;else for(E=v;E!==null;){if(E===o){E=null;break}if(v=E.sibling,v!==null){v.return=E.return,E=v;break}E=E.return}v=E}Sr(s,o,p.children,c),o=o.child}return o;case 9:return p=o.type,h=o.pendingProps.children,ha(o,c),p=fn(p),h=h(p),o.flags|=1,Sr(s,o,h,c),o.child;case 14:return h=o.type,p=Vn(h,o.pendingProps),p=Vn(h.type,p),R0(s,o,h,p,c);case 15:return P0(s,o,o.type,o.pendingProps,c);case 17:return h=o.type,p=o.pendingProps,p=o.elementType===h?p:Vn(h,p),xu(s,o),o.tag=1,Lr(h)?(s=!0,tu(o)):s=!1,ha(o,c),Zg(o,h,p),Jh(o,h,p,c),ff(null,o,h,!0,s,c);case 19:return z0(s,o,c);case 22:return D0(s,o,c)}throw Error(t(156,o.tag))};function dy(s,o){return Uo(s,o)}function rj(s,o,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function gn(s,o,c,h){return new rj(s,o,c,h)}function Pf(s){return s=s.prototype,!(!s||!s.isReactComponent)}function nj(s){if(typeof s=="function")return Pf(s)?1:0;if(s!=null){if(s=s.$$typeof,s===D)return 11;if(s===Le)return 14}return 2}function mi(s,o){var c=s.alternate;return c===null?(c=gn(s.tag,o,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=o,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,o=s.dependencies,c.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Au(s,o,c,h,p,v){var E=2;if(h=s,typeof s=="function")Pf(s)&&(E=1);else if(typeof s=="string")E=5;else e:switch(s){case j:return lo(c.children,p,v,o);case N:E=8,p|=8;break;case k:return s=gn(12,c,o,p|2),s.elementType=k,s.lanes=v,s;case C:return s=gn(13,c,o,p),s.elementType=C,s.lanes=v,s;case ve:return s=gn(19,c,o,p),s.elementType=ve,s.lanes=v,s;case _e:return Cu(c,p,v,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case L:E=10;break e;case F:E=9;break e;case D:E=11;break e;case Le:E=14;break e;case Ve:E=16,h=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return o=gn(E,c,o,p),o.elementType=s,o.type=h,o.lanes=v,o}function lo(s,o,c,h){return s=gn(7,s,h,o),s.lanes=c,s}function Cu(s,o,c,h){return s=gn(22,s,h,o),s.elementType=_e,s.lanes=c,s.stateNode={isHidden:!1},s}function Df(s,o,c){return s=gn(6,s,null,o),s.lanes=c,s}function Vf(s,o,c){return o=gn(4,s.children!==null?s.children:[],s.key,o),o.lanes=c,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function sj(s,o,c,h,p){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Qs(0),this.expirationTimes=Qs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qs(0),this.identifierPrefix=h,this.onRecoverableError=p,this.mutableSourceEagerHydrationData=null}function Of(s,o,c,h,p,v,E,M,W){return s=new sj(s,o,c,M,W),o===1?(o=1,v===!0&&(o|=8)):o=0,v=gn(3,null,null,o),s.current=v,v.stateNode=s,v.memoizedState={element:h,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},Kh(v),s}function ij(s,o,c){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:I,key:h==null?null:""+h,children:s,containerInfo:o,implementation:c}}function hy(s){if(!s)return ii;s=s._reactInternals;e:{if(kn(s)!==s||s.tag!==1)throw Error(t(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(Lr(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(Lr(c))return Mg(s,c,o)}return o}function fy(s,o,c,h,p,v,E,M,W){return s=Of(c,h,!0,s,p,v,E,M,W),s.context=hy(null),c=s.current,h=Ar(),p=hi(c),v=Ss(h,p),v.callback=o??null,li(c,v,p),s.current.lanes=p,Js(s,p,h),Ur(s,h),s}function Ru(s,o,c,h){var p=o.current,v=Ar(),E=hi(p);return c=hy(c),o.context===null?o.context=c:o.pendingContext=c,o=Ss(v,E),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=li(p,o,E),s!==null&&(Fn(s,p,E,v),lu(s,p,E)),E}function Pu(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function my(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<o?c:o}}function Lf(s,o){my(s,o),(s=s.alternate)&&my(s,o)}function oj(){return null}var py=typeof reportError=="function"?reportError:function(s){console.error(s)};function Ff(s){this._internalRoot=s}Du.prototype.render=Ff.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(t(409));Ru(s,o,null,null)},Du.prototype.unmount=Ff.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;io(function(){Ru(null,s,null,null)}),o[Ns]=null}};function Du(s){this._internalRoot=s}Du.prototype.unstable_scheduleHydration=function(s){if(s){var o=Dc();s={blockedOn:null,target:s,priority:o};for(var c=0;c<Kn.length&&o!==0&&o<Kn[c].priority;c++);Kn.splice(c,0,s),c===0&&Lc(s)}};function Mf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Vu(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function gy(){}function aj(s,o,c,h,p){if(p){if(typeof h=="function"){var v=h;h=function(){var Z=Pu(E);v.call(Z)}}var E=fy(o,h,s,0,null,!1,!1,"",gy);return s._reactRootContainer=E,s[Ns]=E.current,pl(s.nodeType===8?s.parentNode:s),io(),E}for(;p=s.lastChild;)s.removeChild(p);if(typeof h=="function"){var M=h;h=function(){var Z=Pu(W);M.call(Z)}}var W=Of(s,0,!1,null,null,!1,!1,"",gy);return s._reactRootContainer=W,s[Ns]=W.current,pl(s.nodeType===8?s.parentNode:s),io(function(){Ru(o,W,c,h)}),W}function Ou(s,o,c,h,p){var v=c._reactRootContainer;if(v){var E=v;if(typeof p=="function"){var M=p;p=function(){var W=Pu(E);M.call(W)}}Ru(o,E,s,p)}else E=aj(c,o,s,p,h);return Pu(E)}Rc=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var c=Ks(o.pendingLanes);c!==0&&(Ys(o,c|1),Ur(o,xt()),(lt&6)===0&&(va=xt()+500,oi()))}break;case 13:io(function(){var h=Is(s,1);if(h!==null){var p=Ar();Fn(h,s,1,p)}}),Lf(s,1)}},$o=function(s){if(s.tag===13){var o=Is(s,134217728);if(o!==null){var c=Ar();Fn(o,s,134217728,c)}Lf(s,134217728)}},Pc=function(s){if(s.tag===13){var o=hi(s),c=Is(s,o);if(c!==null){var h=Ar();Fn(c,s,o,h)}Lf(s,o)}},Dc=function(){return st},Vc=function(s,o){var c=st;try{return st=s,o()}finally{st=c}},Do=function(s,o,c){switch(o){case"input":if(be(s,c),o=c.name,c.type==="radio"&&o!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<c.length;o++){var h=c[o];if(h!==s&&h.form===s.form){var p=Zc(h);if(!p)throw Error(t(90));Mt(h),be(h,p)}}}break;case"textarea":te(s,c);break;case"select":o=c.value,o!=null&&ce(s,!!c.multiple,o,!1)}},Mi=Af,Ja=io;var lj={usingClientEntryPoint:!1,Events:[vl,ia,Zc,qn,Qa,Af]},Rl={findFiberByHostInstance:Yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},cj={bundleType:Rl.bundleType,version:Rl.version,rendererPackageName:Rl.rendererPackageName,rendererConfig:Rl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Za(s),s===null?null:s.stateNode},findFiberByHostInstance:Rl.findFiberByHostInstance||oj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lu.isDisabled&&Lu.supportsFiber)try{Hi=Lu.inject(cj),Qr=Lu}catch{}}return zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lj,zr.createPortal=function(s,o){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mf(o))throw Error(t(200));return ij(s,o,null,c)},zr.createRoot=function(s,o){if(!Mf(s))throw Error(t(299));var c=!1,h="",p=py;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(p=o.onRecoverableError)),o=Of(s,1,!1,null,null,c,!1,h,p),s[Ns]=o.current,pl(s.nodeType===8?s.parentNode:s),new Ff(o)},zr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=Za(o),s=s===null?null:s.stateNode,s},zr.flushSync=function(s){return io(s)},zr.hydrate=function(s,o,c){if(!Vu(o))throw Error(t(200));return Ou(null,s,o,!0,c)},zr.hydrateRoot=function(s,o,c){if(!Mf(s))throw Error(t(405));var h=c!=null&&c.hydratedSources||null,p=!1,v="",E=py;if(c!=null&&(c.unstable_strictMode===!0&&(p=!0),c.identifierPrefix!==void 0&&(v=c.identifierPrefix),c.onRecoverableError!==void 0&&(E=c.onRecoverableError)),o=fy(o,null,s,1,c??null,p,!1,v,E),s[Ns]=o.current,pl(s),h)for(s=0;s<h.length;s++)c=h[s],p=c._getVersion,p=p(c._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[c,p]:o.mutableSourceEagerHydrationData.push(c,p);return new Du(o)},zr.render=function(s,o,c){if(!Vu(o))throw Error(t(200));return Ou(null,s,o,!1,c)},zr.unmountComponentAtNode=function(s){if(!Vu(s))throw Error(t(40));return s._reactRootContainer?(io(function(){Ou(null,null,s,!1,function(){s._reactRootContainer=null,s[Ns]=null})}),!0):!1},zr.unstable_batchedUpdates=Af,zr.unstable_renderSubtreeIntoContainer=function(s,o,c,h){if(!Vu(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return Ou(s,o,c,!1,h)},zr.version="18.2.0-next-9e3b772b8-20220608",zr}var Ny;function Tx(){if(Ny)return Bf.exports;Ny=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Bf.exports=vj(),Bf.exports}var Ey;function xj(){if(Ey)return Fu;Ey=1;var r=Tx();return Fu.createRoot=r.createRoot,Fu.hydrateRoot=r.hydrateRoot,Fu}var bj=xj();const wj=kx(bj);Tx();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Yl(){return Yl=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Yl.apply(this,arguments)}var Ni;(function(r){r.Pop="POP",r.Push="PUSH",r.Replace="REPLACE"})(Ni||(Ni={}));const ky="popstate";function _j(r){r===void 0&&(r={});function e(n,a){let{pathname:l,search:u,hash:f}=n.location;return ym("",{pathname:l,search:u,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(n,a){return typeof a=="string"?a:id(a)}return Nj(e,t,null,r)}function $t(r,e){if(r===!1||r===null||typeof r>"u")throw new Error(e)}function Ix(r,e){if(!r){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function jj(){return Math.random().toString(36).substr(2,8)}function Ty(r,e){return{usr:r.state,key:r.key,idx:e}}function ym(r,e,t,n){return t===void 0&&(t=null),Yl({pathname:typeof r=="string"?r:r.pathname,search:"",hash:""},typeof e=="string"?za(e):e,{state:t,key:e&&e.key||n||jj()})}function id(r){let{pathname:e="/",search:t="",hash:n=""}=r;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function za(r){let e={};if(r){let t=r.indexOf("#");t>=0&&(e.hash=r.substr(t),r=r.substr(0,t));let n=r.indexOf("?");n>=0&&(e.search=r.substr(n),r=r.substr(0,n)),r&&(e.pathname=r)}return e}function Nj(r,e,t,n){n===void 0&&(n={});let{window:a=document.defaultView,v5Compat:l=!1}=n,u=a.history,f=Ni.Pop,m=null,g=x();g==null&&(g=0,u.replaceState(Yl({},u.state,{idx:g}),""));function x(){return(u.state||{idx:null}).idx}function _(){f=Ni.Pop;let O=x(),H=O==null?null:O-g;g=O,m&&m({action:f,location:B.location,delta:H})}function w(O,H){f=Ni.Push;let V=ym(B.location,O,H);g=x()+1;let T=Ty(V,g),$=B.createHref(V);try{u.pushState(T,"",$)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;a.location.assign($)}l&&m&&m({action:f,location:B.location,delta:1})}function S(O,H){f=Ni.Replace;let V=ym(B.location,O,H);g=x();let T=Ty(V,g),$=B.createHref(V);u.replaceState(T,"",$),l&&m&&m({action:f,location:B.location,delta:0})}function U(O){let H=a.location.origin!=="null"?a.location.origin:a.location.href,V=typeof O=="string"?O:id(O);return V=V.replace(/ $/,"%20"),$t(H,"No window.location.(origin|href) available to create URL for href: "+V),new URL(V,H)}let B={get action(){return f},get location(){return r(a,u)},listen(O){if(m)throw new Error("A history only accepts one active listener");return a.addEventListener(ky,_),m=O,()=>{a.removeEventListener(ky,_),m=null}},createHref(O){return e(a,O)},createURL:U,encodeLocation(O){let H=U(O);return{pathname:H.pathname,search:H.search,hash:H.hash}},push:w,replace:S,go(O){return u.go(O)}};return B}var Iy;(function(r){r.data="data",r.deferred="deferred",r.redirect="redirect",r.error="error"})(Iy||(Iy={}));function Ej(r,e,t){return t===void 0&&(t="/"),kj(r,e,t)}function kj(r,e,t,n){let a=typeof e=="string"?za(e):e,l=Qm(a.pathname||"/",t);if(l==null)return null;let u=Sx(r);Tj(u);let f=null;for(let m=0;f==null&&m<u.length;++m){let g=Mj(l);f=Oj(u[m],g)}return f}function Sx(r,e,t,n){e===void 0&&(e=[]),t===void 0&&(t=[]),n===void 0&&(n="");let a=(l,u,f)=>{let m={relativePath:f===void 0?l.path||"":f,caseSensitive:l.caseSensitive===!0,childrenIndex:u,route:l};m.relativePath.startsWith("/")&&($t(m.relativePath.startsWith(n),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(n.length));let g=ki([n,m.relativePath]),x=t.concat(m);l.children&&l.children.length>0&&($t(l.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+g+'".')),Sx(l.children,e,x,g)),!(l.path==null&&!l.index)&&e.push({path:g,score:Dj(g,l.index),routesMeta:x})};return r.forEach((l,u)=>{var f;if(l.path===""||!((f=l.path)!=null&&f.includes("?")))a(l,u);else for(let m of Ax(l.path))a(l,u,m)}),e}function Ax(r){let e=r.split("/");if(e.length===0)return[];let[t,...n]=e,a=t.endsWith("?"),l=t.replace(/\?$/,"");if(n.length===0)return a?[l,""]:[l];let u=Ax(n.join("/")),f=[];return f.push(...u.map(m=>m===""?l:[l,m].join("/"))),a&&f.push(...u),f.map(m=>r.startsWith("/")&&m===""?"/":m)}function Tj(r){r.sort((e,t)=>e.score!==t.score?t.score-e.score:Vj(e.routesMeta.map(n=>n.childrenIndex),t.routesMeta.map(n=>n.childrenIndex)))}const Ij=/^:[\w-]+$/,Sj=3,Aj=2,Cj=1,Rj=10,Pj=-2,Sy=r=>r==="*";function Dj(r,e){let t=r.split("/"),n=t.length;return t.some(Sy)&&(n+=Pj),e&&(n+=Aj),t.filter(a=>!Sy(a)).reduce((a,l)=>a+(Ij.test(l)?Sj:l===""?Cj:Rj),n)}function Vj(r,e){return r.length===e.length&&r.slice(0,-1).every((n,a)=>n===e[a])?r[r.length-1]-e[e.length-1]:0}function Oj(r,e,t){let{routesMeta:n}=r,a={},l="/",u=[];for(let f=0;f<n.length;++f){let m=n[f],g=f===n.length-1,x=l==="/"?e:e.slice(l.length)||"/",_=Lj({path:m.relativePath,caseSensitive:m.caseSensitive,end:g},x),w=m.route;if(!_)return null;Object.assign(a,_.params),u.push({params:a,pathname:ki([l,_.pathname]),pathnameBase:$j(ki([l,_.pathnameBase])),route:w}),_.pathnameBase!=="/"&&(l=ki([l,_.pathnameBase]))}return u}function Lj(r,e){typeof r=="string"&&(r={path:r,caseSensitive:!1,end:!0});let[t,n]=Fj(r.path,r.caseSensitive,r.end),a=e.match(t);if(!a)return null;let l=a[0],u=l.replace(/(.)\/+$/,"$1"),f=a.slice(1);return{params:n.reduce((g,x,_)=>{let{paramName:w,isOptional:S}=x;if(w==="*"){let B=f[_]||"";u=l.slice(0,l.length-B.length).replace(/(.)\/+$/,"$1")}const U=f[_];return S&&!U?g[w]=void 0:g[w]=(U||"").replace(/%2F/g,"/"),g},{}),pathname:l,pathnameBase:u,pattern:r}}function Fj(r,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),Ix(r==="*"||!r.endsWith("*")||r.endsWith("/*"),'Route path "'+r+'" will be treated as if it were '+('"'+r.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+r.replace(/\*$/,"/*")+'".'));let n=[],a="^"+r.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,f,m)=>(n.push({paramName:f,isOptional:m!=null}),m?"/?([^\\/]+)?":"/([^\\/]+)"));return r.endsWith("*")?(n.push({paramName:"*"}),a+=r==="*"||r==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?a+="\\/*$":r!==""&&r!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function Mj(r){try{return r.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ix(!1,'The URL path "'+r+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),r}}function Qm(r,e){if(e==="/")return r;if(!r.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,n=r.charAt(t);return n&&n!=="/"?null:r.slice(t)||"/"}function Uj(r,e){e===void 0&&(e="/");let{pathname:t,search:n="",hash:a=""}=typeof r=="string"?za(r):r;return{pathname:t?t.startsWith("/")?t:zj(t,e):e,search:Hj(n),hash:Wj(a)}}function zj(r,e){let t=e.replace(/\/+$/,"").split("/");return r.split("/").forEach(a=>{a===".."?t.length>1&&t.pop():a!=="."&&t.push(a)}),t.length>1?t.join("/"):"/"}function Wf(r,e,t,n){return"Cannot include a '"+r+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Bj(r){return r.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Jm(r,e){let t=Bj(r);return e?t.map((n,a)=>a===t.length-1?n.pathname:n.pathnameBase):t.map(n=>n.pathnameBase)}function Ym(r,e,t,n){n===void 0&&(n=!1);let a;typeof r=="string"?a=za(r):(a=Yl({},r),$t(!a.pathname||!a.pathname.includes("?"),Wf("?","pathname","search",a)),$t(!a.pathname||!a.pathname.includes("#"),Wf("#","pathname","hash",a)),$t(!a.search||!a.search.includes("#"),Wf("#","search","hash",a)));let l=r===""||a.pathname==="",u=l?"/":a.pathname,f;if(u==null)f=t;else{let _=e.length-1;if(!n&&u.startsWith("..")){let w=u.split("/");for(;w[0]==="..";)w.shift(),_-=1;a.pathname=w.join("/")}f=_>=0?e[_]:"/"}let m=Uj(a,f),g=u&&u!=="/"&&u.endsWith("/"),x=(l||u===".")&&t.endsWith("/");return!m.pathname.endsWith("/")&&(g||x)&&(m.pathname+="/"),m}const ki=r=>r.join("/").replace(/\/\/+/g,"/"),$j=r=>r.replace(/\/+$/,"").replace(/^\/*/,"/"),Hj=r=>!r||r==="?"?"":r.startsWith("?")?r:"?"+r,Wj=r=>!r||r==="#"?"":r.startsWith("#")?r:"#"+r;function qj(r){return r!=null&&typeof r.status=="number"&&typeof r.statusText=="string"&&typeof r.internal=="boolean"&&"data"in r}const Cx=["post","put","patch","delete"];new Set(Cx);const Gj=["get",...Cx];new Set(Gj);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xl(){return Xl=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},Xl.apply(this,arguments)}const Xm=z.createContext(null),Kj=z.createContext(null),Pi=z.createContext(null),Ad=z.createContext(null),hs=z.createContext({outlet:null,matches:[],isDataRoute:!1}),Rx=z.createContext(null);function Qj(r,e){let{relative:t}=e===void 0?{}:e;Ba()||$t(!1);let{basename:n,navigator:a}=z.useContext(Pi),{hash:l,pathname:u,search:f}=Dx(r,{relative:t}),m=u;return n!=="/"&&(m=u==="/"?n:ki([n,u])),a.createHref({pathname:m,search:f,hash:l})}function Ba(){return z.useContext(Ad)!=null}function $a(){return Ba()||$t(!1),z.useContext(Ad).location}function Px(r){z.useContext(Pi).static||z.useLayoutEffect(r)}function kr(){let{isDataRoute:r}=z.useContext(hs);return r?uN():Jj()}function Jj(){Ba()||$t(!1);let r=z.useContext(Xm),{basename:e,future:t,navigator:n}=z.useContext(Pi),{matches:a}=z.useContext(hs),{pathname:l}=$a(),u=JSON.stringify(Jm(a,t.v7_relativeSplatPath)),f=z.useRef(!1);return Px(()=>{f.current=!0}),z.useCallback(function(g,x){if(x===void 0&&(x={}),!f.current)return;if(typeof g=="number"){n.go(g);return}let _=Ym(g,JSON.parse(u),l,x.relative==="path");r==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:ki([e,_.pathname])),(x.replace?n.replace:n.push)(_,x.state,x)},[e,n,u,l,r])}const Yj=z.createContext(null);function Xj(r){let e=z.useContext(hs).outlet;return e&&z.createElement(Yj.Provider,{value:r},e)}function Io(){let{matches:r}=z.useContext(hs),e=r[r.length-1];return e?e.params:{}}function Dx(r,e){let{relative:t}=e===void 0?{}:e,{future:n}=z.useContext(Pi),{matches:a}=z.useContext(hs),{pathname:l}=$a(),u=JSON.stringify(Jm(a,n.v7_relativeSplatPath));return z.useMemo(()=>Ym(r,JSON.parse(u),l,t==="path"),[r,u,l,t])}function Zj(r,e){return eN(r,e)}function eN(r,e,t,n){Ba()||$t(!1);let{navigator:a,static:l}=z.useContext(Pi),{matches:u}=z.useContext(hs),f=u[u.length-1],m=f?f.params:{};f&&f.pathname;let g=f?f.pathnameBase:"/";f&&f.route;let x=$a(),_;if(e){var w;let H=typeof e=="string"?za(e):e;g==="/"||(w=H.pathname)!=null&&w.startsWith(g)||$t(!1),_=H}else _=x;let S=_.pathname||"/",U=S;if(g!=="/"){let H=g.replace(/^\//,"").split("/");U="/"+S.replace(/^\//,"").split("/").slice(H.length).join("/")}let B=Ej(r,{pathname:U}),O=iN(B&&B.map(H=>Object.assign({},H,{params:Object.assign({},m,H.params),pathname:ki([g,a.encodeLocation?a.encodeLocation(H.pathname).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?g:ki([g,a.encodeLocation?a.encodeLocation(H.pathnameBase).pathname:H.pathnameBase])})),u,t,n);return e&&O?z.createElement(Ad.Provider,{value:{location:Xl({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:Ni.Pop}},O):O}function tN(){let r=cN(),e=qj(r)?r.status+" "+r.statusText:r instanceof Error?r.message:JSON.stringify(r),t=r instanceof Error?r.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return z.createElement(z.Fragment,null,z.createElement("h2",null,"Unexpected Application Error!"),z.createElement("h3",{style:{fontStyle:"italic"}},e),t?z.createElement("pre",{style:a},t):null,null)}const rN=z.createElement(tN,null);class nN extends z.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?z.createElement(hs.Provider,{value:this.props.routeContext},z.createElement(Rx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sN(r){let{routeContext:e,match:t,children:n}=r,a=z.useContext(Xm);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),z.createElement(hs.Provider,{value:e},n)}function iN(r,e,t,n){var a;if(e===void 0&&(e=[]),t===void 0&&(t=null),n===void 0&&(n=null),r==null){var l;if(!t)return null;if(t.errors)r=t.matches;else if((l=n)!=null&&l.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)r=t.matches;else return null}let u=r,f=(a=t)==null?void 0:a.errors;if(f!=null){let x=u.findIndex(_=>_.route.id&&(f==null?void 0:f[_.route.id])!==void 0);x>=0||$t(!1),u=u.slice(0,Math.min(u.length,x+1))}let m=!1,g=-1;if(t&&n&&n.v7_partialHydration)for(let x=0;x<u.length;x++){let _=u[x];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(g=x),_.route.id){let{loaderData:w,errors:S}=t,U=_.route.loader&&w[_.route.id]===void 0&&(!S||S[_.route.id]===void 0);if(_.route.lazy||U){m=!0,g>=0?u=u.slice(0,g+1):u=[u[0]];break}}}return u.reduceRight((x,_,w)=>{let S,U=!1,B=null,O=null;t&&(S=f&&_.route.id?f[_.route.id]:void 0,B=_.route.errorElement||rN,m&&(g<0&&w===0?(dN("route-fallback"),U=!0,O=null):g===w&&(U=!0,O=_.route.hydrateFallbackElement||null)));let H=e.concat(u.slice(0,w+1)),V=()=>{let T;return S?T=B:U?T=O:_.route.Component?T=z.createElement(_.route.Component,null):_.route.element?T=_.route.element:T=x,z.createElement(sN,{match:_,routeContext:{outlet:x,matches:H,isDataRoute:t!=null},children:T})};return t&&(_.route.ErrorBoundary||_.route.errorElement||w===0)?z.createElement(nN,{location:t.location,revalidation:t.revalidation,component:B,error:S,children:V(),routeContext:{outlet:null,matches:H,isDataRoute:!0}}):V()},null)}var Vx=function(r){return r.UseBlocker="useBlocker",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r}(Vx||{}),Ox=function(r){return r.UseBlocker="useBlocker",r.UseLoaderData="useLoaderData",r.UseActionData="useActionData",r.UseRouteError="useRouteError",r.UseNavigation="useNavigation",r.UseRouteLoaderData="useRouteLoaderData",r.UseMatches="useMatches",r.UseRevalidator="useRevalidator",r.UseNavigateStable="useNavigate",r.UseRouteId="useRouteId",r}(Ox||{});function oN(r){let e=z.useContext(Xm);return e||$t(!1),e}function aN(r){let e=z.useContext(Kj);return e||$t(!1),e}function lN(r){let e=z.useContext(hs);return e||$t(!1),e}function Lx(r){let e=lN(),t=e.matches[e.matches.length-1];return t.route.id||$t(!1),t.route.id}function cN(){var r;let e=z.useContext(Rx),t=aN(),n=Lx();return e!==void 0?e:(r=t.errors)==null?void 0:r[n]}function uN(){let{router:r}=oN(Vx.UseNavigateStable),e=Lx(Ox.UseNavigateStable),t=z.useRef(!1);return Px(()=>{t.current=!0}),z.useCallback(function(a,l){l===void 0&&(l={}),t.current&&(typeof a=="number"?r.navigate(a):r.navigate(a,Xl({fromRouteId:e},l)))},[r,e])}const Ay={};function dN(r,e,t){Ay[r]||(Ay[r]=!0)}function hN(r,e){r==null||r.v7_startTransition,r==null||r.v7_relativeSplatPath}function yo(r){let{to:e,replace:t,state:n,relative:a}=r;Ba()||$t(!1);let{future:l,static:u}=z.useContext(Pi),{matches:f}=z.useContext(hs),{pathname:m}=$a(),g=kr(),x=Ym(e,Jm(f,l.v7_relativeSplatPath),m,a==="path"),_=JSON.stringify(x);return z.useEffect(()=>g(JSON.parse(_),{replace:t,state:n,relative:a}),[g,_,a,t,n]),null}function od(r){return Xj(r.context)}function tt(r){$t(!1)}function fN(r){let{basename:e="/",children:t=null,location:n,navigationType:a=Ni.Pop,navigator:l,static:u=!1,future:f}=r;Ba()&&$t(!1);let m=e.replace(/^\/*/,"/"),g=z.useMemo(()=>({basename:m,navigator:l,static:u,future:Xl({v7_relativeSplatPath:!1},f)}),[m,f,l,u]);typeof n=="string"&&(n=za(n));let{pathname:x="/",search:_="",hash:w="",state:S=null,key:U="default"}=n,B=z.useMemo(()=>{let O=Qm(x,m);return O==null?null:{location:{pathname:O,search:_,hash:w,state:S,key:U},navigationType:a}},[m,x,_,w,S,U,a]);return B==null?null:z.createElement(Pi.Provider,{value:g},z.createElement(Ad.Provider,{children:t,value:B}))}function mN(r){let{children:e,location:t}=r;return Zj(vm(e),t)}new Promise(()=>{});function vm(r,e){e===void 0&&(e=[]);let t=[];return z.Children.forEach(r,(n,a)=>{if(!z.isValidElement(n))return;let l=[...e,a];if(n.type===z.Fragment){t.push.apply(t,vm(n.props.children,l));return}n.type!==tt&&$t(!1),!n.props.index||!n.props.children||$t(!1);let u={id:n.props.id||l.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(u.children=vm(n.props.children,l)),t.push(u)}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xm(){return xm=Object.assign?Object.assign.bind():function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},xm.apply(this,arguments)}function pN(r,e){if(r==null)return{};var t={},n=Object.keys(r),a,l;for(l=0;l<n.length;l++)a=n[l],!(e.indexOf(a)>=0)&&(t[a]=r[a]);return t}function gN(r){return!!(r.metaKey||r.altKey||r.ctrlKey||r.shiftKey)}function yN(r,e){return r.button===0&&(!e||e==="_self")&&!gN(r)}const vN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xN="6";try{window.__reactRouterVersion=xN}catch{}const bN="startTransition",Cy=pj[bN];function wN(r){let{basename:e,children:t,future:n,window:a}=r,l=z.useRef();l.current==null&&(l.current=_j({window:a,v5Compat:!0}));let u=l.current,[f,m]=z.useState({action:u.action,location:u.location}),{v7_startTransition:g}=n||{},x=z.useCallback(_=>{g&&Cy?Cy(()=>m(_)):m(_)},[m,g]);return z.useLayoutEffect(()=>u.listen(x),[u,x]),z.useEffect(()=>hN(n),[n]),z.createElement(fN,{basename:e,children:t,location:f.location,navigationType:f.action,navigator:u,future:n})}const _N=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",jN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pt=z.forwardRef(function(e,t){let{onClick:n,relative:a,reloadDocument:l,replace:u,state:f,target:m,to:g,preventScrollReset:x,viewTransition:_}=e,w=pN(e,vN),{basename:S}=z.useContext(Pi),U,B=!1;if(typeof g=="string"&&jN.test(g)&&(U=g,_N))try{let T=new URL(window.location.href),$=g.startsWith("//")?new URL(T.protocol+g):new URL(g),q=Qm($.pathname,S);$.origin===T.origin&&q!=null?g=q+$.search+$.hash:B=!0}catch{}let O=Qj(g,{relative:a}),H=NN(g,{replace:u,state:f,target:m,preventScrollReset:x,relative:a,viewTransition:_});function V(T){n&&n(T),T.defaultPrevented||H(T)}return z.createElement("a",xm({},w,{href:U||O,onClick:B||l?n:V,ref:t,target:m}))});var Ry;(function(r){r.UseScrollRestoration="useScrollRestoration",r.UseSubmit="useSubmit",r.UseSubmitFetcher="useSubmitFetcher",r.UseFetcher="useFetcher",r.useViewTransitionState="useViewTransitionState"})(Ry||(Ry={}));var Py;(function(r){r.UseFetcher="useFetcher",r.UseFetchers="useFetchers",r.UseScrollRestoration="useScrollRestoration"})(Py||(Py={}));function NN(r,e){let{target:t,replace:n,state:a,preventScrollReset:l,relative:u,viewTransition:f}=e===void 0?{}:e,m=kr(),g=$a(),x=Dx(r,{relative:u});return z.useCallback(_=>{if(yN(_,t)){_.preventDefault();let w=n!==void 0?n:id(g)===id(x);m(r,{replace:w,state:a,preventScrollReset:l,relative:u,viewTransition:f})}},[g,m,x,n,a,t,r,l,u,f])}var Dy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=function(r){const e=[];let t=0;for(let n=0;n<r.length;n++){let a=r.charCodeAt(n);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&n+1<r.length&&(r.charCodeAt(n+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++n)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},EN=function(r){const e=[];let t=0,n=0;for(;t<r.length;){const a=r[t++];if(a<128)e[n++]=String.fromCharCode(a);else if(a>191&&a<224){const l=r[t++];e[n++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=r[t++],u=r[t++],f=r[t++],m=((a&7)<<18|(l&63)<<12|(u&63)<<6|f&63)-65536;e[n++]=String.fromCharCode(55296+(m>>10)),e[n++]=String.fromCharCode(56320+(m&1023))}else{const l=r[t++],u=r[t++];e[n++]=String.fromCharCode((a&15)<<12|(l&63)<<6|u&63)}}return e.join("")},Mx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let a=0;a<r.length;a+=3){const l=r[a],u=a+1<r.length,f=u?r[a+1]:0,m=a+2<r.length,g=m?r[a+2]:0,x=l>>2,_=(l&3)<<4|f>>4;let w=(f&15)<<2|g>>6,S=g&63;m||(S=64,u||(w=64)),n.push(t[x],t[_],t[w],t[S])}return n.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(Fx(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):EN(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let a=0;a<r.length;){const l=t[r.charAt(a++)],f=a<r.length?t[r.charAt(a)]:0;++a;const g=a<r.length?t[r.charAt(a)]:64;++a;const _=a<r.length?t[r.charAt(a)]:64;if(++a,l==null||f==null||g==null||_==null)throw new kN;const w=l<<2|f>>4;if(n.push(w),g!==64){const S=f<<4&240|g>>2;if(n.push(S),_!==64){const U=g<<6&192|_;n.push(U)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class kN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const TN=function(r){const e=Fx(r);return Mx.encodeByteArray(e,!0)},ad=function(r){return TN(r).replace(/\./g,"")},Ux=function(r){try{return Mx.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=()=>IN().__FIREBASE_DEFAULTS__,AN=()=>{if(typeof process>"u"||typeof Dy>"u")return;const r=Dy.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},CN=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&Ux(r[1]);return e&&JSON.parse(e)},Cd=()=>{try{return SN()||AN()||CN()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},zx=r=>{var e,t;return(t=(e=Cd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[r]},Bx=r=>{const e=zx(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),n]:[e.substring(0,t),n]},$x=()=>{var r;return(r=Cd())===null||r===void 0?void 0:r.config},Hx=r=>{var e;return(e=Cd())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wx(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},n=e||"demo-project",a=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}}},r);return[ad(JSON.stringify(t)),ad(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Er(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function PN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Er())}function DN(){var r;const e=(r=Cd())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function VN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function qx(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function ON(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function LN(){const r=Er();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function FN(){return!DN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gx(){try{return typeof indexedDB=="object"}catch{return!1}}function Kx(){return new Promise((r,e)=>{try{let t=!0;const n="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(n);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(n),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{var l;e(((l=a.error)===null||l===void 0?void 0:l.message)||"")}}catch(t){e(t)}})}function MN(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UN="FirebaseError";class jn extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=UN,Object.setPrototypeOf(this,jn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,So.prototype.create)}}class So{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],u=l?zN(l,n):"Error",f=`${this.serviceName}: ${u} (${a}).`;return new jn(a,f,n)}}function zN(r,e){return r.replace(BN,(t,n)=>{const a=e[n];return a!=null?String(a):`<${n}?>`})}const BN=/\{\$([^}]+)}/g;function $N(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Zl(r,e){if(r===e)return!0;const t=Object.keys(r),n=Object.keys(e);for(const a of t){if(!n.includes(a))return!1;const l=r[a],u=e[a];if(Vy(l)&&Vy(u)){if(!Zl(l,u))return!1}else if(l!==u)return!1}for(const a of n)if(!t.includes(a))return!1;return!0}function Vy(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(r){const e=[];for(const[t,n]of Object.entries(r))Array.isArray(n)?n.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Fl(r){const e={};return r.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[a,l]=n.split("=");e[decodeURIComponent(a)]=decodeURIComponent(l)}}),e}function Ml(r){const e=r.indexOf("?");if(!e)return"";const t=r.indexOf("#",e);return r.substring(e,t>0?t:void 0)}function HN(r,e){const t=new WN(r,e);return t.subscribe.bind(t)}class WN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let a;if(e===void 0&&t===void 0&&n===void 0)throw new Error("Missing Observer.");qN(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:n},a.next===void 0&&(a.next=qf),a.error===void 0&&(a.error=qf),a.complete===void 0&&(a.complete=qf);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function qN(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function qf(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GN=1e3,KN=2,QN=4*60*60*1e3,JN=.5;function Oy(r,e=GN,t=KN){const n=e*Math.pow(t,r),a=Math.round(JN*n*(Math.random()-.5)*2);return Math.min(QN,n+a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(r){return r&&r._delegate?r._delegate:r}class _n{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const n=new RN;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&n.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(l){if(a)return null;throw l}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ZN(e))try{this.getOrInitializeService({instanceIdentifier:fo})}catch{}for(const[t,n]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});n.resolve(l)}catch{}}}}clearInstance(e=fo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=fo){return this.instances.has(e)}getOptions(e=fo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[l,u]of this.instancesDeferred.entries()){const f=this.normalizeInstanceIdentifier(l);n===f&&u.resolve(a)}return a}onInit(e,t){var n;const a=this.normalizeInstanceIdentifier(t),l=(n=this.onInitCallbacks.get(a))!==null&&n!==void 0?n:new Set;l.add(e),this.onInitCallbacks.set(a,l);const u=this.instances.get(a);return u&&e(u,a),()=>{l.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const a of n)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:XN(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=fo){return this.component?this.component.multipleInstances?e:fo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function XN(r){return r===fo?void 0:r}function ZN(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new YN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var it;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(it||(it={}));const t2={debug:it.DEBUG,verbose:it.VERBOSE,info:it.INFO,warn:it.WARN,error:it.ERROR,silent:it.SILENT},r2=it.INFO,n2={[it.DEBUG]:"log",[it.VERBOSE]:"log",[it.INFO]:"info",[it.WARN]:"warn",[it.ERROR]:"error"},s2=(r,e,...t)=>{if(e<r.logLevel)return;const n=new Date().toISOString(),a=n2[e];if(a)console[a](`[${n}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Rd{constructor(e){this.name=e,this._logLevel=r2,this._logHandler=s2,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in it))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?t2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,it.DEBUG,...e),this._logHandler(this,it.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,it.VERBOSE,...e),this._logHandler(this,it.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,it.INFO,...e),this._logHandler(this,it.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,it.WARN,...e),this._logHandler(this,it.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,it.ERROR,...e),this._logHandler(this,it.ERROR,...e)}}const i2=(r,e)=>e.some(t=>r instanceof t);let Ly,Fy;function o2(){return Ly||(Ly=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function a2(){return Fy||(Fy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Qx=new WeakMap,bm=new WeakMap,Jx=new WeakMap,Gf=new WeakMap,Zm=new WeakMap;function l2(r){const e=new Promise((t,n)=>{const a=()=>{r.removeEventListener("success",l),r.removeEventListener("error",u)},l=()=>{t(Ti(r.result)),a()},u=()=>{n(r.error),a()};r.addEventListener("success",l),r.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&Qx.set(t,r)}).catch(()=>{}),Zm.set(e,r),e}function c2(r){if(bm.has(r))return;const e=new Promise((t,n)=>{const a=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",u),r.removeEventListener("abort",u)},l=()=>{t(),a()},u=()=>{n(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",l),r.addEventListener("error",u),r.addEventListener("abort",u)});bm.set(r,e)}let wm={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return bm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Jx.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Ti(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function u2(r){wm=r(wm)}function d2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const n=r.call(Kf(this),e,...t);return Jx.set(n,e.sort?e.sort():[e]),Ti(n)}:a2().includes(r)?function(...e){return r.apply(Kf(this),e),Ti(Qx.get(this))}:function(...e){return Ti(r.apply(Kf(this),e))}}function h2(r){return typeof r=="function"?d2(r):(r instanceof IDBTransaction&&c2(r),i2(r,o2())?new Proxy(r,wm):r)}function Ti(r){if(r instanceof IDBRequest)return l2(r);if(Gf.has(r))return Gf.get(r);const e=h2(r);return e!==r&&(Gf.set(r,e),Zm.set(e,r)),e}const Kf=r=>Zm.get(r);function Yx(r,e,{blocked:t,upgrade:n,blocking:a,terminated:l}={}){const u=indexedDB.open(r,e),f=Ti(u);return n&&u.addEventListener("upgradeneeded",m=>{n(Ti(u.result),m.oldVersion,m.newVersion,Ti(u.transaction),m)}),t&&u.addEventListener("blocked",m=>t(m.oldVersion,m.newVersion,m)),f.then(m=>{l&&m.addEventListener("close",()=>l()),a&&m.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),f}const f2=["get","getKey","getAll","getAllKeys","count"],m2=["put","add","delete","clear"],Qf=new Map;function My(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Qf.get(e))return Qf.get(e);const t=e.replace(/FromIndex$/,""),n=e!==t,a=m2.includes(t);if(!(t in(n?IDBIndex:IDBObjectStore).prototype)||!(a||f2.includes(t)))return;const l=async function(u,...f){const m=this.transaction(u,a?"readwrite":"readonly");let g=m.store;return n&&(g=g.index(f.shift())),(await Promise.all([g[t](...f),a&&m.done]))[0]};return Qf.set(e,l),l}u2(r=>({...r,get:(e,t,n)=>My(e,t)||r.get(e,t,n),has:(e,t)=>!!My(e,t)||r.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(g2(t)){const n=t.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(t=>t).join(" ")}}function g2(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _m="@firebase/app",Uy="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ms=new Rd("@firebase/app"),y2="@firebase/app-compat",v2="@firebase/analytics-compat",x2="@firebase/analytics",b2="@firebase/app-check-compat",w2="@firebase/app-check",_2="@firebase/auth",j2="@firebase/auth-compat",N2="@firebase/database",E2="@firebase/data-connect",k2="@firebase/database-compat",T2="@firebase/functions",I2="@firebase/functions-compat",S2="@firebase/installations",A2="@firebase/installations-compat",C2="@firebase/messaging",R2="@firebase/messaging-compat",P2="@firebase/performance",D2="@firebase/performance-compat",V2="@firebase/remote-config",O2="@firebase/remote-config-compat",L2="@firebase/storage",F2="@firebase/storage-compat",M2="@firebase/firestore",U2="@firebase/vertexai-preview",z2="@firebase/firestore-compat",B2="firebase",$2="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="[DEFAULT]",H2={[_m]:"fire-core",[y2]:"fire-core-compat",[x2]:"fire-analytics",[v2]:"fire-analytics-compat",[w2]:"fire-app-check",[b2]:"fire-app-check-compat",[_2]:"fire-auth",[j2]:"fire-auth-compat",[N2]:"fire-rtdb",[E2]:"fire-data-connect",[k2]:"fire-rtdb-compat",[T2]:"fire-fn",[I2]:"fire-fn-compat",[S2]:"fire-iid",[A2]:"fire-iid-compat",[C2]:"fire-fcm",[R2]:"fire-fcm-compat",[P2]:"fire-perf",[D2]:"fire-perf-compat",[V2]:"fire-rc",[O2]:"fire-rc-compat",[L2]:"fire-gcs",[F2]:"fire-gcs-compat",[M2]:"fire-fst",[z2]:"fire-fst-compat",[U2]:"fire-vertex","fire-js":"fire-js",[B2]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ld=new Map,W2=new Map,Nm=new Map;function zy(r,e){try{r.container.addComponent(e)}catch(t){Ms.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function zn(r){const e=r.name;if(Nm.has(e))return Ms.debug(`There were multiple attempts to register component ${e}.`),!1;Nm.set(e,r);for(const t of ld.values())zy(t,r);for(const t of W2.values())zy(t,r);return!0}function Di(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function ns(r){return r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ii=new So("app","Firebase",q2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G2{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new _n("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ii.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ao=$2;function Xx(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const n=Object.assign({name:jm,automaticDataCollectionEnabled:!1},e),a=n.name;if(typeof a!="string"||!a)throw Ii.create("bad-app-name",{appName:String(a)});if(t||(t=$x()),!t)throw Ii.create("no-options");const l=ld.get(a);if(l){if(Zl(t,l.options)&&Zl(n,l.config))return l;throw Ii.create("duplicate-app",{appName:a})}const u=new e2(a);for(const m of Nm.values())u.addComponent(m);const f=new G2(t,n,u);return ld.set(a,f),f}function Pd(r=jm){const e=ld.get(r);if(!e&&r===jm&&$x())return Xx();if(!e)throw Ii.create("no-app",{appName:r});return e}function qr(r,e,t){var n;let a=(n=H2[r])!==null&&n!==void 0?n:r;t&&(a+=`-${t}`);const l=a.match(/\s|\//),u=e.match(/\s|\//);if(l||u){const f=[`Unable to register library "${a}" with version "${e}":`];l&&f.push(`library name "${a}" contains illegal characters (whitespace or "/")`),l&&u&&f.push("and"),u&&f.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ms.warn(f.join(" "));return}zn(new _n(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2="firebase-heartbeat-database",Q2=1,ec="firebase-heartbeat-store";let Jf=null;function Zx(){return Jf||(Jf=Yx(K2,Q2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(ec)}catch(t){console.warn(t)}}}}).catch(r=>{throw Ii.create("idb-open",{originalErrorMessage:r.message})})),Jf}async function J2(r){try{const t=(await Zx()).transaction(ec),n=await t.objectStore(ec).get(eb(r));return await t.done,n}catch(e){if(e instanceof jn)Ms.warn(e.message);else{const t=Ii.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ms.warn(t.message)}}}async function By(r,e){try{const n=(await Zx()).transaction(ec,"readwrite");await n.objectStore(ec).put(e,eb(r)),await n.done}catch(t){if(t instanceof jn)Ms.warn(t.message);else{const n=Ii.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Ms.warn(n.message)}}}function eb(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2=1024,X2=30*24*60*60*1e3;class Z2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new tE(t),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,t;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),l=$y();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===l||this._heartbeatsCache.heartbeats.some(u=>u.date===l)?void 0:(this._heartbeatsCache.heartbeats.push({date:l,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const f=new Date(u.date).valueOf();return Date.now()-f<=X2}),this._storage.overwrite(this._heartbeatsCache))}catch(n){Ms.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$y(),{heartbeatsToSend:n,unsentEntries:a}=eE(this._heartbeatsCache.heartbeats),l=ad(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),l}catch(t){return Ms.warn(t),""}}}function $y(){return new Date().toISOString().substring(0,10)}function eE(r,e=Y2){const t=[];let n=r.slice();for(const a of r){const l=t.find(u=>u.agent===a.agent);if(l){if(l.dates.push(a.date),Hy(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),Hy(t)>e){t.pop();break}n=n.slice(1)}return{heartbeatsToSend:t,unsentEntries:n}}class tE{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Gx()?Kx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await J2(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return By(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const a=await this.read();return By(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function Hy(r){return ad(JSON.stringify({version:2,heartbeats:r})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rE(r){zn(new _n("platform-logger",e=>new p2(e),"PRIVATE")),zn(new _n("heartbeat",e=>new Z2(e),"PRIVATE")),qr(_m,Uy,r),qr(_m,Uy,"esm2017"),qr("fire-js","")}rE("");function ep(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(r);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(r,n[a])&&(t[n[a]]=r[n[a]]);return t}function tb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const nE=tb,rb=new So("auth","Firebase",tb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd=new Rd("@firebase/auth");function sE(r,...e){cd.logLevel<=it.WARN&&cd.warn(`Auth (${Ao}): ${r}`,...e)}function Qu(r,...e){cd.logLevel<=it.ERROR&&cd.error(`Auth (${Ao}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bn(r,...e){throw tp(r,...e)}function os(r,...e){return tp(r,...e)}function nb(r,e,t){const n=Object.assign(Object.assign({},nE()),{[e]:t});return new So("auth","Firebase",n).create(e,{appName:r.name})}function Ls(r){return nb(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tp(r,...e){if(typeof r!="string"){const t=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=r.name),r._errorFactory.create(t,...n)}return rb.create(r,...e)}function He(r,e,...t){if(!r)throw tp(e,...t)}function Ds(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Qu(e),new Error(e)}function Us(r,e){r||Ds(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Em(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function iE(){return Wy()==="http:"||Wy()==="https:"}function Wy(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oE(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(iE()||qx()||"connection"in navigator)?navigator.onLine:!0}function aE(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Us(t>e,"Short delay should be less than long delay!"),this.isMobile=PN()||ON()}get(){return oE()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rp(r,e){Us(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ds("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ds("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ds("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE=new dc(3e4,6e4);function Hs(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function fs(r,e,t,n,a={}){return ib(r,a,async()=>{let l={},u={};n&&(e==="GET"?u=n:l={body:JSON.stringify(n)});const f=uc(Object.assign({key:r.config.apiKey},u)).slice(1),m=await r._getAdditionalHeaders();m["Content-Type"]="application/json",r.languageCode&&(m["X-Firebase-Locale"]=r.languageCode);const g=Object.assign({method:e,headers:m},l);return VN()||(g.referrerPolicy="no-referrer"),sb.fetch()(ob(r,r.config.apiHost,t,f),g)})}async function ib(r,e,t){r._canInitEmulator=!1;const n=Object.assign(Object.assign({},lE),e);try{const a=new dE(r),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const u=await l.json();if("needConfirmation"in u)throw Mu(r,"account-exists-with-different-credential",u);if(l.ok&&!("errorMessage"in u))return u;{const f=l.ok?u.errorMessage:u.error.message,[m,g]=f.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw Mu(r,"credential-already-in-use",u);if(m==="EMAIL_EXISTS")throw Mu(r,"email-already-in-use",u);if(m==="USER_DISABLED")throw Mu(r,"user-disabled",u);const x=n[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw nb(r,x,g);Bn(r,x)}}catch(a){if(a instanceof jn)throw a;Bn(r,"network-request-failed",{message:String(a)})}}async function hc(r,e,t,n,a={}){const l=await fs(r,e,t,n,a);return"mfaPendingCredential"in l&&Bn(r,"multi-factor-auth-required",{_serverResponse:l}),l}function ob(r,e,t,n){const a=`${e}${t}?${n}`;return r.config.emulator?rp(r.config,a):`${r.config.apiScheme}://${a}`}function uE(r){switch(r){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class dE{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,n)=>{this.timer=setTimeout(()=>n(os(this.auth,"network-request-failed")),cE.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Mu(r,e,t){const n={appName:r.name};t.email&&(n.email=t.email),t.phoneNumber&&(n.phoneNumber=t.phoneNumber);const a=os(r,e,n);return a.customData._tokenResponse=t,a}function qy(r){return r!==void 0&&r.enterprise!==void 0}class hE{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return uE(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function fE(r,e){return fs(r,"GET","/v2/recaptchaConfig",Hs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mE(r,e){return fs(r,"POST","/v1/accounts:delete",e)}async function ab(r,e){return fs(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function pE(r,e=!1){const t=wt(r),n=await t.getIdToken(e),a=np(n);He(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,u=l==null?void 0:l.sign_in_provider;return{claims:a,token:n,authTime:Hl(Yf(a.auth_time)),issuedAtTime:Hl(Yf(a.iat)),expirationTime:Hl(Yf(a.exp)),signInProvider:u||null,signInSecondFactor:(l==null?void 0:l.sign_in_second_factor)||null}}function Yf(r){return Number(r)*1e3}function np(r){const[e,t,n]=r.split(".");if(e===void 0||t===void 0||n===void 0)return Qu("JWT malformed, contained fewer than 3 sections"),null;try{const a=Ux(t);return a?JSON.parse(a):(Qu("Failed to decode base64 JWT payload"),null)}catch(a){return Qu("Caught error parsing JWT payload as JSON",a==null?void 0:a.toString()),null}}function Gy(r){const e=np(r);return He(e,"internal-error"),He(typeof e.exp<"u","internal-error"),He(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(r,e,t=!1){if(t)return e;try{return await e}catch(n){throw n instanceof jn&&gE(n)&&r.auth.currentUser===r&&await r.auth.signOut(),n}}function gE({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const a=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,a)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Hl(this.lastLoginAt),this.creationTime=Hl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ud(r){var e;const t=r.auth,n=await r.getIdToken(),a=await Ca(r,ab(t,{idToken:n}));He(a==null?void 0:a.users.length,t,"internal-error");const l=a.users[0];r._notifyReloadListener(l);const u=!((e=l.providerUserInfo)===null||e===void 0)&&e.length?lb(l.providerUserInfo):[],f=xE(r.providerData,u),m=r.isAnonymous,g=!(r.email&&l.passwordHash)&&!(f!=null&&f.length),x=m?g:!1,_={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:f,metadata:new km(l.createdAt,l.lastLoginAt),isAnonymous:x};Object.assign(r,_)}async function vE(r){const e=wt(r);await ud(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function xE(r,e){return[...r.filter(n=>!e.some(a=>a.providerId===n.providerId)),...e]}function lb(r){return r.map(e=>{var{providerId:t}=e,n=ep(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bE(r,e){const t=await ib(r,{},async()=>{const n=uc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=r.config,u=ob(r,a,"/v1/token",`key=${l}`),f=await r._getAdditionalHeaders();return f["Content-Type"]="application/x-www-form-urlencoded",sb.fetch()(u,{method:"POST",headers:f,body:n})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function wE(r,e){return fs(r,"POST","/v2/accounts:revokeToken",Hs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){He(e.idToken,"internal-error"),He(typeof e.idToken<"u","internal-error"),He(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Gy(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){He(e.length!==0,"internal-error");const t=Gy(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(He(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:a,expiresIn:l}=await bE(e,t);this.updateTokensAndExpiration(n,a,Number(l))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,t){const{refreshToken:n,accessToken:a,expirationTime:l}=t,u=new ka;return n&&(He(typeof n=="string","internal-error",{appName:e}),u.refreshToken=n),a&&(He(typeof a=="string","internal-error",{appName:e}),u.accessToken=a),l&&(He(typeof l=="number","internal-error",{appName:e}),u.expirationTime=l),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ka,this.toJSON())}_performRefresh(){return Ds("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(r,e){He(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Vs{constructor(e){var{uid:t,auth:n,stsTokenManager:a}=e,l=ep(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yE(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=a,this.accessToken=a.accessToken,this.displayName=l.displayName||null,this.email=l.email||null,this.emailVerified=l.emailVerified||!1,this.phoneNumber=l.phoneNumber||null,this.photoURL=l.photoURL||null,this.isAnonymous=l.isAnonymous||!1,this.tenantId=l.tenantId||null,this.providerData=l.providerData?[...l.providerData]:[],this.metadata=new km(l.createdAt||void 0,l.lastLoginAt||void 0)}async getIdToken(e){const t=await Ca(this,this.stsTokenManager.getToken(this.auth,e));return He(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return pE(this,e)}reload(){return vE(this)}_assign(e){this!==e&&(He(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Vs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){He(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await ud(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ns(this.auth.app))return Promise.reject(Ls(this.auth));const e=await this.getIdToken();return await Ca(this,mE(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,a,l,u,f,m,g,x;const _=(n=t.displayName)!==null&&n!==void 0?n:void 0,w=(a=t.email)!==null&&a!==void 0?a:void 0,S=(l=t.phoneNumber)!==null&&l!==void 0?l:void 0,U=(u=t.photoURL)!==null&&u!==void 0?u:void 0,B=(f=t.tenantId)!==null&&f!==void 0?f:void 0,O=(m=t._redirectEventId)!==null&&m!==void 0?m:void 0,H=(g=t.createdAt)!==null&&g!==void 0?g:void 0,V=(x=t.lastLoginAt)!==null&&x!==void 0?x:void 0,{uid:T,emailVerified:$,isAnonymous:q,providerData:I,stsTokenManager:j}=t;He(T&&j,e,"internal-error");const N=ka.fromJSON(this.name,j);He(typeof T=="string",e,"internal-error"),gi(_,e.name),gi(w,e.name),He(typeof $=="boolean",e,"internal-error"),He(typeof q=="boolean",e,"internal-error"),gi(S,e.name),gi(U,e.name),gi(B,e.name),gi(O,e.name),gi(H,e.name),gi(V,e.name);const k=new Vs({uid:T,auth:e,email:w,emailVerified:$,displayName:_,isAnonymous:q,photoURL:U,phoneNumber:S,tenantId:B,stsTokenManager:N,createdAt:H,lastLoginAt:V});return I&&Array.isArray(I)&&(k.providerData=I.map(L=>Object.assign({},L))),O&&(k._redirectEventId=O),k}static async _fromIdTokenResponse(e,t,n=!1){const a=new ka;a.updateFromServerResponse(t);const l=new Vs({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:n});return await ud(l),l}static async _fromGetAccountInfoResponse(e,t,n){const a=t.users[0];He(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?lb(a.providerUserInfo):[],u=!(a.email&&a.passwordHash)&&!(l!=null&&l.length),f=new ka;f.updateFromIdToken(n);const m=new Vs({uid:a.localId,auth:e,stsTokenManager:f,isAnonymous:u}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new km(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!(l!=null&&l.length)};return Object.assign(m,g),m}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ky=new Map;function Os(r){Us(r instanceof Function,"Expected a class definition");let e=Ky.get(r);return e?(Us(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,Ky.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}cb.type="NONE";const Qy=cb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(r,e,t){return`firebase:${r}:${e}:${t}`}class Ta{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:a,name:l}=this.auth;this.fullUserKey=Ju(this.userKey,a.apiKey,l),this.fullPersistenceKey=Ju("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Vs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,n="authUser"){if(!t.length)return new Ta(Os(Qy),e,n);const a=(await Promise.all(t.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let l=a[0]||Os(Qy);const u=Ju(n,e.config.apiKey,e.name);let f=null;for(const g of t)try{const x=await g._get(u);if(x){const _=Vs._fromJSON(e,x);g!==l&&(f=_),l=g;break}}catch{}const m=a.filter(g=>g._shouldAllowMigration);return!l._shouldAllowMigration||!m.length?new Ta(l,e,n):(l=m[0],f&&await l._set(u,f.toJSON()),await Promise.all(t.map(async g=>{if(g!==l)try{await g._remove(u)}catch{}})),new Ta(l,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jy(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(fb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(ub(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(pb(e))return"Blackberry";if(gb(e))return"Webos";if(db(e))return"Safari";if((e.includes("chrome/")||hb(e))&&!e.includes("edge/"))return"Chrome";if(mb(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=r.match(t);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function ub(r=Er()){return/firefox\//i.test(r)}function db(r=Er()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hb(r=Er()){return/crios\//i.test(r)}function fb(r=Er()){return/iemobile/i.test(r)}function mb(r=Er()){return/android/i.test(r)}function pb(r=Er()){return/blackberry/i.test(r)}function gb(r=Er()){return/webos/i.test(r)}function sp(r=Er()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function _E(r=Er()){var e;return sp(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jE(){return LN()&&document.documentMode===10}function yb(r=Er()){return sp(r)||mb(r)||gb(r)||pb(r)||/windows phone/i.test(r)||fb(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(r,e=[]){let t;switch(r){case"Browser":t=Jy(Er());break;case"Worker":t=`${Jy(Er())}-${r}`;break;default:t=r}const n=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ao}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NE{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=l=>new Promise((u,f)=>{try{const m=e(l);u(m)}catch(m){f(m)}});n.onAbort=t,this.queue.push(n);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(n){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EE(r,e={}){return fs(r,"GET","/v2/passwordPolicy",Hs(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kE=6;class TE{constructor(e){var t,n,a,l;const u=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=u.minPasswordLength)!==null&&t!==void 0?t:kE,u.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=u.maxPasswordLength),u.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=u.containsLowercaseCharacter),u.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=u.containsUppercaseCharacter),u.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=u.containsNumericCharacter),u.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=u.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(a=(n=e.allowedNonAlphanumericCharacters)===null||n===void 0?void 0:n.join(""))!==null&&a!==void 0?a:"",this.forceUpgradeOnSignin=(l=e.forceUpgradeOnSignin)!==null&&l!==void 0?l:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,a,l,u,f;const m={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,m),this.validatePasswordCharacterOptions(e,m),m.isValid&&(m.isValid=(t=m.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),m.isValid&&(m.isValid=(n=m.meetsMaxPasswordLength)!==null&&n!==void 0?n:!0),m.isValid&&(m.isValid=(a=m.containsLowercaseLetter)!==null&&a!==void 0?a:!0),m.isValid&&(m.isValid=(l=m.containsUppercaseLetter)!==null&&l!==void 0?l:!0),m.isValid&&(m.isValid=(u=m.containsNumericCharacter)!==null&&u!==void 0?u:!0),m.isValid&&(m.isValid=(f=m.containsNonAlphanumericCharacter)!==null&&f!==void 0?f:!0),m}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let n;for(let a=0;a<e.length;a++)n=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(e,t,n,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Yy(this),this.idTokenSubscription=new Yy(this),this.beforeStateQueue=new NE(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=rb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Os(t)),this._initializationPromise=this.queue(async()=>{var n,a;if(!this._deleted&&(this.persistenceManager=await Ta.create(this,e),!this._deleted)){if(!((n=this._popupRedirectResolver)===null||n===void 0)&&n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)===null||a===void 0?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await ab(this,{idToken:e}),n=await Vs._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ns(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(f=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(f,f))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let a=n,l=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,f=a==null?void 0:a._redirectEventId,m=await this.tryRedirectSignIn(e);(!u||u===f)&&(m!=null&&m.user)&&(a=m.user,l=!0)}if(!a)return this.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{await this.beforeStateQueue.runMiddleware(a)}catch(u){a=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return a?this.reloadAndSetCurrentUserOrClear(a):this.directlySetCurrentUser(null)}return He(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===a._redirectEventId?this.directlySetCurrentUser(a):this.reloadAndSetCurrentUserOrClear(a)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await ud(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aE()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ns(this.app))return Promise.reject(Ls(this));const t=e?wt(e):null;return t&&He(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&He(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return ns(this.app)?Promise.reject(Ls(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ns(this.app)?Promise.reject(Ls(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Os(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await EE(this),t=new TE(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new So("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(n.tenantId=this.tenantId),await wE(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Os(e)||this._popupRedirectResolver;He(t,this,"argument-error"),this.redirectPersistenceManager=await Ta.create(this,[Os(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let u=!1;const f=this._isInitialized?Promise.resolve():this._initializationPromise;if(He(f,this,"internal-error"),f.then(()=>{u||l(this.currentUser)}),typeof t=="function"){const m=e.addObserver(t,n,a);return()=>{u=!0,m()}}else{const m=e.addObserver(t);return()=>{u=!0,m()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return He(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=vb(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const a=await this._getAppCheckToken();return a&&(t["X-Firebase-AppCheck"]=a),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&sE(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Vi(r){return wt(r)}class Yy{constructor(e){this.auth=e,this.observer=null,this.addObserver=HN(t=>this.observer=t)}get next(){return He(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SE(r){Dd=r}function xb(r){return Dd.loadJS(r)}function AE(){return Dd.recaptchaEnterpriseScript}function CE(){return Dd.gapiScript}function RE(r){return`__${r}${Math.floor(Math.random()*1e6)}`}const PE="recaptcha-enterprise",DE="NO_RECAPTCHA";class VE{constructor(e){this.type=PE,this.auth=Vi(e)}async verify(e="verify",t=!1){async function n(l){if(!t){if(l.tenantId==null&&l._agentRecaptchaConfig!=null)return l._agentRecaptchaConfig.siteKey;if(l.tenantId!=null&&l._tenantRecaptchaConfigs[l.tenantId]!==void 0)return l._tenantRecaptchaConfigs[l.tenantId].siteKey}return new Promise(async(u,f)=>{fE(l,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)f(new Error("recaptcha Enterprise site key undefined"));else{const g=new hE(m);return l.tenantId==null?l._agentRecaptchaConfig=g:l._tenantRecaptchaConfigs[l.tenantId]=g,u(g.siteKey)}}).catch(m=>{f(m)})})}function a(l,u,f){const m=window.grecaptcha;qy(m)?m.enterprise.ready(()=>{m.enterprise.execute(l,{action:e}).then(g=>{u(g)}).catch(()=>{u(DE)})}):f(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((l,u)=>{n(this.auth).then(f=>{if(!t&&qy(window.grecaptcha))a(f,l,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let m=AE();m.length!==0&&(m+=f),xb(m).then(()=>{a(f,l,u)}).catch(g=>{u(g)})}}).catch(f=>{u(f)})})}}async function Xy(r,e,t,n=!1){const a=new VE(r);let l;try{l=await a.verify(t)}catch{l=await a.verify(t,!0)}const u=Object.assign({},e);return n?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function dd(r,e,t,n){var a;if(!((a=r._getRecaptchaConfig())===null||a===void 0)&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await Xy(r,e,t,t==="getOobCode");return n(r,l)}else return n(r,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await Xy(r,e,t,t==="getOobCode");return n(r,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(r,e){const t=Di(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Zl(l,e??{}))return a;Bn(a,"already-initialized")}return t.initialize({options:e})}function LE(r,e){const t=(e==null?void 0:e.persistence)||[],n=(Array.isArray(t)?t:[t]).map(Os);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function FE(r,e,t){const n=Vi(r);He(n._canInitEmulator,n,"emulator-config-failed"),He(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const a=!1,l=bb(e),{host:u,port:f}=ME(e),m=f===null?"":`:${f}`;n.config.emulator={url:`${l}//${u}${m}/`},n.settings.appVerificationDisabledForTesting=!0,n.emulatorConfig=Object.freeze({host:u,port:f,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})}),UE()}function bb(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function ME(r){const e=bb(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const n=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(n);if(a){const l=a[1];return{host:l,port:Zy(n.substr(l.length+1))}}else{const[l,u]=n.split(":");return{host:l,port:Zy(u)}}}function Zy(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function UE(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ds("not implemented")}_getIdTokenResponse(e){return Ds("not implemented")}_linkToIdToken(e,t){return Ds("not implemented")}_getReauthenticationResolver(e){return Ds("not implemented")}}async function zE(r,e){return fs(r,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BE(r,e){return hc(r,"POST","/v1/accounts:signInWithPassword",Hs(r,e))}async function $E(r,e){return fs(r,"POST","/v1/accounts:sendOobCode",Hs(r,e))}async function HE(r,e){return $E(r,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WE(r,e){return hc(r,"POST","/v1/accounts:signInWithEmailLink",Hs(r,e))}async function qE(r,e){return hc(r,"POST","/v1/accounts:signInWithEmailLink",Hs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc extends ip{constructor(e,t,n,a=null){super("password",n),this._email=e,this._password=t,this._tenantId=a}static _fromEmailAndPassword(e,t){return new tc(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new tc(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dd(e,t,"signInWithPassword",BE);case"emailLink":return WE(e,{email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const n={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return dd(e,n,"signUpPassword",zE);case"emailLink":return qE(e,{idToken:t,email:this._email,oobCode:this._password});default:Bn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(r,e){return hc(r,"POST","/v1/accounts:signInWithIdp",Hs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE="http://localhost";class bo extends ip{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new bo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Bn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:a}=t,l=ep(t,["providerId","signInMethod"]);if(!n||!a)return null;const u=new bo(n,a);return u.idToken=l.idToken||void 0,u.accessToken=l.accessToken||void 0,u.secret=l.secret,u.nonce=l.nonce,u.pendingToken=l.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return Ia(e,t)}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Ia(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ia(e,t)}buildRequest(){const e={requestUri:GE,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=uc(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(r){switch(r){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QE(r){const e=Fl(Ml(r)).link,t=e?Fl(Ml(e)).deep_link_id:null,n=Fl(Ml(r)).deep_link_id;return(n?Fl(Ml(n)).link:null)||n||t||e||r}class op{constructor(e){var t,n,a,l,u,f;const m=Fl(Ml(e)),g=(t=m.apiKey)!==null&&t!==void 0?t:null,x=(n=m.oobCode)!==null&&n!==void 0?n:null,_=KE((a=m.mode)!==null&&a!==void 0?a:null);He(g&&x&&_,"argument-error"),this.apiKey=g,this.operation=_,this.code=x,this.continueUrl=(l=m.continueUrl)!==null&&l!==void 0?l:null,this.languageCode=(u=m.languageCode)!==null&&u!==void 0?u:null,this.tenantId=(f=m.tenantId)!==null&&f!==void 0?f:null}static parseLink(e){const t=QE(e);try{return new op(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.providerId=Ha.PROVIDER_ID}static credential(e,t){return tc._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=op.parseLink(t);return He(n,"argument-error"),tc._fromEmailAndCode(e,n.code,n.tenantId)}}Ha.PROVIDER_ID="password";Ha.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ha.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc extends wb{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi extends fc{constructor(){super("facebook.com")}static credential(e){return bo._fromParams({providerId:vi.PROVIDER_ID,signInMethod:vi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vi.credentialFromTaggedObject(e)}static credentialFromError(e){return vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vi.credential(e.oauthAccessToken)}catch{return null}}}vi.FACEBOOK_SIGN_IN_METHOD="facebook.com";vi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xi extends fc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return bo._fromParams({providerId:xi.PROVIDER_ID,signInMethod:xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return xi.credentialFromTaggedObject(e)}static credentialFromError(e){return xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n}=e;if(!t&&!n)return null;try{return xi.credential(t,n)}catch{return null}}}xi.GOOGLE_SIGN_IN_METHOD="google.com";xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi extends fc{constructor(){super("github.com")}static credential(e){return bo._fromParams({providerId:bi.PROVIDER_ID,signInMethod:bi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bi.credentialFromTaggedObject(e)}static credentialFromError(e){return bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bi.credential(e.oauthAccessToken)}catch{return null}}}bi.GITHUB_SIGN_IN_METHOD="github.com";bi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi extends fc{constructor(){super("twitter.com")}static credential(e,t){return bo._fromParams({providerId:wi.PROVIDER_ID,signInMethod:wi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return wi.credentialFromTaggedObject(e)}static credentialFromError(e){return wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:n}=e;if(!t||!n)return null;try{return wi.credential(t,n)}catch{return null}}}wi.TWITTER_SIGN_IN_METHOD="twitter.com";wi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JE(r,e){return hc(r,"POST","/v1/accounts:signUp",Hs(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n,a=!1){const l=await Vs._fromIdTokenResponse(e,n,a),u=ev(n);return new wo({user:l,providerId:u,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const a=ev(n);return new wo({user:e,providerId:a,_tokenResponse:n,operationType:t})}}function ev(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd extends jn{constructor(e,t,n,a){var l;super(t.code,t.message),this.operationType=n,this.user=a,Object.setPrototypeOf(this,hd.prototype),this.customData={appName:e.name,tenantId:(l=e.tenantId)!==null&&l!==void 0?l:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,a){return new hd(e,t,n,a)}}function _b(r,e,t,n){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?hd._fromErrorAndOperation(r,l,e,n):l})}async function YE(r,e,t=!1){const n=await Ca(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return wo._forOperation(r,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XE(r,e,t=!1){const{auth:n}=r;if(ns(n.app))return Promise.reject(Ls(n));const a="reauthenticate";try{const l=await Ca(r,_b(n,a,e,r),t);He(l.idToken,n,"internal-error");const u=np(l.idToken);He(u,n,"internal-error");const{sub:f}=u;return He(r.uid===f,n,"user-mismatch"),wo._forOperation(r,a,l)}catch(l){throw(l==null?void 0:l.code)==="auth/user-not-found"&&Bn(n,"user-mismatch"),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jb(r,e,t=!1){if(ns(r.app))return Promise.reject(Ls(r));const n="signIn",a=await _b(r,n,e),l=await wo._fromIdTokenResponse(r,n,a);return t||await r._updateCurrentUser(l.user),l}async function ZE(r,e){return jb(Vi(r),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nb(r){const e=Vi(r);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function ek(r,e,t){const n=Vi(r);await dd(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",HE)}async function Eb(r,e,t){if(ns(r.app))return Promise.reject(Ls(r));const n=Vi(r),u=await dd(n,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",JE).catch(m=>{throw m.code==="auth/password-does-not-meet-requirements"&&Nb(r),m}),f=await wo._fromIdTokenResponse(n,"signIn",u);return await n._updateCurrentUser(f.user),f}function tk(r,e,t){return ns(r.app)?Promise.reject(Ls(r)):ZE(wt(r),Ha.credential(e,t)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&Nb(r),n})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rk(r,e){return fs(r,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kb(r,{displayName:e,photoURL:t}){if(e===void 0&&t===void 0)return;const n=wt(r),l={idToken:await n.getIdToken(),displayName:e,photoUrl:t,returnSecureToken:!0},u=await Ca(n,rk(n.auth,l));n.displayName=u.displayName||null,n.photoURL=u.photoUrl||null;const f=n.providerData.find(({providerId:m})=>m==="password");f&&(f.displayName=n.displayName,f.photoURL=n.photoURL),await n._updateTokensIfNecessary(u)}function nk(r,e,t,n){return wt(r).onIdTokenChanged(e,t,n)}function sk(r,e,t){return wt(r).beforeAuthStateChanged(e,t)}function ik(r,e,t,n){return wt(r).onAuthStateChanged(e,t,n)}function ok(r){return wt(r).signOut()}const fd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(fd,"1"),this.storage.removeItem(fd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=1e3,lk=10;class Ib extends Tb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=yb(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),a=this.localCache[t];n!==a&&e(t,a,n)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,f,m)=>{this.notifyListeners(u,m)});return}const n=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const u=this.storage.getItem(n);!t&&this.localCache[n]===u||this.notifyListeners(n,u)},l=this.storage.getItem(n);jE()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,lk):a()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},ak)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Ib.type="LOCAL";const ck=Ib;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb extends Tb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Sb.type="SESSION";const Ab=Sb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uk(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const n=new Vd(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:a,data:l}=t.data,u=this.handlersMap[a];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:a});const f=Array.from(u).map(async g=>g(t.origin,l)),m=await uk(f);t.ports[0].postMessage({status:"done",eventId:n,eventType:a,response:m})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Vd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(r="",e=10){let t="";for(let n=0;n<e;n++)t+=Math.floor(Math.random()*10);return r+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dk{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,n=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,u;return new Promise((f,m)=>{const g=ap("",20);a.port1.start();const x=setTimeout(()=>{m(new Error("unsupported_event"))},n);u={messageChannel:a,onMessage(_){const w=_;if(w.data.eventId===g)switch(w.data.status){case"ack":clearTimeout(x),l=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),f(w.data.response);break;default:clearTimeout(x),clearTimeout(l),m(new Error("invalid_response"));break}}},this.handlers.add(u),a.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:g,data:t},[a.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function as(){return window}function hk(r){as().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cb(){return typeof as().WorkerGlobalScope<"u"&&typeof as().importScripts=="function"}async function fk(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function mk(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function pk(){return Cb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="firebaseLocalStorageDb",gk=1,md="firebaseLocalStorage",Pb="fbase_key";class mc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Od(r,e){return r.transaction([md],e?"readwrite":"readonly").objectStore(md)}function yk(){const r=indexedDB.deleteDatabase(Rb);return new mc(r).toPromise()}function Tm(){const r=indexedDB.open(Rb,gk);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const n=r.result;try{n.createObjectStore(md,{keyPath:Pb})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const n=r.result;n.objectStoreNames.contains(md)?e(n):(n.close(),await yk(),e(await Tm()))})})}async function tv(r,e,t){const n=Od(r,!0).put({[Pb]:e,value:t});return new mc(n).toPromise()}async function vk(r,e){const t=Od(r,!1).get(e),n=await new mc(t).toPromise();return n===void 0?null:n.value}function rv(r,e){const t=Od(r,!0).delete(e);return new mc(t).toPromise()}const xk=800,bk=3;class Db{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Tm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(t++>bk)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Cb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Vd._getInstance(pk()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await fk(),!this.activeServiceWorker)return;this.sender=new dk(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&!((e=n[0])===null||e===void 0)&&e.fulfilled&&!((t=n[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||mk()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Tm();return await tv(e,fd,"1"),await rv(e,fd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(n=>tv(n,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(n=>vk(n,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>rv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Od(a,!1).getAll();return new mc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],n=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)n.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!n.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const a of Array.from(n))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),xk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Db.type="LOCAL";const wk=Db;new dc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(r,e){return e?Os(e):(He(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp extends ip{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ia(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ia(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ia(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function jk(r){return jb(r.auth,new lp(r),r.bypassAuthState)}function Nk(r){const{auth:e,user:t}=r;return He(t,e,"internal-error"),XE(t,new lp(r),r.bypassAuthState)}async function Ek(r){const{auth:e,user:t}=r;return He(t,e,"internal-error"),YE(t,new lp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vb{constructor(e,t,n,a,l=!1){this.auth=e,this.resolver=n,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:a,tenantId:l,error:u,type:f}=e;if(u){this.reject(u);return}const m={auth:this.auth,requestUri:t,sessionId:n,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(f)(m))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return jk;case"linkViaPopup":case"linkViaRedirect":return Ek;case"reauthViaPopup":case"reauthViaRedirect":return Nk;default:Bn(this.auth,"internal-error")}}resolve(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kk=new dc(2e3,1e4);class Na extends Vb{constructor(e,t,n,a,l){super(e,t,a,l),this.provider=n,this.authWindow=null,this.pollId=null,Na.currentPopupAction&&Na.currentPopupAction.cancel(),Na.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return He(e,this.auth,"internal-error"),e}async onExecution(){Us(this.filter.length===1,"Popup operations only handle one event");const e=ap();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(os(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(os(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Na.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;if(!((n=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||n===void 0)&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(os(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,kk.get())};e()}}Na.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk="pendingRedirect",Yu=new Map;class Ik extends Vb{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}async execute(){let e=Yu.get(this.auth._key());if(!e){try{const n=await Sk(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(t){e=()=>Promise.reject(t)}Yu.set(this.auth._key(),e)}return this.bypassAuthState||Yu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Sk(r,e){const t=Rk(e),n=Ck(r);if(!await n._isAvailable())return!1;const a=await n._get(t)==="true";return await n._remove(t),a}function Ak(r,e){Yu.set(r._key(),e)}function Ck(r){return Os(r._redirectPersistence)}function Rk(r){return Ju(Tk,r.config.apiKey,r.name)}async function Pk(r,e,t=!1){if(ns(r.app))return Promise.reject(Ls(r));const n=Vi(r),a=_k(n,e),u=await new Ik(n,a,t).execute();return u&&!t&&(delete u.user._redirectEventId,await n._persistUserIfCurrent(u.user),await n._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dk=10*60*1e3;class Vk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Ok(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Ob(e)){const a=((n=e.error.code)===null||n===void 0?void 0:n.split("auth/")[1])||"internal-error";t.onError(os(this.auth,a))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Dk&&this.cachedEventUids.clear(),this.cachedEventUids.has(nv(e))}saveEventToCache(e){this.cachedEventUids.add(nv(e)),this.lastProcessedEventTime=Date.now()}}function nv(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function Ob({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function Ok(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ob(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lk(r,e={}){return fs(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mk=/^https?/;async function Uk(r){if(r.config.emulator)return;const{authorizedDomains:e}=await Lk(r);for(const t of e)try{if(zk(t))return}catch{}Bn(r,"unauthorized-domain")}function zk(r){const e=Em(),{protocol:t,hostname:n}=new URL(e);if(r.startsWith("chrome-extension://")){const u=new URL(r);return u.hostname===""&&n===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===n}if(!Mk.test(t))return!1;if(Fk.test(r))return n===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bk=new dc(3e4,6e4);function sv(){const r=as().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function $k(r){return new Promise((e,t)=>{var n,a,l;function u(){sv(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{sv(),t(os(r,"network-request-failed"))},timeout:Bk.get()})}if(!((a=(n=as().gapi)===null||n===void 0?void 0:n.iframes)===null||a===void 0)&&a.Iframe)e(gapi.iframes.getContext());else if(!((l=as().gapi)===null||l===void 0)&&l.load)u();else{const f=RE("iframefcb");return as()[f]=()=>{gapi.load?u():t(os(r,"network-request-failed"))},xb(`${CE()}?onload=${f}`).catch(m=>t(m))}}).catch(e=>{throw Xu=null,e})}let Xu=null;function Hk(r){return Xu=Xu||$k(r),Xu}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wk=new dc(5e3,15e3),qk="__/auth/iframe",Gk="emulator/auth/iframe",Kk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Jk(r){const e=r.config;He(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?rp(e,Gk):`https://${r.config.authDomain}/${qk}`,n={apiKey:e.apiKey,appName:r.name,v:Ao},a=Qk.get(r.config.apiHost);a&&(n.eid=a);const l=r._getFrameworks();return l.length&&(n.fw=l.join(",")),`${t}?${uc(n).slice(1)}`}async function Yk(r){const e=await Hk(r),t=as().gapi;return He(t,r,"internal-error"),e.open({where:document.body,url:Jk(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Kk,dontclear:!0},n=>new Promise(async(a,l)=>{await n.restyle({setHideOnLeave:!1});const u=os(r,"network-request-failed"),f=as().setTimeout(()=>{l(u)},Wk.get());function m(){as().clearTimeout(f),a(n)}n.ping(m).then(m,()=>{l(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Zk=500,eT=600,tT="_blank",rT="http://localhost";class iv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nT(r,e,t,n=Zk,a=eT){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),u=Math.max((window.screen.availWidth-n)/2,0).toString();let f="";const m=Object.assign(Object.assign({},Xk),{width:n.toString(),height:a.toString(),top:l,left:u}),g=Er().toLowerCase();t&&(f=hb(g)?tT:t),ub(g)&&(e=e||rT,m.scrollbars="yes");const x=Object.entries(m).reduce((w,[S,U])=>`${w}${S}=${U},`,"");if(_E(g)&&f!=="_self")return sT(e||"",f),new iv(null);const _=window.open(e||"",f,x);He(_,r,"popup-blocked");try{_.focus()}catch{}return new iv(_)}function sT(r,e){const t=document.createElement("a");t.href=r,t.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT="__/auth/handler",oT="emulator/auth/handler",aT=encodeURIComponent("fac");async function ov(r,e,t,n,a,l){He(r.config.authDomain,r,"auth-domain-config-required"),He(r.config.apiKey,r,"invalid-api-key");const u={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:n,v:Ao,eventId:a};if(e instanceof wb){e.setDefaultLanguage(r.languageCode),u.providerId=e.providerId||"",$N(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[x,_]of Object.entries({}))u[x]=_}if(e instanceof fc){const x=e.getScopes().filter(_=>_!=="");x.length>0&&(u.scopes=x.join(","))}r.tenantId&&(u.tid=r.tenantId);const f=u;for(const x of Object.keys(f))f[x]===void 0&&delete f[x];const m=await r._getAppCheckToken(),g=m?`#${aT}=${encodeURIComponent(m)}`:"";return`${lT(r)}?${uc(f).slice(1)}${g}`}function lT({config:r}){return r.emulator?rp(r,oT):`https://${r.authDomain}/${iT}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf="webStorageSupport";class cT{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ab,this._completeRedirectFn=Pk,this._overrideRedirectResult=Ak}async _openPopup(e,t,n,a){var l;Us((l=this.eventManagers[e._key()])===null||l===void 0?void 0:l.manager,"_initialize() not called before _openPopup()");const u=await ov(e,t,n,Em(),a);return nT(e,u,ap())}async _openRedirect(e,t,n,a){await this._originValidation(e);const l=await ov(e,t,n,Em(),a);return hk(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Us(l,"If manager is not set, promise should be"),l)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}async initAndGetManager(e){const t=await Yk(e),n=new Vk(e);return t.register("authEvent",a=>(He(a==null?void 0:a.authEvent,e,"invalid-auth-event"),{status:n.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xf,{type:Xf},a=>{var l;const u=(l=a==null?void 0:a[0])===null||l===void 0?void 0:l[Xf];u!==void 0&&t(!!u),Bn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=Uk(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return yb()||db()||sp()}}const uT=cT;var av="@firebase/auth",lv="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dT{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){He(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fT(r){zn(new _n("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:u,authDomain:f}=n.options;He(u&&!u.includes(":"),"invalid-api-key",{appName:n.name});const m={apiKey:u,authDomain:f,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:vb(r)},g=new IE(n,a,l,m);return LE(g,t),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),zn(new _n("auth-internal",e=>{const t=Vi(e.getProvider("auth").getImmediate());return(n=>new dT(n))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),qr(av,lv,hT(r)),qr(av,lv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT=5*60,pT=Hx("authIdTokenMaxAge")||mT;let cv=null;const gT=r=>async e=>{const t=e&&await e.getIdTokenResult(),n=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>pT)return;const a=t==null?void 0:t.token;cv!==a&&(cv=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function yT(r=Pd()){const e=Di(r,"auth");if(e.isInitialized())return e.getImmediate();const t=OE(r,{popupRedirectResolver:uT,persistence:[wk,ck,Ab]}),n=Hx("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(n,location.origin);if(location.origin===l.origin){const u=gT(l.toString());sk(t,u,()=>u(t.currentUser)),nk(t,f=>u(f))}}const a=zx("auth");return a&&FE(t,`http://${a}`),t}function vT(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}SE({loadJS(r){return new Promise((e,t)=>{const n=document.createElement("script");n.setAttribute("src",r),n.onload=e,n.onerror=a=>{const l=os("internal-error");l.customData=a,t(l)},n.type="text/javascript",n.charset="UTF-8",vT().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fT("Browser");var uv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vo,Lb;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(j,N){function k(){}k.prototype=N.prototype,j.D=N.prototype,j.prototype=new k,j.prototype.constructor=j,j.C=function(L,F,D){for(var C=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)C[ve-2]=arguments[ve];return N.prototype[F].apply(L,C)}}function t(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,t),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(j,N,k){k||(k=0);var L=Array(16);if(typeof N=="string")for(var F=0;16>F;++F)L[F]=N.charCodeAt(k++)|N.charCodeAt(k++)<<8|N.charCodeAt(k++)<<16|N.charCodeAt(k++)<<24;else for(F=0;16>F;++F)L[F]=N[k++]|N[k++]<<8|N[k++]<<16|N[k++]<<24;N=j.g[0],k=j.g[1],F=j.g[2];var D=j.g[3],C=N+(D^k&(F^D))+L[0]+3614090360&4294967295;N=k+(C<<7&4294967295|C>>>25),C=D+(F^N&(k^F))+L[1]+3905402710&4294967295,D=N+(C<<12&4294967295|C>>>20),C=F+(k^D&(N^k))+L[2]+606105819&4294967295,F=D+(C<<17&4294967295|C>>>15),C=k+(N^F&(D^N))+L[3]+3250441966&4294967295,k=F+(C<<22&4294967295|C>>>10),C=N+(D^k&(F^D))+L[4]+4118548399&4294967295,N=k+(C<<7&4294967295|C>>>25),C=D+(F^N&(k^F))+L[5]+1200080426&4294967295,D=N+(C<<12&4294967295|C>>>20),C=F+(k^D&(N^k))+L[6]+2821735955&4294967295,F=D+(C<<17&4294967295|C>>>15),C=k+(N^F&(D^N))+L[7]+4249261313&4294967295,k=F+(C<<22&4294967295|C>>>10),C=N+(D^k&(F^D))+L[8]+1770035416&4294967295,N=k+(C<<7&4294967295|C>>>25),C=D+(F^N&(k^F))+L[9]+2336552879&4294967295,D=N+(C<<12&4294967295|C>>>20),C=F+(k^D&(N^k))+L[10]+4294925233&4294967295,F=D+(C<<17&4294967295|C>>>15),C=k+(N^F&(D^N))+L[11]+2304563134&4294967295,k=F+(C<<22&4294967295|C>>>10),C=N+(D^k&(F^D))+L[12]+1804603682&4294967295,N=k+(C<<7&4294967295|C>>>25),C=D+(F^N&(k^F))+L[13]+4254626195&4294967295,D=N+(C<<12&4294967295|C>>>20),C=F+(k^D&(N^k))+L[14]+2792965006&4294967295,F=D+(C<<17&4294967295|C>>>15),C=k+(N^F&(D^N))+L[15]+1236535329&4294967295,k=F+(C<<22&4294967295|C>>>10),C=N+(F^D&(k^F))+L[1]+4129170786&4294967295,N=k+(C<<5&4294967295|C>>>27),C=D+(k^F&(N^k))+L[6]+3225465664&4294967295,D=N+(C<<9&4294967295|C>>>23),C=F+(N^k&(D^N))+L[11]+643717713&4294967295,F=D+(C<<14&4294967295|C>>>18),C=k+(D^N&(F^D))+L[0]+3921069994&4294967295,k=F+(C<<20&4294967295|C>>>12),C=N+(F^D&(k^F))+L[5]+3593408605&4294967295,N=k+(C<<5&4294967295|C>>>27),C=D+(k^F&(N^k))+L[10]+38016083&4294967295,D=N+(C<<9&4294967295|C>>>23),C=F+(N^k&(D^N))+L[15]+3634488961&4294967295,F=D+(C<<14&4294967295|C>>>18),C=k+(D^N&(F^D))+L[4]+3889429448&4294967295,k=F+(C<<20&4294967295|C>>>12),C=N+(F^D&(k^F))+L[9]+568446438&4294967295,N=k+(C<<5&4294967295|C>>>27),C=D+(k^F&(N^k))+L[14]+3275163606&4294967295,D=N+(C<<9&4294967295|C>>>23),C=F+(N^k&(D^N))+L[3]+4107603335&4294967295,F=D+(C<<14&4294967295|C>>>18),C=k+(D^N&(F^D))+L[8]+1163531501&4294967295,k=F+(C<<20&4294967295|C>>>12),C=N+(F^D&(k^F))+L[13]+2850285829&4294967295,N=k+(C<<5&4294967295|C>>>27),C=D+(k^F&(N^k))+L[2]+4243563512&4294967295,D=N+(C<<9&4294967295|C>>>23),C=F+(N^k&(D^N))+L[7]+1735328473&4294967295,F=D+(C<<14&4294967295|C>>>18),C=k+(D^N&(F^D))+L[12]+2368359562&4294967295,k=F+(C<<20&4294967295|C>>>12),C=N+(k^F^D)+L[5]+4294588738&4294967295,N=k+(C<<4&4294967295|C>>>28),C=D+(N^k^F)+L[8]+2272392833&4294967295,D=N+(C<<11&4294967295|C>>>21),C=F+(D^N^k)+L[11]+1839030562&4294967295,F=D+(C<<16&4294967295|C>>>16),C=k+(F^D^N)+L[14]+4259657740&4294967295,k=F+(C<<23&4294967295|C>>>9),C=N+(k^F^D)+L[1]+2763975236&4294967295,N=k+(C<<4&4294967295|C>>>28),C=D+(N^k^F)+L[4]+1272893353&4294967295,D=N+(C<<11&4294967295|C>>>21),C=F+(D^N^k)+L[7]+4139469664&4294967295,F=D+(C<<16&4294967295|C>>>16),C=k+(F^D^N)+L[10]+3200236656&4294967295,k=F+(C<<23&4294967295|C>>>9),C=N+(k^F^D)+L[13]+681279174&4294967295,N=k+(C<<4&4294967295|C>>>28),C=D+(N^k^F)+L[0]+3936430074&4294967295,D=N+(C<<11&4294967295|C>>>21),C=F+(D^N^k)+L[3]+3572445317&4294967295,F=D+(C<<16&4294967295|C>>>16),C=k+(F^D^N)+L[6]+76029189&4294967295,k=F+(C<<23&4294967295|C>>>9),C=N+(k^F^D)+L[9]+3654602809&4294967295,N=k+(C<<4&4294967295|C>>>28),C=D+(N^k^F)+L[12]+3873151461&4294967295,D=N+(C<<11&4294967295|C>>>21),C=F+(D^N^k)+L[15]+530742520&4294967295,F=D+(C<<16&4294967295|C>>>16),C=k+(F^D^N)+L[2]+3299628645&4294967295,k=F+(C<<23&4294967295|C>>>9),C=N+(F^(k|~D))+L[0]+4096336452&4294967295,N=k+(C<<6&4294967295|C>>>26),C=D+(k^(N|~F))+L[7]+1126891415&4294967295,D=N+(C<<10&4294967295|C>>>22),C=F+(N^(D|~k))+L[14]+2878612391&4294967295,F=D+(C<<15&4294967295|C>>>17),C=k+(D^(F|~N))+L[5]+4237533241&4294967295,k=F+(C<<21&4294967295|C>>>11),C=N+(F^(k|~D))+L[12]+1700485571&4294967295,N=k+(C<<6&4294967295|C>>>26),C=D+(k^(N|~F))+L[3]+2399980690&4294967295,D=N+(C<<10&4294967295|C>>>22),C=F+(N^(D|~k))+L[10]+4293915773&4294967295,F=D+(C<<15&4294967295|C>>>17),C=k+(D^(F|~N))+L[1]+2240044497&4294967295,k=F+(C<<21&4294967295|C>>>11),C=N+(F^(k|~D))+L[8]+1873313359&4294967295,N=k+(C<<6&4294967295|C>>>26),C=D+(k^(N|~F))+L[15]+4264355552&4294967295,D=N+(C<<10&4294967295|C>>>22),C=F+(N^(D|~k))+L[6]+2734768916&4294967295,F=D+(C<<15&4294967295|C>>>17),C=k+(D^(F|~N))+L[13]+1309151649&4294967295,k=F+(C<<21&4294967295|C>>>11),C=N+(F^(k|~D))+L[4]+4149444226&4294967295,N=k+(C<<6&4294967295|C>>>26),C=D+(k^(N|~F))+L[11]+3174756917&4294967295,D=N+(C<<10&4294967295|C>>>22),C=F+(N^(D|~k))+L[2]+718787259&4294967295,F=D+(C<<15&4294967295|C>>>17),C=k+(D^(F|~N))+L[9]+3951481745&4294967295,j.g[0]=j.g[0]+N&4294967295,j.g[1]=j.g[1]+(F+(C<<21&4294967295|C>>>11))&4294967295,j.g[2]=j.g[2]+F&4294967295,j.g[3]=j.g[3]+D&4294967295}n.prototype.u=function(j,N){N===void 0&&(N=j.length);for(var k=N-this.blockSize,L=this.B,F=this.h,D=0;D<N;){if(F==0)for(;D<=k;)a(this,j,D),D+=this.blockSize;if(typeof j=="string"){for(;D<N;)if(L[F++]=j.charCodeAt(D++),F==this.blockSize){a(this,L),F=0;break}}else for(;D<N;)if(L[F++]=j[D++],F==this.blockSize){a(this,L),F=0;break}}this.h=F,this.o+=N},n.prototype.v=function(){var j=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);j[0]=128;for(var N=1;N<j.length-8;++N)j[N]=0;var k=8*this.o;for(N=j.length-8;N<j.length;++N)j[N]=k&255,k/=256;for(this.u(j),j=Array(16),N=k=0;4>N;++N)for(var L=0;32>L;L+=8)j[k++]=this.g[N]>>>L&255;return j};function l(j,N){var k=f;return Object.prototype.hasOwnProperty.call(k,j)?k[j]:k[j]=N(j)}function u(j,N){this.h=N;for(var k=[],L=!0,F=j.length-1;0<=F;F--){var D=j[F]|0;L&&D==N||(k[F]=D,L=!1)}this.g=k}var f={};function m(j){return-128<=j&&128>j?l(j,function(N){return new u([N|0],0>N?-1:0)}):new u([j|0],0>j?-1:0)}function g(j){if(isNaN(j)||!isFinite(j))return _;if(0>j)return O(g(-j));for(var N=[],k=1,L=0;j>=k;L++)N[L]=j/k|0,k*=4294967296;return new u(N,0)}function x(j,N){if(j.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(j.charAt(0)=="-")return O(x(j.substring(1),N));if(0<=j.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=g(Math.pow(N,8)),L=_,F=0;F<j.length;F+=8){var D=Math.min(8,j.length-F),C=parseInt(j.substring(F,F+D),N);8>D?(D=g(Math.pow(N,D)),L=L.j(D).add(g(C))):(L=L.j(k),L=L.add(g(C)))}return L}var _=m(0),w=m(1),S=m(16777216);r=u.prototype,r.m=function(){if(B(this))return-O(this).m();for(var j=0,N=1,k=0;k<this.g.length;k++){var L=this.i(k);j+=(0<=L?L:4294967296+L)*N,N*=4294967296}return j},r.toString=function(j){if(j=j||10,2>j||36<j)throw Error("radix out of range: "+j);if(U(this))return"0";if(B(this))return"-"+O(this).toString(j);for(var N=g(Math.pow(j,6)),k=this,L="";;){var F=$(k,N).g;k=H(k,F.j(N));var D=((0<k.g.length?k.g[0]:k.h)>>>0).toString(j);if(k=F,U(k))return D+L;for(;6>D.length;)D="0"+D;L=D+L}},r.i=function(j){return 0>j?0:j<this.g.length?this.g[j]:this.h};function U(j){if(j.h!=0)return!1;for(var N=0;N<j.g.length;N++)if(j.g[N]!=0)return!1;return!0}function B(j){return j.h==-1}r.l=function(j){return j=H(this,j),B(j)?-1:U(j)?0:1};function O(j){for(var N=j.g.length,k=[],L=0;L<N;L++)k[L]=~j.g[L];return new u(k,~j.h).add(w)}r.abs=function(){return B(this)?O(this):this},r.add=function(j){for(var N=Math.max(this.g.length,j.g.length),k=[],L=0,F=0;F<=N;F++){var D=L+(this.i(F)&65535)+(j.i(F)&65535),C=(D>>>16)+(this.i(F)>>>16)+(j.i(F)>>>16);L=C>>>16,D&=65535,C&=65535,k[F]=C<<16|D}return new u(k,k[k.length-1]&-2147483648?-1:0)};function H(j,N){return j.add(O(N))}r.j=function(j){if(U(this)||U(j))return _;if(B(this))return B(j)?O(this).j(O(j)):O(O(this).j(j));if(B(j))return O(this.j(O(j)));if(0>this.l(S)&&0>j.l(S))return g(this.m()*j.m());for(var N=this.g.length+j.g.length,k=[],L=0;L<2*N;L++)k[L]=0;for(L=0;L<this.g.length;L++)for(var F=0;F<j.g.length;F++){var D=this.i(L)>>>16,C=this.i(L)&65535,ve=j.i(F)>>>16,Le=j.i(F)&65535;k[2*L+2*F]+=C*Le,V(k,2*L+2*F),k[2*L+2*F+1]+=D*Le,V(k,2*L+2*F+1),k[2*L+2*F+1]+=C*ve,V(k,2*L+2*F+1),k[2*L+2*F+2]+=D*ve,V(k,2*L+2*F+2)}for(L=0;L<N;L++)k[L]=k[2*L+1]<<16|k[2*L];for(L=N;L<2*N;L++)k[L]=0;return new u(k,0)};function V(j,N){for(;(j[N]&65535)!=j[N];)j[N+1]+=j[N]>>>16,j[N]&=65535,N++}function T(j,N){this.g=j,this.h=N}function $(j,N){if(U(N))throw Error("division by zero");if(U(j))return new T(_,_);if(B(j))return N=$(O(j),N),new T(O(N.g),O(N.h));if(B(N))return N=$(j,O(N)),new T(O(N.g),N.h);if(30<j.g.length){if(B(j)||B(N))throw Error("slowDivide_ only works with positive integers.");for(var k=w,L=N;0>=L.l(j);)k=q(k),L=q(L);var F=I(k,1),D=I(L,1);for(L=I(L,2),k=I(k,2);!U(L);){var C=D.add(L);0>=C.l(j)&&(F=F.add(k),D=C),L=I(L,1),k=I(k,1)}return N=H(j,F.j(N)),new T(F,N)}for(F=_;0<=j.l(N);){for(k=Math.max(1,Math.floor(j.m()/N.m())),L=Math.ceil(Math.log(k)/Math.LN2),L=48>=L?1:Math.pow(2,L-48),D=g(k),C=D.j(N);B(C)||0<C.l(j);)k-=L,D=g(k),C=D.j(N);U(D)&&(D=w),F=F.add(D),j=H(j,C)}return new T(F,j)}r.A=function(j){return $(this,j).h},r.and=function(j){for(var N=Math.max(this.g.length,j.g.length),k=[],L=0;L<N;L++)k[L]=this.i(L)&j.i(L);return new u(k,this.h&j.h)},r.or=function(j){for(var N=Math.max(this.g.length,j.g.length),k=[],L=0;L<N;L++)k[L]=this.i(L)|j.i(L);return new u(k,this.h|j.h)},r.xor=function(j){for(var N=Math.max(this.g.length,j.g.length),k=[],L=0;L<N;L++)k[L]=this.i(L)^j.i(L);return new u(k,this.h^j.h)};function q(j){for(var N=j.g.length+1,k=[],L=0;L<N;L++)k[L]=j.i(L)<<1|j.i(L-1)>>>31;return new u(k,j.h)}function I(j,N){var k=N>>5;N%=32;for(var L=j.g.length-k,F=[],D=0;D<L;D++)F[D]=0<N?j.i(D+k)>>>N|j.i(D+k+1)<<32-N:j.i(D+k);return new u(F,j.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,Lb=n,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.A,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=g,u.fromString=x,vo=u}).apply(typeof uv<"u"?uv:typeof self<"u"?self:typeof window<"u"?window:{});var Uu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Fb,Ul,Mb,Zu,Im,Ub,zb,Bb;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,y,b){return d==Array.prototype||d==Object.prototype||(d[y]=b.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Uu=="object"&&Uu];for(var y=0;y<d.length;++y){var b=d[y];if(b&&b.Math==Math)return b}throw Error("Cannot find global object")}var n=t(this);function a(d,y){if(y)e:{var b=n;d=d.split(".");for(var A=0;A<d.length-1;A++){var Q=d[A];if(!(Q in b))break e;b=b[Q]}d=d[d.length-1],A=b[d],y=y(A),y!=A&&y!=null&&e(b,d,{configurable:!0,writable:!0,value:y})}}function l(d,y){d instanceof String&&(d+="");var b=0,A=!1,Q={next:function(){if(!A&&b<d.length){var re=b++;return{value:y(re,d[re]),done:!1}}return A=!0,{done:!0,value:void 0}}};return Q[Symbol.iterator]=function(){return Q},Q}a("Array.prototype.values",function(d){return d||function(){return l(this,function(y,b){return b})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var u=u||{},f=this||self;function m(d){var y=typeof d;return y=y!="object"?y:d?Array.isArray(d)?"array":y:"null",y=="array"||y=="object"&&typeof d.length=="number"}function g(d){var y=typeof d;return y=="object"&&d!=null||y=="function"}function x(d,y,b){return d.call.apply(d.bind,arguments)}function _(d,y,b){if(!d)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var Q=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Q,A),d.apply(y,Q)}}return function(){return d.apply(y,arguments)}}function w(d,y,b){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?x:_,w.apply(null,arguments)}function S(d,y){var b=Array.prototype.slice.call(arguments,1);return function(){var A=b.slice();return A.push.apply(A,arguments),d.apply(this,A)}}function U(d,y){function b(){}b.prototype=y.prototype,d.aa=y.prototype,d.prototype=new b,d.prototype.constructor=d,d.Qb=function(A,Q,re){for(var we=Array(arguments.length-2),mt=2;mt<arguments.length;mt++)we[mt-2]=arguments[mt];return y.prototype[Q].apply(A,we)}}function B(d){const y=d.length;if(0<y){const b=Array(y);for(let A=0;A<y;A++)b[A]=d[A];return b}return[]}function O(d,y){for(let b=1;b<arguments.length;b++){const A=arguments[b];if(m(A)){const Q=d.length||0,re=A.length||0;d.length=Q+re;for(let we=0;we<re;we++)d[Q+we]=A[we]}else d.push(A)}}class H{constructor(y,b){this.i=y,this.j=b,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function V(d){return/^[\s\xa0]*$/.test(d)}function T(){var d=f.navigator;return d&&(d=d.userAgent)?d:""}function $(d){return $[" "](d),d}$[" "]=function(){};var q=T().indexOf("Gecko")!=-1&&!(T().toLowerCase().indexOf("webkit")!=-1&&T().indexOf("Edge")==-1)&&!(T().indexOf("Trident")!=-1||T().indexOf("MSIE")!=-1)&&T().indexOf("Edge")==-1;function I(d,y,b){for(const A in d)y.call(b,d[A],A,d)}function j(d,y){for(const b in d)y.call(void 0,d[b],b,d)}function N(d){const y={};for(const b in d)y[b]=d[b];return y}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function L(d,y){let b,A;for(let Q=1;Q<arguments.length;Q++){A=arguments[Q];for(b in A)d[b]=A[b];for(let re=0;re<k.length;re++)b=k[re],Object.prototype.hasOwnProperty.call(A,b)&&(d[b]=A[b])}}function F(d){var y=1;d=d.split(":");const b=[];for(;0<y&&d.length;)b.push(d.shift()),y--;return d.length&&b.push(d.join(":")),b}function D(d){f.setTimeout(()=>{throw d},0)}function C(){var d=ee;let y=null;return d.g&&(y=d.g,d.g=d.g.next,d.g||(d.h=null),y.next=null),y}class ve{constructor(){this.h=this.g=null}add(y,b){const A=Le.get();A.set(y,b),this.h?this.h.next=A:this.g=A,this.h=A}}var Le=new H(()=>new Ve,d=>d.reset());class Ve{constructor(){this.next=this.g=this.h=null}set(y,b){this.h=y,this.g=b,this.next=null}reset(){this.next=this.g=this.h=null}}let _e,ne=!1,ee=new ve,R=()=>{const d=f.Promise.resolve(void 0);_e=()=>{d.then(G)}};var G=()=>{for(var d;d=C();){try{d.h.call(d.g)}catch(b){D(b)}var y=Le;y.j(d),100>y.h&&(y.h++,d.next=y.g,y.g=d)}ne=!1};function ae(){this.s=this.s,this.C=this.C}ae.prototype.s=!1,ae.prototype.ma=function(){this.s||(this.s=!0,this.N())},ae.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ge(d,y){this.type=d,this.g=this.target=y,this.defaultPrevented=!1}ge.prototype.h=function(){this.defaultPrevented=!0};var ie=function(){if(!f.addEventListener||!Object.defineProperty)return!1;var d=!1,y=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const b=()=>{};f.addEventListener("test",b,y),f.removeEventListener("test",b,y)}catch{}return d}();function Ne(d,y){if(ge.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var b=this.type=d.type,A=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=y,y=d.relatedTarget){if(q){e:{try{$(y.nodeName);var Q=!0;break e}catch{}Q=!1}Q||(y=null)}}else b=="mouseover"?y=d.fromElement:b=="mouseout"&&(y=d.toElement);this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:xe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ne.aa.h.call(this)}}U(Ne,ge);var xe={2:"touch",3:"pen",4:"mouse"};Ne.prototype.h=function(){Ne.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),Pe=0;function Oe(d,y,b,A,Q){this.listener=d,this.proxy=null,this.src=y,this.type=b,this.capture=!!A,this.ha=Q,this.key=++Pe,this.da=this.fa=!1}function Vt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function vt(d){this.src=d,this.g={},this.h=0}vt.prototype.add=function(d,y,b,A,Q){var re=d.toString();d=this.g[re],d||(d=this.g[re]=[],this.h++);var we=jt(d,y,A,Q);return-1<we?(y=d[we],b||(y.fa=!1)):(y=new Oe(y,this.src,re,!!A,Q),y.fa=b,d.push(y)),y};function Mt(d,y){var b=y.type;if(b in d.g){var A=d.g[b],Q=Array.prototype.indexOf.call(A,y,void 0),re;(re=0<=Q)&&Array.prototype.splice.call(A,Q,1),re&&(Vt(y),d.g[b].length==0&&(delete d.g[b],d.h--))}}function jt(d,y,b,A){for(var Q=0;Q<d.length;++Q){var re=d[Q];if(!re.da&&re.listener==y&&re.capture==!!b&&re.ha==A)return Q}return-1}var We="closure_lm_"+(1e6*Math.random()|0),de={};function et(d,y,b,A,Q){if(Array.isArray(y)){for(var re=0;re<y.length;re++)et(d,y[re],b,A,Q);return null}return b=ye(b),d&&d[ke]?d.K(y,b,g(A)?!!A.capture:!1,Q):be(d,y,b,!1,A,Q)}function be(d,y,b,A,Q,re){if(!y)throw Error("Invalid event type");var we=g(Q)?!!Q.capture:!!Q,mt=J(d);if(mt||(d[We]=mt=new vt(d)),b=mt.add(y,b,A,we,re),b.proxy)return b;if(A=ht(),b.proxy=A,A.src=d,A.listener=b,d.addEventListener)ie||(Q=we),Q===void 0&&(Q=!1),d.addEventListener(y.toString(),A,Q);else if(d.attachEvent)d.attachEvent(ce(y.toString()),A);else if(d.addListener&&d.removeListener)d.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return b}function ht(){function d(b){return y.call(d.src,d.listener,b)}const y=P;return d}function Xe(d,y,b,A,Q){if(Array.isArray(y))for(var re=0;re<y.length;re++)Xe(d,y[re],b,A,Q);else A=g(A)?!!A.capture:!!A,b=ye(b),d&&d[ke]?(d=d.i,y=String(y).toString(),y in d.g&&(re=d.g[y],b=jt(re,b,A,Q),-1<b&&(Vt(re[b]),Array.prototype.splice.call(re,b,1),re.length==0&&(delete d.g[y],d.h--)))):d&&(d=J(d))&&(y=d.g[y.toString()],d=-1,y&&(d=jt(y,b,A,Q)),(b=-1<d?y[d]:null)&&Fe(b))}function Fe(d){if(typeof d!="number"&&d&&!d.da){var y=d.src;if(y&&y[ke])Mt(y.i,d);else{var b=d.type,A=d.proxy;y.removeEventListener?y.removeEventListener(b,A,d.capture):y.detachEvent?y.detachEvent(ce(b),A):y.addListener&&y.removeListener&&y.removeListener(A),(b=J(y))?(Mt(b,d),b.h==0&&(b.src=null,y[We]=null)):Vt(d)}}}function ce(d){return d in de?de[d]:de[d]="on"+d}function P(d,y){if(d.da)d=!0;else{y=new Ne(y,this);var b=d.listener,A=d.ha||d.src;d.fa&&Fe(d),d=b.call(A,y)}return d}function J(d){return d=d[We],d instanceof vt?d:null}var te="__closure_events_fn_"+(1e9*Math.random()>>>0);function ye(d){return typeof d=="function"?d:(d[te]||(d[te]=function(y){return d.handleEvent(y)}),d[te])}function le(){ae.call(this),this.i=new vt(this),this.M=this,this.F=null}U(le,ae),le.prototype[ke]=!0,le.prototype.removeEventListener=function(d,y,b,A){Xe(this,d,y,b,A)};function se(d,y){var b,A=d.F;if(A)for(b=[];A;A=A.F)b.push(A);if(d=d.M,A=y.type||y,typeof y=="string")y=new ge(y,d);else if(y instanceof ge)y.target=y.target||d;else{var Q=y;y=new ge(A,d),L(y,Q)}if(Q=!0,b)for(var re=b.length-1;0<=re;re--){var we=y.g=b[re];Q=Ee(we,A,!0,y)&&Q}if(we=y.g=d,Q=Ee(we,A,!0,y)&&Q,Q=Ee(we,A,!1,y)&&Q,b)for(re=0;re<b.length;re++)we=y.g=b[re],Q=Ee(we,A,!1,y)&&Q}le.prototype.N=function(){if(le.aa.N.call(this),this.i){var d=this.i,y;for(y in d.g){for(var b=d.g[y],A=0;A<b.length;A++)Vt(b[A]);delete d.g[y],d.h--}}this.F=null},le.prototype.K=function(d,y,b,A){return this.i.add(String(d),y,!1,b,A)},le.prototype.L=function(d,y,b,A){return this.i.add(String(d),y,!0,b,A)};function Ee(d,y,b,A){if(y=d.i.g[String(y)],!y)return!0;y=y.concat();for(var Q=!0,re=0;re<y.length;++re){var we=y[re];if(we&&!we.da&&we.capture==b){var mt=we.listener,Xt=we.ha||we.src;we.fa&&Mt(d.i,we),Q=mt.call(Xt,A)!==!1&&Q}}return Q&&!A.defaultPrevented}function Ke(d,y,b){if(typeof d=="function")b&&(d=w(d,b));else if(d&&typeof d.handleEvent=="function")d=w(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:f.setTimeout(d,y||0)}function nt(d){d.g=Ke(()=>{d.g=null,d.i&&(d.i=!1,nt(d))},d.l);const y=d.h;d.h=null,d.m.apply(null,y)}class ft extends ae{constructor(y,b){super(),this.m=y,this.l=b,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:nt(this)}N(){super.N(),this.g&&(f.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ps(d){ae.call(this),this.h=d,this.g={}}U(ps,ae);var gs=[];function ys(d){I(d.g,function(y,b){this.g.hasOwnProperty(b)&&Fe(y)},d),d.g={}}ps.prototype.N=function(){ps.aa.N.call(this),ys(this)},ps.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Li=f.JSON.stringify,qs=f.JSON.parse,Fi=class{stringify(d){return f.JSON.stringify(d,void 0)}parse(d){return f.JSON.parse(d,void 0)}};function Hn(){}Hn.prototype.h=null;function Po(d){return d.h||(d.h=d.i())}function Do(){}var an={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Wn(){ge.call(this,"d")}U(Wn,ge);function Vo(){ge.call(this,"c")}U(Vo,ge);var qn={},Qa=null;function Mi(){return Qa=Qa||new le}qn.La="serverreachability";function Ja(d){ge.call(this,qn.La,d)}U(Ja,ge);function vs(d){const y=Mi();se(y,new Ja(y))}qn.STAT_EVENT="statevent";function Ya(d,y){ge.call(this,qn.STAT_EVENT,d),this.stat=y}U(Ya,ge);function Ut(d){const y=Mi();se(y,new Ya(y,d))}qn.Ma="timingevent";function Oo(d,y){ge.call(this,qn.Ma,d),this.size=y}U(Oo,ge);function Nn(d,y){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return f.setTimeout(function(){d()},y)}function Ui(){this.g=!0}Ui.prototype.xa=function(){this.g=!1};function zi(d,y,b,A,Q,re){d.info(function(){if(d.g)if(re)for(var we="",mt=re.split("&"),Xt=0;Xt<mt.length;Xt++){var ot=mt[Xt].split("=");if(1<ot.length){var rr=ot[0];ot=ot[1];var Wt=rr.split("_");we=2<=Wt.length&&Wt[1]=="type"?we+(rr+"="+ot+"&"):we+(rr+"=redacted&")}}else we=null;else we=re;return"XMLHTTP REQ ("+A+") [attempt "+Q+"]: "+y+`
`+b+`
`+we})}function Lo(d,y,b,A,Q,re,we){d.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+Q+"]: "+y+`
`+b+`
`+re+" "+we})}function En(d,y,b,A){d.info(function(){return"XMLHTTP TEXT ("+y+"): "+fh(d,b)+(A?" "+A:"")})}function Xa(d,y){d.info(function(){return"TIMEOUT: "+y})}Ui.prototype.info=function(){};function fh(d,y){if(!d.g)return y;if(!y)return null;try{var b=JSON.parse(y);if(b){for(d=0;d<b.length;d++)if(Array.isArray(b[d])){var A=b[d];if(!(2>A.length)){var Q=A[1];if(Array.isArray(Q)&&!(1>Q.length)){var re=Q[0];if(re!="noop"&&re!="stop"&&re!="close")for(var we=1;we<Q.length;we++)Q[we]=""}}}}return Li(b)}catch{return y}}var Fo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Nc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},kn;function Bi(){}U(Bi,Hn),Bi.prototype.g=function(){return new XMLHttpRequest},Bi.prototype.i=function(){return{}},kn=new Bi;function Tn(d,y,b,A){this.j=d,this.i=y,this.l=b,this.R=A||1,this.U=new ps(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ec}function Ec(){this.i=null,this.g="",this.h=!1}var Za={},Mo={};function Uo(d,y,b){d.L=1,d.v=Ys(Jr(y)),d.m=b,d.P=!0,el(d,null)}function el(d,y){d.F=Date.now(),xt(d),d.A=Jr(d.v);var b=d.A,A=d.R;Array.isArray(A)||(A=[String(A)]),Zs(b.i,"t",A),d.C=0,b=d.j.J,d.h=new Ec,d.g=$c(d.j,b?y:null,!d.m),0<d.O&&(d.M=new ft(w(d.Y,d,d.g),d.O)),y=d.U,b=d.g,A=d.ca;var Q="readystatechange";Array.isArray(Q)||(Q&&(gs[0]=Q.toString()),Q=gs);for(var re=0;re<Q.length;re++){var we=et(b,Q[re],A||y.handleEvent,!1,y.h||y);if(!we)break;y.g[we.key]=we}y=d.H?N(d.H):{},d.m?(d.u||(d.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,y)):(d.u="GET",d.g.ea(d.A,d.u,null,y)),vs(),zi(d.i,d.u,d.A,d.l,d.R,d.m)}Tn.prototype.ca=function(d){d=d.target;const y=this.M;y&&Vr(d)==3?y.j():this.Y(d)},Tn.prototype.Y=function(d){try{if(d==this.g)e:{const Wt=Vr(this.g);var y=this.g.Ba();const un=this.g.Z();if(!(3>Wt)&&(Wt!=3||this.g&&(this.h.h||this.g.oa()||ol(this.g)))){this.J||Wt!=4||y==7||(y==8||0>=un?vs(3):vs(2)),$i(this);var b=this.g.Z();this.X=b;t:if(kc(this)){var A=ol(this.g);d="";var Q=A.length,re=Vr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ln(this),Gs(this);var we="";break t}this.h.i=new f.TextDecoder}for(y=0;y<Q;y++)this.h.h=!0,d+=this.h.i.decode(A[y],{stream:!(re&&y==Q-1)});A.length=0,this.h.g+=d,this.C=0,we=this.h.g}else we=this.g.oa();if(this.o=b==200,Lo(this.i,this.u,this.A,this.l,this.R,Wt,b),this.o){if(this.T&&!this.K){t:{if(this.g){var mt,Xt=this.g;if((mt=Xt.g?Xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!V(mt)){var ot=mt;break t}}ot=null}if(b=ot)En(this.i,this.l,b,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,tl(this,b);else{this.o=!1,this.s=3,Ut(12),ln(this),Gs(this);break e}}if(this.P){b=!0;let Xr;for(;!this.J&&this.C<we.length;)if(Xr=mh(this,we),Xr==Mo){Wt==4&&(this.s=4,Ut(14),b=!1),En(this.i,this.l,null,"[Incomplete Response]");break}else if(Xr==Za){this.s=4,Ut(15),En(this.i,this.l,we,"[Invalid Chunk]"),b=!1;break}else En(this.i,this.l,Xr,null),tl(this,Xr);if(kc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Wt!=4||we.length!=0||this.h.h||(this.s=1,Ut(16),b=!1),this.o=this.o&&b,!b)En(this.i,this.l,we,"[Invalid Chunked Response]"),ln(this),Gs(this);else if(0<we.length&&!this.W){this.W=!0;var rr=this.j;rr.g==this&&rr.ba&&!rr.M&&(rr.j.info("Great, no buffering proxy detected. Bytes received: "+we.length),ll(rr),rr.M=!0,Ut(11))}}else En(this.i,this.l,we,null),tl(this,we);Wt==4&&ln(this),this.o&&!this.J&&(Wt==4?Yo(this.j,this):(this.o=!1,xt(this)))}else qo(this.g),b==400&&0<we.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),ln(this),Gs(this)}}}catch{}finally{}};function kc(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function mh(d,y){var b=d.C,A=y.indexOf(`
`,b);return A==-1?Mo:(b=Number(y.substring(b,A)),isNaN(b)?Za:(A+=1,A+b>y.length?Mo:(y=y.slice(A,A+b),d.C=A+b,y)))}Tn.prototype.cancel=function(){this.J=!0,ln(this)};function xt(d){d.S=Date.now()+d.I,Tc(d,d.I)}function Tc(d,y){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Nn(w(d.ba,d),y)}function $i(d){d.B&&(f.clearTimeout(d.B),d.B=null)}Tn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Xa(this.i,this.A),this.L!=2&&(vs(),Ut(17)),ln(this),this.s=2,Gs(this)):Tc(this,this.S-d)};function Gs(d){d.j.G==0||d.J||Yo(d.j,d)}function ln(d){$i(d);var y=d.M;y&&typeof y.ma=="function"&&y.ma(),d.M=null,ys(d.U),d.g&&(y=d.g,d.g=null,y.abort(),y.ma())}function tl(d,y){try{var b=d.j;if(b.G!=0&&(b.g==d||Tr(b.h,d))){if(!d.K&&Tr(b.h,d)&&b.G==3){try{var A=b.Da.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var Q=A;if(Q[0]==0){e:if(!b.u){if(b.g)if(b.g.F+3e3<d.F)Jo(b),Rn(b);else break e;Qo(b),Ut(18)}}else b.za=Q[1],0<b.za-b.T&&37500>Q[2]&&b.F&&b.v==0&&!b.C&&(b.C=Nn(w(b.Za,b),6e3));if(1>=Sc(b.h)&&b.ca){try{b.ca()}catch{}b.ca=void 0}}else js(b,11)}else if((d.K||b.g==d)&&Jo(b),!V(y))for(Q=b.Da.g.parse(y),y=0;y<Q.length;y++){let ot=Q[y];if(b.T=ot[0],ot=ot[1],b.G==2)if(ot[0]=="c"){b.K=ot[1],b.ia=ot[2];const rr=ot[3];rr!=null&&(b.la=rr,b.j.info("VER="+b.la));const Wt=ot[4];Wt!=null&&(b.Aa=Wt,b.j.info("SVER="+b.Aa));const un=ot[5];un!=null&&typeof un=="number"&&0<un&&(A=1.5*un,b.L=A,b.j.info("backChannelRequestTimeoutMs_="+A)),A=b;const Xr=d.g;if(Xr){const Ji=Xr.g?Xr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ji){var re=A.h;re.g||Ji.indexOf("spdy")==-1&&Ji.indexOf("quic")==-1&&Ji.indexOf("h2")==-1||(re.j=re.l,re.g=new Set,re.h&&(rl(re,re.h),re.h=null))}if(A.D){const Zo=Xr.g?Xr.g.getResponseHeader("X-HTTP-Session-Id"):null;Zo&&(A.ya=Zo,yt(A.I,A.D,Zo))}}b.G=3,b.l&&b.l.ua(),b.ba&&(b.R=Date.now()-d.F,b.j.info("Handshake RTT: "+b.R+"ms")),A=b;var we=d;if(A.qa=Bc(A,A.J?A.ia:null,A.W),we.K){Ac(A.h,we);var mt=we,Xt=A.L;Xt&&(mt.I=Xt),mt.B&&($i(mt),xt(mt)),A.g=we}else Qi(A);0<b.i.length&&Jn(b)}else ot[0]!="stop"&&ot[0]!="close"||js(b,7);else b.G==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?js(b,7):lr(b):ot[0]!="noop"&&b.l&&b.l.ta(ot),b.v=0)}}vs(4)}catch{}}var Ic=class{constructor(d,y){this.g=d,this.map=y}};function Hi(d){this.l=d||10,f.PerformanceNavigationTiming?(d=f.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(f.chrome&&f.chrome.loadTimes&&f.chrome.loadTimes()&&f.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Qr(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Sc(d){return d.h?1:d.g?d.g.size:0}function Tr(d,y){return d.h?d.h==y:d.g?d.g.has(y):!1}function rl(d,y){d.g?d.g.add(y):d.h=y}function Ac(d,y){d.h&&d.h==y?d.h=null:d.g&&d.g.has(y)&&d.g.delete(y)}Hi.prototype.cancel=function(){if(this.i=Cc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Cc(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let y=d.i;for(const b of d.g.values())y=y.concat(b.D);return y}return B(d.i)}function zo(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(m(d)){for(var y=[],b=d.length,A=0;A<b;A++)y.push(d[A]);return y}y=[],b=0;for(A in d)y[b++]=d[A];return y}function Bo(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(m(d)||typeof d=="string"){var y=[];d=d.length;for(var b=0;b<d;b++)y.push(b);return y}y=[],b=0;for(const A in d)y[b++]=A;return y}}}function Ks(d,y){if(d.forEach&&typeof d.forEach=="function")d.forEach(y,void 0);else if(m(d)||typeof d=="string")Array.prototype.forEach.call(d,y,void 0);else for(var b=Bo(d),A=zo(d),Q=A.length,re=0;re<Q;re++)y.call(void 0,A[re],b&&b[re],d)}var Wi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ph(d,y){if(d){d=d.split("&");for(var b=0;b<d.length;b++){var A=d[b].indexOf("="),Q=null;if(0<=A){var re=d[b].substring(0,A);Q=d[b].substring(A+1)}else re=d[b];y(re,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function xs(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof xs){this.h=d.h,qi(this,d.j),this.o=d.o,this.g=d.g,Qs(this,d.s),this.l=d.l;var y=d.i,b=new Gn;b.i=y.i,y.g&&(b.g=new Map(y.g),b.h=y.h),Js(this,b),this.m=d.m}else d&&(y=String(d).match(Wi))?(this.h=!1,qi(this,y[1]||"",!0),this.o=st(y[2]||""),this.g=st(y[3]||"",!0),Qs(this,y[4]),this.l=st(y[5]||"",!0),Js(this,y[6]||"",!0),this.m=st(y[7]||"")):(this.h=!1,this.i=new Gn(null,this.h))}xs.prototype.toString=function(){var d=[],y=this.j;y&&d.push(Xs(y,$o,!0),":");var b=this.g;return(b||y=="file")&&(d.push("//"),(y=this.o)&&d.push(Xs(y,$o,!0),"@"),d.push(encodeURIComponent(String(b)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b=this.s,b!=null&&d.push(":",String(b))),(b=this.l)&&(this.g&&b.charAt(0)!="/"&&d.push("/"),d.push(Xs(b,b.charAt(0)=="/"?Dc:Pc,!0))),(b=this.i.toString())&&d.push("?",b),(b=this.m)&&d.push("#",Xs(b,nl)),d.join("")};function Jr(d){return new xs(d)}function qi(d,y,b){d.j=b?st(y,!0):y,d.j&&(d.j=d.j.replace(/:$/,""))}function Qs(d,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);d.s=y}else d.s=null}function Js(d,y,b){y instanceof Gn?(d.i=y,Kn(d.i,d.h)):(b||(y=Xs(y,Vc)),d.i=new Gn(y,d.h))}function yt(d,y,b){d.i.set(y,b)}function Ys(d){return yt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function st(d,y){return d?y?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Xs(d,y,b){return typeof d=="string"?(d=encodeURI(d).replace(y,Rc),b&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Rc(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var $o=/[#\/\?@]/g,Pc=/[#\?:]/g,Dc=/[#\?]/g,Vc=/[#\?@]/g,nl=/#/g;function Gn(d,y){this.h=this.g=null,this.i=d||null,this.j=!!y}function ar(d){d.g||(d.g=new Map,d.h=0,d.i&&ph(d.i,function(y,b){d.add(decodeURIComponent(y.replace(/\+/g," ")),b)}))}r=Gn.prototype,r.add=function(d,y){ar(this),this.i=null,d=cn(this,d);var b=this.g.get(d);return b||this.g.set(d,b=[]),b.push(y),this.h+=1,this};function In(d,y){ar(d),y=cn(d,y),d.g.has(y)&&(d.i=null,d.h-=d.g.get(y).length,d.g.delete(y))}function Sn(d,y){return ar(d),y=cn(d,y),d.g.has(y)}r.forEach=function(d,y){ar(this),this.g.forEach(function(b,A){b.forEach(function(Q){d.call(y,Q,A,this)},this)},this)},r.na=function(){ar(this);const d=Array.from(this.g.values()),y=Array.from(this.g.keys()),b=[];for(let A=0;A<y.length;A++){const Q=d[A];for(let re=0;re<Q.length;re++)b.push(y[A])}return b},r.V=function(d){ar(this);let y=[];if(typeof d=="string")Sn(this,d)&&(y=y.concat(this.g.get(cn(this,d))));else{d=Array.from(this.g.values());for(let b=0;b<d.length;b++)y=y.concat(d[b])}return y},r.set=function(d,y){return ar(this),this.i=null,d=cn(this,d),Sn(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[y]),this.h+=1,this},r.get=function(d,y){return d?(d=this.V(d),0<d.length?String(d[0]):y):y};function Zs(d,y,b){In(d,y),0<b.length&&(d.i=null,d.g.set(cn(d,y),B(b)),d.h+=b.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],y=Array.from(this.g.keys());for(var b=0;b<y.length;b++){var A=y[b];const re=encodeURIComponent(String(A)),we=this.V(A);for(A=0;A<we.length;A++){var Q=re;we[A]!==""&&(Q+="="+encodeURIComponent(String(we[A]))),d.push(Q)}}return this.i=d.join("&")};function cn(d,y){return y=String(y),d.j&&(y=y.toLowerCase()),y}function Kn(d,y){y&&!d.j&&(ar(d),d.i=null,d.g.forEach(function(b,A){var Q=A.toLowerCase();A!=Q&&(In(this,A),Zs(this,Q,b))},d)),d.j=y}function gh(d,y){const b=new Ui;if(f.Image){const A=new Image;A.onload=S(Dr,b,"TestLoadImage: loaded",!0,y,A),A.onerror=S(Dr,b,"TestLoadImage: error",!1,y,A),A.onabort=S(Dr,b,"TestLoadImage: abort",!1,y,A),A.ontimeout=S(Dr,b,"TestLoadImage: timeout",!1,y,A),f.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=d}else y(!1)}function Oc(d,y){const b=new Ui,A=new AbortController,Q=setTimeout(()=>{A.abort(),Dr(b,"TestPingServer: timeout",!1,y)},1e4);fetch(d,{signal:A.signal}).then(re=>{clearTimeout(Q),re.ok?Dr(b,"TestPingServer: ok",!0,y):Dr(b,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(Q),Dr(b,"TestPingServer: error",!1,y)})}function Dr(d,y,b,A,Q){try{Q&&(Q.onload=null,Q.onerror=null,Q.onabort=null,Q.ontimeout=null),A(b)}catch{}}function yh(){this.g=new Fi}function Lc(d,y,b){const A=b||"";try{Ks(d,function(Q,re){let we=Q;g(Q)&&(we=Li(Q)),y.push(A+re+"="+encodeURIComponent(we))})}catch(Q){throw y.push(A+"type="+encodeURIComponent("_badmap")),Q}}function bs(d){this.l=d.Ub||null,this.j=d.eb||!1}U(bs,Hn),bs.prototype.g=function(){return new Gi(this.l,this.j)},bs.prototype.i=function(d){return function(){return d}}({});function Gi(d,y){le.call(this),this.D=d,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}U(Gi,le),r=Gi.prototype,r.open=function(d,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=y,this.readyState=1,Cn(this)},r.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(y.body=d),(this.D||f).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,An(this)),this.readyState=0},r.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Cn(this)),this.g&&(this.readyState=3,Cn(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof f.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Fc(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Fc(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}r.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var y=d.value?d.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!d.done}))&&(this.response=this.responseText+=y)}d.done?An(this):Cn(this),this.readyState==3&&Fc(this)}},r.Ra=function(d){this.g&&(this.response=this.responseText=d,An(this))},r.Qa=function(d){this.g&&(this.response=d,An(this))},r.ga=function(){this.g&&An(this)};function An(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Cn(d)}r.setRequestHeader=function(d,y){this.u.append(d,y)},r.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],y=this.h.entries();for(var b=y.next();!b.done;)b=b.value,d.push(b[0]+": "+b[1]),b=y.next();return d.join(`\r
`)};function Cn(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Gi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function ws(d){let y="";return I(d,function(b,A){y+=A,y+=":",y+=b,y+=`\r
`}),y}function ei(d,y,b){e:{for(A in b){var A=!1;break e}A=!0}A||(b=ws(b),typeof d=="string"?b!=null&&encodeURIComponent(String(b)):yt(d,y,b))}function It(d){le.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}U(It,le);var vh=/^https?$/i,sl=["POST","PUT"];r=It.prototype,r.Ha=function(d){this.J=d},r.ea=function(d,y,b,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);y=y?y.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():kn.g(),this.v=this.o?Po(this.o):Po(kn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(y,String(d),!0),this.B=!1}catch(re){Ki(this,re);return}if(d=b||"",b=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var Q in A)b.set(Q,A[Q]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const re of A.keys())b.set(re,A.get(re));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(b.keys()).find(re=>re.toLowerCase()=="content-type"),Q=f.FormData&&d instanceof f.FormData,!(0<=Array.prototype.indexOf.call(sl,y,void 0))||A||Q||b.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[re,we]of b)this.g.setRequestHeader(re,we);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wo(this),this.u=!0,this.g.send(d),this.u=!1}catch(re){Ki(this,re)}};function Ki(d,y){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=y,d.m=5,Ho(d),Yr(d)}function Ho(d){d.A||(d.A=!0,se(d,"complete"),se(d,"error"))}r.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,se(this,"complete"),se(this,"abort"),Yr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yr(this,!0)),It.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?il(this):this.bb())},r.bb=function(){il(this)};function il(d){if(d.h&&typeof u<"u"&&(!d.v[1]||Vr(d)!=4||d.Z()!=2)){if(d.u&&Vr(d)==4)Ke(d.Ea,0,d);else if(se(d,"readystatechange"),Vr(d)==4){d.h=!1;try{const we=d.Z();e:switch(we){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var b;if(!(b=y)){var A;if(A=we===0){var Q=String(d.D).match(Wi)[1]||null;!Q&&f.self&&f.self.location&&(Q=f.self.location.protocol.slice(0,-1)),A=!vh.test(Q?Q.toLowerCase():"")}b=A}if(b)se(d,"complete"),se(d,"success");else{d.m=6;try{var re=2<Vr(d)?d.g.statusText:""}catch{re=""}d.l=re+" ["+d.Z()+"]",Ho(d)}}finally{Yr(d)}}}}function Yr(d,y){if(d.g){Wo(d);const b=d.g,A=d.v[0]?()=>{}:null;d.g=null,d.v=null,y||se(d,"ready");try{b.onreadystatechange=A}catch{}}}function Wo(d){d.I&&(f.clearTimeout(d.I),d.I=null)}r.isActive=function(){return!!this.g};function Vr(d){return d.g?d.g.readyState:0}r.Z=function(){try{return 2<Vr(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(d){if(this.g){var y=this.g.responseText;return d&&y.indexOf(d)==0&&(y=y.substring(d.length)),qs(y)}};function ol(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function qo(d){const y={};d=(d.g&&2<=Vr(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<d.length;A++){if(V(d[A]))continue;var b=F(d[A]);const Q=b[0];if(b=b[1],typeof b!="string")continue;b=b.trim();const re=y[Q]||[];y[Q]=re,re.push(b)}j(y,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Qn(d,y,b){return b&&b.internalChannelParams&&b.internalChannelParams[d]||y}function al(d){this.Aa=0,this.i=[],this.j=new Ui,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Qn("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Qn("baseRetryDelayMs",5e3,d),this.cb=Qn("retryDelaySeedMs",1e4,d),this.Wa=Qn("forwardChannelMaxRetries",2,d),this.wa=Qn("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Hi(d&&d.concurrentRequestLimit),this.Da=new yh,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=al.prototype,r.la=8,r.G=1,r.connect=function(d,y,b,A){Ut(0),this.W=d,this.H=y||{},b&&A!==void 0&&(this.H.OSID=b,this.H.OAID=A),this.F=this.X,this.I=Bc(this,null,this.W),Jn(this)};function lr(d){if(Go(d),d.G==3){var y=d.U++,b=Jr(d.I);if(yt(b,"SID",d.K),yt(b,"RID",y),yt(b,"TYPE","terminate"),_s(d,b),y=new Tn(d,d.j,y),y.L=2,y.v=Ys(Jr(b)),b=!1,f.navigator&&f.navigator.sendBeacon)try{b=f.navigator.sendBeacon(y.v.toString(),"")}catch{}!b&&f.Image&&(new Image().src=y.v,b=!0),b||(y.g=$c(y.j,null),y.g.ea(y.v)),y.F=Date.now(),xt(y)}zc(d)}function Rn(d){d.g&&(ll(d),d.g.cancel(),d.g=null)}function Go(d){Rn(d),d.u&&(f.clearTimeout(d.u),d.u=null),Jo(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&f.clearTimeout(d.s),d.s=null)}function Jn(d){if(!Qr(d.h)&&!d.s){d.s=!0;var y=d.Ga;_e||R(),ne||(_e(),ne=!0),ee.add(y,d),d.B=0}}function xh(d,y){return Sc(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=y.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Nn(w(d.Ga,d,y),Uc(d,d.B)),d.B++,!0)}r.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const Q=new Tn(this,this.j,d);let re=this.o;if(this.S&&(re?(re=N(re),L(re,this.S)):re=this.S),this.m!==null||this.O||(Q.H=re,re=null),this.P)e:{for(var y=0,b=0;b<this.i.length;b++){t:{var A=this.i[b];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,4096<y){y=b;break e}if(y===4096||b===this.i.length-1){y=b+1;break e}}y=1e3}else y=1e3;y=ti(this,Q,y),b=Jr(this.I),yt(b,"RID",d),yt(b,"CVER",22),this.D&&yt(b,"X-HTTP-Session-Id",this.D),_s(this,b),re&&(this.O?y="headers="+encodeURIComponent(String(ws(re)))+"&"+y:this.m&&ei(b,this.m,re)),rl(this.h,Q),this.Ua&&yt(b,"TYPE","init"),this.P?(yt(b,"$req",y),yt(b,"SID","null"),Q.T=!0,Uo(Q,b,null)):Uo(Q,b,y),this.G=2}}else this.G==3&&(d?Ko(this,d):this.i.length==0||Qr(this.h)||Ko(this))};function Ko(d,y){var b;y?b=y.l:b=d.U++;const A=Jr(d.I);yt(A,"SID",d.K),yt(A,"RID",b),yt(A,"AID",d.T),_s(d,A),d.m&&d.o&&ei(A,d.m,d.o),b=new Tn(d,d.j,b,d.B+1),d.m===null&&(b.H=d.o),y&&(d.i=y.D.concat(d.i)),y=ti(d,b,1e3),b.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),rl(d.h,b),Uo(b,A,y)}function _s(d,y){d.H&&I(d.H,function(b,A){yt(y,A,b)}),d.l&&Ks({},function(b,A){yt(y,A,b)})}function ti(d,y,b){b=Math.min(d.i.length,b);var A=d.l?w(d.l.Na,d.l,d):null;e:{var Q=d.i;let re=-1;for(;;){const we=["count="+b];re==-1?0<b?(re=Q[0].g,we.push("ofs="+re)):re=0:we.push("ofs="+re);let mt=!0;for(let Xt=0;Xt<b;Xt++){let ot=Q[Xt].g;const rr=Q[Xt].map;if(ot-=re,0>ot)re=Math.max(0,Q[Xt].g-100),mt=!1;else try{Lc(rr,we,"req"+ot+"_")}catch{A&&A(rr)}}if(mt){A=we.join("&");break e}}}return d=d.i.splice(0,b),y.D=d,A}function Qi(d){if(!d.g&&!d.u){d.Y=1;var y=d.Fa;_e||R(),ne||(_e(),ne=!0),ee.add(y,d),d.v=0}}function Qo(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Nn(w(d.Fa,d),Uc(d,d.v)),d.v++,!0)}r.Fa=function(){if(this.u=null,Mc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Nn(w(this.ab,this),d)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),Rn(this),Mc(this))};function ll(d){d.A!=null&&(f.clearTimeout(d.A),d.A=null)}function Mc(d){d.g=new Tn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var y=Jr(d.qa);yt(y,"RID","rpc"),yt(y,"SID",d.K),yt(y,"AID",d.T),yt(y,"CI",d.F?"0":"1"),!d.F&&d.ja&&yt(y,"TO",d.ja),yt(y,"TYPE","xmlhttp"),_s(d,y),d.m&&d.o&&ei(y,d.m,d.o),d.L&&(d.g.I=d.L);var b=d.g;d=d.ia,b.L=1,b.v=Ys(Jr(y)),b.m=null,b.P=!0,el(b,d)}r.Za=function(){this.C!=null&&(this.C=null,Rn(this),Qo(this),Ut(19))};function Jo(d){d.C!=null&&(f.clearTimeout(d.C),d.C=null)}function Yo(d,y){var b=null;if(d.g==y){Jo(d),ll(d),d.g=null;var A=2}else if(Tr(d.h,y))b=y.D,Ac(d.h,y),A=1;else return;if(d.G!=0){if(y.o)if(A==1){b=y.m?y.m.length:0,y=Date.now()-y.F;var Q=d.B;A=Mi(),se(A,new Oo(A,b)),Jn(d)}else Qi(d);else if(Q=y.s,Q==3||Q==0&&0<y.X||!(A==1&&xh(d,y)||A==2&&Qo(d)))switch(b&&0<b.length&&(y=d.h,y.i=y.i.concat(b)),Q){case 1:js(d,5);break;case 4:js(d,10);break;case 3:js(d,6);break;default:js(d,2)}}}function Uc(d,y){let b=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(b*=2),b*y}function js(d,y){if(d.j.info("Error code "+y),y==2){var b=w(d.fb,d),A=d.Xa;const Q=!A;A=new xs(A||"//www.google.com/images/cleardot.gif"),f.location&&f.location.protocol=="http"||qi(A,"https"),Ys(A),Q?gh(A.toString(),b):Oc(A.toString(),b)}else Ut(2);d.G=0,d.l&&d.l.sa(y),zc(d),Go(d)}r.fb=function(d){d?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function zc(d){if(d.G=0,d.ka=[],d.l){const y=Cc(d.h);(y.length!=0||d.i.length!=0)&&(O(d.ka,y),O(d.ka,d.i),d.h.i.length=0,B(d.i),d.i.length=0),d.l.ra()}}function Bc(d,y,b){var A=b instanceof xs?Jr(b):new xs(b);if(A.g!="")y&&(A.g=y+"."+A.g),Qs(A,A.s);else{var Q=f.location;A=Q.protocol,y=y?y+"."+Q.hostname:Q.hostname,Q=+Q.port;var re=new xs(null);A&&qi(re,A),y&&(re.g=y),Q&&Qs(re,Q),b&&(re.l=b),A=re}return b=d.D,y=d.ya,b&&y&&yt(A,b,y),yt(A,"VER",d.la),_s(d,A),A}function $c(d,y,b){if(y&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=d.Ca&&!d.pa?new It(new bs({eb:b})):new It(d.pa),y.Ha(d.J),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function cl(){}r=cl.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function Xo(){}Xo.prototype.g=function(d,y){return new Ir(d,y)};function Ir(d,y){le.call(this),this.g=new al(y),this.l=d,this.h=y&&y.messageUrlParams||null,d=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(d?d["X-WebChannel-Content-Type"]=y.messageContentType:d={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(d?d["X-WebChannel-Client-Profile"]=y.va:d={"X-WebChannel-Client-Profile":y.va}),this.g.S=d,(d=y&&y.Sb)&&!V(d)&&(this.g.m=d),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!V(y)&&(this.g.D=y,d=this.h,d!==null&&y in d&&(d=this.h,y in d&&delete d[y])),this.j=new Yn(this)}U(Ir,le),Ir.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ir.prototype.close=function(){lr(this.g)},Ir.prototype.o=function(d){var y=this.g;if(typeof d=="string"){var b={};b.__data__=d,d=b}else this.u&&(b={},b.__data__=Li(d),d=b);y.i.push(new Ic(y.Ya++,d)),y.G==3&&Jn(y)},Ir.prototype.N=function(){this.g.l=null,delete this.j,lr(this.g),delete this.g,Ir.aa.N.call(this)};function Hc(d){Wn.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var y=d.__sm__;if(y){e:{for(const b in y){d=b;break e}d=void 0}(this.i=d)&&(d=this.i,y=y!==null&&d in y?y[d]:void 0),this.data=y}else this.data=d}U(Hc,Wn);function Wc(){Vo.call(this),this.status=1}U(Wc,Vo);function Yn(d){this.g=d}U(Yn,cl),Yn.prototype.ua=function(){se(this.g,"a")},Yn.prototype.ta=function(d){se(this.g,new Hc(d))},Yn.prototype.sa=function(d){se(this.g,new Wc)},Yn.prototype.ra=function(){se(this.g,"b")},Xo.prototype.createWebChannel=Xo.prototype.g,Ir.prototype.send=Ir.prototype.o,Ir.prototype.open=Ir.prototype.m,Ir.prototype.close=Ir.prototype.close,Bb=function(){return new Xo},zb=function(){return Mi()},Ub=qn,Im={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fo.NO_ERROR=0,Fo.TIMEOUT=8,Fo.HTTP_ERROR=6,Zu=Fo,Nc.COMPLETE="complete",Mb=Nc,Do.EventType=an,an.OPEN="a",an.CLOSE="b",an.ERROR="c",an.MESSAGE="d",le.prototype.listen=le.prototype.K,Ul=Do,It.prototype.listenOnce=It.prototype.L,It.prototype.getLastError=It.prototype.Ka,It.prototype.getLastErrorCode=It.prototype.Ba,It.prototype.getStatus=It.prototype.Z,It.prototype.getResponseJson=It.prototype.Oa,It.prototype.getResponseText=It.prototype.oa,It.prototype.send=It.prototype.ea,It.prototype.setWithCredentials=It.prototype.Ha,Fb=It}).apply(typeof Uu<"u"?Uu:typeof self<"u"?self:typeof window<"u"?window:{});const dv="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_r.UNAUTHENTICATED=new _r(null),_r.GOOGLE_CREDENTIALS=new _r("google-credentials-uid"),_r.FIRST_PARTY=new _r("first-party-uid"),_r.MOCK_USER=new _r("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wa="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _o=new Rd("@firebase/firestore");function Dl(){return _o.logLevel}function Re(r,...e){if(_o.logLevel<=it.DEBUG){const t=e.map(cp);_o.debug(`Firestore (${Wa}): ${r}`,...t)}}function zs(r,...e){if(_o.logLevel<=it.ERROR){const t=e.map(cp);_o.error(`Firestore (${Wa}): ${r}`,...t)}}function Ra(r,...e){if(_o.logLevel<=it.WARN){const t=e.map(cp);_o.warn(`Firestore (${Wa}): ${r}`,...t)}}function cp(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ge(r="Unexpected state"){const e=`FIRESTORE (${Wa}) INTERNAL ASSERTION FAILED: `+r;throw zs(e),new Error(e)}function gt(r,e){r||Ge()}function Je(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ie extends jn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xT{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(_r.UNAUTHENTICATED))}shutdown(){}}class bT{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class wT{constructor(e){this.t=e,this.currentUser=_r.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){gt(this.o===void 0);let n=this.i;const a=m=>this.i!==n?(n=this.i,t(m)):Promise.resolve();let l=new Fs;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Fs,e.enqueueRetryable(()=>a(this.currentUser))};const u=()=>{const m=l;e.enqueueRetryable(async()=>{await m.promise,await a(this.currentUser)})},f=m=>{Re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit(m=>f(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?f(m):(Re("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Fs)}},0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(n=>this.i!==e?(Re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(gt(typeof n.accessToken=="string"),new $b(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string"),new _r(e)}}class _T{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=_r.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class jT{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new _T(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(_r.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class NT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ET{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){gt(this.o===void 0);const n=l=>{l.error!=null&&Re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const u=l.token!==this.R;return this.R=l.token,Re("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable(()=>n(l))};const a=l=>{Re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(l=>a(l)),setTimeout(()=>{if(!this.appCheck){const l=this.A.getImmediate({optional:!0});l?a(l):Re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(gt(typeof t.token=="string"),this.R=t.token,new NT(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let n=0;n<r;n++)t[n]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const a=kT(40);for(let l=0;l<a.length;++l)n.length<20&&a[l]<t&&(n+=e.charAt(a[l]%e.length))}return n}}function dt(r,e){return r<e?-1:r>e?1:0}function Pa(r,e,t){return r.length===e.length&&r.every((n,a)=>t(n,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ie(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ie(oe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ie(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ie(oe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ye.fromMillis(Date.now())}static fromDate(e){return Ye.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ye(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?dt(this.nanoseconds,e.nanoseconds):dt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new Ye(0,0))}static max(){return new Qe(new Ye(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(e,t,n){t===void 0?t=0:t>e.length&&Ge(),n===void 0?n=e.length-t:n>e.length-t&&Ge(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return rc.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof rc?e.forEach(n=>{t.push(n)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let a=0;a<n;a++){const l=e.get(a),u=t.get(a);if(l<u)return-1;if(l>u)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Tt extends rc{construct(e,t,n){return new Tt(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Ie(oe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(a=>a.length>0))}return new Tt(t)}static emptyPath(){return new Tt([])}}const TT=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hr extends rc{construct(e,t,n){return new hr(e,t,n)}static isValidIdentifier(e){return TT.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new hr(["__name__"])}static fromServerFormat(e){const t=[];let n="",a=0;const l=()=>{if(n.length===0)throw new Ie(oe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let u=!1;for(;a<e.length;){const f=e[a];if(f==="\\"){if(a+1===e.length)throw new Ie(oe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const m=e[a+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new Ie(oe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=m,a+=2}else f==="`"?(u=!u,a++):f!=="."||u?(n+=f,a++):(l(),a++)}if(l(),u)throw new Ie(oe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hr(t)}static emptyPath(){return new hr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.path=e}static fromPath(e){return new Me(Tt.fromString(e))}static fromName(e){return new Me(Tt.fromString(e).popFirst(5))}static empty(){return new Me(Tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Tt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Me(new Tt(e.slice()))}}function IT(r,e){const t=r.toTimestamp().seconds,n=r.toTimestamp().nanoseconds+1,a=Qe.fromTimestamp(n===1e9?new Ye(t+1,0):new Ye(t,n));return new Ai(a,Me.empty(),e)}function ST(r){return new Ai(r.readTime,r.key,-1)}class Ai{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new Ai(Qe.min(),Me.empty(),-1)}static max(){return new Ai(Qe.max(),Me.empty(),-1)}}function AT(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=Me.comparator(r.documentKey,e.documentKey),t!==0?t:dt(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pc(r){if(r.code!==oe.FAILED_PRECONDITION||r.message!==CT)throw r;Re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ge(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new fe((n,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(n,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(n,a)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof fe?t:fe.resolve(t)}catch(t){return fe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):fe.reject(t)}static resolve(e){return new fe((t,n)=>{t(e)})}static reject(e){return new fe((t,n)=>{n(e)})}static waitFor(e){return new fe((t,n)=>{let a=0,l=0,u=!1;e.forEach(f=>{++a,f.next(()=>{++l,u&&l===a&&t()},m=>n(m))}),u=!0,l===a&&t()})}static or(e){let t=fe.resolve(!1);for(const n of e)t=t.next(a=>a?fe.resolve(a):n());return t}static forEach(e,t){const n=[];return e.forEach((a,l)=>{n.push(t.call(this,a,l))}),this.waitFor(n)}static mapArray(e,t){return new fe((n,a)=>{const l=e.length,u=new Array(l);let f=0;for(let m=0;m<l;m++){const g=m;t(e[g]).next(x=>{u[g]=x,++f,f===l&&n(u)},x=>a(x))}})}static doWhile(e,t){return new fe((n,a)=>{const l=()=>{e()===!0?t().next(()=>{l()},a):n()};l()})}}function PT(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function gc(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class up{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=n=>this.ie(n),this.se=n=>t.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}up.oe=-1;function Ld(r){return r==null}function pd(r){return r===0&&1/r==-1/0}function DT(r){return typeof r=="number"&&Number.isInteger(r)&&!pd(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hv(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function Co(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function Wb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e,t){this.comparator=e,this.root=t||dr.EMPTY}insert(e,t){return new Dt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,dr.BLACK,null,null))}remove(e){return new Dt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(n===0)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const a=this.comparator(e,n.key);if(a===0)return t+n.left.size;a<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new zu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new zu(this.root,e,this.comparator,!1)}getReverseIterator(){return new zu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new zu(this.root,e,this.comparator,!0)}}class zu{constructor(e,t,n,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?n(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dr{constructor(e,t,n,a,l){this.key=e,this.value=t,this.color=n??dr.RED,this.left=a??dr.EMPTY,this.right=l??dr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,a,l){return new dr(e??this.key,t??this.value,n??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let a=this;const l=n(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,n),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,n)),a.fixUp()}removeMin(){if(this.left.isEmpty())return dr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return dr.EMPTY;n=a.right.min(),a=a.copy(n.key,n.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ge();const e=this.left.check();if(e!==this.right.check())throw Ge();return e+(this.isRed()?0:1)}}dr.EMPTY=null,dr.RED=!0,dr.BLACK=!1;dr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge()}get value(){throw Ge()}get color(){throw Ge()}get left(){throw Ge()}get right(){throw Ge()}copy(e,t,n,a,l){return this}insert(e,t,n){return new dr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(e){this.comparator=e,this.data=new Dt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const a=n.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let n;for(n=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new fv(this.data.getIterator())}getIteratorFrom(e){return new fv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(n=>{t=t.add(n)}),t}isEqual(e){if(!(e instanceof mr)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=n.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new mr(this.comparator);return t.data=e,t}}class fv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.fields=e,e.sort(hr.comparator)}static empty(){return new nn([])}unionWith(e){let t=new mr(hr.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new nn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Pa(this.fields,e.fields,(t,n)=>t.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new qb("Invalid base64 string: "+l):l}}(e);return new pr(t)}static fromUint8Array(e){const t=function(a){let l="";for(let u=0;u<a.length;++u)l+=String.fromCharCode(a[u]);return l}(e);return new pr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let a=0;a<t.length;a++)n[a]=t.charCodeAt(a);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pr.EMPTY_BYTE_STRING=new pr("");const VT=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ci(r){if(gt(!!r),typeof r=="string"){let e=0;const t=VT.exec(r);if(gt(!!t),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const n=new Date(r);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Bt(r.seconds),nanos:Bt(r.nanos)}}function Bt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function jo(r){return typeof r=="string"?pr.fromBase64String(r):pr.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dp(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function hp(r){const e=r.mapValue.fields.__previous_value__;return dp(e)?hp(e):e}function nc(r){const e=Ci(r.mapValue.fields.__local_write_time__.timestampValue);return new Ye(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OT{constructor(e,t,n,a,l,u,f,m,g){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=a,this.ssl=l,this.forceLongPolling=u,this.autoDetectLongPolling=f,this.longPollingOptions=m,this.useFetchStreams=g}}class sc{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new sc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof sc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bu={mapValue:{}};function No(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?dp(r)?4:FT(r)?9007199254740991:LT(r)?10:11:Ge()}function us(r,e){if(r===e)return!0;const t=No(r);if(t!==No(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return nc(r).isEqual(nc(e));case 3:return function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const u=Ci(a.timestampValue),f=Ci(l.timestampValue);return u.seconds===f.seconds&&u.nanos===f.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(a,l){return jo(a.bytesValue).isEqual(jo(l.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(a,l){return Bt(a.geoPointValue.latitude)===Bt(l.geoPointValue.latitude)&&Bt(a.geoPointValue.longitude)===Bt(l.geoPointValue.longitude)}(r,e);case 2:return function(a,l){if("integerValue"in a&&"integerValue"in l)return Bt(a.integerValue)===Bt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const u=Bt(a.doubleValue),f=Bt(l.doubleValue);return u===f?pd(u)===pd(f):isNaN(u)&&isNaN(f)}return!1}(r,e);case 9:return Pa(r.arrayValue.values||[],e.arrayValue.values||[],us);case 10:case 11:return function(a,l){const u=a.mapValue.fields||{},f=l.mapValue.fields||{};if(hv(u)!==hv(f))return!1;for(const m in u)if(u.hasOwnProperty(m)&&(f[m]===void 0||!us(u[m],f[m])))return!1;return!0}(r,e);default:return Ge()}}function ic(r,e){return(r.values||[]).find(t=>us(t,e))!==void 0}function Da(r,e){if(r===e)return 0;const t=No(r),n=No(e);if(t!==n)return dt(t,n);switch(t){case 0:case 9007199254740991:return 0;case 1:return dt(r.booleanValue,e.booleanValue);case 2:return function(l,u){const f=Bt(l.integerValue||l.doubleValue),m=Bt(u.integerValue||u.doubleValue);return f<m?-1:f>m?1:f===m?0:isNaN(f)?isNaN(m)?0:-1:1}(r,e);case 3:return mv(r.timestampValue,e.timestampValue);case 4:return mv(nc(r),nc(e));case 5:return dt(r.stringValue,e.stringValue);case 6:return function(l,u){const f=jo(l),m=jo(u);return f.compareTo(m)}(r.bytesValue,e.bytesValue);case 7:return function(l,u){const f=l.split("/"),m=u.split("/");for(let g=0;g<f.length&&g<m.length;g++){const x=dt(f[g],m[g]);if(x!==0)return x}return dt(f.length,m.length)}(r.referenceValue,e.referenceValue);case 8:return function(l,u){const f=dt(Bt(l.latitude),Bt(u.latitude));return f!==0?f:dt(Bt(l.longitude),Bt(u.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return pv(r.arrayValue,e.arrayValue);case 10:return function(l,u){var f,m,g,x;const _=l.fields||{},w=u.fields||{},S=(f=_.value)===null||f===void 0?void 0:f.arrayValue,U=(m=w.value)===null||m===void 0?void 0:m.arrayValue,B=dt(((g=S==null?void 0:S.values)===null||g===void 0?void 0:g.length)||0,((x=U==null?void 0:U.values)===null||x===void 0?void 0:x.length)||0);return B!==0?B:pv(S,U)}(r.mapValue,e.mapValue);case 11:return function(l,u){if(l===Bu.mapValue&&u===Bu.mapValue)return 0;if(l===Bu.mapValue)return 1;if(u===Bu.mapValue)return-1;const f=l.fields||{},m=Object.keys(f),g=u.fields||{},x=Object.keys(g);m.sort(),x.sort();for(let _=0;_<m.length&&_<x.length;++_){const w=dt(m[_],x[_]);if(w!==0)return w;const S=Da(f[m[_]],g[x[_]]);if(S!==0)return S}return dt(m.length,x.length)}(r.mapValue,e.mapValue);default:throw Ge()}}function mv(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return dt(r,e);const t=Ci(r),n=Ci(e),a=dt(t.seconds,n.seconds);return a!==0?a:dt(t.nanos,n.nanos)}function pv(r,e){const t=r.values||[],n=e.values||[];for(let a=0;a<t.length&&a<n.length;++a){const l=Da(t[a],n[a]);if(l)return l}return dt(t.length,n.length)}function Va(r){return Sm(r)}function Sm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(t){const n=Ci(t);return`time(${n.seconds},${n.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(t){return jo(t).toBase64()}(r.bytesValue):"referenceValue"in r?function(t){return Me.fromName(t).toString()}(r.referenceValue):"geoPointValue"in r?function(t){return`geo(${t.latitude},${t.longitude})`}(r.geoPointValue):"arrayValue"in r?function(t){let n="[",a=!0;for(const l of t.values||[])a?a=!1:n+=",",n+=Sm(l);return n+"]"}(r.arrayValue):"mapValue"in r?function(t){const n=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const u of n)l?l=!1:a+=",",a+=`${u}:${Sm(t.fields[u])}`;return a+"}"}(r.mapValue):Ge()}function gv(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function Am(r){return!!r&&"integerValue"in r}function fp(r){return!!r&&"arrayValue"in r}function yv(r){return!!r&&"nullValue"in r}function vv(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function ed(r){return!!r&&"mapValue"in r}function LT(r){var e,t;return((t=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Wl(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Co(r.mapValue.fields,(t,n)=>e.mapValue.fields[t]=Wl(n)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Wl(r.arrayValue.values[t]);return e}return Object.assign({},r)}function FT(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e){this.value=e}static empty(){return new $r({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!ed(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Wl(t)}setAll(e){let t=hr.emptyPath(),n={},a=[];e.forEach((u,f)=>{if(!t.isImmediateParentOf(f)){const m=this.getFieldsMap(t);this.applyChanges(m,n,a),n={},a=[],t=f.popLast()}u?n[f.lastSegment()]=Wl(u):a.push(f.lastSegment())});const l=this.getFieldsMap(t);this.applyChanges(l,n,a)}delete(e){const t=this.field(e.popLast());ed(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return us(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let a=t.mapValue.fields[e.get(n)];ed(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,n){Co(t,(a,l)=>e[a]=l);for(const a of n)delete e[a]}clone(){return new $r(Wl(this.value))}}function Gb(r){const e=[];return Co(r.fields,(t,n)=>{const a=new hr([t]);if(ed(n)){const l=Gb(n.mapValue).fields;if(l.length===0)e.push(a);else for(const u of l)e.push(a.child(u))}else e.push(a)}),new nn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,t,n,a,l,u,f){this.key=e,this.documentType=t,this.version=n,this.readTime=a,this.createTime=l,this.data=u,this.documentState=f}static newInvalidDocument(e){return new jr(e,0,Qe.min(),Qe.min(),Qe.min(),$r.empty(),0)}static newFoundDocument(e,t,n,a){return new jr(e,1,t,Qe.min(),n,a,0)}static newNoDocument(e,t){return new jr(e,2,t,Qe.min(),Qe.min(),$r.empty(),0)}static newUnknownDocument(e,t){return new jr(e,3,t,Qe.min(),Qe.min(),$r.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$r.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$r.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof jr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new jr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,t){this.position=e,this.inclusive=t}}function xv(r,e,t){let n=0;for(let a=0;a<r.position.length;a++){const l=e[a],u=r.position[a];if(l.field.isKeyField()?n=Me.comparator(Me.fromName(u.referenceValue),t.key):n=Da(u,t.data.field(l.field)),l.dir==="desc"&&(n*=-1),n!==0)break}return n}function bv(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!us(r.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oc{constructor(e,t="asc"){this.field=e,this.dir=t}}function MT(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{}class Yt extends Kb{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,n):new zT(e,t,n):t==="array-contains"?new HT(e,n):t==="in"?new WT(e,n):t==="not-in"?new qT(e,n):t==="array-contains-any"?new GT(e,n):new Yt(e,t,n)}static createKeyFieldInFilter(e,t,n){return t==="in"?new BT(e,n):new $T(e,n)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Da(t,this.value)):t!==null&&No(this.value)===No(t)&&this.matchesComparison(Da(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $n extends Kb{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new $n(e,t)}matches(e){return Qb(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Qb(r){return r.op==="and"}function Jb(r){return UT(r)&&Qb(r)}function UT(r){for(const e of r.filters)if(e instanceof $n)return!1;return!0}function Cm(r){if(r instanceof Yt)return r.field.canonicalString()+r.op.toString()+Va(r.value);if(Jb(r))return r.filters.map(e=>Cm(e)).join(",");{const e=r.filters.map(t=>Cm(t)).join(",");return`${r.op}(${e})`}}function Yb(r,e){return r instanceof Yt?function(n,a){return a instanceof Yt&&n.op===a.op&&n.field.isEqual(a.field)&&us(n.value,a.value)}(r,e):r instanceof $n?function(n,a){return a instanceof $n&&n.op===a.op&&n.filters.length===a.filters.length?n.filters.reduce((l,u,f)=>l&&Yb(u,a.filters[f]),!0):!1}(r,e):void Ge()}function Xb(r){return r instanceof Yt?function(t){return`${t.field.canonicalString()} ${t.op} ${Va(t.value)}`}(r):r instanceof $n?function(t){return t.op.toString()+" {"+t.getFilters().map(Xb).join(" ,")+"}"}(r):"Filter"}class zT extends Yt{constructor(e,t,n){super(e,t,n),this.key=Me.fromName(n.referenceValue)}matches(e){const t=Me.comparator(e.key,this.key);return this.matchesComparison(t)}}class BT extends Yt{constructor(e,t){super(e,"in",t),this.keys=Zb("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class $T extends Yt{constructor(e,t){super(e,"not-in",t),this.keys=Zb("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Zb(r,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(n=>Me.fromName(n.referenceValue))}class HT extends Yt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return fp(t)&&ic(t.arrayValue,this.value)}}class WT extends Yt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&ic(this.value.arrayValue,t)}}class qT extends Yt{constructor(e,t){super(e,"not-in",t)}matches(e){if(ic(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!ic(this.value.arrayValue,t)}}class GT extends Yt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!fp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(n=>ic(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e,t=null,n=[],a=[],l=null,u=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=a,this.limit=l,this.startAt=u,this.endAt=f,this.ue=null}}function wv(r,e=null,t=[],n=[],a=null,l=null,u=null){return new KT(r,e,t,n,a,l,u)}function mp(r){const e=Je(r);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(n=>Cm(n)).join(","),t+="|ob:",t+=e.orderBy.map(n=>function(l){return l.field.canonicalString()+l.dir}(n)).join(","),Ld(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(n=>Va(n)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(n=>Va(n)).join(",")),e.ue=t}return e.ue}function pp(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!MT(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!Yb(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!bv(r.startAt,e.startAt)&&bv(r.endAt,e.endAt)}function Rm(r){return Me.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(e,t=null,n=[],a=[],l=null,u="F",f=null,m=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=a,this.limit=l,this.limitType=u,this.startAt=f,this.endAt=m,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function QT(r,e,t,n,a,l,u,f){return new qa(r,e,t,n,a,l,u,f)}function Fd(r){return new qa(r)}function _v(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function ew(r){return r.collectionGroup!==null}function ql(r){const e=Je(r);if(e.ce===null){e.ce=[];const t=new Set;for(const l of e.explicitOrderBy)e.ce.push(l),t.add(l.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let f=new mr(hr.comparator);return u.filters.forEach(m=>{m.getFlattenedFilters().forEach(g=>{g.isInequality()&&(f=f.add(g.field))})}),f})(e).forEach(l=>{t.has(l.canonicalString())||l.isKeyField()||e.ce.push(new oc(l,n))}),t.has(hr.keyField().canonicalString())||e.ce.push(new oc(hr.keyField(),n))}return e.ce}function ls(r){const e=Je(r);return e.le||(e.le=JT(e,ql(r))),e.le}function JT(r,e){if(r.limitType==="F")return wv(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(a=>{const l=a.dir==="desc"?"asc":"desc";return new oc(a.field,l)});const t=r.endAt?new gd(r.endAt.position,r.endAt.inclusive):null,n=r.startAt?new gd(r.startAt.position,r.startAt.inclusive):null;return wv(r.path,r.collectionGroup,e,r.filters,r.limit,t,n)}}function Pm(r,e){const t=r.filters.concat([e]);return new qa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),t,r.limit,r.limitType,r.startAt,r.endAt)}function yd(r,e,t){return new qa(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Md(r,e){return pp(ls(r),ls(e))&&r.limitType===e.limitType}function tw(r){return`${mp(ls(r))}|lt:${r.limitType}`}function wa(r){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(a=>Xb(a)).join(", ")}]`),Ld(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(a=>function(u){return`${u.field.canonicalString()} (${u.dir})`}(a)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(a=>Va(a)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(a=>Va(a)).join(",")),`Target(${n})`}(ls(r))}; limitType=${r.limitType})`}function Ud(r,e){return e.isFoundDocument()&&function(n,a){const l=a.key.path;return n.collectionGroup!==null?a.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(l):Me.isDocumentKey(n.path)?n.path.isEqual(l):n.path.isImmediateParentOf(l)}(r,e)&&function(n,a){for(const l of ql(n))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0}(r,e)&&function(n,a){for(const l of n.filters)if(!l.matches(a))return!1;return!0}(r,e)&&function(n,a){return!(n.startAt&&!function(u,f,m){const g=xv(u,f,m);return u.inclusive?g<=0:g<0}(n.startAt,ql(n),a)||n.endAt&&!function(u,f,m){const g=xv(u,f,m);return u.inclusive?g>=0:g>0}(n.endAt,ql(n),a))}(r,e)}function YT(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function rw(r){return(e,t)=>{let n=!1;for(const a of ql(r)){const l=XT(a,e,t);if(l!==0)return l;n=n||a.field.isKeyField()}return 0}}function XT(r,e,t){const n=r.field.isKeyField()?Me.comparator(e.key,t.key):function(l,u,f){const m=u.data.field(l),g=f.data.field(l);return m!==null&&g!==null?Da(m,g):Ge()}(r.field,e,t);switch(r.dir){case"asc":return n;case"desc":return-1*n;default:return Ge()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n!==void 0){for(const[a,l]of n)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const n=this.mapKeyFn(e),a=this.inner[n];if(a===void 0)return this.inner[n]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(n===void 0)return!1;for(let a=0;a<n.length;a++)if(this.equalsFn(n[a][0],e))return n.length===1?delete this.inner[t]:n.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Co(this.inner,(t,n)=>{for(const[a,l]of n)e(a,l)})}isEmpty(){return Wb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZT=new Dt(Me.comparator);function Bs(){return ZT}const nw=new Dt(Me.comparator);function zl(...r){let e=nw;for(const t of r)e=e.insert(t.key,t);return e}function sw(r){let e=nw;return r.forEach((t,n)=>e=e.insert(t,n.overlayedDocument)),e}function mo(){return Gl()}function iw(){return Gl()}function Gl(){return new Ga(r=>r.toString(),(r,e)=>r.isEqual(e))}const eI=new Dt(Me.comparator),tI=new mr(Me.comparator);function rt(...r){let e=tI;for(const t of r)e=e.add(t);return e}const rI=new mr(dt);function nI(){return rI}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gp(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pd(e)?"-0":e}}function ow(r){return{integerValue:""+r}}function sI(r,e){return DT(e)?ow(e):gp(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(){this._=void 0}}function iI(r,e,t){return r instanceof ac?function(a,l){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&dp(l)&&(l=hp(l)),l&&(u.fields.__previous_value__=l),{mapValue:u}}(t,e):r instanceof lc?lw(r,e):r instanceof cc?cw(r,e):function(a,l){const u=aw(a,l),f=jv(u)+jv(a.Pe);return Am(u)&&Am(a.Pe)?ow(f):gp(a.serializer,f)}(r,e)}function oI(r,e,t){return r instanceof lc?lw(r,e):r instanceof cc?cw(r,e):t}function aw(r,e){return r instanceof vd?function(n){return Am(n)||function(l){return!!l&&"doubleValue"in l}(n)}(e)?e:{integerValue:0}:null}class ac extends zd{}class lc extends zd{constructor(e){super(),this.elements=e}}function lw(r,e){const t=uw(e);for(const n of r.elements)t.some(a=>us(a,n))||t.push(n);return{arrayValue:{values:t}}}class cc extends zd{constructor(e){super(),this.elements=e}}function cw(r,e){let t=uw(e);for(const n of r.elements)t=t.filter(a=>!us(a,n));return{arrayValue:{values:t}}}class vd extends zd{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function jv(r){return Bt(r.integerValue||r.doubleValue)}function uw(r){return fp(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aI{constructor(e,t){this.field=e,this.transform=t}}function lI(r,e){return r.field.isEqual(e.field)&&function(n,a){return n instanceof lc&&a instanceof lc||n instanceof cc&&a instanceof cc?Pa(n.elements,a.elements,us):n instanceof vd&&a instanceof vd?us(n.Pe,a.Pe):n instanceof ac&&a instanceof ac}(r.transform,e.transform)}class cI{constructor(e,t){this.version=e,this.transformResults=t}}class bn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new bn}static exists(e){return new bn(void 0,e)}static updateTime(e){return new bn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function td(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Bd{}function dw(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new yp(r.key,bn.none()):new yc(r.key,r.data,bn.none());{const t=r.data,n=$r.empty();let a=new mr(hr.comparator);for(let l of e.fields)if(!a.has(l)){let u=t.field(l);u===null&&l.length>1&&(l=l.popLast(),u=t.field(l)),u===null?n.delete(l):n.set(l,u),a=a.add(l)}return new Oi(r.key,n,new nn(a.toArray()),bn.none())}}function uI(r,e,t){r instanceof yc?function(a,l,u){const f=a.value.clone(),m=Ev(a.fieldTransforms,l,u.transformResults);f.setAll(m),l.convertToFoundDocument(u.version,f).setHasCommittedMutations()}(r,e,t):r instanceof Oi?function(a,l,u){if(!td(a.precondition,l))return void l.convertToUnknownDocument(u.version);const f=Ev(a.fieldTransforms,l,u.transformResults),m=l.data;m.setAll(hw(a)),m.setAll(f),l.convertToFoundDocument(u.version,m).setHasCommittedMutations()}(r,e,t):function(a,l,u){l.convertToNoDocument(u.version).setHasCommittedMutations()}(0,e,t)}function Kl(r,e,t,n){return r instanceof yc?function(l,u,f,m){if(!td(l.precondition,u))return f;const g=l.value.clone(),x=kv(l.fieldTransforms,m,u);return g.setAll(x),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),null}(r,e,t,n):r instanceof Oi?function(l,u,f,m){if(!td(l.precondition,u))return f;const g=kv(l.fieldTransforms,m,u),x=u.data;return x.setAll(hw(l)),x.setAll(g),u.convertToFoundDocument(u.version,x).setHasLocalMutations(),f===null?null:f.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map(_=>_.field))}(r,e,t,n):function(l,u,f){return td(l.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):f}(r,e,t)}function dI(r,e){let t=null;for(const n of r.fieldTransforms){const a=e.data.field(n.field),l=aw(n.transform,a||null);l!=null&&(t===null&&(t=$r.empty()),t.set(n.field,l))}return t||null}function Nv(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(n,a){return n===void 0&&a===void 0||!(!n||!a)&&Pa(n,a,(l,u)=>lI(l,u))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class yc extends Bd{constructor(e,t,n,a=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Oi extends Bd{constructor(e,t,n,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function hw(r){const e=new Map;return r.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const n=r.data.field(t);e.set(t,n)}}),e}function Ev(r,e,t){const n=new Map;gt(r.length===t.length);for(let a=0;a<t.length;a++){const l=r[a],u=l.transform,f=e.data.field(l.field);n.set(l.field,oI(u,f,t[a]))}return n}function kv(r,e,t){const n=new Map;for(const a of r){const l=a.transform,u=t.data.field(a.field);n.set(a.field,iI(l,u,e))}return n}class yp extends Bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class hI extends Bd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{constructor(e,t,n,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=a}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&uI(l,e,n[a])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Kl(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Kl(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=iw();return this.mutations.forEach(a=>{const l=e.get(a.key),u=l.overlayedDocument;let f=this.applyToLocalView(u,l.mutatedFields);f=t.has(a.key)?null:f;const m=dw(u,f);m!==null&&n.set(a.key,m),u.isValidDocument()||u.convertToNoDocument(Qe.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),rt())}isEqual(e){return this.batchId===e.batchId&&Pa(this.mutations,e.mutations,(t,n)=>Nv(t,n))&&Pa(this.baseMutations,e.baseMutations,(t,n)=>Nv(t,n))}}class vp{constructor(e,t,n,a){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=a}static from(e,t,n){gt(e.mutations.length===n.length);let a=function(){return eI}();const l=e.mutations;for(let u=0;u<l.length;u++)a=a.insert(l[u].key,n[u].version);return new vp(e,t,n,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt,at;function gI(r){switch(r){default:return Ge();case oe.CANCELLED:case oe.UNKNOWN:case oe.DEADLINE_EXCEEDED:case oe.RESOURCE_EXHAUSTED:case oe.INTERNAL:case oe.UNAVAILABLE:case oe.UNAUTHENTICATED:return!1;case oe.INVALID_ARGUMENT:case oe.NOT_FOUND:case oe.ALREADY_EXISTS:case oe.PERMISSION_DENIED:case oe.FAILED_PRECONDITION:case oe.ABORTED:case oe.OUT_OF_RANGE:case oe.UNIMPLEMENTED:case oe.DATA_LOSS:return!0}}function fw(r){if(r===void 0)return zs("GRPC error has no .code"),oe.UNKNOWN;switch(r){case Kt.OK:return oe.OK;case Kt.CANCELLED:return oe.CANCELLED;case Kt.UNKNOWN:return oe.UNKNOWN;case Kt.DEADLINE_EXCEEDED:return oe.DEADLINE_EXCEEDED;case Kt.RESOURCE_EXHAUSTED:return oe.RESOURCE_EXHAUSTED;case Kt.INTERNAL:return oe.INTERNAL;case Kt.UNAVAILABLE:return oe.UNAVAILABLE;case Kt.UNAUTHENTICATED:return oe.UNAUTHENTICATED;case Kt.INVALID_ARGUMENT:return oe.INVALID_ARGUMENT;case Kt.NOT_FOUND:return oe.NOT_FOUND;case Kt.ALREADY_EXISTS:return oe.ALREADY_EXISTS;case Kt.PERMISSION_DENIED:return oe.PERMISSION_DENIED;case Kt.FAILED_PRECONDITION:return oe.FAILED_PRECONDITION;case Kt.ABORTED:return oe.ABORTED;case Kt.OUT_OF_RANGE:return oe.OUT_OF_RANGE;case Kt.UNIMPLEMENTED:return oe.UNIMPLEMENTED;case Kt.DATA_LOSS:return oe.DATA_LOSS;default:return Ge()}}(at=Kt||(Kt={}))[at.OK=0]="OK",at[at.CANCELLED=1]="CANCELLED",at[at.UNKNOWN=2]="UNKNOWN",at[at.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",at[at.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",at[at.NOT_FOUND=5]="NOT_FOUND",at[at.ALREADY_EXISTS=6]="ALREADY_EXISTS",at[at.PERMISSION_DENIED=7]="PERMISSION_DENIED",at[at.UNAUTHENTICATED=16]="UNAUTHENTICATED",at[at.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",at[at.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",at[at.ABORTED=10]="ABORTED",at[at.OUT_OF_RANGE=11]="OUT_OF_RANGE",at[at.UNIMPLEMENTED=12]="UNIMPLEMENTED",at[at.INTERNAL=13]="INTERNAL",at[at.UNAVAILABLE=14]="UNAVAILABLE",at[at.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=new vo([4294967295,4294967295],0);function Tv(r){const e=yI().encode(r),t=new Lb;return t.update(e),new Uint8Array(t.digest())}function Iv(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),n=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new vo([t,n],0),new vo([a,l],0)]}class xp{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Bl(`Invalid padding: ${t}`);if(n<0)throw new Bl(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Bl(`Invalid hash count: ${n}`);if(e.length===0&&t!==0)throw new Bl(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=vo.fromNumber(this.Ie)}Ee(e,t,n){let a=e.add(t.multiply(vo.fromNumber(n)));return a.compare(vI)===1&&(a=new vo([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const t=Tv(e),[n,a]=Iv(t);for(let l=0;l<this.hashCount;l++){const u=this.Ee(n,a,l);if(!this.de(u))return!1}return!0}static create(e,t,n){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),u=new xp(l,a,t);return n.forEach(f=>u.insert(f)),u}insert(e){if(this.Ie===0)return;const t=Tv(e),[n,a]=Iv(t);for(let l=0;l<this.hashCount;l++){const u=this.Ee(n,a,l);this.Ae(u)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Bl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d{constructor(e,t,n,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const a=new Map;return a.set(e,vc.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new $d(Qe.min(),a,new Dt(dt),Bs(),rt())}}class vc{constructor(e,t,n,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new vc(n,t,rt(),rt(),rt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rd{constructor(e,t,n,a){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=a}}class mw{constructor(e,t){this.targetId=e,this.me=t}}class pw{constructor(e,t,n=pr.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=a}}class Sv{constructor(){this.fe=0,this.ge=Cv(),this.pe=pr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=rt(),t=rt(),n=rt();return this.ge.forEach((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:n=n.add(a);break;default:Ge()}}),new vc(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=Cv()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,gt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class xI{constructor(e){this.Le=e,this.Be=new Map,this.ke=Bs(),this.qe=Av(),this.Qe=new Dt(dt)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Ge()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((n,a)=>{this.ze(a)&&t(a)})}He(e){const t=e.targetId,n=e.me.count,a=this.Je(t);if(a){const l=a.target;if(Rm(l))if(n===0){const u=new Me(l.path);this.Ue(t,u,jr.newNoDocument(u,Qe.min()))}else gt(n===1);else{const u=this.Ye(t);if(u!==n){const f=this.Ze(e),m=f?this.Xe(f,e,u):1;if(m!==0){this.je(t);const g=m===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,g)}}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:a=0},hashCount:l=0}=t;let u,f;try{u=jo(n).toUint8Array()}catch(m){if(m instanceof qb)return Ra("Decoding the base64 bloom filter in existence filter failed ("+m.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw m}try{f=new xp(u,a,l)}catch(m){return Ra(m instanceof Bl?"BloomFilter error: ":"Applying bloom filter failed: ",m),null}return f.Ie===0?null:f}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let a=0;return n.forEach(l=>{const u=this.Le.tt(),f=`projects/${u.projectId}/databases/${u.database}/documents/${l.path.canonicalString()}`;e.mightContain(f)||(this.Ue(t,l,null),a++)}),a}rt(e){const t=new Map;this.Be.forEach((l,u)=>{const f=this.Je(u);if(f){if(l.current&&Rm(f.target)){const m=new Me(f.target.path);this.ke.get(m)!==null||this.it(u,m)||this.Ue(u,m,jr.newNoDocument(m,e))}l.be&&(t.set(u,l.ve()),l.Ce())}});let n=rt();this.qe.forEach((l,u)=>{let f=!0;u.forEachWhile(m=>{const g=this.Je(m);return!g||g.purpose==="TargetPurposeLimboResolution"||(f=!1,!1)}),f&&(n=n.add(l))}),this.ke.forEach((l,u)=>u.setReadTime(e));const a=new $d(e,t,this.Qe,this.ke,n);return this.ke=Bs(),this.qe=Av(),this.Qe=new Dt(dt),a}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const a=this.Ge(e);this.it(e,t)?a.Fe(t,1):a.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new Sv,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new mr(dt),this.qe=this.qe.insert(e,t)),t}ze(e){const t=this.Je(e)!==null;return t||Re("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Sv),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Av(){return new Dt(Me.comparator)}function Cv(){return new Dt(Me.comparator)}const bI={asc:"ASCENDING",desc:"DESCENDING"},wI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},_I={and:"AND",or:"OR"};class jI{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Dm(r,e){return r.useProto3Json||Ld(e)?e:{value:e}}function xd(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function gw(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function NI(r,e){return xd(r,e.toTimestamp())}function cs(r){return gt(!!r),Qe.fromTimestamp(function(t){const n=Ci(t);return new Ye(n.seconds,n.nanos)}(r))}function bp(r,e){return Vm(r,e).canonicalString()}function Vm(r,e){const t=function(a){return new Tt(["projects",a.projectId,"databases",a.database])}(r).child("documents");return e===void 0?t:t.child(e)}function yw(r){const e=Tt.fromString(r);return gt(_w(e)),e}function Om(r,e){return bp(r.databaseId,e.path)}function Zf(r,e){const t=yw(e);if(t.get(1)!==r.databaseId.projectId)throw new Ie(oe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new Ie(oe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new Me(xw(t))}function vw(r,e){return bp(r.databaseId,e)}function EI(r){const e=yw(r);return e.length===4?Tt.emptyPath():xw(e)}function Lm(r){return new Tt(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function xw(r){return gt(r.length>4&&r.get(4)==="documents"),r.popFirst(5)}function Rv(r,e,t){return{name:Om(r,e),fields:t.value.mapValue.fields}}function kI(r,e){let t;if("targetChange"in e){e.targetChange;const n=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Ge()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=function(g,x){return g.useProto3Json?(gt(x===void 0||typeof x=="string"),pr.fromBase64String(x||"")):(gt(x===void 0||x instanceof Buffer||x instanceof Uint8Array),pr.fromUint8Array(x||new Uint8Array))}(r,e.targetChange.resumeToken),u=e.targetChange.cause,f=u&&function(g){const x=g.code===void 0?oe.UNKNOWN:fw(g.code);return new Ie(x,g.message||"")}(u);t=new pw(n,a,l,f||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const a=Zf(r,n.document.name),l=cs(n.document.updateTime),u=n.document.createTime?cs(n.document.createTime):Qe.min(),f=new $r({mapValue:{fields:n.document.fields}}),m=jr.newFoundDocument(a,l,u,f),g=n.targetIds||[],x=n.removedTargetIds||[];t=new rd(g,x,m.key,m)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const a=Zf(r,n.document),l=n.readTime?cs(n.readTime):Qe.min(),u=jr.newNoDocument(a,l),f=n.removedTargetIds||[];t=new rd([],f,u.key,u)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const a=Zf(r,n.document),l=n.removedTargetIds||[];t=new rd([],l,a,null)}else{if(!("filter"in e))return Ge();{e.filter;const n=e.filter;n.targetId;const{count:a=0,unchangedNames:l}=n,u=new pI(a,l),f=n.targetId;t=new mw(f,u)}}return t}function TI(r,e){let t;if(e instanceof yc)t={update:Rv(r,e.key,e.value)};else if(e instanceof yp)t={delete:Om(r,e.key)};else if(e instanceof Oi)t={update:Rv(r,e.key,e.data),updateMask:OI(e.fieldMask)};else{if(!(e instanceof hI))return Ge();t={verify:Om(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(n=>function(l,u){const f=u.transform;if(f instanceof ac)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(f instanceof lc)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:f.elements}};if(f instanceof cc)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:f.elements}};if(f instanceof vd)return{fieldPath:u.field.canonicalString(),increment:f.Pe};throw Ge()}(0,n))),e.precondition.isNone||(t.currentDocument=function(a,l){return l.updateTime!==void 0?{updateTime:NI(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:Ge()}(r,e.precondition)),t}function II(r,e){return r&&r.length>0?(gt(e!==void 0),r.map(t=>function(a,l){let u=a.updateTime?cs(a.updateTime):cs(l);return u.isEqual(Qe.min())&&(u=cs(l)),new cI(u,a.transformResults||[])}(t,e))):[]}function SI(r,e){return{documents:[vw(r,e.path)]}}function AI(r,e){const t={structuredQuery:{}},n=e.path;let a;e.collectionGroup!==null?(a=n,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=n.popLast(),t.structuredQuery.from=[{collectionId:n.lastSegment()}]),t.parent=vw(r,a);const l=function(g){if(g.length!==0)return ww($n.create(g,"and"))}(e.filters);l&&(t.structuredQuery.where=l);const u=function(g){if(g.length!==0)return g.map(x=>function(w){return{field:_a(w.field),direction:PI(w.dir)}}(x))}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const f=Dm(r,e.limit);return f!==null&&(t.structuredQuery.limit=f),e.startAt&&(t.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{_t:t,parent:a}}function CI(r){let e=EI(r.parent);const t=r.structuredQuery,n=t.from?t.from.length:0;let a=null;if(n>0){gt(n===1);const x=t.from[0];x.allDescendants?a=x.collectionId:e=e.child(x.collectionId)}let l=[];t.where&&(l=function(_){const w=bw(_);return w instanceof $n&&Jb(w)?w.getFilters():[w]}(t.where));let u=[];t.orderBy&&(u=function(_){return _.map(w=>function(U){return new oc(ja(U.field),function(O){switch(O){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(U.direction))}(w))}(t.orderBy));let f=null;t.limit&&(f=function(_){let w;return w=typeof _=="object"?_.value:_,Ld(w)?null:w}(t.limit));let m=null;t.startAt&&(m=function(_){const w=!!_.before,S=_.values||[];return new gd(S,w)}(t.startAt));let g=null;return t.endAt&&(g=function(_){const w=!_.before,S=_.values||[];return new gd(S,w)}(t.endAt)),QT(e,a,u,l,f,"F",m,g)}function RI(r,e){const t=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function bw(r){return r.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=ja(t.unaryFilter.field);return Yt.create(n,"==",{doubleValue:NaN});case"IS_NULL":const a=ja(t.unaryFilter.field);return Yt.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=ja(t.unaryFilter.field);return Yt.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=ja(t.unaryFilter.field);return Yt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return Ge()}}(r):r.fieldFilter!==void 0?function(t){return Yt.create(ja(t.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ge()}}(t.fieldFilter.op),t.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(t){return $n.create(t.compositeFilter.filters.map(n=>bw(n)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return Ge()}}(t.compositeFilter.op))}(r):Ge()}function PI(r){return bI[r]}function DI(r){return wI[r]}function VI(r){return _I[r]}function _a(r){return{fieldPath:r.canonicalString()}}function ja(r){return hr.fromServerFormat(r.fieldPath)}function ww(r){return r instanceof Yt?function(t){if(t.op==="=="){if(vv(t.value))return{unaryFilter:{field:_a(t.field),op:"IS_NAN"}};if(yv(t.value))return{unaryFilter:{field:_a(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(vv(t.value))return{unaryFilter:{field:_a(t.field),op:"IS_NOT_NAN"}};if(yv(t.value))return{unaryFilter:{field:_a(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:_a(t.field),op:DI(t.op),value:t.value}}}(r):r instanceof $n?function(t){const n=t.getFilters().map(a=>ww(a));return n.length===1?n[0]:{compositeFilter:{op:VI(t.op),filters:n}}}(r):Ge()}function OI(r){const e=[];return r.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function _w(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ei{constructor(e,t,n,a,l=Qe.min(),u=Qe.min(),f=pr.EMPTY_BYTE_STRING,m=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=f,this.expectedCount=m}withSequenceNumber(e){return new Ei(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ei(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ei(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e){this.ct=e}}function FI(r){const e=CI({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?yd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(){this.un=new UI}addToCollectionParentIndex(e,t){return this.un.add(t),fe.resolve()}getCollectionParents(e,t){return fe.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return fe.resolve()}deleteFieldIndex(e,t){return fe.resolve()}deleteAllFieldIndexes(e){return fe.resolve()}createTargetIndexes(e,t){return fe.resolve()}getDocumentsMatchingTarget(e,t){return fe.resolve(null)}getIndexType(e,t){return fe.resolve(0)}getFieldIndexes(e,t){return fe.resolve([])}getNextCollectionGroupToUpdate(e){return fe.resolve(null)}getMinOffset(e,t){return fe.resolve(Ai.min())}getMinOffsetFromCollectionGroup(e,t){return fe.resolve(Ai.min())}updateCollectionGroup(e,t,n){return fe.resolve()}updateIndexEntries(e,t){return fe.resolve()}}class UI{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),a=this.index[t]||new mr(Tt.comparator),l=!a.has(n);return this.index[t]=a.add(n),l}has(e){const t=e.lastSegment(),n=e.popLast(),a=this.index[t];return a&&a.has(n)}getEntries(e){return(this.index[e]||new mr(Tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Oa(0)}static kn(){return new Oa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zI{constructor(){this.changes=new Ga(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,jr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return n!==void 0?fe.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,t,n,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=a}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(a=>(n=a,this.remoteDocumentCache.getEntry(e,t))).next(a=>(n!==null&&Kl(n.mutation,a,nn.empty(),Ye.now()),a))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.getLocalViewOfDocuments(e,n,rt()).next(()=>n))}getLocalViewOfDocuments(e,t,n=rt()){const a=mo();return this.populateOverlays(e,a,t).next(()=>this.computeViews(e,t,a,n).next(l=>{let u=zl();return l.forEach((f,m)=>{u=u.insert(f,m.overlayedDocument)}),u}))}getOverlayedDocuments(e,t){const n=mo();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,rt()))}populateOverlays(e,t,n){const a=[];return n.forEach(l=>{t.has(l)||a.push(l)}),this.documentOverlayCache.getOverlays(e,a).next(l=>{l.forEach((u,f)=>{t.set(u,f)})})}computeViews(e,t,n,a){let l=Bs();const u=Gl(),f=function(){return Gl()}();return t.forEach((m,g)=>{const x=n.get(g.key);a.has(g.key)&&(x===void 0||x.mutation instanceof Oi)?l=l.insert(g.key,g):x!==void 0?(u.set(g.key,x.mutation.getFieldMask()),Kl(x.mutation,g,x.mutation.getFieldMask(),Ye.now())):u.set(g.key,nn.empty())}),this.recalculateAndSaveOverlays(e,l).next(m=>(m.forEach((g,x)=>u.set(g,x)),t.forEach((g,x)=>{var _;return f.set(g,new BI(x,(_=u.get(g))!==null&&_!==void 0?_:null))}),f))}recalculateAndSaveOverlays(e,t){const n=Gl();let a=new Dt((u,f)=>u-f),l=rt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(u=>{for(const f of u)f.keys().forEach(m=>{const g=t.get(m);if(g===null)return;let x=n.get(m)||nn.empty();x=f.applyToLocalView(g,x),n.set(m,x);const _=(a.get(f.batchId)||rt()).add(m);a=a.insert(f.batchId,_)})}).next(()=>{const u=[],f=a.getReverseIterator();for(;f.hasNext();){const m=f.getNext(),g=m.key,x=m.value,_=iw();x.forEach(w=>{if(!l.has(w)){const S=dw(t.get(w),n.get(w));S!==null&&_.set(w,S),l=l.add(w)}}),u.push(this.documentOverlayCache.saveOverlays(e,g,_))}return fe.waitFor(u)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,t,n,a){return function(u){return Me.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):ew(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,a):this.getDocumentsMatchingCollectionQuery(e,t,n,a)}getNextDocuments(e,t,n,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,a).next(l=>{const u=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,a-l.size):fe.resolve(mo());let f=-1,m=l;return u.next(g=>fe.forEach(g,(x,_)=>(f<_.largestBatchId&&(f=_.largestBatchId),l.get(x)?fe.resolve():this.remoteDocumentCache.getEntry(e,x).next(w=>{m=m.insert(x,w)}))).next(()=>this.populateOverlays(e,g,l)).next(()=>this.computeViews(e,m,g,rt())).next(x=>({batchId:f,changes:sw(x)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Me(t)).next(n=>{let a=zl();return n.isFoundDocument()&&(a=a.insert(n.key,n)),a})}getDocumentsMatchingCollectionGroupQuery(e,t,n,a){const l=t.collectionGroup;let u=zl();return this.indexManager.getCollectionParents(e,l).next(f=>fe.forEach(f,m=>{const g=function(_,w){return new qa(w,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,m.child(l));return this.getDocumentsMatchingCollectionQuery(e,g,n,a).next(x=>{x.forEach((_,w)=>{u=u.insert(_,w)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,n,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next(u=>(l=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,l,a))).next(u=>{l.forEach((m,g)=>{const x=g.getKey();u.get(x)===null&&(u=u.insert(x,jr.newInvalidDocument(x)))});let f=zl();return u.forEach((m,g)=>{const x=l.get(m);x!==void 0&&Kl(x.mutation,g,nn.empty(),Ye.now()),Ud(t,g)&&(f=f.insert(m,g))}),f})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HI{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return fe.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(a){return{id:a.id,version:a.version,createTime:cs(a.createTime)}}(t)),fe.resolve()}getNamedQuery(e,t){return fe.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(a){return{name:a.name,query:FI(a.bundledQuery),readTime:cs(a.readTime)}}(t)),fe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WI{constructor(){this.overlays=new Dt(Me.comparator),this.Ir=new Map}getOverlay(e,t){return fe.resolve(this.overlays.get(t))}getOverlays(e,t){const n=mo();return fe.forEach(t,a=>this.getOverlay(e,a).next(l=>{l!==null&&n.set(a,l)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((a,l)=>{this.ht(e,t,l)}),fe.resolve()}removeOverlaysForBatchId(e,t,n){const a=this.Ir.get(n);return a!==void 0&&(a.forEach(l=>this.overlays=this.overlays.remove(l)),this.Ir.delete(n)),fe.resolve()}getOverlaysForCollection(e,t,n){const a=mo(),l=t.length+1,u=new Me(t.child("")),f=this.overlays.getIteratorFrom(u);for(;f.hasNext();){const m=f.getNext().value,g=m.getKey();if(!t.isPrefixOf(g.path))break;g.path.length===l&&m.largestBatchId>n&&a.set(m.getKey(),m)}return fe.resolve(a)}getOverlaysForCollectionGroup(e,t,n,a){let l=new Dt((g,x)=>g-x);const u=this.overlays.getIterator();for(;u.hasNext();){const g=u.getNext().value;if(g.getKey().getCollectionGroup()===t&&g.largestBatchId>n){let x=l.get(g.largestBatchId);x===null&&(x=mo(),l=l.insert(g.largestBatchId,x)),x.set(g.getKey(),g)}}const f=mo(),m=l.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((g,x)=>f.set(g,x)),!(f.size()>=a)););return fe.resolve(f)}ht(e,t,n){const a=this.overlays.get(n.key);if(a!==null){const u=this.Ir.get(a.largestBatchId).delete(n.key);this.Ir.set(a.largestBatchId,u)}this.overlays=this.overlays.insert(n.key,new mI(t,n));let l=this.Ir.get(t);l===void 0&&(l=rt(),this.Ir.set(t,l)),this.Ir.set(t,l.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{constructor(){this.sessionToken=pr.EMPTY_BYTE_STRING}getSessionToken(e){return fe.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,fe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(){this.Tr=new mr(or.Er),this.dr=new mr(or.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new or(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach(n=>this.addReference(n,t))}removeReference(e,t){this.Vr(new or(e,t))}mr(e,t){e.forEach(n=>this.removeReference(n,t))}gr(e){const t=new Me(new Tt([])),n=new or(t,e),a=new or(t,e+1),l=[];return this.dr.forEachInRange([n,a],u=>{this.Vr(u),l.push(u.key)}),l}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Me(new Tt([])),n=new or(t,e),a=new or(t,e+1);let l=rt();return this.dr.forEachInRange([n,a],u=>{l=l.add(u.key)}),l}containsKey(e){const t=new or(e,0),n=this.Tr.firstAfterOrEqual(t);return n!==null&&e.isEqual(n.key)}}class or{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Me.comparator(e.key,t.key)||dt(e.wr,t.wr)}static Ar(e,t){return dt(e.wr,t.wr)||Me.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GI{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new mr(or.Er)}checkEmpty(e){return fe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,n,a){const l=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new fI(l,t,n,a);this.mutationQueue.push(u);for(const f of a)this.br=this.br.add(new or(f.key,l)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return fe.resolve(u)}lookupMutationBatch(e,t){return fe.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,a=this.vr(n),l=a<0?0:a;return fe.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return fe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return fe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new or(t,0),a=new or(t,Number.POSITIVE_INFINITY),l=[];return this.br.forEachInRange([n,a],u=>{const f=this.Dr(u.wr);l.push(f)}),fe.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new mr(dt);return t.forEach(a=>{const l=new or(a,0),u=new or(a,Number.POSITIVE_INFINITY);this.br.forEachInRange([l,u],f=>{n=n.add(f.wr)})}),fe.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,a=n.length+1;let l=n;Me.isDocumentKey(l)||(l=l.child(""));const u=new or(new Me(l),0);let f=new mr(dt);return this.br.forEachWhile(m=>{const g=m.key.path;return!!n.isPrefixOf(g)&&(g.length===a&&(f=f.add(m.wr)),!0)},u),fe.resolve(this.Cr(f))}Cr(e){const t=[];return e.forEach(n=>{const a=this.Dr(n);a!==null&&t.push(a)}),t}removeMutationBatch(e,t){gt(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return fe.forEach(t.mutations,a=>{const l=new or(a.key,t.batchId);return n=n.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,t){const n=new or(t,0),a=this.br.firstAfterOrEqual(n);return fe.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,fe.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e){this.Mr=e,this.docs=function(){return new Dt(Me.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,a=this.docs.get(n),l=a?a.size:0,u=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:u}),this.size+=u-l,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return fe.resolve(n?n.document.mutableCopy():jr.newInvalidDocument(t))}getEntries(e,t){let n=Bs();return t.forEach(a=>{const l=this.docs.get(a);n=n.insert(a,l?l.document.mutableCopy():jr.newInvalidDocument(a))}),fe.resolve(n)}getDocumentsMatchingQuery(e,t,n,a){let l=Bs();const u=t.path,f=new Me(u.child("")),m=this.docs.getIteratorFrom(f);for(;m.hasNext();){const{key:g,value:{document:x}}=m.getNext();if(!u.isPrefixOf(g.path))break;g.path.length>u.length+1||AT(ST(x),n)<=0||(a.has(x.key)||Ud(t,x))&&(l=l.insert(x.key,x.mutableCopy()))}return fe.resolve(l)}getAllFromCollectionGroup(e,t,n,a){Ge()}Or(e,t){return fe.forEach(this.docs,n=>t(n))}newChangeBuffer(e){return new QI(this)}getSize(e){return fe.resolve(this.size)}}class QI extends zI{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((n,a)=>{a.isValidDocument()?t.push(this.cr.addEntry(e,a)):this.cr.removeEntry(n)}),fe.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(e){this.persistence=e,this.Nr=new Ga(t=>mp(t),pp),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new wp,this.targetCount=0,this.kr=Oa.Bn()}forEachTarget(e,t){return this.Nr.forEach((n,a)=>t(a)),fe.resolve()}getLastRemoteSnapshotVersion(e){return fe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return fe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),fe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),fe.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Oa(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,fe.resolve()}updateTargetData(e,t){return this.Kn(t),fe.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,fe.resolve()}removeTargets(e,t,n){let a=0;const l=[];return this.Nr.forEach((u,f)=>{f.sequenceNumber<=t&&n.get(f.targetId)===null&&(this.Nr.delete(u),l.push(this.removeMatchingKeysForTargetId(e,f.targetId)),a++)}),fe.waitFor(l).next(()=>a)}getTargetCount(e){return fe.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return fe.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),fe.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach(u=>{l.push(a.markPotentiallyOrphaned(e,u))}),fe.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),fe.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return fe.resolve(n)}containsKey(e,t){return fe.resolve(this.Br.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,t){this.qr={},this.overlays={},this.Qr=new up(0),this.Kr=!1,this.Kr=!0,this.$r=new qI,this.referenceDelegate=e(this),this.Ur=new JI(this),this.indexManager=new MI,this.remoteDocumentCache=function(a){return new KI(a)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new LI(t),this.Gr=new HI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new WI,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new GI(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){Re("MemoryPersistence","Starting transaction:",e);const a=new XI(this.Qr.next());return this.referenceDelegate.zr(),n(a).next(l=>this.referenceDelegate.jr(a).next(()=>l)).toPromise().then(l=>(a.raiseOnCommittedEvent(),l))}Hr(e,t){return fe.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,t)))}}class XI extends RT{constructor(e){super(),this.currentSequenceNumber=e}}class _p{constructor(e){this.persistence=e,this.Jr=new wp,this.Yr=null}static Zr(e){return new _p(e)}get Xr(){if(this.Yr)return this.Yr;throw Ge()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),fe.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),fe.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),fe.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(a=>this.Xr.add(a.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(a=>{a.forEach(l=>this.Xr.add(l.toString()))}).next(()=>n.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return fe.forEach(this.Xr,n=>{const a=Me.fromPath(n);return this.ei(e,a).next(l=>{l||t.removeEntry(a,Qe.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(n=>{n?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return fe.or([()=>fe.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp{constructor(e,t,n,a){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=a}static Wi(e,t){let n=rt(),a=rt();for(const l of t.docChanges)switch(l.type){case 0:n=n.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new jp(e,t.fromCache,n,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return FN()?8:PT(Er())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,a){const l={result:null};return this.Yi(e,t).next(u=>{l.result=u}).next(()=>{if(!l.result)return this.Zi(e,t,a,n).next(u=>{l.result=u})}).next(()=>{if(l.result)return;const u=new ZI;return this.Xi(e,t,u).next(f=>{if(l.result=f,this.zi)return this.es(e,t,u,f.size)})}).next(()=>l.result)}es(e,t,n,a){return n.documentReadCount<this.ji?(Dl()<=it.DEBUG&&Re("QueryEngine","SDK will not create cache indexes for query:",wa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),fe.resolve()):(Dl()<=it.DEBUG&&Re("QueryEngine","Query:",wa(t),"scans",n.documentReadCount,"local documents and returns",a,"documents as results."),n.documentReadCount>this.Hi*a?(Dl()<=it.DEBUG&&Re("QueryEngine","The SDK decides to create cache indexes for query:",wa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ls(t))):fe.resolve())}Yi(e,t){if(_v(t))return fe.resolve(null);let n=ls(t);return this.indexManager.getIndexType(e,n).next(a=>a===0?null:(t.limit!==null&&a===1&&(t=yd(t,null,"F"),n=ls(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next(l=>{const u=rt(...l);return this.Ji.getDocuments(e,u).next(f=>this.indexManager.getMinOffset(e,n).next(m=>{const g=this.ts(t,f);return this.ns(t,g,u,m.readTime)?this.Yi(e,yd(t,null,"F")):this.rs(e,g,t,m)}))})))}Zi(e,t,n,a){return _v(t)||a.isEqual(Qe.min())?fe.resolve(null):this.Ji.getDocuments(e,n).next(l=>{const u=this.ts(t,l);return this.ns(t,u,n,a)?fe.resolve(null):(Dl()<=it.DEBUG&&Re("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),wa(t)),this.rs(e,u,t,IT(a,-1)).next(f=>f))})}ts(e,t){let n=new mr(rw(e));return t.forEach((a,l)=>{Ud(e,l)&&(n=n.add(l))}),n}ns(e,t,n,a){if(e.limit===null)return!1;if(n.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}Xi(e,t,n){return Dl()<=it.DEBUG&&Re("QueryEngine","Using full collection scan to execute query:",wa(t)),this.Ji.getDocumentsMatchingQuery(e,t,Ai.min(),n)}rs(e,t,n,a){return this.Ji.getDocumentsMatchingQuery(e,n,a).next(l=>(t.forEach(u=>{l=l.insert(u.key,u)}),l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tS{constructor(e,t,n,a){this.persistence=e,this.ss=t,this.serializer=a,this.os=new Dt(dt),this._s=new Ga(l=>mp(l),pp),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $I(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function rS(r,e,t,n){return new tS(r,e,t,n)}async function jw(r,e){const t=Je(r);return await t.persistence.runTransaction("Handle user change","readonly",n=>{let a;return t.mutationQueue.getAllMutationBatches(n).next(l=>(a=l,t.ls(e),t.mutationQueue.getAllMutationBatches(n))).next(l=>{const u=[],f=[];let m=rt();for(const g of a){u.push(g.batchId);for(const x of g.mutations)m=m.add(x.key)}for(const g of l){f.push(g.batchId);for(const x of g.mutations)m=m.add(x.key)}return t.localDocuments.getDocuments(n,m).next(g=>({hs:g,removedBatchIds:u,addedBatchIds:f}))})})}function nS(r,e){const t=Je(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const a=e.batch.keys(),l=t.cs.newChangeBuffer({trackRemovals:!0});return function(f,m,g,x){const _=g.batch,w=_.keys();let S=fe.resolve();return w.forEach(U=>{S=S.next(()=>x.getEntry(m,U)).next(B=>{const O=g.docVersions.get(U);gt(O!==null),B.version.compareTo(O)<0&&(_.applyToRemoteDocument(B,g),B.isValidDocument()&&(B.setReadTime(g.commitVersion),x.addEntry(B)))})}),S.next(()=>f.mutationQueue.removeMutationBatch(m,_))}(t,n,e,l).next(()=>l.apply(n)).next(()=>t.mutationQueue.performConsistencyCheck(n)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(n,a,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(f){let m=rt();for(let g=0;g<f.mutationResults.length;++g)f.mutationResults[g].transformResults.length>0&&(m=m.add(f.batch.mutations[g].key));return m}(e))).next(()=>t.localDocuments.getDocuments(n,a))})}function Nw(r){const e=Je(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function sS(r,e){const t=Je(r),n=e.snapshotVersion;let a=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",l=>{const u=t.cs.newChangeBuffer({trackRemovals:!0});a=t.os;const f=[];e.targetChanges.forEach((x,_)=>{const w=a.get(_);if(!w)return;f.push(t.Ur.removeMatchingKeys(l,x.removedDocuments,_).next(()=>t.Ur.addMatchingKeys(l,x.addedDocuments,_)));let S=w.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(_)!==null?S=S.withResumeToken(pr.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):x.resumeToken.approximateByteSize()>0&&(S=S.withResumeToken(x.resumeToken,n)),a=a.insert(_,S),function(B,O,H){return B.resumeToken.approximateByteSize()===0||O.snapshotVersion.toMicroseconds()-B.snapshotVersion.toMicroseconds()>=3e8?!0:H.addedDocuments.size+H.modifiedDocuments.size+H.removedDocuments.size>0}(w,S,x)&&f.push(t.Ur.updateTargetData(l,S))});let m=Bs(),g=rt();if(e.documentUpdates.forEach(x=>{e.resolvedLimboDocuments.has(x)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(l,x))}),f.push(iS(l,u,e.documentUpdates).next(x=>{m=x.Ps,g=x.Is})),!n.isEqual(Qe.min())){const x=t.Ur.getLastRemoteSnapshotVersion(l).next(_=>t.Ur.setTargetsMetadata(l,l.currentSequenceNumber,n));f.push(x)}return fe.waitFor(f).next(()=>u.apply(l)).next(()=>t.localDocuments.getLocalViewOfDocuments(l,m,g)).next(()=>m)}).then(l=>(t.os=a,l))}function iS(r,e,t){let n=rt(),a=rt();return t.forEach(l=>n=n.add(l)),e.getEntries(r,n).next(l=>{let u=Bs();return t.forEach((f,m)=>{const g=l.get(f);m.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(f)),m.isNoDocument()&&m.version.isEqual(Qe.min())?(e.removeEntry(f,m.readTime),u=u.insert(f,m)):!g.isValidDocument()||m.version.compareTo(g.version)>0||m.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(m),u=u.insert(f,m)):Re("LocalStore","Ignoring outdated watch update for ",f,". Current version:",g.version," Watch version:",m.version)}),{Ps:u,Is:a}})}function oS(r,e){const t=Je(r);return t.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function aS(r,e){const t=Je(r);return t.persistence.runTransaction("Allocate target","readwrite",n=>{let a;return t.Ur.getTargetData(n,e).next(l=>l?(a=l,fe.resolve(a)):t.Ur.allocateTargetId(n).next(u=>(a=new Ei(e,u,"TargetPurposeListen",n.currentSequenceNumber),t.Ur.addTargetData(n,a).next(()=>a))))}).then(n=>{const a=t.os.get(n.targetId);return(a===null||n.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.os=t.os.insert(n.targetId,n),t._s.set(e,n.targetId)),n})}async function Fm(r,e,t){const n=Je(r),a=n.os.get(e),l=t?"readwrite":"readwrite-primary";try{t||await n.persistence.runTransaction("Release target",l,u=>n.persistence.referenceDelegate.removeTarget(u,a))}catch(u){if(!gc(u))throw u;Re("LocalStore",`Failed to update sequence numbers for target ${e}: ${u}`)}n.os=n.os.remove(e),n._s.delete(a.target)}function Pv(r,e,t){const n=Je(r);let a=Qe.min(),l=rt();return n.persistence.runTransaction("Execute query","readwrite",u=>function(m,g,x){const _=Je(m),w=_._s.get(x);return w!==void 0?fe.resolve(_.os.get(w)):_.Ur.getTargetData(g,x)}(n,u,ls(e)).next(f=>{if(f)return a=f.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(u,f.targetId).next(m=>{l=m})}).next(()=>n.ss.getDocumentsMatchingQuery(u,e,t?a:Qe.min(),t?l:rt())).next(f=>(lS(n,YT(e),f),{documents:f,Ts:l})))}function lS(r,e,t){let n=r.us.get(e)||Qe.min();t.forEach((a,l)=>{l.readTime.compareTo(n)>0&&(n=l.readTime)}),r.us.set(e,n)}class Dv{constructor(){this.activeTargetIds=nI()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cS{constructor(){this.so=new Dv,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Dv,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vv{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Re("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Re("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $u=null;function em(){return $u===null?$u=function(){return 268435456+Math.round(2147483648*Math.random())}():$u++,"0x"+$u.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br="WebChannelConnection";class fS extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+t.host,this.vo=`projects/${a}/databases/${l}`,this.Co=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${l}`}get Fo(){return!1}Mo(t,n,a,l,u){const f=em(),m=this.xo(t,n.toUriEncodedString());Re("RestConnection",`Sending RPC '${t}' ${f}:`,m,a);const g={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(g,l,u),this.No(t,m,g,a).then(x=>(Re("RestConnection",`Received RPC '${t}' ${f}: `,x),x),x=>{throw Ra("RestConnection",`RPC '${t}' ${f} failed with error: `,x,"url: ",m,"request:",a),x})}Lo(t,n,a,l,u,f){return this.Mo(t,n,a,l,u)}Oo(t,n,a){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Wa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((l,u)=>t[u]=l),a&&a.headers.forEach((l,u)=>t[u]=l)}xo(t,n){const a=dS[t];return`${this.Do}/v1/${n}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,a){const l=em();return new Promise((u,f)=>{const m=new Fb;m.setWithCredentials(!0),m.listenOnce(Mb.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case Zu.NO_ERROR:const x=m.getResponseJson();Re(br,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(x)),u(x);break;case Zu.TIMEOUT:Re(br,`RPC '${e}' ${l} timed out`),f(new Ie(oe.DEADLINE_EXCEEDED,"Request time out"));break;case Zu.HTTP_ERROR:const _=m.getStatus();if(Re(br,`RPC '${e}' ${l} failed with status:`,_,"response text:",m.getResponseText()),_>0){let w=m.getResponseJson();Array.isArray(w)&&(w=w[0]);const S=w==null?void 0:w.error;if(S&&S.status&&S.message){const U=function(O){const H=O.toLowerCase().replace(/_/g,"-");return Object.values(oe).indexOf(H)>=0?H:oe.UNKNOWN}(S.status);f(new Ie(U,S.message))}else f(new Ie(oe.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new Ie(oe.UNAVAILABLE,"Connection failed."));break;default:Ge()}}finally{Re(br,`RPC '${e}' ${l} completed.`)}});const g=JSON.stringify(a);Re(br,`RPC '${e}' ${l} sending request:`,a),m.send(t,"POST",g,n,15)})}Bo(e,t,n){const a=em(),l=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=Bb(),f=zb(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Oo(m.initMessageHeaders,t,n),m.encodeInitMessageHeaders=!0;const x=l.join("");Re(br,`Creating RPC '${e}' stream ${a}: ${x}`,m);const _=u.createWebChannel(x,m);let w=!1,S=!1;const U=new hS({Io:O=>{S?Re(br,`Not sending because RPC '${e}' stream ${a} is closed:`,O):(w||(Re(br,`Opening RPC '${e}' stream ${a} transport.`),_.open(),w=!0),Re(br,`RPC '${e}' stream ${a} sending:`,O),_.send(O))},To:()=>_.close()}),B=(O,H,V)=>{O.listen(H,T=>{try{V(T)}catch($){setTimeout(()=>{throw $},0)}})};return B(_,Ul.EventType.OPEN,()=>{S||(Re(br,`RPC '${e}' stream ${a} transport opened.`),U.yo())}),B(_,Ul.EventType.CLOSE,()=>{S||(S=!0,Re(br,`RPC '${e}' stream ${a} transport closed`),U.So())}),B(_,Ul.EventType.ERROR,O=>{S||(S=!0,Ra(br,`RPC '${e}' stream ${a} transport errored:`,O),U.So(new Ie(oe.UNAVAILABLE,"The operation could not be completed")))}),B(_,Ul.EventType.MESSAGE,O=>{var H;if(!S){const V=O.data[0];gt(!!V);const T=V,$=T.error||((H=T[0])===null||H===void 0?void 0:H.error);if($){Re(br,`RPC '${e}' stream ${a} received error:`,$);const q=$.status;let I=function(k){const L=Kt[k];if(L!==void 0)return fw(L)}(q),j=$.message;I===void 0&&(I=oe.INTERNAL,j="Unknown error status: "+q+" with message "+$.message),S=!0,U.So(new Ie(I,j)),_.close()}else Re(br,`RPC '${e}' stream ${a} received:`,V),U.bo(V)}}),B(f,Ub.STAT_EVENT,O=>{O.stat===Im.PROXY?Re(br,`RPC '${e}' stream ${a} detected buffering proxy`):O.stat===Im.NOPROXY&&Re(br,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{U.wo()},0),U}}function tm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hd(r){return new jI(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew{constructor(e,t,n=1e3,a=1.5,l=6e4){this.ui=e,this.timerId=t,this.ko=n,this.qo=a,this.Qo=l,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),a=Math.max(0,t-n);a>0&&Re("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,a,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(e,t,n,a,l,u,f,m){this.ui=e,this.Ho=n,this.Jo=a,this.connection=l,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=f,this.listener=m,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ew(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===oe.RESOURCE_EXHAUSTED?(zs(t.toString()),zs("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===oe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,a])=>{this.Yo===t&&this.P_(n,a)},n=>{e(()=>{const a=new Ie(oe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(a)})})}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(a=>{n(()=>this.I_(a))}),this.stream.onMessage(a=>{n(()=>++this.e_==1?this.E_(a):this.onNext(a))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Re("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(Re("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mS extends kw{constructor(e,t,n,a,l,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,a,u),this.serializer=l}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=kI(this.serializer,e),n=function(l){if(!("targetChange"in l))return Qe.min();const u=l.targetChange;return u.targetIds&&u.targetIds.length?Qe.min():u.readTime?cs(u.readTime):Qe.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=Lm(this.serializer),t.addTarget=function(l,u){let f;const m=u.target;if(f=Rm(m)?{documents:SI(l,m)}:{query:AI(l,m)._t},f.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){f.resumeToken=gw(l,u.resumeToken);const g=Dm(l,u.expectedCount);g!==null&&(f.expectedCount=g)}else if(u.snapshotVersion.compareTo(Qe.min())>0){f.readTime=xd(l,u.snapshotVersion.toTimestamp());const g=Dm(l,u.expectedCount);g!==null&&(f.expectedCount=g)}return f}(this.serializer,e);const n=RI(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=Lm(this.serializer),t.removeTarget=e,this.a_(t)}}class pS extends kw{constructor(e,t,n,a,l,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,a,u),this.serializer=l}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return gt(!!e.streamToken),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=II(e.writeResults,e.commitTime),n=cs(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=Lm(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(n=>TI(this.serializer,n))};this.a_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS extends class{}{constructor(e,t,n,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=a,this.y_=!1}w_(){if(this.y_)throw new Ie(oe.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,a){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Mo(e,Vm(t,n),a,l,u)).catch(l=>{throw l.name==="FirebaseError"?(l.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Ie(oe.UNKNOWN,l.toString())})}Lo(e,t,n,a,l){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.connection.Lo(e,Vm(t,n),a,u,f,l)).catch(u=>{throw u.name==="FirebaseError"?(u.code===oe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new Ie(oe.UNKNOWN,u.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class yS{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(zs(t),this.D_=!1):Re("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vS{constructor(e,t,n,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=l,this.k_._o(u=>{n.enqueueAndForget(async()=>{Ro(this)&&(Re("RemoteStore","Restarting streams for network reachability change."),await async function(m){const g=Je(m);g.L_.add(4),await xc(g),g.q_.set("Unknown"),g.L_.delete(4),await Wd(g)}(this))})}),this.q_=new yS(n,a)}}async function Wd(r){if(Ro(r))for(const e of r.B_)await e(!0)}async function xc(r){for(const e of r.B_)await e(!1)}function Tw(r,e){const t=Je(r);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Tp(t)?kp(t):Ka(t).r_()&&Ep(t,e))}function Np(r,e){const t=Je(r),n=Ka(t);t.N_.delete(e),n.r_()&&Iw(t,e),t.N_.size===0&&(n.r_()?n.o_():Ro(t)&&t.q_.set("Unknown"))}function Ep(r,e){if(r.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qe.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ka(r).A_(e)}function Iw(r,e){r.Q_.xe(e),Ka(r).R_(e)}function kp(r){r.Q_=new xI({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>r.N_.get(e)||null,tt:()=>r.datastore.serializer.databaseId}),Ka(r).start(),r.q_.v_()}function Tp(r){return Ro(r)&&!Ka(r).n_()&&r.N_.size>0}function Ro(r){return Je(r).L_.size===0}function Sw(r){r.Q_=void 0}async function xS(r){r.q_.set("Online")}async function bS(r){r.N_.forEach((e,t)=>{Ep(r,e)})}async function wS(r,e){Sw(r),Tp(r)?(r.q_.M_(e),kp(r)):r.q_.set("Unknown")}async function _S(r,e,t){if(r.q_.set("Online"),e instanceof pw&&e.state===2&&e.cause)try{await async function(a,l){const u=l.cause;for(const f of l.targetIds)a.N_.has(f)&&(await a.remoteSyncer.rejectListen(f,u),a.N_.delete(f),a.Q_.removeTarget(f))}(r,e)}catch(n){Re("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await bd(r,n)}else if(e instanceof rd?r.Q_.Ke(e):e instanceof mw?r.Q_.He(e):r.Q_.We(e),!t.isEqual(Qe.min()))try{const n=await Nw(r.localStore);t.compareTo(n)>=0&&await function(l,u){const f=l.Q_.rt(u);return f.targetChanges.forEach((m,g)=>{if(m.resumeToken.approximateByteSize()>0){const x=l.N_.get(g);x&&l.N_.set(g,x.withResumeToken(m.resumeToken,u))}}),f.targetMismatches.forEach((m,g)=>{const x=l.N_.get(m);if(!x)return;l.N_.set(m,x.withResumeToken(pr.EMPTY_BYTE_STRING,x.snapshotVersion)),Iw(l,m);const _=new Ei(x.target,m,g,x.sequenceNumber);Ep(l,_)}),l.remoteSyncer.applyRemoteEvent(f)}(r,t)}catch(n){Re("RemoteStore","Failed to raise snapshot:",n),await bd(r,n)}}async function bd(r,e,t){if(!gc(e))throw e;r.L_.add(1),await xc(r),r.q_.set("Offline"),t||(t=()=>Nw(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{Re("RemoteStore","Retrying IndexedDB access"),await t(),r.L_.delete(1),await Wd(r)})}function Aw(r,e){return e().catch(t=>bd(r,t,e))}async function qd(r){const e=Je(r),t=Ri(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;jS(e);)try{const a=await oS(e.localStore,n);if(a===null){e.O_.length===0&&t.o_();break}n=a.batchId,NS(e,a)}catch(a){await bd(e,a)}Cw(e)&&Rw(e)}function jS(r){return Ro(r)&&r.O_.length<10}function NS(r,e){r.O_.push(e);const t=Ri(r);t.r_()&&t.V_&&t.m_(e.mutations)}function Cw(r){return Ro(r)&&!Ri(r).n_()&&r.O_.length>0}function Rw(r){Ri(r).start()}async function ES(r){Ri(r).p_()}async function kS(r){const e=Ri(r);for(const t of r.O_)e.m_(t.mutations)}async function TS(r,e,t){const n=r.O_.shift(),a=vp.from(n,e,t);await Aw(r,()=>r.remoteSyncer.applySuccessfulWrite(a)),await qd(r)}async function IS(r,e){e&&Ri(r).V_&&await async function(n,a){if(function(u){return gI(u)&&u!==oe.ABORTED}(a.code)){const l=n.O_.shift();Ri(n).s_(),await Aw(n,()=>n.remoteSyncer.rejectFailedWrite(l.batchId,a)),await qd(n)}}(r,e),Cw(r)&&Rw(r)}async function Ov(r,e){const t=Je(r);t.asyncQueue.verifyOperationInProgress(),Re("RemoteStore","RemoteStore received new credentials");const n=Ro(t);t.L_.add(3),await xc(t),n&&t.q_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),await Wd(t)}async function SS(r,e){const t=Je(r);e?(t.L_.delete(2),await Wd(t)):e||(t.L_.add(2),await xc(t),t.q_.set("Unknown"))}function Ka(r){return r.K_||(r.K_=function(t,n,a){const l=Je(t);return l.w_(),new mS(n,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(r.datastore,r.asyncQueue,{Eo:xS.bind(null,r),Ro:bS.bind(null,r),mo:wS.bind(null,r),d_:_S.bind(null,r)}),r.B_.push(async e=>{e?(r.K_.s_(),Tp(r)?kp(r):r.q_.set("Unknown")):(await r.K_.stop(),Sw(r))})),r.K_}function Ri(r){return r.U_||(r.U_=function(t,n,a){const l=Je(t);return l.w_(),new pS(n,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)}(r.datastore,r.asyncQueue,{Eo:()=>Promise.resolve(),Ro:ES.bind(null,r),mo:IS.bind(null,r),f_:kS.bind(null,r),g_:TS.bind(null,r)}),r.B_.push(async e=>{e?(r.U_.s_(),await qd(r)):(await r.U_.stop(),r.O_.length>0&&(Re("RemoteStore",`Stopping write stream with ${r.O_.length} pending writes`),r.O_=[]))})),r.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ip{constructor(e,t,n,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=a,this.removalCallback=l,this.deferred=new Fs,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(u=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,a,l){const u=Date.now()+n,f=new Ip(e,t,u,a,l);return f.start(n),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ie(oe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sp(r,e){if(zs("AsyncQueue",`${e}: ${r}`),gc(r))return new Ie(oe.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Me.comparator(t.key,n.key):(t,n)=>Me.comparator(t.key,n.key),this.keyedMap=zl(),this.sortedSet=new Dt(this.comparator)}static emptySet(e){return new Sa(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Sa)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=n.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const n=new Sa;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(){this.W_=new Dt(Me.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(t,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(t):e.type===1&&n.type===2?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Ge():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,n)=>{e.push(n)}),e}}class La{constructor(e,t,n,a,l,u,f,m,g){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=a,this.mutatedKeys=l,this.fromCache=u,this.syncStateChanged=f,this.excludesMetadataChanges=m,this.hasCachedResults=g}static fromInitialDocuments(e,t,n,a,l){const u=[];return t.forEach(f=>{u.push({type:0,doc:f})}),new La(e,t,Sa.emptySet(t),u,n,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Md(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==n[a].type||!t[a].doc.isEqual(n[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class CS{constructor(){this.queries=Fv(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,n){const a=Je(t),l=a.queries;a.queries=Fv(),l.forEach((u,f)=>{for(const m of f.j_)m.onError(n)})})(this,new Ie(oe.ABORTED,"Firestore shutting down"))}}function Fv(){return new Ga(r=>tw(r),Md)}async function Ap(r,e){const t=Je(r);let n=3;const a=e.query;let l=t.queries.get(a);l?!l.H_()&&e.J_()&&(n=2):(l=new AS,n=e.J_()?0:1);try{switch(n){case 0:l.z_=await t.onListen(a,!0);break;case 1:l.z_=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(u){const f=Sp(u,`Initialization of query '${wa(e.query)}' failed`);return void e.onError(f)}t.queries.set(a,l),l.j_.push(e),e.Z_(t.onlineState),l.z_&&e.X_(l.z_)&&Rp(t)}async function Cp(r,e){const t=Je(r),n=e.query;let a=3;const l=t.queries.get(n);if(l){const u=l.j_.indexOf(e);u>=0&&(l.j_.splice(u,1),l.j_.length===0?a=e.J_()?0:1:!l.H_()&&e.J_()&&(a=2))}switch(a){case 0:return t.queries.delete(n),t.onUnlisten(n,!0);case 1:return t.queries.delete(n),t.onUnlisten(n,!1);case 2:return t.onLastRemoteStoreUnlisten(n);default:return}}function RS(r,e){const t=Je(r);let n=!1;for(const a of e){const l=a.query,u=t.queries.get(l);if(u){for(const f of u.j_)f.X_(a)&&(n=!0);u.z_=a}}n&&Rp(t)}function PS(r,e,t){const n=Je(r),a=n.queries.get(e);if(a)for(const l of a.j_)l.onError(t);n.queries.delete(e)}function Rp(r){r.Y_.forEach(e=>{e.next()})}var Mm,Mv;(Mv=Mm||(Mm={})).ea="default",Mv.Cache="cache";class Pp{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const a of e.docChanges)a.type!==3&&n.push(a);e=new La(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;const n=t!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=La.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Mm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e){this.key=e}}class Dw{constructor(e){this.key=e}}class DS{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=rt(),this.mutatedKeys=rt(),this.Aa=rw(e),this.Ra=new Sa(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new Lv,a=t?t.Ra:this.Ra;let l=t?t.mutatedKeys:this.mutatedKeys,u=a,f=!1;const m=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((x,_)=>{const w=a.get(x),S=Ud(this.query,_)?_:null,U=!!w&&this.mutatedKeys.has(w.key),B=!!S&&(S.hasLocalMutations||this.mutatedKeys.has(S.key)&&S.hasCommittedMutations);let O=!1;w&&S?w.data.isEqual(S.data)?U!==B&&(n.track({type:3,doc:S}),O=!0):this.ga(w,S)||(n.track({type:2,doc:S}),O=!0,(m&&this.Aa(S,m)>0||g&&this.Aa(S,g)<0)&&(f=!0)):!w&&S?(n.track({type:0,doc:S}),O=!0):w&&!S&&(n.track({type:1,doc:w}),O=!0,(m||g)&&(f=!0)),O&&(S?(u=u.add(S),l=B?l.add(x):l.delete(x)):(u=u.delete(x),l=l.delete(x)))}),this.query.limit!==null)for(;u.size>this.query.limit;){const x=this.query.limitType==="F"?u.last():u.first();u=u.delete(x.key),l=l.delete(x.key),n.track({type:1,doc:x})}return{Ra:u,fa:n,ns:f,mutatedKeys:l}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,a){const l=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const u=e.fa.G_();u.sort((x,_)=>function(S,U){const B=O=>{switch(O){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge()}};return B(S)-B(U)}(x.type,_.type)||this.Aa(x.doc,_.doc)),this.pa(n),a=a!=null&&a;const f=t&&!a?this.ya():[],m=this.da.size===0&&this.current&&!a?1:0,g=m!==this.Ea;return this.Ea=m,u.length!==0||g?{snapshot:new La(this.query,e.Ra,l,u,e.mutatedKeys,m===0,g,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:f}:{wa:f}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Lv,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=rt(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const t=[];return e.forEach(n=>{this.da.has(n)||t.push(new Dw(n))}),this.da.forEach(n=>{e.has(n)||t.push(new Pw(n))}),t}ba(e){this.Ta=e.Ts,this.da=rt();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return La.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class VS{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class OS{constructor(e){this.key=e,this.va=!1}}class LS{constructor(e,t,n,a,l,u){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=u,this.Ca={},this.Fa=new Ga(f=>tw(f),Md),this.Ma=new Map,this.xa=new Set,this.Oa=new Dt(Me.comparator),this.Na=new Map,this.La=new wp,this.Ba={},this.ka=new Map,this.qa=Oa.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function FS(r,e,t=!0){const n=Uw(r);let a;const l=n.Fa.get(e);return l?(n.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.Da()):a=await Vw(n,e,t,!0),a}async function MS(r,e){const t=Uw(r);await Vw(t,e,!0,!1)}async function Vw(r,e,t,n){const a=await aS(r.localStore,ls(e)),l=a.targetId,u=r.sharedClientState.addLocalQueryTarget(l,t);let f;return n&&(f=await US(r,e,l,u==="current",a.resumeToken)),r.isPrimaryClient&&t&&Tw(r.remoteStore,a),f}async function US(r,e,t,n,a){r.Ka=(_,w,S)=>async function(B,O,H,V){let T=O.view.ma(H);T.ns&&(T=await Pv(B.localStore,O.query,!1).then(({documents:j})=>O.view.ma(j,T)));const $=V&&V.targetChanges.get(O.targetId),q=V&&V.targetMismatches.get(O.targetId)!=null,I=O.view.applyChanges(T,B.isPrimaryClient,$,q);return zv(B,O.targetId,I.wa),I.snapshot}(r,_,w,S);const l=await Pv(r.localStore,e,!0),u=new DS(e,l.Ts),f=u.ma(l.documents),m=vc.createSynthesizedTargetChangeForCurrentChange(t,n&&r.onlineState!=="Offline",a),g=u.applyChanges(f,r.isPrimaryClient,m);zv(r,t,g.wa);const x=new VS(e,t,u);return r.Fa.set(e,x),r.Ma.has(t)?r.Ma.get(t).push(e):r.Ma.set(t,[e]),g.snapshot}async function zS(r,e,t){const n=Je(r),a=n.Fa.get(e),l=n.Ma.get(a.targetId);if(l.length>1)return n.Ma.set(a.targetId,l.filter(u=>!Md(u,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(a.targetId),n.sharedClientState.isActiveQueryTarget(a.targetId)||await Fm(n.localStore,a.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(a.targetId),t&&Np(n.remoteStore,a.targetId),Um(n,a.targetId)}).catch(pc)):(Um(n,a.targetId),await Fm(n.localStore,a.targetId,!0))}async function BS(r,e){const t=Je(r),n=t.Fa.get(e),a=t.Ma.get(n.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(n.targetId),Np(t.remoteStore,n.targetId))}async function $S(r,e,t){const n=JS(r);try{const a=await function(u,f){const m=Je(u),g=Ye.now(),x=f.reduce((S,U)=>S.add(U.key),rt());let _,w;return m.persistence.runTransaction("Locally write mutations","readwrite",S=>{let U=Bs(),B=rt();return m.cs.getEntries(S,x).next(O=>{U=O,U.forEach((H,V)=>{V.isValidDocument()||(B=B.add(H))})}).next(()=>m.localDocuments.getOverlayedDocuments(S,U)).next(O=>{_=O;const H=[];for(const V of f){const T=dI(V,_.get(V.key).overlayedDocument);T!=null&&H.push(new Oi(V.key,T,Gb(T.value.mapValue),bn.exists(!0)))}return m.mutationQueue.addMutationBatch(S,g,H,f)}).next(O=>{w=O;const H=O.applyToLocalDocumentSet(_,B);return m.documentOverlayCache.saveOverlays(S,O.batchId,H)})}).then(()=>({batchId:w.batchId,changes:sw(_)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(a.batchId),function(u,f,m){let g=u.Ba[u.currentUser.toKey()];g||(g=new Dt(dt)),g=g.insert(f,m),u.Ba[u.currentUser.toKey()]=g}(n,a.batchId,t),await bc(n,a.changes),await qd(n.remoteStore)}catch(a){const l=Sp(a,"Failed to persist write");t.reject(l)}}async function Ow(r,e){const t=Je(r);try{const n=await sS(t.localStore,e);e.targetChanges.forEach((a,l)=>{const u=t.Na.get(l);u&&(gt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?u.va=!0:a.modifiedDocuments.size>0?gt(u.va):a.removedDocuments.size>0&&(gt(u.va),u.va=!1))}),await bc(t,n,e)}catch(n){await pc(n)}}function Uv(r,e,t){const n=Je(r);if(n.isPrimaryClient&&t===0||!n.isPrimaryClient&&t===1){const a=[];n.Fa.forEach((l,u)=>{const f=u.view.Z_(e);f.snapshot&&a.push(f.snapshot)}),function(u,f){const m=Je(u);m.onlineState=f;let g=!1;m.queries.forEach((x,_)=>{for(const w of _.j_)w.Z_(f)&&(g=!0)}),g&&Rp(m)}(n.eventManager,e),a.length&&n.Ca.d_(a),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function HS(r,e,t){const n=Je(r);n.sharedClientState.updateQueryState(e,"rejected",t);const a=n.Na.get(e),l=a&&a.key;if(l){let u=new Dt(Me.comparator);u=u.insert(l,jr.newNoDocument(l,Qe.min()));const f=rt().add(l),m=new $d(Qe.min(),new Map,new Dt(dt),u,f);await Ow(n,m),n.Oa=n.Oa.remove(l),n.Na.delete(e),Dp(n)}else await Fm(n.localStore,e,!1).then(()=>Um(n,e,t)).catch(pc)}async function WS(r,e){const t=Je(r),n=e.batch.batchId;try{const a=await nS(t.localStore,e);Fw(t,n,null),Lw(t,n),t.sharedClientState.updateMutationState(n,"acknowledged"),await bc(t,a)}catch(a){await pc(a)}}async function qS(r,e,t){const n=Je(r);try{const a=await function(u,f){const m=Je(u);return m.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let x;return m.mutationQueue.lookupMutationBatch(g,f).next(_=>(gt(_!==null),x=_.keys(),m.mutationQueue.removeMutationBatch(g,_))).next(()=>m.mutationQueue.performConsistencyCheck(g)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(g,x,f)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,x)).next(()=>m.localDocuments.getDocuments(g,x))})}(n.localStore,e);Fw(n,e,t),Lw(n,e),n.sharedClientState.updateMutationState(e,"rejected",t),await bc(n,a)}catch(a){await pc(a)}}function Lw(r,e){(r.ka.get(e)||[]).forEach(t=>{t.resolve()}),r.ka.delete(e)}function Fw(r,e,t){const n=Je(r);let a=n.Ba[n.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),n.Ba[n.currentUser.toKey()]=a}}function Um(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const n of r.Ma.get(e))r.Fa.delete(n),t&&r.Ca.$a(n,t);r.Ma.delete(e),r.isPrimaryClient&&r.La.gr(e).forEach(n=>{r.La.containsKey(n)||Mw(r,n)})}function Mw(r,e){r.xa.delete(e.path.canonicalString());const t=r.Oa.get(e);t!==null&&(Np(r.remoteStore,t),r.Oa=r.Oa.remove(e),r.Na.delete(t),Dp(r))}function zv(r,e,t){for(const n of t)n instanceof Pw?(r.La.addReference(n.key,e),GS(r,n)):n instanceof Dw?(Re("SyncEngine","Document no longer in limbo: "+n.key),r.La.removeReference(n.key,e),r.La.containsKey(n.key)||Mw(r,n.key)):Ge()}function GS(r,e){const t=e.key,n=t.path.canonicalString();r.Oa.get(t)||r.xa.has(n)||(Re("SyncEngine","New document in limbo: "+t),r.xa.add(n),Dp(r))}function Dp(r){for(;r.xa.size>0&&r.Oa.size<r.maxConcurrentLimboResolutions;){const e=r.xa.values().next().value;r.xa.delete(e);const t=new Me(Tt.fromString(e)),n=r.qa.next();r.Na.set(n,new OS(t)),r.Oa=r.Oa.insert(t,n),Tw(r.remoteStore,new Ei(ls(Fd(t.path)),n,"TargetPurposeLimboResolution",up.oe))}}async function bc(r,e,t){const n=Je(r),a=[],l=[],u=[];n.Fa.isEmpty()||(n.Fa.forEach((f,m)=>{u.push(n.Ka(m,e,t).then(g=>{var x;if((g||t)&&n.isPrimaryClient){const _=g?!g.fromCache:(x=t==null?void 0:t.targetChanges.get(m.targetId))===null||x===void 0?void 0:x.current;n.sharedClientState.updateQueryState(m.targetId,_?"current":"not-current")}if(g){a.push(g);const _=jp.Wi(m.targetId,g);l.push(_)}}))}),await Promise.all(u),n.Ca.d_(a),await async function(m,g){const x=Je(m);try{await x.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>fe.forEach(g,w=>fe.forEach(w.$i,S=>x.persistence.referenceDelegate.addReference(_,w.targetId,S)).next(()=>fe.forEach(w.Ui,S=>x.persistence.referenceDelegate.removeReference(_,w.targetId,S)))))}catch(_){if(!gc(_))throw _;Re("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of g){const w=_.targetId;if(!_.fromCache){const S=x.os.get(w),U=S.snapshotVersion,B=S.withLastLimboFreeSnapshotVersion(U);x.os=x.os.insert(w,B)}}}(n.localStore,l))}async function KS(r,e){const t=Je(r);if(!t.currentUser.isEqual(e)){Re("SyncEngine","User change. New user:",e.toKey());const n=await jw(t.localStore,e);t.currentUser=e,function(l,u){l.ka.forEach(f=>{f.forEach(m=>{m.reject(new Ie(oe.CANCELLED,u))})}),l.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await bc(t,n.hs)}}function QS(r,e){const t=Je(r),n=t.Na.get(e);if(n&&n.va)return rt().add(n.key);{let a=rt();const l=t.Ma.get(e);if(!l)return a;for(const u of l){const f=t.Fa.get(u);a=a.unionWith(f.view.Va)}return a}}function Uw(r){const e=Je(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ow.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QS.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=HS.bind(null,e),e.Ca.d_=RS.bind(null,e.eventManager),e.Ca.$a=PS.bind(null,e.eventManager),e}function JS(r){const e=Je(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WS.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qS.bind(null,e),e}class wd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Hd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return rS(this.persistence,new eS,e.initialUser,this.serializer)}Ga(e){return new YI(_p.Zr,this.serializer)}Wa(e){return new cS}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}wd.provider={build:()=>new wd};class zm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Uv(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=KS.bind(null,this.syncEngine),await SS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new CS}()}createDatastore(e){const t=Hd(e.databaseInfo.databaseId),n=function(l){return new fS(l)}(e.databaseInfo);return function(l,u,f,m){return new gS(l,u,f,m)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(n,a,l,u,f){return new vS(n,a,l,u,f)}(this.localStore,this.datastore,e.asyncQueue,t=>Uv(this.syncEngine,t,0),function(){return Vv.D()?new Vv:new uS}())}createSyncEngine(e,t){return function(a,l,u,f,m,g,x){const _=new LS(a,l,u,f,m,g);return x&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(a){const l=Je(a);Re("RemoteStore","RemoteStore shutting down."),l.L_.add(5),await xc(l),l.k_.shutdown(),l.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}zm.provider={build:()=>new zm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):zs("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e,t,n,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=a,this.user=_r.UNAUTHENTICATED,this.clientId=Hb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(n,async u=>{Re("FirestoreClient","Received user=",u.uid),await this.authCredentialListener(u),this.user=u}),this.appCheckCredentials.start(n,u=>(Re("FirestoreClient","Received new app check token=",u),this.appCheckCredentialListener(u,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Fs;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Sp(t,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function rm(r,e){r.asyncQueue.verifyOperationInProgress(),Re("FirestoreClient","Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let n=t.initialUser;r.setCredentialChangeListener(async a=>{n.isEqual(a)||(await jw(e.localStore,a),n=a)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function Bv(r,e){r.asyncQueue.verifyOperationInProgress();const t=await XS(r);Re("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener(n=>Ov(e.remoteStore,n)),r.setAppCheckTokenChangeListener((n,a)=>Ov(e.remoteStore,a)),r._onlineComponents=e}async function XS(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){Re("FirestoreClient","Using user provided OfflineComponentProvider");try{await rm(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(a){return a.name==="FirebaseError"?a.code===oe.FAILED_PRECONDITION||a.code===oe.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(t))throw t;Ra("Error using user provided cache. Falling back to memory cache: "+t),await rm(r,new wd)}}else Re("FirestoreClient","Using default OfflineComponentProvider"),await rm(r,new wd);return r._offlineComponents}async function zw(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(Re("FirestoreClient","Using user provided OnlineComponentProvider"),await Bv(r,r._uninitializedComponentsProvider._online)):(Re("FirestoreClient","Using default OnlineComponentProvider"),await Bv(r,new zm))),r._onlineComponents}function ZS(r){return zw(r).then(e=>e.syncEngine)}async function _d(r){const e=await zw(r),t=e.eventManager;return t.onListen=FS.bind(null,e.syncEngine),t.onUnlisten=zS.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=MS.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=BS.bind(null,e.syncEngine),t}function e4(r,e,t={}){const n=new Fs;return r.asyncQueue.enqueueAndForget(async()=>function(l,u,f,m,g){const x=new Vp({next:w=>{x.Za(),u.enqueueAndForget(()=>Cp(l,_));const S=w.docs.has(f);!S&&w.fromCache?g.reject(new Ie(oe.UNAVAILABLE,"Failed to get document because the client is offline.")):S&&w.fromCache&&m&&m.source==="server"?g.reject(new Ie(oe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):g.resolve(w)},error:w=>g.reject(w)}),_=new Pp(Fd(f.path),x,{includeMetadataChanges:!0,_a:!0});return Ap(l,_)}(await _d(r),r.asyncQueue,e,t,n)),n.promise}function t4(r,e,t={}){const n=new Fs;return r.asyncQueue.enqueueAndForget(async()=>function(l,u,f,m,g){const x=new Vp({next:w=>{x.Za(),u.enqueueAndForget(()=>Cp(l,_)),w.fromCache&&m.source==="server"?g.reject(new Ie(oe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(w)},error:w=>g.reject(w)}),_=new Pp(f,x,{includeMetadataChanges:!0,_a:!0});return Ap(l,_)}(await _d(r),r.asyncQueue,e,t,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $w(r,e,t){if(!t)throw new Ie(oe.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function r4(r,e,t,n){if(e===!0&&n===!0)throw new Ie(oe.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function Hv(r){if(!Me.isDocumentKey(r))throw new Ie(oe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function Wv(r){if(Me.isDocumentKey(r))throw new Ie(oe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function Gd(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Ge()}function Gr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new Ie(oe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Gd(r);throw new Ie(oe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function n4(r,e){if(e<=0)throw new Ie(oe.INVALID_ARGUMENT,`Function ${r}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qv{constructor(e){var t,n;if(e.host===void 0){if(e.ssl!==void 0)throw new Ie(oe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Ie(oe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}r4("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Bw((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(l){if(l.timeoutSeconds!==void 0){if(isNaN(l.timeoutSeconds))throw new Ie(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (must not be NaN)`);if(l.timeoutSeconds<5)throw new Ie(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (minimum allowed value is 5)`);if(l.timeoutSeconds>30)throw new Ie(oe.INVALID_ARGUMENT,`invalid long polling timeout: ${l.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,a){return n.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Kd{constructor(e,t,n,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qv({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ie(oe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Ie(oe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qv(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new xT;switch(n.type){case"firstParty":return new jT(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ie(oe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=$v.get(t);n&&(Re("ComponentProvider","Removing Datastore"),$v.delete(t),n.terminate())}(this),Promise.resolve()}}function s4(r,e,t,n={}){var a;const l=(r=Gr(r,Kd))._getSettings(),u=`${e}:${t}`;if(l.host!=="firestore.googleapis.com"&&l.host!==u&&Ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),r._setSettings(Object.assign(Object.assign({},l),{host:u,ssl:!1})),n.mockUserToken){let f,m;if(typeof n.mockUserToken=="string")f=n.mockUserToken,m=_r.MOCK_USER;else{f=Wx(n.mockUserToken,(a=r._app)===null||a===void 0?void 0:a.options.projectId);const g=n.mockUserToken.sub||n.mockUserToken.user_id;if(!g)throw new Ie(oe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new _r(g)}r._authCredentials=new bT(new $b(f,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ws(this.firestore,e,this._query)}}class Nr{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Si(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Nr(this.firestore,e,this._key)}}class Si extends Ws{constructor(e,t,n){super(e,t,Fd(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Nr(this.firestore,null,new Me(e))}withConverter(e){return new Si(this.firestore,e,this._path)}}function Jt(r,e,...t){if(r=wt(r),$w("collection","path",e),r instanceof Kd){const n=Tt.fromString(e,...t);return Wv(n),new Si(r,null,n)}{if(!(r instanceof Nr||r instanceof Si))throw new Ie(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Tt.fromString(e,...t));return Wv(n),new Si(r.firestore,null,n)}}function ct(r,e,...t){if(r=wt(r),arguments.length===1&&(e=Hb.newId()),$w("doc","path",e),r instanceof Kd){const n=Tt.fromString(e,...t);return Hv(n),new Nr(r,null,new Me(n))}{if(!(r instanceof Nr||r instanceof Si))throw new Ie(oe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=r._path.child(Tt.fromString(e,...t));return Hv(n),new Nr(r.firestore,r instanceof Si?r.converter:null,new Me(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gv{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ew(this,"async_queue_retry"),this.Vu=()=>{const n=tm();n&&Re("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const t=tm();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=tm();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new Fs;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!gc(e))throw e;Re("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const a=function(u){let f=u.message||"";return u.stack&&(f=u.stack.includes(u.message)?u.stack:u.message+`
`+u.stack),f}(n);throw zs("INTERNAL UNHANDLED ERROR: ",a),n}).then(n=>(this.du=!1,n))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const a=Ip.createAndSchedule(this,e,t,n,l=>this.yu(l));return this.Tu.push(a),a}fu(){this.Eu&&Ge()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,n)=>t.targetTimeMs-n.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function Kv(r){return function(t,n){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of n)if(l in a&&typeof a[l]=="function")return!0;return!1}(r,["next","error","complete"])}class $s extends Kd{constructor(e,t,n,a){super(e,t,n,a),this.type="firestore",this._queue=new Gv,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Gv(e),this._firestoreClient=void 0,await e}}}function i4(r,e){const t=typeof r=="object"?r:Pd(),n=typeof r=="string"?r:"(default)",a=Di(t,"firestore").getImmediate({identifier:n});if(!a._initialized){const l=Bx("firestore");l&&s4(a,...l)}return a}function Qd(r){if(r._terminated)throw new Ie(oe.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||o4(r),r._firestoreClient}function o4(r){var e,t,n;const a=r._freezeSettings(),l=function(f,m,g,x){return new OT(f,m,g,x.host,x.ssl,x.experimentalForceLongPolling,x.experimentalAutoDetectLongPolling,Bw(x.experimentalLongPollingOptions),x.useFetchStreams)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,a);r._componentsProvider||!((t=a.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((n=a.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(r._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),r._firestoreClient=new YS(r._authCredentials,r._appCheckCredentials,r._queue,l,r._componentsProvider&&function(f){const m=f==null?void 0:f._online.build();return{_offline:f==null?void 0:f._offline.build(m),_online:m}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Fa(pr.fromBase64String(e))}catch(t){throw new Ie(oe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Fa(pr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Ie(oe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Op{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ie(oe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ie(oe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return dt(this._lat,e._lat)||dt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,a){if(n.length!==a.length)return!1;for(let l=0;l<n.length;++l)if(n[l]!==a[l])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a4=/^__.*__$/;class l4{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return this.fieldMask!==null?new Oi(e,this.data,this.fieldMask,t,this.fieldTransforms):new yc(e,this.data,t,this.fieldTransforms)}}class Hw{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Oi(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Ww(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge()}}class Fp{constructor(e,t,n,a,l,u){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=a,l===void 0&&this.vu(),this.fieldTransforms=l||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Fp(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Fu({path:n,xu:!1});return a.Ou(e),a}Nu(e){var t;const n=(t=this.path)===null||t===void 0?void 0:t.child(e),a=this.Fu({path:n,xu:!1});return a.vu(),a}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return jd(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Ww(this.Cu)&&a4.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class c4{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Hd(e)}Qu(e,t,n,a=!1){return new Fp({Cu:e,methodName:t,qu:n,path:hr.emptyPath(),xu:!1,ku:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xd(r){const e=r._freezeSettings(),t=Hd(r._databaseId);return new c4(r._databaseId,!!e.ignoreUndefinedProperties,t)}function qw(r,e,t,n,a,l={}){const u=r.Qu(l.merge||l.mergeFields?2:0,e,t,a);Up("Data must be an object, but it was:",u,n);const f=Gw(n,u);let m,g;if(l.merge)m=new nn(u.fieldMask),g=u.fieldTransforms;else if(l.mergeFields){const x=[];for(const _ of l.mergeFields){const w=Bm(e,_,t);if(!u.contains(w))throw new Ie(oe.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);Qw(x,w)||x.push(w)}m=new nn(x),g=u.fieldTransforms.filter(_=>m.covers(_.field))}else m=null,g=u.fieldTransforms;return new l4(new $r(f),m,g)}class Zd extends Yd{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Zd}}class Mp extends Yd{_toFieldTransform(e){return new aI(e.path,new ac)}isEqual(e){return e instanceof Mp}}function u4(r,e,t,n){const a=r.Qu(1,e,t);Up("Data must be an object, but it was:",a,n);const l=[],u=$r.empty();Co(n,(m,g)=>{const x=zp(e,m,t);g=wt(g);const _=a.Nu(x);if(g instanceof Zd)l.push(x);else{const w=wc(g,_);w!=null&&(l.push(x),u.set(x,w))}});const f=new nn(l);return new Hw(u,f,a.fieldTransforms)}function d4(r,e,t,n,a,l){const u=r.Qu(1,e,t),f=[Bm(e,n,t)],m=[a];if(l.length%2!=0)throw new Ie(oe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<l.length;w+=2)f.push(Bm(e,l[w])),m.push(l[w+1]);const g=[],x=$r.empty();for(let w=f.length-1;w>=0;--w)if(!Qw(g,f[w])){const S=f[w];let U=m[w];U=wt(U);const B=u.Nu(S);if(U instanceof Zd)g.push(S);else{const O=wc(U,B);O!=null&&(g.push(S),x.set(S,O))}}const _=new nn(g);return new Hw(x,_,u.fieldTransforms)}function h4(r,e,t,n=!1){return wc(t,r.Qu(n?4:3,e))}function wc(r,e){if(Kw(r=wt(r)))return Up("Unsupported field value:",e,r),Gw(r,e);if(r instanceof Yd)return function(n,a){if(!Ww(a.Cu))throw a.Bu(`${n._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Bu(`${n._methodName}() is not currently supported inside arrays`);const l=n._toFieldTransform(a);l&&a.fieldTransforms.push(l)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,a){const l=[];let u=0;for(const f of n){let m=wc(f,a.Lu(u));m==null&&(m={nullValue:"NULL_VALUE"}),l.push(m),u++}return{arrayValue:{values:l}}}(r,e)}return function(n,a){if((n=wt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return sI(a.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const l=Ye.fromDate(n);return{timestampValue:xd(a.serializer,l)}}if(n instanceof Ye){const l=new Ye(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:xd(a.serializer,l)}}if(n instanceof Op)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Fa)return{bytesValue:gw(a.serializer,n._byteString)};if(n instanceof Nr){const l=a.databaseId,u=n.firestore._databaseId;if(!u.isEqual(l))throw a.Bu(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:bp(n.firestore._databaseId||a.databaseId,n._key.path)}}if(n instanceof Lp)return function(u,f){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:u.toArray().map(m=>{if(typeof m!="number")throw f.Bu("VectorValues must only contain numeric values.");return gp(f.serializer,m)})}}}}}}(n,a);throw a.Bu(`Unsupported field value: ${Gd(n)}`)}(r,e)}function Gw(r,e){const t={};return Wb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Co(r,(n,a)=>{const l=wc(a,e.Mu(n));l!=null&&(t[n]=l)}),{mapValue:{fields:t}}}function Kw(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Ye||r instanceof Op||r instanceof Fa||r instanceof Nr||r instanceof Yd||r instanceof Lp)}function Up(r,e,t){if(!Kw(t)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(t)){const n=Gd(t);throw n==="an object"?e.Bu(r+" a custom object"):e.Bu(r+" "+n)}}function Bm(r,e,t){if((e=wt(e))instanceof Jd)return e._internalPath;if(typeof e=="string")return zp(r,e);throw jd("Field path arguments must be of type string or ",r,!1,void 0,t)}const f4=new RegExp("[~\\*/\\[\\]]");function zp(r,e,t){if(e.search(f4)>=0)throw jd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new Jd(...e.split("."))._internalPath}catch{throw jd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function jd(r,e,t,n,a){const l=n&&!n.isEmpty(),u=a!==void 0;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let m="";return(l||u)&&(m+=" (found",l&&(m+=` in field ${n}`),u&&(m+=` in document ${a}`),m+=")"),new Ie(oe.INVALID_ARGUMENT,f+r+m)}function Qw(r,e){return r.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(e,t,n,a,l){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Nr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new m4(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(eh("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class m4 extends Jw{data(){return super.data()}}function eh(r,e){return typeof e=="string"?zp(r,e):e instanceof Jd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yw(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new Ie(oe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bp{}class $p extends Bp{}function vn(r,e,...t){let n=[];e instanceof Bp&&n.push(e),n=n.concat(t),function(l){const u=l.filter(m=>m instanceof Hp).length,f=l.filter(m=>m instanceof th).length;if(u>1||u>0&&f>0)throw new Ie(oe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)r=a._apply(r);return r}class th extends $p{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new th(e,t,n)}_apply(e){const t=this._parse(e);return Xw(e._query,t),new Ws(e.firestore,e.converter,Pm(e._query,t))}_parse(e){const t=Xd(e.firestore);return function(l,u,f,m,g,x,_){let w;if(g.isKeyField()){if(x==="array-contains"||x==="array-contains-any")throw new Ie(oe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${x}' queries on documentId().`);if(x==="in"||x==="not-in"){Yv(_,x);const S=[];for(const U of _)S.push(Jv(m,l,U));w={arrayValue:{values:S}}}else w=Jv(m,l,_)}else x!=="in"&&x!=="not-in"&&x!=="array-contains-any"||Yv(_,x),w=h4(f,u,_,x==="in"||x==="not-in");return Yt.create(g,x,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function xn(r,e,t){const n=e,a=eh("where",r);return th._create(a,n,t)}class Hp extends Bp{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Hp(e,t)}_parse(e){const t=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return t.length===1?t[0]:$n.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(a,l){let u=a;const f=l.getFlattenedFilters();for(const m of f)Xw(u,m),u=Pm(u,m)}(e._query,t),new Ws(e.firestore,e.converter,Pm(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wp extends $p{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Wp(e,t)}_apply(e){const t=function(a,l,u){if(a.startAt!==null)throw new Ie(oe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new Ie(oe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new oc(l,u)}(e._query,this._field,this._direction);return new Ws(e.firestore,e.converter,function(a,l){const u=a.explicitOrderBy.concat([l]);return new qa(a.path,a.collectionGroup,u,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)}(e._query,t))}}function Ma(r,e="asc"){const t=e,n=eh("orderBy",r);return Wp._create(n,t)}class qp extends $p{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new qp(e,t,n)}_apply(e){return new Ws(e.firestore,e.converter,yd(e._query,this._limit,this._limitType))}}function Qv(r){return n4("limit",r),qp._create("limit",r,"F")}function Jv(r,e,t){if(typeof(t=wt(t))=="string"){if(t==="")throw new Ie(oe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ew(e)&&t.indexOf("/")!==-1)throw new Ie(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const n=e.path.child(Tt.fromString(t));if(!Me.isDocumentKey(n))throw new Ie(oe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return gv(r,new Me(n))}if(t instanceof Nr)return gv(r,t._key);throw new Ie(oe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Gd(t)}.`)}function Yv(r,e){if(!Array.isArray(r)||r.length===0)throw new Ie(oe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Xw(r,e){const t=function(a,l){for(const u of a)for(const f of u.getFlattenedFilters())if(l.indexOf(f.op)>=0)return f.op;return null}(r.filters,function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new Ie(oe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Ie(oe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class p4{convertValue(e,t="none"){switch(No(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Bt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(jo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return Co(e,(a,l)=>{n[a]=this.convertValue(l,t)}),n}convertVectorValue(e){var t,n,a;const l=(a=(n=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||n===void 0?void 0:n.values)===null||a===void 0?void 0:a.map(u=>Bt(u.doubleValue));return new Lp(l)}convertGeoPoint(e){return new Op(Bt(e.latitude),Bt(e.longitude))}convertArray(e,t){return(e.values||[]).map(n=>this.convertValue(n,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=hp(e);return n==null?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(nc(e));default:return null}}convertTimestamp(e){const t=Ci(e);return new Ye(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Tt.fromString(e);gt(_w(n));const a=new sc(n.get(1),n.get(3)),l=new Me(n.popFirst(5));return a.isEqual(t)||zs(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(r,e,t){let n;return n=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class e1 extends Jw{constructor(e,t,n,a,l,u){super(e,t,n,a,u),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new nd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(eh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class nd extends e1{data(e={}){return super.data(e)}}class t1{constructor(e,t,n,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new $l(a.hasPendingWrites,a.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new nd(this._firestore,this._userDataWriter,n.key,n,new $l(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Ie(oe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(a,l){if(a._snapshot.oldDocs.isEmpty()){let u=0;return a._snapshot.docChanges.map(f=>{const m=new nd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new $l(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);return f.doc,{type:"added",doc:m,oldIndex:-1,newIndex:u++}})}{let u=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(f=>l||f.type!==3).map(f=>{const m=new nd(a._firestore,a._userDataWriter,f.doc.key,f.doc,new $l(a._snapshot.mutatedKeys.has(f.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,x=-1;return f.type!==0&&(g=u.indexOf(f.doc.key),u=u.delete(f.doc.key)),f.type!==1&&(u=u.add(f.doc),x=u.indexOf(f.doc.key)),{type:g4(f.type),doc:m,oldIndex:g,newIndex:x}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function g4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fr(r){r=Gr(r,Nr);const e=Gr(r.firestore,$s);return e4(Qd(e),r._key).then(t=>r1(e,r,t))}class Gp extends p4{constructor(e){super(),this.firestore=e}convertBytes(e){return new Fa(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Nr(this.firestore,null,t)}}function wn(r){r=Gr(r,Ws);const e=Gr(r.firestore,$s),t=Qd(e),n=new Gp(e);return Yw(r._query),t4(t,r._query).then(a=>new t1(e,n,r,a))}function rh(r,e,t){r=Gr(r,Nr);const n=Gr(r.firestore,$s),a=Zw(r.converter,e,t);return nh(n,[qw(Xd(n),"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,bn.none())])}function Pr(r,e,t,...n){r=Gr(r,Nr);const a=Gr(r.firestore,$s),l=Xd(a);let u;return u=typeof(e=wt(e))=="string"||e instanceof Jd?d4(l,"updateDoc",r._key,e,t,n):u4(l,"updateDoc",r._key,e),nh(a,[u.toMutation(r._key,bn.exists(!0))])}function y4(r){return nh(Gr(r.firestore,$s),[new yp(r._key,bn.none())])}function Ua(r,e){const t=Gr(r.firestore,$s),n=ct(r),a=Zw(r.converter,e);return nh(t,[qw(Xd(r.firestore),"addDoc",n._key,a,r.converter!==null,{}).toMutation(n._key,bn.exists(!1))]).then(()=>n)}function Xv(r,...e){var t,n,a;r=wt(r);let l={includeMetadataChanges:!1,source:"default"},u=0;typeof e[u]!="object"||Kv(e[u])||(l=e[u],u++);const f={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(Kv(e[u])){const _=e[u];e[u]=(t=_.next)===null||t===void 0?void 0:t.bind(_),e[u+1]=(n=_.error)===null||n===void 0?void 0:n.bind(_),e[u+2]=(a=_.complete)===null||a===void 0?void 0:a.bind(_)}let m,g,x;if(r instanceof Nr)g=Gr(r.firestore,$s),x=Fd(r._key.path),m={next:_=>{e[u]&&e[u](r1(g,r,_))},error:e[u+1],complete:e[u+2]};else{const _=Gr(r,Ws);g=Gr(_.firestore,$s),x=_._query;const w=new Gp(g);m={next:S=>{e[u]&&e[u](new t1(g,w,_,S))},error:e[u+1],complete:e[u+2]},Yw(r._query)}return function(w,S,U,B){const O=new Vp(B),H=new Pp(S,O,U);return w.asyncQueue.enqueueAndForget(async()=>Ap(await _d(w),H)),()=>{O.Za(),w.asyncQueue.enqueueAndForget(async()=>Cp(await _d(w),H))}}(Qd(g),x,f,m)}function nh(r,e){return function(n,a){const l=new Fs;return n.asyncQueue.enqueueAndForget(async()=>$S(await ZS(n),a,l)),l.promise}(Qd(r),e)}function r1(r,e,t){const n=t.docs.get(e._key),a=new Gp(r);return new e1(r,a,e._key,n,new $l(t.hasPendingWrites,t.fromCache),e.converter)}function ds(){return new Mp("serverTimestamp")}(function(e,t=!0){(function(a){Wa=a})(Ao),zn(new _n("firestore",(n,{instanceIdentifier:a,options:l})=>{const u=n.getProvider("app").getImmediate(),f=new $s(new wT(n.getProvider("auth-internal")),new ET(n.getProvider("app-check-internal")),function(g,x){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new Ie(oe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new sc(g.options.projectId,x)}(u,a),u);return l=Object.assign({useFetchStreams:t},l),f._setSettings(l),f},"PUBLIC").setMultipleInstances(!0)),qr(dv,"4.7.3",e),qr(dv,"4.7.3","esm2017")})();var v4="firebase",x4="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */qr(v4,x4,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="firebasestorage.googleapis.com",s1="storageBucket",b4=2*60*1e3,w4=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft extends jn{constructor(e,t,n=0){super(nm(e),`Firebase Storage: ${t} (${nm(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ft.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return nm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Lt;(function(r){r.UNKNOWN="unknown",r.OBJECT_NOT_FOUND="object-not-found",r.BUCKET_NOT_FOUND="bucket-not-found",r.PROJECT_NOT_FOUND="project-not-found",r.QUOTA_EXCEEDED="quota-exceeded",r.UNAUTHENTICATED="unauthenticated",r.UNAUTHORIZED="unauthorized",r.UNAUTHORIZED_APP="unauthorized-app",r.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",r.INVALID_CHECKSUM="invalid-checksum",r.CANCELED="canceled",r.INVALID_EVENT_NAME="invalid-event-name",r.INVALID_URL="invalid-url",r.INVALID_DEFAULT_BUCKET="invalid-default-bucket",r.NO_DEFAULT_BUCKET="no-default-bucket",r.CANNOT_SLICE_BLOB="cannot-slice-blob",r.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",r.NO_DOWNLOAD_URL="no-download-url",r.INVALID_ARGUMENT="invalid-argument",r.INVALID_ARGUMENT_COUNT="invalid-argument-count",r.APP_DELETED="app-deleted",r.INVALID_ROOT_OPERATION="invalid-root-operation",r.INVALID_FORMAT="invalid-format",r.INTERNAL_ERROR="internal-error",r.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Lt||(Lt={}));function nm(r){return"storage/"+r}function Kp(){const r="An unknown error occurred, please check the error payload for server response.";return new Ft(Lt.UNKNOWN,r)}function _4(r){return new Ft(Lt.OBJECT_NOT_FOUND,"Object '"+r+"' does not exist.")}function j4(r){return new Ft(Lt.QUOTA_EXCEEDED,"Quota for bucket '"+r+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function N4(){const r="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Ft(Lt.UNAUTHENTICATED,r)}function E4(){return new Ft(Lt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function k4(r){return new Ft(Lt.UNAUTHORIZED,"User does not have permission to access '"+r+"'.")}function T4(){return new Ft(Lt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function I4(){return new Ft(Lt.CANCELED,"User canceled the upload/download.")}function S4(r){return new Ft(Lt.INVALID_URL,"Invalid URL '"+r+"'.")}function A4(r){return new Ft(Lt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.")}function C4(){return new Ft(Lt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+s1+"' property when initializing the app?")}function R4(){return new Ft(Lt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function P4(){return new Ft(Lt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function D4(r){return new Ft(Lt.UNSUPPORTED_ENVIRONMENT,`${r} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function $m(r){return new Ft(Lt.INVALID_ARGUMENT,r)}function i1(){return new Ft(Lt.APP_DELETED,"The Firebase app was deleted.")}function V4(r){return new Ft(Lt.INVALID_ROOT_OPERATION,"The operation '"+r+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ql(r,e){return new Ft(Lt.INVALID_FORMAT,"String does not match format '"+r+"': "+e)}function Vl(r){throw new Ft(Lt.INTERNAL_ERROR,"Internal error: "+r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sn{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=sn.makeFromUrl(e,t)}catch{return new sn(e,"")}if(n.path==="")return n;throw A4(e)}static makeFromUrl(e,t){let n=null;const a="([A-Za-z0-9.\\-_]+)";function l($){$.path.charAt($.path.length-1)==="/"&&($.path_=$.path_.slice(0,-1))}const u="(/(.*))?$",f=new RegExp("^gs://"+a+u,"i"),m={bucket:1,path:3};function g($){$.path_=decodeURIComponent($.path)}const x="v[A-Za-z0-9_]+",_=t.replace(/[.]/g,"\\."),w="(/([^?#]*).*)?$",S=new RegExp(`^https?://${_}/${x}/b/${a}/o${w}`,"i"),U={bucket:1,path:3},B=t===n1?"(?:storage.googleapis.com|storage.cloud.google.com)":t,O="([^?#]*)",H=new RegExp(`^https?://${B}/${a}/${O}`,"i"),T=[{regex:f,indices:m,postModify:l},{regex:S,indices:U,postModify:g},{regex:H,indices:{bucket:1,path:2},postModify:g}];for(let $=0;$<T.length;$++){const q=T[$],I=q.regex.exec(e);if(I){const j=I[q.indices.bucket];let N=I[q.indices.path];N||(N=""),n=new sn(j,N),q.postModify(n);break}}if(n==null)throw S4(e);return n}}class O4{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L4(r,e,t){let n=1,a=null,l=null,u=!1,f=0;function m(){return f===2}let g=!1;function x(...O){g||(g=!0,e.apply(null,O))}function _(O){a=setTimeout(()=>{a=null,r(S,m())},O)}function w(){l&&clearTimeout(l)}function S(O,...H){if(g){w();return}if(O){w(),x.call(null,O,...H);return}if(m()||u){w(),x.call(null,O,...H);return}n<64&&(n*=2);let T;f===1?(f=2,T=0):T=(n+Math.random())*1e3,_(T)}let U=!1;function B(O){U||(U=!0,w(),!g&&(a!==null?(O||(f=2),clearTimeout(a),_(0)):O||(f=1)))}return _(0),l=setTimeout(()=>{u=!0,B(!0)},t),B}function F4(r){r(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M4(r){return r!==void 0}function U4(r){return typeof r=="object"&&!Array.isArray(r)}function Qp(r){return typeof r=="string"||r instanceof String}function Zv(r){return Jp()&&r instanceof Blob}function Jp(){return typeof Blob<"u"}function ex(r,e,t,n){if(n<e)throw $m(`Invalid value for '${r}'. Expected ${e} or greater.`);if(n>t)throw $m(`Invalid value for '${r}'. Expected ${t} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yp(r,e,t){let n=e;return t==null&&(n=`https://${e}`),`${t}://${n}/v0${r}`}function o1(r){const e=encodeURIComponent;let t="?";for(const n in r)if(r.hasOwnProperty(n)){const a=e(n)+"="+e(r[n]);t=t+a+"&"}return t=t.slice(0,-1),t}var xo;(function(r){r[r.NO_ERROR=0]="NO_ERROR",r[r.NETWORK_ERROR=1]="NETWORK_ERROR",r[r.ABORT=2]="ABORT"})(xo||(xo={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z4(r,e){const t=r>=500&&r<600,a=[408,429].indexOf(r)!==-1,l=e.indexOf(r)!==-1;return t||a||l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B4{constructor(e,t,n,a,l,u,f,m,g,x,_,w=!0){this.url_=e,this.method_=t,this.headers_=n,this.body_=a,this.successCodes_=l,this.additionalRetryCodes_=u,this.callback_=f,this.errorCallback_=m,this.timeout_=g,this.progressCallback_=x,this.connectionFactory_=_,this.retry=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((S,U)=>{this.resolve_=S,this.reject_=U,this.start_()})}start_(){const e=(n,a)=>{if(a){n(!1,new Hu(!1,null,!0));return}const l=this.connectionFactory_();this.pendingConnection_=l;const u=f=>{const m=f.loaded,g=f.lengthComputable?f.total:-1;this.progressCallback_!==null&&this.progressCallback_(m,g)};this.progressCallback_!==null&&l.addUploadProgressListener(u),l.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&l.removeUploadProgressListener(u),this.pendingConnection_=null;const f=l.getErrorCode()===xo.NO_ERROR,m=l.getStatus();if(!f||z4(m,this.additionalRetryCodes_)&&this.retry){const x=l.getErrorCode()===xo.ABORT;n(!1,new Hu(!1,null,x));return}const g=this.successCodes_.indexOf(m)!==-1;n(!0,new Hu(g,l))})},t=(n,a)=>{const l=this.resolve_,u=this.reject_,f=a.connection;if(a.wasSuccessCode)try{const m=this.callback_(f,f.getResponse());M4(m)?l(m):l()}catch(m){u(m)}else if(f!==null){const m=Kp();m.serverResponse=f.getErrorText(),this.errorCallback_?u(this.errorCallback_(f,m)):u(m)}else if(a.canceled){const m=this.appDelete_?i1():I4();u(m)}else{const m=T4();u(m)}};this.canceled_?t(!1,new Hu(!1,null,!0)):this.backoffId_=L4(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&F4(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Hu{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function $4(r,e){e!==null&&e.length>0&&(r.Authorization="Firebase "+e)}function H4(r,e){r["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function W4(r,e){e&&(r["X-Firebase-GMPID"]=e)}function q4(r,e){e!==null&&(r["X-Firebase-AppCheck"]=e)}function G4(r,e,t,n,a,l,u=!0){const f=o1(r.urlParams),m=r.url+f,g=Object.assign({},r.headers);return W4(g,e),$4(g,t),H4(g,l),q4(g,n),new B4(m,r.method,g,r.body,r.successCodes,r.additionalRetryCodes,r.handler,r.errorHandler,r.timeout,r.progressCallback,a,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Q4(...r){const e=K4();if(e!==void 0){const t=new e;for(let n=0;n<r.length;n++)t.append(r[n]);return t.getBlob()}else{if(Jp())return new Blob(r);throw new Ft(Lt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function J4(r,e,t){return r.webkitSlice?r.webkitSlice(e,t):r.mozSlice?r.mozSlice(e,t):r.slice?r.slice(e,t):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4(r){if(typeof atob>"u")throw D4("base-64");return atob(r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ss={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class sm{constructor(e,t){this.data=e,this.contentType=t||null}}function X4(r,e){switch(r){case ss.RAW:return new sm(a1(e));case ss.BASE64:case ss.BASE64URL:return new sm(l1(r,e));case ss.DATA_URL:return new sm(eA(e),tA(e))}throw Kp()}function a1(r){const e=[];for(let t=0;t<r.length;t++){let n=r.charCodeAt(t);if(n<=127)e.push(n);else if(n<=2047)e.push(192|n>>6,128|n&63);else if((n&64512)===55296)if(!(t<r.length-1&&(r.charCodeAt(t+1)&64512)===56320))e.push(239,191,189);else{const l=n,u=r.charCodeAt(++t);n=65536|(l&1023)<<10|u&1023,e.push(240|n>>18,128|n>>12&63,128|n>>6&63,128|n&63)}else(n&64512)===56320?e.push(239,191,189):e.push(224|n>>12,128|n>>6&63,128|n&63)}return new Uint8Array(e)}function Z4(r){let e;try{e=decodeURIComponent(r)}catch{throw Ql(ss.DATA_URL,"Malformed data URL.")}return a1(e)}function l1(r,e){switch(r){case ss.BASE64:{const a=e.indexOf("-")!==-1,l=e.indexOf("_")!==-1;if(a||l)throw Ql(r,"Invalid character '"+(a?"-":"_")+"' found: is it base64url encoded?");break}case ss.BASE64URL:{const a=e.indexOf("+")!==-1,l=e.indexOf("/")!==-1;if(a||l)throw Ql(r,"Invalid character '"+(a?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let t;try{t=Y4(e)}catch(a){throw a.message.includes("polyfill")?a:Ql(r,"Invalid character found")}const n=new Uint8Array(t.length);for(let a=0;a<t.length;a++)n[a]=t.charCodeAt(a);return n}class c1{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(t===null)throw Ql(ss.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;n!=null&&(this.base64=rA(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}function eA(r){const e=new c1(r);return e.base64?l1(ss.BASE64,e.rest):Z4(e.rest)}function tA(r){return new c1(r).contentType}function rA(r,e){return r.length>=e.length?r.substring(r.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e,t){let n=0,a="";Zv(e)?(this.data_=e,n=e.size,a=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=a}size(){return this.size_}type(){return this.type_}slice(e,t){if(Zv(this.data_)){const n=this.data_,a=J4(n,e,t);return a===null?null:new _i(a)}else{const n=new Uint8Array(this.data_.buffer,e,t-e);return new _i(n,!0)}}static getBlob(...e){if(Jp()){const t=e.map(n=>n instanceof _i?n.data_:n);return new _i(Q4.apply(null,t))}else{const t=e.map(u=>Qp(u)?X4(ss.RAW,u).data:u.data_);let n=0;t.forEach(u=>{n+=u.byteLength});const a=new Uint8Array(n);let l=0;return t.forEach(u=>{for(let f=0;f<u.length;f++)a[l++]=u[f]}),new _i(a,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u1(r){let e;try{e=JSON.parse(r)}catch{return null}return U4(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nA(r){if(r.length===0)return null;const e=r.lastIndexOf("/");return e===-1?"":r.slice(0,e)}function sA(r,e){const t=e.split("/").filter(n=>n.length>0).join("/");return r.length===0?t:r+"/"+t}function d1(r){const e=r.lastIndexOf("/",r.length-2);return e===-1?r:r.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(r,e){return e}class Cr{constructor(e,t,n,a){this.server=e,this.local=t||e,this.writable=!!n,this.xform=a||iA}}let Wu=null;function oA(r){return!Qp(r)||r.length<2?r:d1(r)}function h1(){if(Wu)return Wu;const r=[];r.push(new Cr("bucket")),r.push(new Cr("generation")),r.push(new Cr("metageneration")),r.push(new Cr("name","fullPath",!0));function e(l,u){return oA(u)}const t=new Cr("name");t.xform=e,r.push(t);function n(l,u){return u!==void 0?Number(u):u}const a=new Cr("size");return a.xform=n,r.push(a),r.push(new Cr("timeCreated")),r.push(new Cr("updated")),r.push(new Cr("md5Hash",null,!0)),r.push(new Cr("cacheControl",null,!0)),r.push(new Cr("contentDisposition",null,!0)),r.push(new Cr("contentEncoding",null,!0)),r.push(new Cr("contentLanguage",null,!0)),r.push(new Cr("contentType",null,!0)),r.push(new Cr("metadata","customMetadata",!0)),Wu=r,Wu}function aA(r,e){function t(){const n=r.bucket,a=r.fullPath,l=new sn(n,a);return e._makeStorageReference(l)}Object.defineProperty(r,"ref",{get:t})}function lA(r,e,t){const n={};n.type="file";const a=t.length;for(let l=0;l<a;l++){const u=t[l];n[u.local]=u.xform(n,e[u.server])}return aA(n,r),n}function f1(r,e,t){const n=u1(e);return n===null?null:lA(r,n,t)}function cA(r,e,t,n){const a=u1(e);if(a===null||!Qp(a.downloadTokens))return null;const l=a.downloadTokens;if(l.length===0)return null;const u=encodeURIComponent;return l.split(",").map(g=>{const x=r.bucket,_=r.fullPath,w="/b/"+u(x)+"/o/"+u(_),S=Yp(w,t,n),U=o1({alt:"media",token:g});return S+U})[0]}function uA(r,e){const t={},n=e.length;for(let a=0;a<n;a++){const l=e[a];l.writable&&(t[l.server]=r[l.local])}return JSON.stringify(t)}class m1{constructor(e,t,n,a){this.url=e,this.method=t,this.handler=n,this.timeout=a,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p1(r){if(!r)throw Kp()}function dA(r,e){function t(n,a){const l=f1(r,a,e);return p1(l!==null),l}return t}function hA(r,e){function t(n,a){const l=f1(r,a,e);return p1(l!==null),cA(l,a,r.host,r._protocol)}return t}function g1(r){function e(t,n){let a;return t.getStatus()===401?t.getErrorText().includes("Firebase App Check token is invalid")?a=E4():a=N4():t.getStatus()===402?a=j4(r.bucket):t.getStatus()===403?a=k4(r.path):a=n,a.status=t.getStatus(),a.serverResponse=n.serverResponse,a}return e}function fA(r){const e=g1(r);function t(n,a){let l=e(n,a);return n.getStatus()===404&&(l=_4(r.path)),l.serverResponse=a.serverResponse,l}return t}function mA(r,e,t){const n=e.fullServerUrl(),a=Yp(n,r.host,r._protocol),l="GET",u=r.maxOperationRetryTime,f=new m1(a,l,hA(r,t),u);return f.errorHandler=fA(e),f}function pA(r,e){return r&&r.contentType||e&&e.type()||"application/octet-stream"}function gA(r,e,t){const n=Object.assign({},t);return n.fullPath=r.path,n.size=e.size(),n.contentType||(n.contentType=pA(null,e)),n}function yA(r,e,t,n,a){const l=e.bucketOnlyServerUrl(),u={"X-Goog-Upload-Protocol":"multipart"};function f(){let T="";for(let $=0;$<2;$++)T=T+Math.random().toString().slice(2);return T}const m=f();u["Content-Type"]="multipart/related; boundary="+m;const g=gA(e,n,a),x=uA(g,t),_="--"+m+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+x+`\r
--`+m+`\r
Content-Type: `+g.contentType+`\r
\r
`,w=`\r
--`+m+"--",S=_i.getBlob(_,n,w);if(S===null)throw R4();const U={name:g.fullPath},B=Yp(l,r.host,r._protocol),O="POST",H=r.maxUploadRetryTime,V=new m1(B,O,dA(r,t),H);return V.urlParams=U,V.headers=u,V.body=S.uploadData(),V.errorHandler=g1(e),V}class vA{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=xo.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=xo.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=xo.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,a){if(this.sent_)throw Vl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),a!==void 0)for(const l in a)a.hasOwnProperty(l)&&this.xhr_.setRequestHeader(l,a[l].toString());return n!==void 0?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Vl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Vl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Vl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Vl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class xA extends vA{initXhr(){this.xhr_.responseType="text"}}function y1(){return new xA}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e,t){this._service=e,t instanceof sn?this._location=t:this._location=sn.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Eo(e,t)}get root(){const e=new sn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return d1(this._location.path)}get storage(){return this._service}get parent(){const e=nA(this._location.path);if(e===null)return null;const t=new sn(this._location.bucket,e);return new Eo(this._service,t)}_throwIfRoot(e){if(this._location.path==="")throw V4(e)}}function bA(r,e,t){r._throwIfRoot("uploadBytes");const n=yA(r.storage,r._location,h1(),new _i(e,!0),t);return r.storage.makeRequestWithTokens(n,y1).then(a=>({metadata:a,ref:r}))}function wA(r){r._throwIfRoot("getDownloadURL");const e=mA(r.storage,r._location,h1());return r.storage.makeRequestWithTokens(e,y1).then(t=>{if(t===null)throw P4();return t})}function _A(r,e){const t=sA(r._location.path,e),n=new sn(r._location.bucket,t);return new Eo(r.storage,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jA(r){return/^[A-Za-z]+:\/\//.test(r)}function NA(r,e){return new Eo(r,e)}function v1(r,e){if(r instanceof Xp){const t=r;if(t._bucket==null)throw C4();const n=new Eo(t,t._bucket);return e!=null?v1(n,e):n}else return e!==void 0?_A(r,e):r}function EA(r,e){if(e&&jA(e)){if(r instanceof Xp)return NA(r,e);throw $m("To use ref(service, url), the first argument must be a Storage instance.")}else return v1(r,e)}function tx(r,e){const t=e==null?void 0:e[s1];return t==null?null:sn.makeFromBucketSpec(t,r)}function kA(r,e,t,n={}){r.host=`${e}:${t}`,r._protocol="http";const{mockUserToken:a}=n;a&&(r._overrideAuthToken=typeof a=="string"?a:Wx(a,r.app.options.projectId))}class Xp{constructor(e,t,n,a,l){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=a,this._firebaseVersion=l,this._bucket=null,this._host=n1,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=b4,this._maxUploadRetryTime=w4,this._requests=new Set,a!=null?this._bucket=sn.makeFromBucketSpec(a,this._host):this._bucket=tx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=sn.makeFromBucketSpec(this._url,e):this._bucket=tx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ex("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ex("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(t!==null)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Eo(this,e)}_makeRequest(e,t,n,a,l=!0){if(this._deleted)return new O4(i1());{const u=G4(e,this._appId,n,a,t,this._firebaseVersion,l);return this._requests.add(u),u.getPromise().then(()=>this._requests.delete(u),()=>this._requests.delete(u)),u}}async makeRequestWithTokens(e,t){const[n,a]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,a).getPromise()}}const rx="@firebase/storage",nx="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x1="storage";function sh(r,e,t){return r=wt(r),bA(r,e,t)}function ih(r){return r=wt(r),wA(r)}function oh(r,e){return r=wt(r),EA(r,e)}function Zp(r=Pd(),e){r=wt(r);const n=Di(r,x1).getImmediate({identifier:e}),a=Bx("storage");return a&&TA(n,...a),n}function TA(r,e,t,n={}){kA(r,e,t,n)}function IA(r,{instanceIdentifier:e}){const t=r.getProvider("app").getImmediate(),n=r.getProvider("auth-internal"),a=r.getProvider("app-check-internal");return new Xp(t,n,a,e,Ao)}function SA(){zn(new _n(x1,IA,"PUBLIC").setMultipleInstances(!0)),qr(rx,nx,""),qr(rx,nx,"esm2017")}SA();const b1="@firebase/installations",eg="0.6.9";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w1=1e4,_1=`w:${eg}`,j1="FIS_v2",AA="https://firebaseinstallations.googleapis.com/v1",CA=60*60*1e3,RA="installations",PA="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DA={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ko=new So(RA,PA,DA);function N1(r){return r instanceof jn&&r.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1({projectId:r}){return`${AA}/projects/${r}/installations`}function k1(r){return{token:r.token,requestStatus:2,expiresIn:OA(r.expiresIn),creationTime:Date.now()}}async function T1(r,e){const n=(await e.json()).error;return ko.create("request-failed",{requestName:r,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function I1({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function VA(r,{refreshToken:e}){const t=I1(r);return t.append("Authorization",LA(e)),t}async function S1(r){const e=await r();return e.status>=500&&e.status<600?r():e}function OA(r){return Number(r.replace("s","000"))}function LA(r){return`${j1} ${r}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FA({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const n=E1(r),a=I1(r),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const u={fid:t,authVersion:j1,appId:r.appId,sdkVersion:_1},f={method:"POST",headers:a,body:JSON.stringify(u)},m=await S1(()=>fetch(n,f));if(m.ok){const g=await m.json();return{fid:g.fid||t,registrationStatus:2,refreshToken:g.refreshToken,authToken:k1(g.authToken)}}else throw await T1("Create Installation",m)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(r){return new Promise(e=>{setTimeout(e,r)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MA(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UA=/^[cdef][\w-]{21}$/,Hm="";function zA(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=BA(r);return UA.test(t)?t:Hm}catch{return Hm}}function BA(r){return MA(r).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ah(r){return`${r.appName}!${r.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=new Map;function R1(r,e){const t=ah(r);P1(t,e),$A(t,e)}function P1(r,e){const t=C1.get(r);if(t)for(const n of t)n(e)}function $A(r,e){const t=HA();t&&t.postMessage({key:r,fid:e}),WA()}let po=null;function HA(){return!po&&"BroadcastChannel"in self&&(po=new BroadcastChannel("[Firebase] FID Change"),po.onmessage=r=>{P1(r.data.key,r.data.fid)}),po}function WA(){C1.size===0&&po&&(po.close(),po=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qA="firebase-installations-database",GA=1,To="firebase-installations-store";let im=null;function tg(){return im||(im=Yx(qA,GA,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(To)}}})),im}async function Nd(r,e){const t=ah(r),a=(await tg()).transaction(To,"readwrite"),l=a.objectStore(To),u=await l.get(t);return await l.put(e,t),await a.done,(!u||u.fid!==e.fid)&&R1(r,e.fid),e}async function D1(r){const e=ah(r),n=(await tg()).transaction(To,"readwrite");await n.objectStore(To).delete(e),await n.done}async function lh(r,e){const t=ah(r),a=(await tg()).transaction(To,"readwrite"),l=a.objectStore(To),u=await l.get(t),f=e(u);return f===void 0?await l.delete(t):await l.put(f,t),await a.done,f&&(!u||u.fid!==f.fid)&&R1(r,f.fid),f}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rg(r){let e;const t=await lh(r.appConfig,n=>{const a=KA(n),l=QA(r,a);return e=l.registrationPromise,l.installationEntry});return t.fid===Hm?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function KA(r){const e=r||{fid:zA(),registrationStatus:0};return V1(e)}function QA(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(ko.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=JA(r,t);return{installationEntry:t,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:YA(r)}:{installationEntry:e}}async function JA(r,e){try{const t=await FA(r,e);return Nd(r.appConfig,t)}catch(t){throw N1(t)&&t.customData.serverCode===409?await D1(r.appConfig):await Nd(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function YA(r){let e=await sx(r.appConfig);for(;e.registrationStatus===1;)await A1(100),e=await sx(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:n}=await rg(r);return n||t}return e}function sx(r){return lh(r,e=>{if(!e)throw ko.create("installation-not-found");return V1(e)})}function V1(r){return XA(r)?{fid:r.fid,registrationStatus:0}:r}function XA(r){return r.registrationStatus===1&&r.registrationTime+w1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZA({appConfig:r,heartbeatServiceProvider:e},t){const n=eC(r,t),a=VA(r,t),l=e.getImmediate({optional:!0});if(l){const g=await l.getHeartbeatsHeader();g&&a.append("x-firebase-client",g)}const u={installation:{sdkVersion:_1,appId:r.appId}},f={method:"POST",headers:a,body:JSON.stringify(u)},m=await S1(()=>fetch(n,f));if(m.ok){const g=await m.json();return k1(g)}else throw await T1("Generate Auth Token",m)}function eC(r,{fid:e}){return`${E1(r)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ng(r,e=!1){let t;const n=await lh(r.appConfig,l=>{if(!O1(l))throw ko.create("not-registered");const u=l.authToken;if(!e&&nC(u))return l;if(u.requestStatus===1)return t=tC(r,e),l;{if(!navigator.onLine)throw ko.create("app-offline");const f=iC(l);return t=rC(r,f),f}});return t?await t:n.authToken}async function tC(r,e){let t=await ix(r.appConfig);for(;t.authToken.requestStatus===1;)await A1(100),t=await ix(r.appConfig);const n=t.authToken;return n.requestStatus===0?ng(r,e):n}function ix(r){return lh(r,e=>{if(!O1(e))throw ko.create("not-registered");const t=e.authToken;return oC(t)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function rC(r,e){try{const t=await ZA(r,e),n=Object.assign(Object.assign({},e),{authToken:t});return await Nd(r.appConfig,n),t}catch(t){if(N1(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await D1(r.appConfig);else{const n=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Nd(r.appConfig,n)}throw t}}function O1(r){return r!==void 0&&r.registrationStatus===2}function nC(r){return r.requestStatus===2&&!sC(r)}function sC(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+CA}function iC(r){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},r),{authToken:e})}function oC(r){return r.requestStatus===1&&r.requestTime+w1<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function aC(r){const e=r,{installationEntry:t,registrationPromise:n}=await rg(e);return n?n.catch(console.error):ng(e).catch(console.error),t.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lC(r,e=!1){const t=r;return await cC(t),(await ng(t,e)).token}async function cC(r){const{registrationPromise:e}=await rg(r);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uC(r){if(!r||!r.options)throw om("App Configuration");if(!r.name)throw om("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw om(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function om(r){return ko.create("missing-app-config-values",{valueName:r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1="installations",dC="installations-internal",hC=r=>{const e=r.getProvider("app").getImmediate(),t=uC(e),n=Di(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},fC=r=>{const e=r.getProvider("app").getImmediate(),t=Di(e,L1).getImmediate();return{getId:()=>aC(t),getToken:a=>lC(t,a)}};function mC(){zn(new _n(L1,hC,"PUBLIC")),zn(new _n(dC,fC,"PRIVATE"))}mC();qr(b1,eg);qr(b1,eg,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ed="analytics",pC="firebase_id",gC="origin",yC=60*1e3,vC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",sg="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kr=new Rd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},on=new So("analytics","Analytics",xC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bC(r){if(!r.startsWith(sg)){const e=on.create("invalid-gtag-resource",{gtagURL:r});return Kr.warn(e.message),""}return r}function F1(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function wC(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function _C(r,e){const t=wC("firebase-js-sdk-policy",{createScriptURL:bC}),n=document.createElement("script"),a=`${sg}?l=${r}&id=${e}`;n.src=t?t==null?void 0:t.createScriptURL(a):a,n.async=!0,document.head.appendChild(n)}function jC(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function NC(r,e,t,n,a,l){const u=n[a];try{if(u)await e[u];else{const m=(await F1(t)).find(g=>g.measurementId===a);m&&await e[m.appId]}}catch(f){Kr.error(f)}r("config",a,l)}async function EC(r,e,t,n,a){try{let l=[];if(a&&a.send_to){let u=a.send_to;Array.isArray(u)||(u=[u]);const f=await F1(t);for(const m of u){const g=f.find(_=>_.measurementId===m),x=g&&e[g.appId];if(x)l.push(x);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),r("event",n,a||{})}catch(l){Kr.error(l)}}function kC(r,e,t,n){async function a(l,...u){try{if(l==="event"){const[f,m]=u;await EC(r,e,t,f,m)}else if(l==="config"){const[f,m]=u;await NC(r,e,t,n,f,m)}else if(l==="consent"){const[f,m]=u;r("consent",f,m)}else if(l==="get"){const[f,m,g]=u;r("get",f,m,g)}else if(l==="set"){const[f]=u;r("set",f)}else r(l,...u)}catch(f){Kr.error(f)}}return a}function TC(r,e,t,n,a){let l=function(...u){window[n].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=kC(l,r,e,t),{gtagCore:l,wrappedGtag:window[a]}}function IC(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(sg)&&t.src.includes(r))return t;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC=30,AC=1e3;class CC{constructor(e={},t=AC){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const M1=new CC;function RC(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function PC(r){var e;const{appId:t,apiKey:n}=r,a={method:"GET",headers:RC(n)},l=vC.replace("{app-id}",t),u=await fetch(l,a);if(u.status!==200&&u.status!==304){let f="";try{const m=await u.json();!((e=m.error)===null||e===void 0)&&e.message&&(f=m.error.message)}catch{}throw on.create("config-fetch-failed",{httpStatus:u.status,responseMessage:f})}return u.json()}async function DC(r,e=M1,t){const{appId:n,apiKey:a,measurementId:l}=r.options;if(!n)throw on.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:n};throw on.create("no-api-key")}const u=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},f=new LC;return setTimeout(async()=>{f.abort()},yC),U1({appId:n,apiKey:a,measurementId:l},u,f,e)}async function U1(r,{throttleEndTimeMillis:e,backoffCount:t},n,a=M1){var l;const{appId:u,measurementId:f}=r;try{await VC(n,e)}catch(m){if(f)return Kr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${m==null?void 0:m.message}]`),{appId:u,measurementId:f};throw m}try{const m=await PC(r);return a.deleteThrottleMetadata(u),m}catch(m){const g=m;if(!OC(g)){if(a.deleteThrottleMetadata(u),f)return Kr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${f} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:u,measurementId:f};throw m}const x=Number((l=g==null?void 0:g.customData)===null||l===void 0?void 0:l.httpStatus)===503?Oy(t,a.intervalMillis,SC):Oy(t,a.intervalMillis),_={throttleEndTimeMillis:Date.now()+x,backoffCount:t+1};return a.setThrottleMetadata(u,_),Kr.debug(`Calling attemptFetch again in ${x} millis`),U1(r,_,n,a)}}function VC(r,e){return new Promise((t,n)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(t,a);r.addEventListener(()=>{clearTimeout(l),n(on.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function OC(r){if(!(r instanceof jn)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class LC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function FC(r,e,t,n,a){if(a&&a.global){r("event",t,n);return}else{const l=await e,u=Object.assign(Object.assign({},n),{send_to:l});r("event",t,u)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MC(){if(Gx())try{await Kx()}catch(r){return Kr.warn(on.create("indexeddb-unavailable",{errorInfo:r==null?void 0:r.toString()}).message),!1}else return Kr.warn(on.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function UC(r,e,t,n,a,l,u){var f;const m=DC(r);m.then(S=>{t[S.measurementId]=S.appId,r.options.measurementId&&S.measurementId!==r.options.measurementId&&Kr.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${S.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(S=>Kr.error(S)),e.push(m);const g=MC().then(S=>{if(S)return n.getId()}),[x,_]=await Promise.all([m,g]);IC(l)||_C(l,x.measurementId),a("js",new Date);const w=(f=u==null?void 0:u.config)!==null&&f!==void 0?f:{};return w[gC]="firebase",w.update=!0,_!=null&&(w[pC]=_),a("config",x.measurementId,w),x.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zC{constructor(e){this.app=e}_delete(){return delete Jl[this.app.options.appId],Promise.resolve()}}let Jl={},ox=[];const ax={};let am="dataLayer",BC="gtag",lx,z1,cx=!1;function $C(){const r=[];if(qx()&&r.push("This is a browser extension environment."),MN()||r.push("Cookies are not available."),r.length>0){const e=r.map((n,a)=>`(${a+1}) ${n}`).join(" "),t=on.create("invalid-analytics-context",{errorInfo:e});Kr.warn(t.message)}}function HC(r,e,t){$C();const n=r.options.appId;if(!n)throw on.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)Kr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw on.create("no-api-key");if(Jl[n]!=null)throw on.create("already-exists",{id:n});if(!cx){jC(am);const{wrappedGtag:l,gtagCore:u}=TC(Jl,ox,ax,am,BC);z1=l,lx=u,cx=!0}return Jl[n]=UC(r,ox,ax,e,lx,am,t),new zC(r)}function WC(r=Pd()){r=wt(r);const e=Di(r,Ed);return e.isInitialized()?e.getImmediate():qC(r)}function qC(r,e={}){const t=Di(r,Ed);if(t.isInitialized()){const a=t.getImmediate();if(Zl(e,t.getOptions()))return a;throw on.create("already-initialized")}return t.initialize({options:e})}function GC(r,e,t,n){r=wt(r),FC(z1,Jl[r.app.options.appId],e,t,n).catch(a=>Kr.error(a))}const ux="@firebase/analytics",dx="0.10.8";function KC(){zn(new _n(Ed,(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return HC(n,a,t)},"PUBLIC")),zn(new _n("analytics-internal",r,"PRIVATE")),qr(ux,dx),qr(ux,dx,"esm2017");function r(e){try{const t=e.getProvider(Ed).getImmediate();return{logEvent:(n,a,l)=>GC(t,n,a,l)}}catch(t){throw on.create("interop-component-reg-failed",{reason:t})}}}KC();const Mn={apiKey:void 0,authDomain:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0,measurementId:void 0};console.log("Firebase omgevingsvariabelen status:");console.log("API Key aanwezig:",!1);console.log("Auth Domain aanwezig:",!1);console.log("Project ID aanwezig:",!1);Mn.apiKey||(console.warn("Firebase configuratie niet gevonden in environment variables. Gebruik van fallback configuratie. Voor productieomgevingen, zorg ervoor dat je .env.local correct is ingesteld."),Mn.apiKey="AIzaSyAiTY14VexbFUQTf3yKhDPhrCtKjRzhMwQ",Mn.authDomain="pitchpro-29e90.firebaseapp.com",Mn.projectId="pitchpro-29e90",Mn.storageBucket="pitchpro-29e90.firebasestorage.app",Mn.messagingSenderId="121788535713",Mn.appId="1:121788535713:web:9c5ddf4ff9af0a0e2ff1e0",Mn.measurementId="G-QGBR93ZYCM");console.log("Firebase configuratie:",{...Mn,apiKey:Mn.apiKey?"AANWEZIG":"ONTBREEKT"});const ch=Xx(Mn),rs=yT(ch),$e=i4(ch),B1=Zp(ch);typeof window<"u"&&WC(ch);function uh(r){return r?r.role==="werkzoekende"||r.role==="jobseeker":!1}function dh(r){return r?r.role==="recruiter":!1}function $1(r){return r?uh(r)?"jobseeker":dh(r)?"recruiter":null:null}const H1=z.createContext(void 0),_t=()=>{const r=z.useContext(H1);if(r===void 0)throw new Error("useAuth moet binnen een AuthProvider gebruikt worden");return r},QC=({children:r})=>{const[e,t]=z.useState(null),[n,a]=z.useState(null),[l,u]=z.useState(!0),[f,m]=z.useState(null);console.log("AuthProvider initialiseren...");const g=(T,$)=>{var N,k,L,F,D,C,ve,Le,Ve,_e,ne,ee,R,G,ae,ge;console.log("Normalizing user data for:",$,T);let q=T.role||T.userType||"werkzoekende";q==="jobseeker"&&(q="werkzoekende",console.warn('Converted English role "jobseeker" to Dutch "werkzoekende"'));let I=T.userType||q;I==="jobseeker"&&(I="werkzoekende");const j={id:$,email:T.email||"",displayName:T.displayName||T.name||"",photoURL:T.photoURL||T.avatar||"",bio:T.bio||"",phone:T.phone||"",role:q,userType:I,createdAt:T.createdAt||new Date,updatedAt:T.updatedAt||new Date,profile:T.profile?{...T.profile}:{}};return uh(j)?(j.profile||(j.profile={}),j.profile.skills=T.skills||((N=T.profile)==null?void 0:N.skills)||[],j.profile.education=T.education||((k=T.profile)==null?void 0:k.education)||[],j.profile.experience=T.experience||((L=T.profile)==null?void 0:L.experience)||[],j.profile.cv=T.cv||((F=T.profile)==null?void 0:F.cv)||"",j.profile.portfolio=T.portfolio||((D=T.profile)==null?void 0:D.portfolio)||"",j.profile.linkedin=T.linkedin||((C=T.profile)==null?void 0:C.linkedin)||"",j.profile.address=T.address||((ve=T.profile)==null?void 0:ve.address)||"",j.profile.city=T.city||((Le=T.profile)==null?void 0:Le.city)||""):dh(j)&&(j.profile||(j.profile={}),j.profile.companyName=T.companyName||((Ve=T.profile)==null?void 0:Ve.companyName)||"",j.profile.companyDescription=T.companyDescription||((_e=T.profile)==null?void 0:_e.companyDescription)||"",j.profile.kvkNumber=T.kvkNumber||((ne=T.profile)==null?void 0:ne.kvkNumber)||"",j.profile.website=T.website||((ee=T.profile)==null?void 0:ee.website)||"",j.profile.companyLogo=T.companyLogo||((R=T.profile)==null?void 0:R.companyLogo)||"",j.profile.industry=T.industry||((G=T.profile)==null?void 0:G.industry)||"",j.profile.companySize=T.companySize||((ae=T.profile)==null?void 0:ae.companySize)||"",j.profile.companyLocation=T.companyLocation||((ge=T.profile)==null?void 0:ge.companyLocation)||""),console.debug("Normalized user data:",{id:j.id,email:j.email,role:j.role,userType:j.userType,hasProfile:!!j.profile&&Object.keys(j.profile).length>0}),j},x=async(T,$,q,I)=>{console.log("Nieuw gebruikersprofiel aanmaken voor",T);const j=ct($e,"users",T),N={id:T,email:$||"",displayName:q,fullName:q,role:I,userType:I,createdAt:new Date,updatedAt:new Date};let k;return I==="werkzoekende"?k={...N,profile:{skills:[],availability:"",cv:"",linkedin:"",portfolio:"",experience:"",education:[]}}:k={...N,profile:{company:"",position:"",companyLogo:"",companyWebsite:"",companyDescription:"",kvkNumber:""}},await rh(j,k),console.log("Gebruikersprofiel aangemaakt:",I),k},_=async(T,$,q,I)=>{try{const N=(await Eb(rs,T,$)).user;await kb(N,{displayName:q});const k=await x(N.uid,N.email||"",q,I);a(k)}catch(j){throw console.error("Fout bij registratie:",j),j}},w=async(T,$)=>{try{console.log("Inlogpoging voor:",T),await tk(rs,T,$),console.log("Inloggen succesvol")}catch(q){throw console.error("Fout bij inloggen:",q),console.error("Fout code:",q.code),console.error("Fout bericht:",q.message),q}},S=async()=>{try{await ok(rs)}catch(T){throw console.error("Fout bij uitloggen:",T),T}},U=async T=>{try{await ek(rs,T)}catch($){throw console.error("Fout bij wachtwoord reset:",$),$}},B=async T=>{try{console.log("Bezig met laden van gebruikersprofiel voor",T);const $=ct($e,"users",T),q=await fr($);if(q.exists()){const I=q.data();console.log("Ruwe gebruikersdata uit Firestore:",I),I.email||(console.warn("Gebruikersprofiel heeft geen email - proberen te repareren"),e!=null&&e.email&&(await Pr($,{email:e.email}),I.email=e.email));const j={...I,id:T};!j.role&&!j.userType&&(console.warn("Gebruikersprofiel heeft geen rol - proberen te repareren"),j.role="werkzoekende",await Pr($,{role:"werkzoekende",userType:"werkzoekende"})),(!j.profile||Object.keys(j.profile||{}).length===0)&&(console.warn("Gebruikersprofiel heeft geen profiel object - proberen te repareren"),j.role==="werkzoekende"||j.userType==="werkzoekende"?(j.profile={skills:[],availability:"",cv:"",linkedin:"",portfolio:"",experience:"",education:[]},await Pr($,{profile:j.profile})):(j.role==="recruiter"||j.userType==="recruiter")&&(j.profile={company:"",position:"",companyLogo:"",companyWebsite:"",companyDescription:"",kvkNumber:""},await Pr($,{profile:j.profile})));const N=g(j,T);console.log("Genormaliseerde gebruikersdata:",N);const k=$1(N);k?(console.log("Gebruikersprofiel geladen met rol:",k),a(N)):(console.warn("Gebruikersprofiel heeft geen geldige rol - zetten op null"),a(null))}else console.error("Geen gebruikersprofiel gevonden in Firestore"),a(null)}catch($){throw console.error("Fout bij laden gebruikersprofiel:",$),a(null),$}},O=async()=>{if(!e)throw new Error("Kan profiel niet verversen: gebruiker niet ingelogd");try{await B(e.uid);return}catch(T){throw console.error("Fout bij verversen gebruikersprofiel:",T),T}},H=async(T,$)=>{if(!e)throw new Error("Je moet ingelogd zijn om een profiel aan te maken");try{const q=await x(e.uid,e.email||"",T||e.displayName||"Gebruiker",$);return a(q),q}catch(q){throw console.error("Fout bij aanmaken/updaten profiel:",q),q}};z.useEffect(()=>{console.log("Auth state verandering monitoren opstarten...");const T=setTimeout(()=>{console.log("VEILIGHEIDSTIMER: loading geforceerd op false na timeout"),u(!1),m(new Error("Het profiel kon niet tijdig worden geladen. Probeer het opnieuw."))},15e3);try{const $=ik(rs,async q=>{try{if(console.log("Auth state verandering gedetecteerd:",q?"Gebruiker aanwezig":"Geen gebruiker"),t(q),q)try{await B(q.uid)}catch(I){console.error("Fout bij laden gebruikersprofiel:",I),a(null),I instanceof Error?m(I):m(new Error("Onbekende fout bij laden gebruikersprofiel"))}else a(null);console.log("Loading status wordt op false gezet"),u(!1),clearTimeout(T)}catch(I){console.error("Onverwachte fout in auth state verandering handler:",I),u(!1),clearTimeout(T),I instanceof Error?m(I):m(new Error("Onverwachte fout in auth state verandering handler"))}});return()=>{$(),clearTimeout(T)}}catch($){return console.error("Kritieke fout bij initialiseren Firebase Auth:",$),u(!1),clearTimeout(T),$ instanceof Error?m($):m(new Error("Kritieke fout bij initialiseren Firebase Auth")),()=>{}}},[]),console.log("AuthProvider rendering met loading status:",l,"authError:",f?"JA":"NEE");const V={currentUser:e,userProfile:n,loading:l,authError:f,register:_,login:w,logout:S,resetPassword:U,createOrUpdateProfile:H,refreshUserProfile:O};return i.jsx(H1.Provider,{value:V,children:!l&&r})},W1=z.createContext(void 0),ig=()=>{const r=z.useContext(W1);if(r===void 0)throw new Error("useMessages moet binnen een MessageProvider gebruikt worden");return r},JC=({children:r})=>{const{currentUser:e}=_t(),[t,n]=z.useState([]),[a,l]=z.useState(null),[u,f]=z.useState([]),[m,g]=z.useState(!0),[x,_]=z.useState(!1),[w,S]=z.useState(null);z.useEffect(()=>{if(!e){n([]),l(null),f([]),g(!1);return}g(!0),S(null);const $=Jt($e,"chats"),q=vn($,xn("participants","array-contains",e.uid),Ma("lastMessageTimestamp","desc")),I=Xv(q,async j=>{try{const N=j.docs.map(async F=>{var ne,ee;const D=F.data(),C=D.participants.find(R=>R!==e.uid);if(!C)return console.error("Geen andere gebruiker gevonden in chat",D.id),null;const ve=ct($e,"users",C),Le=await fr(ve);if(!Le.exists())return console.error("Gebruiker niet gevonden",C),null;const Ve=Le.data();let _e=0;return typeof D.unreadCount=="number"?_e=D.unreadCount:typeof D.unreadCount=="object"&&D.unreadCount!==null&&(_e=D.unreadCount[e.uid]||0),{...D,id:F.id,otherUser:{id:C,displayName:Ve.displayName||Ve.name||"Onbekende gebruiker",photoURL:Ve.photoURL||Ve.profileImage||Ve.profilePhoto||((ne=Ve.profile)==null?void 0:ne.profilePhoto)||((ee=Ve.profile)==null?void 0:ee.profileImage)||"",role:Ve.role||Ve.userType||""},unreadCount:_e}}),L=(await Promise.all(N)).filter(F=>F!==null);n(L),g(!1)}catch(N){console.error("Fout bij het ophalen van chats:",N),S("Kon chats niet laden. Probeer het later opnieuw."),g(!1)}},j=>{console.error("Fout bij chat subscription:",j),S("Kon chats niet laden. Probeer het later opnieuw."),g(!1)});return()=>I()},[e]),z.useEffect(()=>{if(!a){f([]);return}_(!0);const $=Jt($e,"chats",a.id,"messages"),q=vn($,Ma("timestamp","asc")),I=Xv(q,j=>{const N=j.docs.map(k=>({...k.data(),id:k.id}));f(N),_(!1)},j=>{console.error("Fout bij messages subscription:",j),S("Kon berichten niet laden. Probeer het later opnieuw."),_(!1)});return()=>I()},[a]);const U=async($,q)=>{if(!e)throw new Error("Je moet ingelogd zijn om berichten te sturen");try{const I={senderId:e.uid,text:q,timestamp:Ye.now(),read:!1};await Ua(Jt($e,"chats",$,"messages"),I);const j=await fr(ct($e,"chats",$));if(!j.exists())throw new Error("Chat niet gevonden");const N=j.data(),k=N.participants.find(F=>F!==e.uid);if(!k)throw new Error("Kon andere gebruiker in de chat niet vinden");const L={lastMessage:q,lastMessageTimestamp:Ye.now(),updatedAt:Ye.now()};typeof N.unreadCount=="number"?L.unreadCount={[e.uid]:0,[k]:(N.unreadCount||0)+1}:L[`unreadCount.${k}`]=(N.unreadCount[k]||0)+1,await Pr(ct($e,"chats",$),L)}catch(I){throw console.error("Fout bij het verzenden van bericht:",I),new Error("Kon bericht niet verzenden. Probeer het later opnieuw.")}},B=async $=>{if(!e)throw new Error("Je moet ingelogd zijn om een chat te starten");try{const q=vn(Jt($e,"chats"),xn("participants","array-contains",e.uid)),j=(await wn(q)).docs.find(k=>k.data().participants.includes($));return j?j.id:(await Ua(Jt($e,"chats"),{participants:[e.uid,$],lastMessage:"",lastMessageTimestamp:Ye.now(),createdAt:Ye.now(),updatedAt:Ye.now(),unreadCount:{[e.uid]:0,[$]:0}})).id}catch(q){throw console.error("Fout bij het aanmaken van een nieuwe chat:",q),new Error("Kon geen nieuwe chat starten. Probeer het later opnieuw.")}},O=async $=>{try{const q=t.find(I=>I.id===$);if(q)l(q),await H($);else{if(!(await fr(ct($e,"chats",$))).exists())throw new Error("Chat bestaat niet");S("Chat kon niet worden gevonden.")}}catch(q){console.error("Fout bij het instellen van actieve chat:",q),S("Kon de chat niet openen. Probeer het later opnieuw.")}},H=async $=>{if(e)try{const q=await fr(ct($e,"chats",$));if(!q.exists())return;typeof q.data().unreadCount=="number"?await Pr(ct($e,"chats",$),{unreadCount:0}):await Pr(ct($e,"chats",$),{[`unreadCount.${e.uid}`]:0});const j=Jt($e,"chats",$,"messages"),N=vn(j,xn("senderId","!=",e.uid),xn("read","==",!1)),k=await wn(N),L=new Array;k.docs.forEach(F=>{L.push(Pr(F.ref,{read:!0}))}),await Promise.all(L)}catch(q){console.error("Fout bij het markeren van berichten als gelezen:",q)}},T={chats:t,activeChat:a,messages:u,loadingChats:m,loadingMessages:x,error:w,sendMessage:U,createNewChat:B,setActiveChatById:O,markChatAsRead:H,getUnreadCount:()=>e?t.reduce(($,q)=>{let I=0;return typeof q.unreadCount=="number"?I=q.unreadCount:typeof q.unreadCount=="object"&&q.unreadCount!==null&&(I=q.unreadCount[e.uid]||0),$+I},0):0};return i.jsx(W1.Provider,{value:T,children:r})},q1=z.createContext(void 0),G1=()=>{const r=z.useContext(q1);if(r===void 0)throw new Error("useFavorites moet binnen een FavoritesProvider gebruikt worden");return r},YC=({children:r})=>{const[e,t]=z.useState([]),[n,a]=z.useState(!1),[l,u]=z.useState(null),{currentUser:f,userProfile:m}=_t(),g=async()=>{if(!f){t([]);return}a(!0),u(null);try{const B=Jt($e,"favorites"),O=vn(B,xn("userId","==",f.uid)),H=await wn(O),V=[];H.forEach(T=>{var q;const $=T.data();V.push({id:T.id,jobId:$.jobId,userId:$.userId,createdAt:((q=$.createdAt)==null?void 0:q.toDate())||new Date,job:$.job||void 0})}),console.log(`${V.length} favorieten geladen voor gebruiker ${f.uid}`),t(V)}catch(B){console.error("Fout bij ophalen favorieten:",B),u(B instanceof Error?B:new Error("Onbekende fout bij ophalen favorieten"))}finally{a(!1)}},x=async(B,O)=>{if(!f)throw new Error("Je moet ingelogd zijn om een vacature als favoriet te markeren");a(!0),u(null);try{const H=`${f.uid}_${B}`,V=ct($e,"favorites",H),T={jobId:B,userId:f.uid,createdAt:new Date,job:{id:B,title:O.title||"Onbekende functie",company:O.company||"Onbekend bedrijf",location:O.location||"Locatie onbekend",salary:O.salary}},$={id:H,...T};t(q=>q.some(I=>I.jobId===B)?q:[...q,$]),await rh(V,T),console.log(`Favoriet toegevoegd met ID: ${H}`)}catch(H){throw console.error("Fout bij toevoegen favoriet:",H),u(H instanceof Error?H:new Error("Onbekende fout bij toevoegen favoriet")),g(),H}finally{a(!1)}},_=async B=>{if(!f)throw new Error("Je moet ingelogd zijn om een favoriet te verwijderen");a(!0),u(null);try{const O=`${f.uid}_${B}`,H=ct($e,"favorites",O);t(V=>V.filter(T=>T.jobId!==B)),await y4(H),console.log(`Favoriet verwijderd met ID: ${O}`)}catch(O){throw console.error("Fout bij verwijderen favoriet:",O),u(O instanceof Error?O:new Error("Onbekende fout bij verwijderen favoriet")),g(),O}finally{a(!1)}},w=B=>e.some(O=>O.jobId===B),S=async()=>{await g()};z.useEffect(()=>{f?(console.log("Gebruiker aangemeld, favorieten ophalen..."),g()):(console.log("Geen gebruiker, favorieten leegmaken"),t([]))},[f]);const U={favorites:e,loading:n,error:l,addFavorite:x,removeFavorite:_,isFavorite:w,refreshFavorites:S};return i.jsx(q1.Provider,{value:U,children:r})};var _c=r=>r.type==="checkbox",go=r=>r instanceof Date,Rr=r=>r==null;const K1=r=>typeof r=="object";var Ht=r=>!Rr(r)&&!Array.isArray(r)&&K1(r)&&!go(r),Q1=r=>Ht(r)&&r.target?_c(r.target)?r.target.checked:r.target.value:r,XC=r=>r.substring(0,r.search(/\.\d+(\.|$)/))||r,J1=(r,e)=>r.has(XC(e)),ZC=r=>{const e=r.constructor&&r.constructor.prototype;return Ht(e)&&e.hasOwnProperty("isPrototypeOf")},og=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Rt(r){let e;const t=Array.isArray(r),n=typeof FileList<"u"?r instanceof FileList:!1;if(r instanceof Date)e=new Date(r);else if(r instanceof Set)e=new Set(r);else if(!(og&&(r instanceof Blob||n))&&(t||Ht(r)))if(e=t?[]:{},!t&&!ZC(r))e=r;else for(const a in r)r.hasOwnProperty(a)&&(e[a]=Rt(r[a]));else return r;return e}var jc=r=>Array.isArray(r)?r.filter(Boolean):[],kt=r=>r===void 0,je=(r,e,t)=>{if(!e||!Ht(r))return t;const n=jc(e.split(/[,[\].]+?/)).reduce((a,l)=>Rr(a)?a:a[l],r);return kt(n)||n===r?kt(r[e])?t:r[e]:n},rn=r=>typeof r=="boolean",ag=r=>/^\w*$/.test(r),Y1=r=>jc(r.replace(/["|']|\]/g,"").split(/\.|\[/)),pt=(r,e,t)=>{let n=-1;const a=ag(e)?[e]:Y1(e),l=a.length,u=l-1;for(;++n<l;){const f=a[n];let m=t;if(n!==u){const g=r[f];m=Ht(g)||Array.isArray(g)?g:isNaN(+a[n+1])?{}:[]}if(f==="__proto__"||f==="constructor"||f==="prototype")return;r[f]=m,r=r[f]}};const kd={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},yn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Rs={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},eR=Ue.createContext(null),hh=()=>Ue.useContext(eR);var X1=(r,e,t,n=!0)=>{const a={defaultValues:e._defaultValues};for(const l in r)Object.defineProperty(a,l,{get:()=>{const u=l;return e._proxyFormState[u]!==yn.all&&(e._proxyFormState[u]=!n||yn.all),t&&(t[u]=!0),r[u]}});return a};function tR(r){const e=hh(),{control:t=e.control,disabled:n,name:a,exact:l}=r||{},[u,f]=Ue.useState(t._formState),m=Ue.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),g=Ue.useRef(a);return g.current=a,Ue.useEffect(()=>t._subscribe({name:g.current,formState:m.current,exact:l,callback:x=>{!n&&f({...t._formState,...x})}}),[t,n,l]),Ue.useEffect(()=>{m.current.isValid&&t._setValid(!0)},[t]),Ue.useMemo(()=>X1(u,t,m.current,!1),[u,t])}var is=r=>typeof r=="string",Z1=(r,e,t,n,a)=>is(r)?(n&&e.watch.add(r),je(t,r,a)):Array.isArray(r)?r.map(l=>(n&&e.watch.add(l),je(t,l))):(n&&(e.watchAll=!0),t);function rR(r){const e=hh(),{control:t=e.control,name:n,defaultValue:a,disabled:l,exact:u}=r||{},f=Ue.useRef(n),m=Ue.useRef(a);f.current=n,Ue.useEffect(()=>t._subscribe({name:f.current,formState:{values:!0},exact:u,callback:_=>!l&&x(Z1(f.current,t._names,_.values||t._formValues,!1,m.current))}),[t,l,u]);const[g,x]=Ue.useState(t._getWatch(n,a));return Ue.useEffect(()=>t._removeUnmounted()),g}function nR(r){const e=hh(),{name:t,disabled:n,control:a=e.control,shouldUnregister:l}=r,u=J1(a._names.array,t),f=rR({control:a,name:t,defaultValue:je(a._formValues,t,je(a._defaultValues,t,r.defaultValue)),exact:!0}),m=tR({control:a,name:t,exact:!0}),g=Ue.useRef(r),x=Ue.useRef(a.register(t,{...r.rules,value:f,...rn(r.disabled)?{disabled:r.disabled}:{}})),_=Ue.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!je(m.errors,t)},isDirty:{enumerable:!0,get:()=>!!je(m.dirtyFields,t)},isTouched:{enumerable:!0,get:()=>!!je(m.touchedFields,t)},isValidating:{enumerable:!0,get:()=>!!je(m.validatingFields,t)},error:{enumerable:!0,get:()=>je(m.errors,t)}}),[m,t]),w=Ue.useCallback(O=>x.current.onChange({target:{value:Q1(O),name:t},type:kd.CHANGE}),[t]),S=Ue.useCallback(()=>x.current.onBlur({target:{value:je(a._formValues,t),name:t},type:kd.BLUR}),[t,a._formValues]),U=Ue.useCallback(O=>{const H=je(a._fields,t);H&&O&&(H._f.ref={focus:()=>O.focus(),select:()=>O.select(),setCustomValidity:V=>O.setCustomValidity(V),reportValidity:()=>O.reportValidity()})},[a._fields,t]),B=Ue.useMemo(()=>({name:t,value:f,...rn(n)||m.disabled?{disabled:m.disabled||n}:{},onChange:w,onBlur:S,ref:U}),[t,n,m.disabled,w,S,U,f]);return Ue.useEffect(()=>{const O=a._options.shouldUnregister||l;a.register(t,{...g.current.rules,...rn(g.current.disabled)?{disabled:g.current.disabled}:{}});const H=(V,T)=>{const $=je(a._fields,V);$&&$._f&&($._f.mount=T)};if(H(t,!0),O){const V=Rt(je(a._options.defaultValues,t));pt(a._defaultValues,t,V),kt(je(a._formValues,t))&&pt(a._formValues,t,V)}return!u&&a.register(t),()=>{(u?O&&!a._state.action:O)?a.unregister(t):H(t,!1)}},[t,a,u,l]),Ue.useEffect(()=>{a._setDisabledField({disabled:n,name:t})},[n,t,a]),Ue.useMemo(()=>({field:B,formState:m,fieldState:_}),[B,m,_])}const sR=r=>r.render(nR(r));var iR=(r,e,t,n,a)=>e?{...t[r],types:{...t[r]&&t[r].types?t[r].types:{},[n]:a||!0}}:{},Hr=r=>Array.isArray(r)?r:[r],hx=()=>{let r=[];return{get observers(){return r},next:a=>{for(const l of r)l.next&&l.next(a)},subscribe:a=>(r.push(a),{unsubscribe:()=>{r=r.filter(l=>l!==a)}}),unsubscribe:()=>{r=[]}}},Wm=r=>Rr(r)||!K1(r);function ji(r,e){if(Wm(r)||Wm(e))return r===e;if(go(r)&&go(e))return r.getTime()===e.getTime();const t=Object.keys(r),n=Object.keys(e);if(t.length!==n.length)return!1;for(const a of t){const l=r[a];if(!n.includes(a))return!1;if(a!=="ref"){const u=e[a];if(go(l)&&go(u)||Ht(l)&&Ht(u)||Array.isArray(l)&&Array.isArray(u)?!ji(l,u):l!==u)return!1}}return!0}var wr=r=>Ht(r)&&!Object.keys(r).length,lg=r=>r.type==="file",Un=r=>typeof r=="function",Td=r=>{if(!og)return!1;const e=r?r.ownerDocument:0;return r instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},e_=r=>r.type==="select-multiple",cg=r=>r.type==="radio",oR=r=>cg(r)||_c(r),lm=r=>Td(r)&&r.isConnected;function aR(r,e){const t=e.slice(0,-1).length;let n=0;for(;n<t;)r=kt(r)?n++:r[e[n++]];return r}function lR(r){for(const e in r)if(r.hasOwnProperty(e)&&!kt(r[e]))return!1;return!0}function Qt(r,e){const t=Array.isArray(e)?e:ag(e)?[e]:Y1(e),n=t.length===1?r:aR(r,t),a=t.length-1,l=t[a];return n&&delete n[l],a!==0&&(Ht(n)&&wr(n)||Array.isArray(n)&&lR(n))&&Qt(r,t.slice(0,-1)),r}var t_=r=>{for(const e in r)if(Un(r[e]))return!0;return!1};function Id(r,e={}){const t=Array.isArray(r);if(Ht(r)||t)for(const n in r)Array.isArray(r[n])||Ht(r[n])&&!t_(r[n])?(e[n]=Array.isArray(r[n])?[]:{},Id(r[n],e[n])):Rr(r[n])||(e[n]=!0);return e}function r_(r,e,t){const n=Array.isArray(r);if(Ht(r)||n)for(const a in r)Array.isArray(r[a])||Ht(r[a])&&!t_(r[a])?kt(e)||Wm(t[a])?t[a]=Array.isArray(r[a])?Id(r[a],[]):{...Id(r[a])}:r_(r[a],Rr(e)?{}:e[a],t[a]):t[a]=!ji(r[a],e[a]);return t}var Ol=(r,e)=>r_(r,e,Id(e));const fx={value:!1,isValid:!1},mx={value:!0,isValid:!0};var n_=r=>{if(Array.isArray(r)){if(r.length>1){const e=r.filter(t=>t&&t.checked&&!t.disabled).map(t=>t.value);return{value:e,isValid:!!e.length}}return r[0].checked&&!r[0].disabled?r[0].attributes&&!kt(r[0].attributes.value)?kt(r[0].value)||r[0].value===""?mx:{value:r[0].value,isValid:!0}:mx:fx}return fx},s_=(r,{valueAsNumber:e,valueAsDate:t,setValueAs:n})=>kt(r)?r:e?r===""?NaN:r&&+r:t&&is(r)?new Date(r):n?n(r):r;const px={isValid:!1,value:null};var i_=r=>Array.isArray(r)?r.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,px):px;function gx(r){const e=r.ref;return lg(e)?e.files:cg(e)?i_(r.refs).value:e_(e)?[...e.selectedOptions].map(({value:t})=>t):_c(e)?n_(r.refs).value:s_(kt(e.value)?r.ref.value:e.value,r)}var cR=(r,e,t,n)=>{const a={};for(const l of r){const u=je(e,l);u&&pt(a,l,u._f)}return{criteriaMode:t,names:[...r],fields:a,shouldUseNativeValidation:n}},Sd=r=>r instanceof RegExp,Ll=r=>kt(r)?r:Sd(r)?r.source:Ht(r)?Sd(r.value)?r.value.source:r.value:r,Ea=r=>({isOnSubmit:!r||r===yn.onSubmit,isOnBlur:r===yn.onBlur,isOnChange:r===yn.onChange,isOnAll:r===yn.all,isOnTouch:r===yn.onTouched});const yx="AsyncFunction";var uR=r=>!!r&&!!r.validate&&!!(Un(r.validate)&&r.validate.constructor.name===yx||Ht(r.validate)&&Object.values(r.validate).find(e=>e.constructor.name===yx)),dR=r=>r.mount&&(r.required||r.min||r.max||r.maxLength||r.minLength||r.pattern||r.validate),qm=(r,e,t)=>!t&&(e.watchAll||e.watch.has(r)||[...e.watch].some(n=>r.startsWith(n)&&/^\.\w+/.test(r.slice(n.length))));const Aa=(r,e,t,n)=>{for(const a of t||Object.keys(r)){const l=je(r,a);if(l){const{_f:u,...f}=l;if(u){if(u.refs&&u.refs[0]&&e(u.refs[0],a)&&!n)return!0;if(u.ref&&e(u.ref,u.name)&&!n)return!0;if(Aa(f,e))break}else if(Ht(f)&&Aa(f,e))break}}};function vx(r,e,t){const n=je(r,t);if(n||ag(t))return{error:n,name:t};const a=t.split(".");for(;a.length;){const l=a.join("."),u=je(e,l),f=je(r,l);if(u&&!Array.isArray(u)&&t!==l)return{name:t};if(f&&f.type)return{name:l,error:f};a.pop()}return{name:t}}var hR=(r,e,t,n)=>{t(r);const{name:a,...l}=r;return wr(l)||Object.keys(l).length>=Object.keys(e).length||Object.keys(l).find(u=>e[u]===(!n||yn.all))},fR=(r,e,t)=>!r||!e||r===e||Hr(r).some(n=>n&&(t?n===e:n.startsWith(e)||e.startsWith(n))),mR=(r,e,t,n,a)=>a.isOnAll?!1:!t&&a.isOnTouch?!(e||r):(t?n.isOnBlur:a.isOnBlur)?!r:(t?n.isOnChange:a.isOnChange)?r:!0,pR=(r,e)=>!jc(je(r,e)).length&&Qt(r,e),o_=(r,e,t)=>{const n=Hr(je(r,t));return pt(n,"root",e[t]),pt(r,t,n),r},sd=r=>is(r);function xx(r,e,t="validate"){if(sd(r)||Array.isArray(r)&&r.every(sd)||rn(r)&&!r)return{type:t,message:sd(r)?r:"",ref:e}}var ba=r=>Ht(r)&&!Sd(r)?r:{value:r,message:""},Gm=async(r,e,t,n,a,l)=>{const{ref:u,refs:f,required:m,maxLength:g,minLength:x,min:_,max:w,pattern:S,validate:U,name:B,valueAsNumber:O,mount:H}=r._f,V=je(t,B);if(!H||e.has(B))return{};const T=f?f[0]:u,$=D=>{a&&T.reportValidity&&(T.setCustomValidity(rn(D)?"":D||""),T.reportValidity())},q={},I=cg(u),j=_c(u),N=I||j,k=(O||lg(u))&&kt(u.value)&&kt(V)||Td(u)&&u.value===""||V===""||Array.isArray(V)&&!V.length,L=iR.bind(null,B,n,q),F=(D,C,ve,Le=Rs.maxLength,Ve=Rs.minLength)=>{const _e=D?C:ve;q[B]={type:D?Le:Ve,message:_e,ref:u,...L(D?Le:Ve,_e)}};if(l?!Array.isArray(V)||!V.length:m&&(!N&&(k||Rr(V))||rn(V)&&!V||j&&!n_(f).isValid||I&&!i_(f).isValid)){const{value:D,message:C}=sd(m)?{value:!!m,message:m}:ba(m);if(D&&(q[B]={type:Rs.required,message:C,ref:T,...L(Rs.required,C)},!n))return $(C),q}if(!k&&(!Rr(_)||!Rr(w))){let D,C;const ve=ba(w),Le=ba(_);if(!Rr(V)&&!isNaN(V)){const Ve=u.valueAsNumber||V&&+V;Rr(ve.value)||(D=Ve>ve.value),Rr(Le.value)||(C=Ve<Le.value)}else{const Ve=u.valueAsDate||new Date(V),_e=R=>new Date(new Date().toDateString()+" "+R),ne=u.type=="time",ee=u.type=="week";is(ve.value)&&V&&(D=ne?_e(V)>_e(ve.value):ee?V>ve.value:Ve>new Date(ve.value)),is(Le.value)&&V&&(C=ne?_e(V)<_e(Le.value):ee?V<Le.value:Ve<new Date(Le.value))}if((D||C)&&(F(!!D,ve.message,Le.message,Rs.max,Rs.min),!n))return $(q[B].message),q}if((g||x)&&!k&&(is(V)||l&&Array.isArray(V))){const D=ba(g),C=ba(x),ve=!Rr(D.value)&&V.length>+D.value,Le=!Rr(C.value)&&V.length<+C.value;if((ve||Le)&&(F(ve,D.message,C.message),!n))return $(q[B].message),q}if(S&&!k&&is(V)){const{value:D,message:C}=ba(S);if(Sd(D)&&!V.match(D)&&(q[B]={type:Rs.pattern,message:C,ref:u,...L(Rs.pattern,C)},!n))return $(C),q}if(U){if(Un(U)){const D=await U(V,t),C=xx(D,T);if(C&&(q[B]={...C,...L(Rs.validate,C.message)},!n))return $(C.message),q}else if(Ht(U)){let D={};for(const C in U){if(!wr(D)&&!n)break;const ve=xx(await U[C](V,t),T,C);ve&&(D={...ve,...L(C,ve.message)},$(ve.message),n&&(q[B]=D))}if(!wr(D)&&(q[B]={ref:T,...D},!n))return q}}return $(!0),q};const gR={mode:yn.onSubmit,reValidateMode:yn.onChange,shouldFocusError:!0};function yR(r={}){let e={...gR,...r},t={submitCount:0,isDirty:!1,isLoading:Un(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let a=Ht(e.defaultValues)||Ht(e.values)?Rt(e.values||e.defaultValues)||{}:{},l=e.shouldUnregister?{}:Rt(a),u={action:!1,mount:!1,watch:!1},f={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},m,g=0;const x={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let _={...x};const w={array:hx(),state:hx()},S=Ea(e.mode),U=Ea(e.reValidateMode),B=e.criteriaMode===yn.all,O=P=>J=>{clearTimeout(g),g=setTimeout(P,J)},H=async P=>{if(!e.disabled&&(x.isValid||_.isValid||P)){const J=e.resolver?wr((await k()).errors):await F(n,!0);J!==t.isValid&&w.state.next({isValid:J})}},V=(P,J)=>{!e.disabled&&(x.isValidating||x.validatingFields||_.isValidating||_.validatingFields)&&((P||Array.from(f.mount)).forEach(te=>{te&&(J?pt(t.validatingFields,te,J):Qt(t.validatingFields,te))}),w.state.next({validatingFields:t.validatingFields,isValidating:!wr(t.validatingFields)}))},T=(P,J=[],te,ye,le=!0,se=!0)=>{if(ye&&te&&!e.disabled){if(u.action=!0,se&&Array.isArray(je(n,P))){const Ee=te(je(n,P),ye.argA,ye.argB);le&&pt(n,P,Ee)}if(se&&Array.isArray(je(t.errors,P))){const Ee=te(je(t.errors,P),ye.argA,ye.argB);le&&pt(t.errors,P,Ee),pR(t.errors,P)}if((x.touchedFields||_.touchedFields)&&se&&Array.isArray(je(t.touchedFields,P))){const Ee=te(je(t.touchedFields,P),ye.argA,ye.argB);le&&pt(t.touchedFields,P,Ee)}(x.dirtyFields||_.dirtyFields)&&(t.dirtyFields=Ol(a,l)),w.state.next({name:P,isDirty:C(P,J),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else pt(l,P,J)},$=(P,J)=>{pt(t.errors,P,J),w.state.next({errors:t.errors})},q=P=>{t.errors=P,w.state.next({errors:t.errors,isValid:!1})},I=(P,J,te,ye)=>{const le=je(n,P);if(le){const se=je(l,P,kt(te)?je(a,P):te);kt(se)||ye&&ye.defaultChecked||J?pt(l,P,J?se:gx(le._f)):Ve(P,se),u.mount&&H()}},j=(P,J,te,ye,le)=>{let se=!1,Ee=!1;const Ke={name:P};if(!e.disabled){if(!te||ye){(x.isDirty||_.isDirty)&&(Ee=t.isDirty,t.isDirty=Ke.isDirty=C(),se=Ee!==Ke.isDirty);const nt=ji(je(a,P),J);Ee=!!je(t.dirtyFields,P),nt?Qt(t.dirtyFields,P):pt(t.dirtyFields,P,!0),Ke.dirtyFields=t.dirtyFields,se=se||(x.dirtyFields||_.dirtyFields)&&Ee!==!nt}if(te){const nt=je(t.touchedFields,P);nt||(pt(t.touchedFields,P,te),Ke.touchedFields=t.touchedFields,se=se||(x.touchedFields||_.touchedFields)&&nt!==te)}se&&le&&w.state.next(Ke)}return se?Ke:{}},N=(P,J,te,ye)=>{const le=je(t.errors,P),se=(x.isValid||_.isValid)&&rn(J)&&t.isValid!==J;if(e.delayError&&te?(m=O(()=>$(P,te)),m(e.delayError)):(clearTimeout(g),m=null,te?pt(t.errors,P,te):Qt(t.errors,P)),(te?!ji(le,te):le)||!wr(ye)||se){const Ee={...ye,...se&&rn(J)?{isValid:J}:{},errors:t.errors,name:P};t={...t,...Ee},w.state.next(Ee)}},k=async P=>{V(P,!0);const J=await e.resolver(l,e.context,cR(P||f.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return V(P),J},L=async P=>{const{errors:J}=await k(P);if(P)for(const te of P){const ye=je(J,te);ye?pt(t.errors,te,ye):Qt(t.errors,te)}else t.errors=J;return J},F=async(P,J,te={valid:!0})=>{for(const ye in P){const le=P[ye];if(le){const{_f:se,...Ee}=le;if(se){const Ke=f.array.has(se.name),nt=le._f&&uR(le._f);nt&&x.validatingFields&&V([ye],!0);const ft=await Gm(le,f.disabled,l,B,e.shouldUseNativeValidation&&!J,Ke);if(nt&&x.validatingFields&&V([ye]),ft[se.name]&&(te.valid=!1,J))break;!J&&(je(ft,se.name)?Ke?o_(t.errors,ft,se.name):pt(t.errors,se.name,ft[se.name]):Qt(t.errors,se.name))}!wr(Ee)&&await F(Ee,J,te)}}return te.valid},D=()=>{for(const P of f.unMount){const J=je(n,P);J&&(J._f.refs?J._f.refs.every(te=>!lm(te)):!lm(J._f.ref))&&Oe(P)}f.unMount=new Set},C=(P,J)=>!e.disabled&&(P&&J&&pt(l,P,J),!ji(ae(),a)),ve=(P,J,te)=>Z1(P,f,{...u.mount?l:kt(J)?a:is(P)?{[P]:J}:J},te,J),Le=P=>jc(je(u.mount?l:a,P,e.shouldUnregister?je(a,P,[]):[])),Ve=(P,J,te={})=>{const ye=je(n,P);let le=J;if(ye){const se=ye._f;se&&(!se.disabled&&pt(l,P,s_(J,se)),le=Td(se.ref)&&Rr(J)?"":J,e_(se.ref)?[...se.ref.options].forEach(Ee=>Ee.selected=le.includes(Ee.value)):se.refs?_c(se.ref)?se.refs.length>1?se.refs.forEach(Ee=>(!Ee.defaultChecked||!Ee.disabled)&&(Ee.checked=Array.isArray(le)?!!le.find(Ke=>Ke===Ee.value):le===Ee.value)):se.refs[0]&&(se.refs[0].checked=!!le):se.refs.forEach(Ee=>Ee.checked=Ee.value===le):lg(se.ref)?se.ref.value="":(se.ref.value=le,se.ref.type||w.state.next({name:P,values:Rt(l)})))}(te.shouldDirty||te.shouldTouch)&&j(P,le,te.shouldTouch,te.shouldDirty,!0),te.shouldValidate&&G(P)},_e=(P,J,te)=>{for(const ye in J){const le=J[ye],se=`${P}.${ye}`,Ee=je(n,se);(f.array.has(P)||Ht(le)||Ee&&!Ee._f)&&!go(le)?_e(se,le,te):Ve(se,le,te)}},ne=(P,J,te={})=>{const ye=je(n,P),le=f.array.has(P),se=Rt(J);pt(l,P,se),le?(w.array.next({name:P,values:Rt(l)}),(x.isDirty||x.dirtyFields||_.isDirty||_.dirtyFields)&&te.shouldDirty&&w.state.next({name:P,dirtyFields:Ol(a,l),isDirty:C(P,se)})):ye&&!ye._f&&!Rr(se)?_e(P,se,te):Ve(P,se,te),qm(P,f)&&w.state.next({...t}),w.state.next({name:u.mount?P:void 0,values:Rt(l)})},ee=async P=>{u.mount=!0;const J=P.target;let te=J.name,ye=!0;const le=je(n,te),se=Ee=>{ye=Number.isNaN(Ee)||go(Ee)&&isNaN(Ee.getTime())||ji(Ee,je(l,te,Ee))};if(le){let Ee,Ke;const nt=J.type?gx(le._f):Q1(P),ft=P.type===kd.BLUR||P.type===kd.FOCUS_OUT,ps=!dR(le._f)&&!e.resolver&&!je(t.errors,te)&&!le._f.deps||mR(ft,je(t.touchedFields,te),t.isSubmitted,U,S),gs=qm(te,f,ft);pt(l,te,nt),ft?(le._f.onBlur&&le._f.onBlur(P),m&&m(0)):le._f.onChange&&le._f.onChange(P);const ys=j(te,nt,ft),Li=!wr(ys)||gs;if(!ft&&w.state.next({name:te,type:P.type,values:Rt(l)}),ps)return(x.isValid||_.isValid)&&(e.mode==="onBlur"?ft&&H():ft||H()),Li&&w.state.next({name:te,...gs?{}:ys});if(!ft&&gs&&w.state.next({...t}),e.resolver){const{errors:qs}=await k([te]);if(se(nt),ye){const Fi=vx(t.errors,n,te),Hn=vx(qs,n,Fi.name||te);Ee=Hn.error,te=Hn.name,Ke=wr(qs)}}else V([te],!0),Ee=(await Gm(le,f.disabled,l,B,e.shouldUseNativeValidation))[te],V([te]),se(nt),ye&&(Ee?Ke=!1:(x.isValid||_.isValid)&&(Ke=await F(n,!0)));ye&&(le._f.deps&&G(le._f.deps),N(te,Ke,Ee,ys))}},R=(P,J)=>{if(je(t.errors,J)&&P.focus)return P.focus(),1},G=async(P,J={})=>{let te,ye;const le=Hr(P);if(e.resolver){const se=await L(kt(P)?P:le);te=wr(se),ye=P?!le.some(Ee=>je(se,Ee)):te}else P?(ye=(await Promise.all(le.map(async se=>{const Ee=je(n,se);return await F(Ee&&Ee._f?{[se]:Ee}:Ee)}))).every(Boolean),!(!ye&&!t.isValid)&&H()):ye=te=await F(n);return w.state.next({...!is(P)||(x.isValid||_.isValid)&&te!==t.isValid?{}:{name:P},...e.resolver||!P?{isValid:te}:{},errors:t.errors}),J.shouldFocus&&!ye&&Aa(n,R,P?le:f.mount),ye},ae=P=>{const J={...u.mount?l:a};return kt(P)?J:is(P)?je(J,P):P.map(te=>je(J,te))},ge=(P,J)=>({invalid:!!je((J||t).errors,P),isDirty:!!je((J||t).dirtyFields,P),error:je((J||t).errors,P),isValidating:!!je(t.validatingFields,P),isTouched:!!je((J||t).touchedFields,P)}),ie=P=>{P&&Hr(P).forEach(J=>Qt(t.errors,J)),w.state.next({errors:P?t.errors:{}})},Ne=(P,J,te)=>{const ye=(je(n,P,{_f:{}})._f||{}).ref,le=je(t.errors,P)||{},{ref:se,message:Ee,type:Ke,...nt}=le;pt(t.errors,P,{...nt,...J,ref:ye}),w.state.next({name:P,errors:t.errors,isValid:!1}),te&&te.shouldFocus&&ye&&ye.focus&&ye.focus()},xe=(P,J)=>Un(P)?w.state.subscribe({next:te=>P(ve(void 0,J),te)}):ve(P,J,!0),ke=P=>w.state.subscribe({next:J=>{fR(P.name,J.name,P.exact)&&hR(J,P.formState||x,Xe,P.reRenderRoot)&&P.callback({values:{...l},...t,...J})}}).unsubscribe,Pe=P=>(u.mount=!0,_={..._,...P.formState},ke({...P,formState:_})),Oe=(P,J={})=>{for(const te of P?Hr(P):f.mount)f.mount.delete(te),f.array.delete(te),J.keepValue||(Qt(n,te),Qt(l,te)),!J.keepError&&Qt(t.errors,te),!J.keepDirty&&Qt(t.dirtyFields,te),!J.keepTouched&&Qt(t.touchedFields,te),!J.keepIsValidating&&Qt(t.validatingFields,te),!e.shouldUnregister&&!J.keepDefaultValue&&Qt(a,te);w.state.next({values:Rt(l)}),w.state.next({...t,...J.keepDirty?{isDirty:C()}:{}}),!J.keepIsValid&&H()},Vt=({disabled:P,name:J})=>{(rn(P)&&u.mount||P||f.disabled.has(J))&&(P?f.disabled.add(J):f.disabled.delete(J))},vt=(P,J={})=>{let te=je(n,P);const ye=rn(J.disabled)||rn(e.disabled);return pt(n,P,{...te||{},_f:{...te&&te._f?te._f:{ref:{name:P}},name:P,mount:!0,...J}}),f.mount.add(P),te?Vt({disabled:rn(J.disabled)?J.disabled:e.disabled,name:P}):I(P,!0,J.value),{...ye?{disabled:J.disabled||e.disabled}:{},...e.progressive?{required:!!J.required,min:Ll(J.min),max:Ll(J.max),minLength:Ll(J.minLength),maxLength:Ll(J.maxLength),pattern:Ll(J.pattern)}:{},name:P,onChange:ee,onBlur:ee,ref:le=>{if(le){vt(P,J),te=je(n,P);const se=kt(le.value)&&le.querySelectorAll&&le.querySelectorAll("input,select,textarea")[0]||le,Ee=oR(se),Ke=te._f.refs||[];if(Ee?Ke.find(nt=>nt===se):se===te._f.ref)return;pt(n,P,{_f:{...te._f,...Ee?{refs:[...Ke.filter(lm),se,...Array.isArray(je(a,P))?[{}]:[]],ref:{type:se.type,name:P}}:{ref:se}}}),I(P,!1,void 0,se)}else te=je(n,P,{}),te._f&&(te._f.mount=!1),(e.shouldUnregister||J.shouldUnregister)&&!(J1(f.array,P)&&u.action)&&f.unMount.add(P)}}},Mt=()=>e.shouldFocusError&&Aa(n,R,f.mount),jt=P=>{rn(P)&&(w.state.next({disabled:P}),Aa(n,(J,te)=>{const ye=je(n,te);ye&&(J.disabled=ye._f.disabled||P,Array.isArray(ye._f.refs)&&ye._f.refs.forEach(le=>{le.disabled=ye._f.disabled||P}))},0,!1))},We=(P,J)=>async te=>{let ye;te&&(te.preventDefault&&te.preventDefault(),te.persist&&te.persist());let le=Rt(l);if(w.state.next({isSubmitting:!0}),e.resolver){const{errors:se,values:Ee}=await k();t.errors=se,le=Ee}else await F(n);if(f.disabled.size)for(const se of f.disabled)pt(le,se,void 0);if(Qt(t.errors,"root"),wr(t.errors)){w.state.next({errors:{}});try{await P(le,te)}catch(se){ye=se}}else J&&await J({...t.errors},te),Mt(),setTimeout(Mt);if(w.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:wr(t.errors)&&!ye,submitCount:t.submitCount+1,errors:t.errors}),ye)throw ye},de=(P,J={})=>{je(n,P)&&(kt(J.defaultValue)?ne(P,Rt(je(a,P))):(ne(P,J.defaultValue),pt(a,P,Rt(J.defaultValue))),J.keepTouched||Qt(t.touchedFields,P),J.keepDirty||(Qt(t.dirtyFields,P),t.isDirty=J.defaultValue?C(P,Rt(je(a,P))):C()),J.keepError||(Qt(t.errors,P),x.isValid&&H()),w.state.next({...t}))},et=(P,J={})=>{const te=P?Rt(P):a,ye=Rt(te),le=wr(P),se=le?a:ye;if(J.keepDefaultValues||(a=te),!J.keepValues){if(J.keepDirtyValues){const Ee=new Set([...f.mount,...Object.keys(Ol(a,l))]);for(const Ke of Array.from(Ee))je(t.dirtyFields,Ke)?pt(se,Ke,je(l,Ke)):ne(Ke,je(se,Ke))}else{if(og&&kt(P))for(const Ee of f.mount){const Ke=je(n,Ee);if(Ke&&Ke._f){const nt=Array.isArray(Ke._f.refs)?Ke._f.refs[0]:Ke._f.ref;if(Td(nt)){const ft=nt.closest("form");if(ft){ft.reset();break}}}}for(const Ee of f.mount)ne(Ee,je(se,Ee))}l=Rt(se),w.array.next({values:{...se}}),w.state.next({values:{...se}})}f={mount:J.keepDirtyValues?f.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},u.mount=!x.isValid||!!J.keepIsValid||!!J.keepDirtyValues,u.watch=!!e.shouldUnregister,w.state.next({submitCount:J.keepSubmitCount?t.submitCount:0,isDirty:le?!1:J.keepDirty?t.isDirty:!!(J.keepDefaultValues&&!ji(P,a)),isSubmitted:J.keepIsSubmitted?t.isSubmitted:!1,dirtyFields:le?{}:J.keepDirtyValues?J.keepDefaultValues&&l?Ol(a,l):t.dirtyFields:J.keepDefaultValues&&P?Ol(a,P):J.keepDirty?t.dirtyFields:{},touchedFields:J.keepTouched?t.touchedFields:{},errors:J.keepErrors?t.errors:{},isSubmitSuccessful:J.keepIsSubmitSuccessful?t.isSubmitSuccessful:!1,isSubmitting:!1})},be=(P,J)=>et(Un(P)?P(l):P,J),ht=(P,J={})=>{const te=je(n,P),ye=te&&te._f;if(ye){const le=ye.refs?ye.refs[0]:ye.ref;le.focus&&(le.focus(),J.shouldSelect&&Un(le.select)&&le.select())}},Xe=P=>{t={...t,...P}},ce={control:{register:vt,unregister:Oe,getFieldState:ge,handleSubmit:We,setError:Ne,_subscribe:ke,_runSchema:k,_getWatch:ve,_getDirty:C,_setValid:H,_setFieldArray:T,_setDisabledField:Vt,_setErrors:q,_getFieldArray:Le,_reset:et,_resetDefaultValues:()=>Un(e.defaultValues)&&e.defaultValues().then(P=>{be(P,e.resetOptions),w.state.next({isLoading:!1})}),_removeUnmounted:D,_disableForm:jt,_subjects:w,_proxyFormState:x,get _fields(){return n},get _formValues(){return l},get _state(){return u},set _state(P){u=P},get _defaultValues(){return a},get _names(){return f},set _names(P){f=P},get _formState(){return t},get _options(){return e},set _options(P){e={...e,...P}}},subscribe:Pe,trigger:G,register:vt,handleSubmit:We,watch:xe,setValue:ne,getValues:ae,reset:be,resetField:de,clearErrors:ie,unregister:Oe,setError:Ne,setFocus:ht,getFieldState:ge};return{...ce,formControl:ce}}var yi=()=>{const r=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=(Math.random()*16+r)%16|0;return(e=="x"?t:t&3|8).toString(16)})},cm=(r,e,t={})=>t.shouldFocus||kt(t.shouldFocus)?t.focusName||`${r}.${kt(t.focusIndex)?e:t.focusIndex}.`:"",um=(r,e)=>[...r,...Hr(e)],dm=r=>Array.isArray(r)?r.map(()=>{}):void 0;function hm(r,e,t){return[...r.slice(0,e),...Hr(t),...r.slice(e)]}var fm=(r,e,t)=>Array.isArray(r)?(kt(r[t])&&(r[t]=void 0),r.splice(t,0,r.splice(e,1)[0]),r):[],mm=(r,e)=>[...Hr(e),...Hr(r)];function vR(r,e){let t=0;const n=[...r];for(const a of e)n.splice(a-t,1),t++;return jc(n).length?n:[]}var pm=(r,e)=>kt(e)?[]:vR(r,Hr(e).sort((t,n)=>t-n)),gm=(r,e,t)=>{[r[e],r[t]]=[r[t],r[e]]},bx=(r,e,t)=>(r[e]=t,r);function co(r){const e=hh(),{control:t=e.control,name:n,keyName:a="id",shouldUnregister:l,rules:u}=r,[f,m]=Ue.useState(t._getFieldArray(n)),g=Ue.useRef(t._getFieldArray(n).map(yi)),x=Ue.useRef(f),_=Ue.useRef(n),w=Ue.useRef(!1);_.current=n,x.current=f,t._names.array.add(n),u&&t.register(n,u),Ue.useEffect(()=>t._subjects.array.subscribe({next:({values:I,name:j})=>{if(j===_.current||!j){const N=je(I,_.current);Array.isArray(N)&&(m(N),g.current=N.map(yi))}}}).unsubscribe,[t]);const S=Ue.useCallback(I=>{w.current=!0,t._setFieldArray(n,I)},[t,n]),U=(I,j)=>{const N=Hr(Rt(I)),k=um(t._getFieldArray(n),N);t._names.focus=cm(n,k.length-1,j),g.current=um(g.current,N.map(yi)),S(k),m(k),t._setFieldArray(n,k,um,{argA:dm(I)})},B=(I,j)=>{const N=Hr(Rt(I)),k=mm(t._getFieldArray(n),N);t._names.focus=cm(n,0,j),g.current=mm(g.current,N.map(yi)),S(k),m(k),t._setFieldArray(n,k,mm,{argA:dm(I)})},O=I=>{const j=pm(t._getFieldArray(n),I);g.current=pm(g.current,I),S(j),m(j),!Array.isArray(je(t._fields,n))&&pt(t._fields,n,void 0),t._setFieldArray(n,j,pm,{argA:I})},H=(I,j,N)=>{const k=Hr(Rt(j)),L=hm(t._getFieldArray(n),I,k);t._names.focus=cm(n,I,N),g.current=hm(g.current,I,k.map(yi)),S(L),m(L),t._setFieldArray(n,L,hm,{argA:I,argB:dm(j)})},V=(I,j)=>{const N=t._getFieldArray(n);gm(N,I,j),gm(g.current,I,j),S(N),m(N),t._setFieldArray(n,N,gm,{argA:I,argB:j},!1)},T=(I,j)=>{const N=t._getFieldArray(n);fm(N,I,j),fm(g.current,I,j),S(N),m(N),t._setFieldArray(n,N,fm,{argA:I,argB:j},!1)},$=(I,j)=>{const N=Rt(j),k=bx(t._getFieldArray(n),I,N);g.current=[...k].map((L,F)=>!L||F===I?yi():g.current[F]),S(k),m([...k]),t._setFieldArray(n,k,bx,{argA:I,argB:N},!0,!1)},q=I=>{const j=Hr(Rt(I));g.current=j.map(yi),S([...j]),m([...j]),t._setFieldArray(n,[...j],N=>N,{},!0,!1)};return Ue.useEffect(()=>{if(t._state.action=!1,qm(n,t._names)&&t._subjects.state.next({...t._formState}),w.current&&(!Ea(t._options.mode).isOnSubmit||t._formState.isSubmitted)&&!Ea(t._options.reValidateMode).isOnSubmit)if(t._options.resolver)t._runSchema([n]).then(I=>{const j=je(I.errors,n),N=je(t._formState.errors,n);(N?!j&&N.type||j&&(N.type!==j.type||N.message!==j.message):j&&j.type)&&(j?pt(t._formState.errors,n,j):Qt(t._formState.errors,n),t._subjects.state.next({errors:t._formState.errors}))});else{const I=je(t._fields,n);I&&I._f&&!(Ea(t._options.reValidateMode).isOnSubmit&&Ea(t._options.mode).isOnSubmit)&&Gm(I,t._names.disabled,t._formValues,t._options.criteriaMode===yn.all,t._options.shouldUseNativeValidation,!0).then(j=>!wr(j)&&t._subjects.state.next({errors:o_(t._formState.errors,j,n)}))}t._subjects.state.next({name:n,values:Rt(t._formValues)}),t._names.focus&&Aa(t._fields,(I,j)=>{if(t._names.focus&&j.startsWith(t._names.focus)&&I.focus)return I.focus(),1}),t._names.focus="",t._setValid(),w.current=!1},[f,n,t]),Ue.useEffect(()=>(!je(t._formValues,n)&&t._setFieldArray(n),()=>{const I=(j,N)=>{const k=je(t._fields,j);k&&k._f&&(k._f.mount=N)};t._options.shouldUnregister||l?t.unregister(n):I(n,!1)}),[n,t,a,l]),{swap:Ue.useCallback(V,[S,n,t]),move:Ue.useCallback(T,[S,n,t]),prepend:Ue.useCallback(B,[S,n,t]),append:Ue.useCallback(U,[S,n,t]),remove:Ue.useCallback(O,[S,n,t]),insert:Ue.useCallback(H,[S,n,t]),update:Ue.useCallback($,[S,n,t]),replace:Ue.useCallback(q,[S,n,t]),fields:Ue.useMemo(()=>f.map((I,j)=>({...I,[a]:g.current[j]||yi()})),[f,a])}}function ms(r={}){const e=Ue.useRef(void 0),t=Ue.useRef(void 0),[n,a]=Ue.useState({isDirty:!1,isValidating:!1,isLoading:Un(r.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:r.errors||{},disabled:r.disabled||!1,defaultValues:Un(r.defaultValues)?void 0:r.defaultValues});e.current||(e.current={...r.formControl?r.formControl:yR(r),formState:n},r.formControl&&r.defaultValues&&!Un(r.defaultValues)&&r.formControl.reset(r.defaultValues,r.resetOptions));const l=e.current.control;return l._options=r,Ue.useLayoutEffect(()=>l._subscribe({formState:l._proxyFormState,callback:()=>a({...l._formState}),reRenderRoot:!0}),[l]),Ue.useEffect(()=>l._disableForm(r.disabled),[l,r.disabled]),Ue.useEffect(()=>{if(l._proxyFormState.isDirty){const u=l._getDirty();u!==n.isDirty&&l._subjects.state.next({isDirty:u})}},[l,n.isDirty]),Ue.useEffect(()=>{r.values&&!ji(r.values,t.current)?(l._reset(r.values,l._options.resetOptions),t.current=r.values,a(u=>({...u}))):l._resetDefaultValues()},[r.values,l]),Ue.useEffect(()=>{r.errors&&!wr(r.errors)&&l._setErrors(r.errors)},[r.errors,l]),Ue.useEffect(()=>{l._state.mount||(l._setValid(),l._state.mount=!0),l._state.watch&&(l._state.watch=!1,l._subjects.state.next({...l._formState})),l._removeUnmounted()}),Ue.useEffect(()=>{r.shouldUnregister&&l._subjects.state.next({values:l._getWatch()})},[r.shouldUnregister,l]),e.current.formState=X1(n,l),e.current}const xR=()=>{const{register:r,handleSubmit:e,formState:{errors:t},setValue:n}=ms(),{login:a}=_t(),[l,u]=z.useState(!1),[f,m]=z.useState(null),[g,x]=z.useState(!1),_=async S=>{try{m(null),u(!0),await a(S.email,S.password)}catch(U){console.error("Inloggen mislukt:",U),U.code==="auth/user-not-found"||U.code==="auth/wrong-password"?m("Inloggen mislukt. Controleer je e-mail en wachtwoord."):U.code==="auth/too-many-requests"?m("Te veel inlogpogingen. Probeer het later opnieuw of reset je wachtwoord."):U.code==="auth/network-request-failed"?m("Netwerkprobleem. Controleer je internetverbinding en probeer het opnieuw."):U.code==="auth/user-disabled"?m("Dit account is uitgeschakeld. Neem contact op met de beheerder."):U.code==="auth/invalid-email"?m("Ongeldig e-mailadres. Controleer je e-mail en probeer het opnieuw."):m(`Inloggen mislukt: ${U.message||"Onbekende fout"}`)}finally{u(!1)}},w=async()=>{try{m(null),u(!0);const S="test@example.com",U="test123456",B="Test Gebruiker";console.log("Test gebruiker aanmaken:",S);const H=(await Eb(rs,S,U)).user;await kb(H,{displayName:B});const V=ct($e,"users",H.uid);await rh(V,{id:H.uid,email:S,displayName:B,role:"werkzoekende",createdAt:new Date,updatedAt:new Date,profile:{skills:[]}}),console.log("Test gebruiker aangemaakt:",H.uid),n("email",S),n("password",U),alert("Test gebruiker aangemaakt! Email: test@example.com, Wachtwoord: test123456")}catch(S){console.error("Fout bij aanmaken test gebruiker:",S),S.code==="auth/email-already-in-use"?m("Deze test gebruiker bestaat al, je kunt proberen in te loggen met email: test@example.com, wachtwoord: test123456"):m("Kon test gebruiker niet aanmaken: "+S.message)}finally{u(!1)}};return i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-md w-full",children:[i.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-800",children:"Inloggen"}),f&&i.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",role:"alert",children:i.jsx("span",{className:"block sm:inline",children:f})}),i.jsxs("form",{onSubmit:e(_),className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail"}),i.jsx("input",{id:"email",type:"email",...r("email",{required:"E-mail is verplicht",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Voer een geldig e-mailadres in"}}),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${t.email?"border-red-500":"border-gray-300"}`}),t.email&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.email.message})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Wachtwoord"}),i.jsx("input",{id:"password",type:"password",...r("password",{required:"Wachtwoord is verplicht",minLength:{value:6,message:"Wachtwoord moet minimaal 6 tekens bevatten"}}),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${t.password?"border-red-500":"border-gray-300"}`}),t.password&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.password.message})]}),i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Onthoud mij"})]}),i.jsx("div",{className:"text-sm",children:i.jsx(Pt,{to:"/reset-password",className:"font-medium text-primary-600 hover:text-primary-500",children:"Wachtwoord vergeten?"})})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:l,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:l?"Inloggen...":"Inloggen"})})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-sm text-gray-600",children:["Nog geen account?"," ",i.jsx(Pt,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"Registreer hier"})]})}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("button",{type:"button",onClick:()=>x(!g),className:"text-xs text-gray-500 hover:text-gray-700",children:g?"Debug mode verbergen":"Debug opties"})}),g&&i.jsxs("div",{className:"mt-4 p-3 bg-gray-100 rounded-md",children:[i.jsx("h3",{className:"font-medium text-sm mb-2",children:"Debug opties"}),i.jsx("button",{type:"button",onClick:w,disabled:l,className:"w-full text-sm py-1 px-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-200",children:"Test gebruiker aanmaken"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Dit maakt een test gebruiker aan met email: test@example.com en wachtwoord: test123456"})]})]})},bR=()=>i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4 py-12 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-md w-full space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-4xl font-extrabold text-primary-600 mb-2",children:"PitchPro"}),i.jsx("p",{className:"text-gray-600",children:"Het platform voor werkzoekenden en recruiters"})]}),i.jsx(xR,{})]})}),wR=()=>{const{register:r,handleSubmit:e,watch:t,formState:{errors:n}}=ms({defaultValues:{role:"werkzoekende"}}),{register:a}=_t(),[l,u]=z.useState(!1),[f,m]=z.useState(null),g=t("password"),x=async _=>{try{if(m(null),u(!0),_.password!==_.confirmPassword){m("Wachtwoorden komen niet overeen");return}await a(_.email,_.password,_.displayName,_.role)}catch(w){console.error("Registratie fout:",w),w.code==="auth/email-already-in-use"?m("Dit e-mailadres is al in gebruik"):m("Registratie mislukt. Probeer het later opnieuw.")}finally{u(!1)}};return i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-md w-full",children:[i.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-800",children:"Registreren"}),f&&i.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",role:"alert",children:i.jsx("span",{className:"block sm:inline",children:f})}),i.jsxs("form",{onSubmit:e(x),className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Naam"}),i.jsx("input",{id:"displayName",type:"text",...r("displayName",{required:"Naam is verplicht",minLength:{value:2,message:"Naam moet minimaal 2 tekens bevatten"}}),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${n.displayName?"border-red-500":"border-gray-300"}`}),n.displayName&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.displayName.message})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail"}),i.jsx("input",{id:"email",type:"email",...r("email",{required:"E-mail is verplicht",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Voer een geldig e-mailadres in"}}),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${n.email?"border-red-500":"border-gray-300"}`}),n.email&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.email.message})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Wachtwoord"}),i.jsx("input",{id:"password",type:"password",...r("password",{required:"Wachtwoord is verplicht",minLength:{value:6,message:"Wachtwoord moet minimaal 6 tekens bevatten"}}),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${n.password?"border-red-500":"border-gray-300"}`}),n.password&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.password.message})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bevestig wachtwoord"}),i.jsx("input",{id:"confirmPassword",type:"password",...r("confirmPassword",{required:"Bevestig je wachtwoord",validate:_=>_===g||"Wachtwoorden komen niet overeen"}),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${n.confirmPassword?"border-red-500":"border-gray-300"}`}),n.confirmPassword&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:n.confirmPassword.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ik ben een"}),i.jsxs("div",{className:"mt-2 flex space-x-4",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{id:"werkzoekende",type:"radio",value:"werkzoekende",...r("role"),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),i.jsx("label",{htmlFor:"werkzoekende",className:"ml-2 block text-sm text-gray-700",children:"Werkzoekende"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{id:"recruiter",type:"radio",value:"recruiter",...r("role"),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),i.jsx("label",{htmlFor:"recruiter",className:"ml-2 block text-sm text-gray-700",children:"Recruiter"})]})]})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:l,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:l?"Registreren...":"Registreren"})})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsxs("p",{className:"text-sm text-gray-600",children:["Heb je al een account?"," ",i.jsx(Pt,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Log hier in"})]})})]})},_R=()=>i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4 py-12 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-md w-full space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-4xl font-extrabold text-primary-600 mb-2",children:"PitchPro"}),i.jsx("p",{className:"text-gray-600",children:"Word lid van het platform voor werkzoekenden en recruiters"})]}),i.jsx(wR,{})]})}),jR=()=>{const{register:r,handleSubmit:e,formState:{errors:t}}=ms(),{resetPassword:n}=_t(),[a,l]=z.useState(!1),[u,f]=z.useState(null),[m,g]=z.useState(null),x=async _=>{try{f(null),g(null),l(!0),await n(_.email),g("Een e-mail met instructies is verzonden naar je e-mailadres")}catch(w){console.error("Wachtwoord reset fout:",w),f("Er is een fout opgetreden bij het verzenden van de resetlink. Controleer je e-mailadres.")}finally{l(!1)}};return i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-md w-full",children:[i.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-800",children:"Wachtwoord herstellen"}),u&&i.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",role:"alert",children:i.jsx("span",{className:"block sm:inline",children:u})}),m&&i.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",role:"alert",children:i.jsx("span",{className:"block sm:inline",children:m})}),i.jsxs("form",{onSubmit:e(x),className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail"}),i.jsx("input",{id:"email",type:"email",...r("email",{required:"E-mail is verplicht",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Voer een geldig e-mailadres in"}}),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${t.email?"border-red-500":"border-gray-300"}`}),t.email&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:t.email.message})]}),i.jsx("div",{children:i.jsx("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:a?"Verzenden...":"Verstuur resetlink"})})]}),i.jsx("div",{className:"mt-6 text-center",children:i.jsx("p",{className:"text-sm text-gray-600",children:i.jsx(Pt,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Terug naar inloggen"})})})]})},NR=()=>i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4 py-12 sm:px-6 lg:px-8",children:i.jsxs("div",{className:"max-w-md w-full space-y-8",children:[i.jsxs("div",{className:"text-center",children:[i.jsx("h1",{className:"text-4xl font-extrabold text-primary-600 mb-2",children:"PitchPro"}),i.jsx("p",{className:"text-gray-600",children:"Wachtwoord herstellen"})]}),i.jsx(jR,{})]})}),ER=({currentCvUrl:r,userId:e,onUploadSuccess:t,onUploadError:n})=>{const[a,l]=z.useState(!1),[u,f]=z.useState(0),[m,g]=z.useState(null),x=z.useRef(null),_=U=>{try{const B=U.split("/");return B[B.length-1].split("?")[0]}catch{return"cv-bestand"}},w=U=>{U.target.files&&U.target.files.length>0&&g(U.target.files[0])},S=async()=>{if(!m||!e){n("Geen bestand geselecteerd of gebruiker niet ingelogd");return}try{l(!0),f(0);const U=m.name.split(".").pop()||"pdf",B=`cv_${e}_${Date.now()}.${U}`,O=oh(B1,`cv/${B}`);await sh(O,m),f(100);const H=await ih(O);t(H),x.current&&(x.current.value=""),g(null)}catch(U){console.error("Fout bij uploaden van CV:",U),n("Er is een fout opgetreden bij het uploaden van je CV. Probeer het opnieuw.")}finally{l(!1)}};return i.jsxs("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg",children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"CV Uploaden"}),r&&i.jsxs("div",{className:"mb-4 p-3 bg-white rounded border border-gray-300",children:[i.jsx("p",{className:"text-sm font-medium text-gray-700",children:"Huidige CV:"}),i.jsx("div",{className:"flex items-center justify-between mt-1",children:i.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline flex items-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}),_(r)]})})]}),i.jsxs("div",{className:"mt-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload een nieuw CV bestand"}),i.jsx("input",{ref:x,type:"file",onChange:w,className:`block w-full text-sm text-gray-500
            file:mr-4 file:py-2 file:px-4
            file:rounded-md file:border-0
            file:text-sm file:font-medium
            file:bg-primary-50 file:text-primary-700
            hover:file:bg-primary-100`,accept:".pdf,.doc,.docx",disabled:a}),i.jsx("p",{className:"mt-1 text-sm text-gray-500",children:"Ondersteunde formaten: PDF, DOC, DOCX (max. 5MB)"})]}),m&&i.jsxs("div",{className:"mt-4",children:[i.jsxs("p",{className:"text-sm text-gray-700",children:["Geselecteerd bestand: ",i.jsx("span",{className:"font-medium",children:m.name})," (",Math.round(m.size/1024)," KB)"]}),i.jsxs("div",{className:"mt-3 flex items-center",children:[i.jsx("button",{onClick:S,disabled:a,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50",children:a?"Bezig met uploaden...":"CV uploaden"}),a&&i.jsx("div",{className:"ml-4 w-full max-w-xs",children:i.jsx("div",{className:"h-2 rounded-full bg-gray-200",children:i.jsx("div",{className:"h-2 rounded-full bg-primary-600",style:{width:`${u}%`}})})})]})]})]})},kR=({cvUrl:r})=>{var l;const[e,t]=z.useState(!1);if(!r)return i.jsxs("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg",children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"CV Bekijken"}),i.jsx("div",{children:i.jsxs("a",{href:"/cv-preview",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:[i.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),i.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),"Bekijk Gedetailleerd CV"]})})]});const a=((l=r.split(".").pop())==null?void 0:l.toLowerCase())==="pdf";return i.jsxs("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h2",{className:"text-lg font-medium",children:"CV Bekijken"}),i.jsx("button",{onClick:()=>t(!e),className:"text-primary-600 hover:text-primary-800 text-sm font-medium",children:e?"Verkleinen":"Vergroten"})]}),a?i.jsx("div",{className:`w-full ${e?"h-screen":"h-96"} border border-gray-300 rounded-md overflow-hidden bg-white`,children:i.jsx("iframe",{src:`${r}#toolbar=0`,className:"w-full h-full",title:"CV Preview"})}):i.jsxs("div",{className:"p-4 bg-white rounded-md border border-gray-300",children:[i.jsx("p",{className:"mb-3",children:"Dit document kan niet in de browser worden weergegeven. Klik op de knop hieronder om het te downloaden."}),i.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download CV"]})]}),i.jsxs("div",{className:"mt-4 flex justify-between",children:[i.jsxs("a",{href:"/cv-preview",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:[i.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),i.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),"Bekijk Gedetailleerd CV"]}),i.jsxs("a",{href:r,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-800 text-sm font-medium flex items-center",children:[i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:[i.jsx("path",{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}),i.jsx("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"})]}),"Openen in nieuw venster"]})]})]})},Ps=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),Gt=r=>{if(!r)return null;if(r instanceof Date)return r;if(typeof r=="object"&&"seconds"in r)return new Date(r.seconds*1e3);if(typeof r=="number")return new Date(r);if(typeof r=="string"){const e=new Date(r);return isNaN(e.getTime())?null:e}return null},uo=({name:r,control:e,label:t,errors:n,isDisabled:a=!1,placeholder:l="Selecteer een datum",minDate:u,maxDate:f})=>i.jsxs("div",{children:[t&&i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:t}),i.jsx(sR,{name:r,control:e,rules:{required:`${t||"Datum"} is verplicht`},render:({field:{onChange:m,onBlur:g,value:x,ref:_}})=>{let w=null;if(x)try{if(x instanceof Date)w=x;else if(typeof x=="object"&&x!==null&&"seconds"in x)w=new Date(x.seconds*1e3);else if(typeof x=="string"){const S=new Date(x);w=isNaN(S.getTime())?null:S}else typeof x=="number"&&(w=new Date(x))}catch(S){console.error(`Error converting date for ${r}:`,S),w=null}return i.jsx("input",{type:"date",onChange:S=>{const U=S.target.value?new Date(S.target.value):null;m(U)},onBlur:g,disabled:a,value:w?w.toISOString().split("T")[0]:"",className:`w-full px-3 py-2 border ${n&&n[r.split(".")[0]]?"border-red-500":"border-gray-300"} rounded-md`,"aria-invalid":n&&n[r.split(".")[0]]?"true":"false"})}}),n&&n[r.split(".")[0]]&&i.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:"Vul een geldige datum in"})]}),TR=({user:r,onSuccess:e,onError:t,setLoading:n})=>{const[a,l]=z.useState(!0),[u,f]=z.useState(null),[m,g]=z.useState("overMij"),[x,_]=z.useState(!1),w=z.useMemo(()=>({overMij:"",werkervaring:[],opleiding:[],stages:[],certificaten:[],talen:[],hobbys:[],vaardigheden:[]}),[]),{register:S,control:U,handleSubmit:B,reset:O,formState:{errors:H},getValues:V,watch:T}=ms({defaultValues:w}),{fields:$,append:q,remove:I}=co({control:U,name:"certificaten"}),{fields:j,append:N,remove:k}=co({control:U,name:"opleiding"}),{fields:L,append:F,remove:D}=co({control:U,name:"stages"}),{fields:C,append:ve,remove:Le}=co({control:U,name:"werkervaring"}),{fields:Ve,append:_e,remove:ne}=co({control:U,name:"talen"}),{fields:ee,append:R,remove:G}=co({control:U,name:"hobbys"}),{fields:ae,append:ge,remove:ie}=co({control:U,name:"vaardigheden"});z.useEffect(()=>{(async()=>{if(!r.id){l(!1);return}try{const de=ct($e,"users",r.id),et=await fr(de),be=ct($e,"users",r.id,"cv","main"),ht=await fr(be);let Xe={werkervaring:[],opleiding:[],stages:[],certificaten:[],talen:[],hobbys:[],vaardigheden:[]};if(et.exists()){const Fe=et.data();if(Fe.detailedCV){const ce=Fe.detailedCV;Xe={...Xe,overMij:ce.overMij||"",werkervaring:(ce.werkervaring||[]).map(P=>({...P,startDatum:P.startDatum?Gt(P.startDatum):null,eindDatum:P.eindDatum?Gt(P.eindDatum):null,isHuidigeFunctie:!!P.isHuidigeFunctie})),opleiding:(ce.opleiding||[]).map(P=>({...P,startDatum:P.startDatum?Gt(P.startDatum):null,eindDatum:P.eindDatum?Gt(P.eindDatum):null,isHuidigeOpleiding:!!P.isHuidigeOpleiding})),stages:(ce.stages||[]).map(P=>({...P,startDatum:P.startDatum?Gt(P.startDatum):null,eindDatum:P.eindDatum?Gt(P.eindDatum):null,isHuidigeStage:!!P.isHuidigeStage})),certificaten:(ce.certificaten||[]).map(P=>({id:P.id||Ps(),naam:P.naam||"",uitgever:P.uitgever||"",datum:P.datum?Gt(P.datum):null,beschrijving:P.beschrijving||""})),talen:Array.isArray(ce.talen)?ce.talen.map(P=>({...P,niveau:P.niveau||"Basis",beschrijving:P.beschrijving||""})):[],hobbys:Array.isArray(ce.hobbys)?ce.hobbys.map(P=>({...P,naam:P.naam||"",beschrijving:P.beschrijving||""})):[],vaardigheden:Array.isArray(ce.vaardigheden)?ce.vaardigheden.map(P=>({...P,type:P.type==="soft"||P.type==="hard"?P.type:"soft",niveau:typeof P.niveau=="number"?P.niveau:1,beschrijving:P.beschrijving||""})):[]}}else Xe={...Xe,werkervaring:(Fe.werkervaring||[]).map(ce=>({...ce,startDatum:ce.startDatum?Gt(ce.startDatum):null,eindDatum:ce.eindDatum?Gt(ce.eindDatum):null})),opleiding:(Fe.opleiding||[]).map(ce=>({...ce,startDatum:ce.startDatum?Gt(ce.startDatum):null,eindDatum:ce.eindDatum?Gt(ce.eindDatum):null})),stages:(Fe.stages||[]).map(ce=>({...ce,startDatum:ce.startDatum?Gt(ce.startDatum):null,eindDatum:ce.eindDatum?Gt(ce.eindDatum):null})),talen:Fe.talen||[],hobbys:Array.isArray(Fe.hobbys)?Fe.hobbys:[],vaardigheden:Fe.vaardigheden||[]}}if(ht.exists()){const Fe=ht.data();f(Fe),(!et.exists()||!et.data().detailedCV)&&(Xe={...Xe,overMij:Fe.overMij||"",werkervaring:(Fe.werkervaring||[]).map(ce=>({...ce,startDatum:ce.startDatum?Gt(ce.startDatum):null,eindDatum:ce.eindDatum?Gt(ce.eindDatum):null,isHuidigeFunctie:!!ce.isHuidigeFunctie})),opleiding:(Fe.opleiding||[]).map(ce=>({...ce,startDatum:ce.startDatum?Gt(ce.startDatum):null,eindDatum:ce.eindDatum?Gt(ce.eindDatum):null,isHuidigeOpleiding:!!ce.isHuidigeOpleiding})),stages:(Fe.stages||[]).map(ce=>({...ce,startDatum:ce.startDatum?Gt(ce.startDatum):null,eindDatum:ce.eindDatum?Gt(ce.eindDatum):null,isHuidigeStage:!!ce.isHuidigeStage})),certificaten:(Fe.certificaten||[]).map(ce=>({id:ce.id||Ps(),naam:ce.naam||"",uitgever:ce.uitgever||"",datum:ce.datum?Gt(ce.datum):null,beschrijving:ce.beschrijving||""})),talen:Array.isArray(Fe.talen)?Fe.talen.map(ce=>({...ce,niveau:ce.niveau||"Basis",beschrijving:ce.beschrijving||""})):[],hobbys:Array.isArray(Fe.hobbys)?Fe.hobbys.map(ce=>({...ce,naam:ce.naam||"",beschrijving:ce.beschrijving||""})):[],vaardigheden:Array.isArray(Fe.vaardigheden)?Fe.vaardigheden.map(ce=>({...ce,type:ce.type==="soft"||ce.type==="hard"?ce.type:"soft",niveau:typeof ce.niveau=="number"?ce.niveau:1,beschrijving:ce.beschrijving||""})):[]})}O(Xe)}catch(de){console.error("Fout bij ophalen gegevens:",de),t("Er is een fout opgetreden bij het ophalen van je gegevens")}finally{l(!1)}})()},[r.id,O,t]);const Ne=async We=>{if(!r.id){t("Gebruiker ID is niet beschikbaar");return}try{n(!0),_(!0),console.log("Form data being saved:",We);const de={overMij:We.overMij||"",werkervaring:We.werkervaring.map(be=>({id:be.id||Ps(),functie:be.functie||"",bedrijf:be.bedrijf||"",startDatum:be.startDatum?Ye.fromDate(be.startDatum):null,eindDatum:be.eindDatum?Ye.fromDate(be.eindDatum):null,beschrijving:be.beschrijving||"",isHuidigeFunctie:!!be.isHuidigeFunctie})),opleiding:We.opleiding.map(be=>({id:be.id||Ps(),opleiding:be.opleiding||"",instituut:be.instituut||"",startDatum:be.startDatum?Ye.fromDate(be.startDatum):null,eindDatum:be.eindDatum?Ye.fromDate(be.eindDatum):null,beschrijving:be.beschrijving||"",isHuidigeOpleiding:!!be.isHuidigeOpleiding})),stages:We.stages.map(be=>({id:be.id||Ps(),functie:be.functie||"",bedrijf:be.bedrijf||"",startDatum:be.startDatum?Ye.fromDate(be.startDatum):null,eindDatum:be.eindDatum?Ye.fromDate(be.eindDatum):null,beschrijving:be.beschrijving||"",isHuidigeStage:!!be.isHuidigeStage})),certificaten:We.certificaten.map(be=>({id:be.id||Ps(),naam:be.naam||"",uitgever:be.uitgever||"",datum:be.datum?Ye.fromDate(be.datum):null,beschrijving:be.beschrijving||""})),talen:We.talen.map(be=>({id:be.id||Ps(),taal:be.taal||"",niveau:be.niveau||"Basis",beschrijving:be.beschrijving||""})),hobbys:We.hobbys.map(be=>({id:be.id||Ps(),naam:be.naam||"",beschrijving:be.beschrijving||""})),vaardigheden:We.vaardigheden.map(be=>({id:be.id||Ps(),naam:be.naam||"",type:be.type==="soft"?"soft":"hard",niveau:typeof be.niveau=="number"?be.niveau:1,beschrijving:be.beschrijving||""}))};console.log("Saving CV data to Firestore:",de);const et=ct($e,"users",r.id);await rh(et,{detailedCV:de,updatedAt:new Date},{merge:!0}),console.log("CV data saved successfully"),e()}catch(de){console.error("Fout bij opslaan gegevens:",de),t("Er is een fout opgetreden bij het opslaan van je gegevens")}finally{n(!1),_(!1)}},xe=z.useCallback(()=>{setTimeout(()=>{q({id:String(Date.now()),naam:"",uitgever:"",datum:null,beschrijving:""})},0)},[q]),ke=z.useCallback(()=>{setTimeout(()=>{N({id:String(Date.now()),opleiding:"",instituut:"",beschrijving:"",startDatum:null,eindDatum:null,isHuidigeOpleiding:!1})},0)},[N]),Pe=z.useCallback(()=>{setTimeout(()=>{F({id:String(Date.now()),bedrijf:"",functie:"",beschrijving:"",startDatum:null,eindDatum:null,isHuidigeStage:!1})},0)},[F]),Oe=z.useCallback(()=>{setTimeout(()=>{ve({id:String(Date.now()),functie:"",bedrijf:"",startDatum:null,eindDatum:null,beschrijving:"",isHuidigeFunctie:!1})},0)},[ve]),Vt=z.useCallback(()=>{setTimeout(()=>{_e({id:String(Date.now()),taal:"",niveau:"Basis"})},0)},[_e]),vt=z.useCallback(()=>{setTimeout(()=>{R({id:String(Date.now()),naam:""})},0)},[R]),Mt=z.useCallback(We=>{setTimeout(()=>{ge({id:String(Date.now()),naam:"",type:We,niveau:1})},0)},[ge]),jt=We=>{switch(We){case"overMij":return"Over mij";case"werkervaring":return"Werkervaring";case"opleiding":return"Opleiding";case"stages":return"Stages";case"certificaten":return"Certificaten";case"talen":return"Talen";case"hobbys":return"Hobby's";case"vaardigheden":return"Vaardigheden";default:return We}};return a?i.jsxs("div",{className:"flex justify-center items-center h-64",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"}),i.jsx("div",{className:"ml-4",children:"CV gegevens laden..."})]}):i.jsx("div",{className:"space-y-8",children:i.jsxs("form",{onSubmit:B(Ne),children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:jt("overMij")}),i.jsx("div",{className:"bg-white rounded-lg",children:i.jsx("textarea",{...S("overMij"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:5,placeholder:"Vertel iets over jezelf, je motivie en ambities"})})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:jt("werkervaring")}),i.jsxs("div",{className:"bg-white rounded-lg",children:[i.jsx("div",{className:"flex justify-between items-center mb-4",children:i.jsx("button",{type:"button",onClick:Oe,className:"ml-auto px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md",children:"+ Toevoegen"})}),C.length===0&&i.jsx("p",{className:"text-gray-500 italic mb-4",children:"Nog geen werkervaring toegevoegd."}),C.map((We,de)=>{var et,be,ht,Xe,Fe,ce,P,J,te,ye,le,se,Ee,Ke,nt,ft;return i.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Functie"}),i.jsx("input",{...S(`werkervaring.${de}.functie`,{required:"Functie is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":(be=(et=H.werkervaring)==null?void 0:et[de])!=null&&be.functie?"true":"false"}),((Xe=(ht=H.werkervaring)==null?void 0:ht[de])==null?void 0:Xe.functie)&&i.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:typeof((ce=(Fe=H.werkervaring[de])==null?void 0:Fe.functie)==null?void 0:ce.message)=="string"?(J=(P=H.werkervaring[de])==null?void 0:P.functie)==null?void 0:J.message:"Functie is verplicht"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bedrijf"}),i.jsx("input",{...S(`werkervaring.${de}.bedrijf`,{required:"Bedrijf is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":(ye=(te=H.werkervaring)==null?void 0:te[de])!=null&&ye.bedrijf?"true":"false"}),((se=(le=H.werkervaring)==null?void 0:le[de])==null?void 0:se.bedrijf)&&i.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:typeof((Ke=(Ee=H.werkervaring[de])==null?void 0:Ee.bedrijf)==null?void 0:Ke.message)=="string"?(ft=(nt=H.werkervaring[de])==null?void 0:nt.bedrijf)==null?void 0:ft.message:"Bedrijf is verplicht"})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsx("div",{children:i.jsx(uo,{name:`werkervaring.${de}.startDatum`,control:U,label:"Startdatum",errors:H})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Einddatum"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("input",{type:"checkbox",...S(`werkervaring.${de}.isHuidigeFunctie`),className:"mr-2"}),i.jsx("span",{className:"text-sm text-gray-600",children:"Huidige functie"})]})]}),i.jsx(uo,{name:`werkervaring.${de}.eindDatum`,control:U,label:"",errors:H,isDisabled:!!T(`werkervaring.${de}.isHuidigeFunctie`)})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beschrijving"}),i.jsx("textarea",{...S(`werkervaring.${de}.beschrijving`),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Beschrijf je taken en verantwoordelijkheden"})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{type:"button",onClick:()=>Le(de),className:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-md",children:"Verwijderen"})})]},We.id)})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:jt("opleiding")}),i.jsxs("div",{className:"bg-white rounded-lg",children:[i.jsx("div",{className:"flex justify-between items-center mb-4",children:i.jsx("button",{type:"button",onClick:ke,className:"ml-auto px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md",children:"+ Toevoegen"})}),j.length===0&&i.jsx("p",{className:"text-gray-500 italic mb-4",children:"Nog geen opleidingen toegevoegd."}),j.map((We,de)=>{var et,be,ht,Xe,Fe,ce,P,J,te,ye,le,se;return i.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Opleidingsnaam"}),i.jsx("input",{...S(`opleiding.${de}.opleiding`,{required:"Opleidingsnaam is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":(be=(et=H.opleiding)==null?void 0:et[de])!=null&&be.opleiding?"true":"false"}),((Xe=(ht=H.opleiding)==null?void 0:ht[de])==null?void 0:Xe.opleiding)&&i.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:(ce=(Fe=H.opleiding[de])==null?void 0:Fe.opleiding)==null?void 0:ce.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Onderwijsinstelling"}),i.jsx("input",{...S(`opleiding.${de}.instituut`,{required:"Onderwijsinstelling is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":(J=(P=H.opleiding)==null?void 0:P[de])!=null&&J.instituut?"true":"false"}),((ye=(te=H.opleiding)==null?void 0:te[de])==null?void 0:ye.instituut)&&i.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:(se=(le=H.opleiding[de])==null?void 0:le.instituut)==null?void 0:se.message})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsx("div",{children:i.jsx(uo,{name:`opleiding.${de}.startDatum`,control:U,label:"Startdatum",errors:H})}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center mb-1",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Einddatum"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("input",{type:"checkbox",...S(`opleiding.${de}.isHuidigeOpleiding`),className:"mr-2"}),i.jsx("span",{className:"text-sm text-gray-600",children:"Huidige opleiding"})]})]}),i.jsx(uo,{name:`opleiding.${de}.eindDatum`,control:U,label:"",errors:H,isDisabled:!!T(`opleiding.${de}.isHuidigeOpleiding`)})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beschrijving"}),i.jsx("textarea",{...S(`opleiding.${de}.beschrijving`),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Beschrijf de opleiding en relevante informatie"})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{type:"button",onClick:()=>k(de),className:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-md",children:"Verwijderen"})})]},We.id)})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:jt("stages")}),i.jsxs("div",{className:"bg-white rounded-lg",children:[i.jsx("div",{className:"flex justify-between items-center mb-4",children:i.jsx("button",{type:"button",onClick:Pe,className:"ml-auto px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md",children:"+ Toevoegen"})}),L.length===0&&i.jsx("p",{className:"text-gray-500 italic mb-4",children:"Nog geen stages toegevoegd."}),L.map((We,de)=>{var et,be,ht,Xe,Fe,ce,P,J,te,ye,le,se;return i.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Functie"}),i.jsx("input",{...S(`stages.${de}.functie`,{required:"Functie is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":(be=(et=H.stages)==null?void 0:et[de])!=null&&be.functie?"true":"false"}),((Xe=(ht=H.stages)==null?void 0:ht[de])==null?void 0:Xe.functie)&&i.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:(ce=(Fe=H.stages[de])==null?void 0:Fe.functie)==null?void 0:ce.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bedrijf"}),i.jsx("input",{...S(`stages.${de}.bedrijf`,{required:"Bedrijf is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":(J=(P=H.stages)==null?void 0:P[de])!=null&&J.bedrijf?"true":"false"}),((ye=(te=H.stages)==null?void 0:te[de])==null?void 0:ye.bedrijf)&&i.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:(se=(le=H.stages[de])==null?void 0:le.bedrijf)==null?void 0:se.message})]})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsx("div",{children:i.jsx(uo,{name:`stages.${de}.startDatum`,control:U,label:"Startdatum",errors:H})}),i.jsx("div",{children:i.jsx(uo,{name:`stages.${de}.eindDatum`,control:U,label:"Einddatum",errors:H})})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beschrijving"}),i.jsx("textarea",{...S(`stages.${de}.beschrijving`),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Beschrijf je stage en verantwoordelijkheden"})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{type:"button",onClick:()=>D(de),className:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-md",children:"Verwijderen"})})]},We.id)})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:jt("certificaten")}),i.jsxs("div",{className:"bg-white rounded-lg",children:[i.jsx("div",{className:"flex justify-between items-center mb-4",children:i.jsx("button",{type:"button",onClick:xe,className:"ml-auto px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md",children:"+ Toevoegen"})}),$.length===0&&i.jsx("p",{className:"text-gray-500 italic mb-4",children:"Nog geen certificaten toegevoegd."}),$.map((We,de)=>{var et,be,ht,Xe,Fe,ce,P,J,te,ye,le,se,Ee,Ke,nt,ft;return i.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[i.jsxs("div",{className:"flex justify-between mb-4",children:[i.jsxs("h3",{className:"font-medium",children:["Certificaat ",de+1]}),i.jsx("button",{type:"button",onClick:()=>I(de),className:"text-red-500 px-2 py-1 rounded hover:bg-red-100",children:"X"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Naam certificaat"}),i.jsx("input",{...S(`certificaten.${de}.naam`,{required:"Naam certificaat is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":(be=(et=H.certificaten)==null?void 0:et[de])!=null&&be.naam?"true":"false"}),((Xe=(ht=H.certificaten)==null?void 0:ht[de])==null?void 0:Xe.naam)&&i.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:typeof((ce=(Fe=H.certificaten[de])==null?void 0:Fe.naam)==null?void 0:ce.message)=="string"?(J=(P=H.certificaten[de])==null?void 0:P.naam)==null?void 0:J.message:"Naam certificaat is verplicht"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Uitgever"}),i.jsx("input",{...S(`certificaten.${de}.uitgever`,{required:"Uitgever is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":(ye=(te=H.certificaten)==null?void 0:te[de])!=null&&ye.uitgever?"true":"false"}),((se=(le=H.certificaten)==null?void 0:le[de])==null?void 0:se.uitgever)&&i.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:typeof((Ke=(Ee=H.certificaten[de])==null?void 0:Ee.uitgever)==null?void 0:Ke.message)=="string"?(ft=(nt=H.certificaten[de])==null?void 0:nt.uitgever)==null?void 0:ft.message:"Uitgever is verplicht"})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:i.jsx("div",{children:i.jsx(uo,{name:`certificaten.${de}.datum`,control:U,label:"Datum",errors:H})})}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beschrijving"}),i.jsx("textarea",{...S(`certificaten.${de}.beschrijving`),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Beschrijf het certificaat en relevante informatie"})]})]},We.id)})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:jt("talen")}),i.jsxs("div",{className:"bg-white rounded-lg",children:[i.jsx("div",{className:"flex justify-between items-center mb-4",children:i.jsx("button",{type:"button",onClick:Vt,className:"ml-auto px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md",children:"+ Toevoegen"})}),Ve.length===0&&i.jsx("p",{className:"text-gray-500 italic mb-4",children:"Nog geen talen toegevoegd."}),Ve.map((We,de)=>{var et,be,ht,Xe,Fe,ce;return i.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Taal"}),i.jsx("input",{...S(`talen.${de}.taal`,{required:"Taal is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":(be=(et=H.talen)==null?void 0:et[de])!=null&&be.taal?"true":"false"}),((Xe=(ht=H.talen)==null?void 0:ht[de])==null?void 0:Xe.taal)&&i.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:(ce=(Fe=H.talen[de])==null?void 0:Fe.taal)==null?void 0:ce.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Niveau"}),i.jsxs("select",{...S(`talen.${de}.niveau`),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[i.jsx("option",{value:"Basis",children:"Basis"}),i.jsx("option",{value:"Gemiddeld",children:"Gemiddeld"}),i.jsx("option",{value:"Goed",children:"Goed"}),i.jsx("option",{value:"Vloeiend",children:"Vloeiend"}),i.jsx("option",{value:"Moedertaal",children:"Moedertaal"})]})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{type:"button",onClick:()=>ne(de),className:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-md",children:"Verwijderen"})})]},We.id)})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:jt("hobbys")}),i.jsxs("div",{className:"bg-white rounded-lg",children:[i.jsx("div",{className:"flex justify-between items-center mb-4",children:i.jsx("button",{type:"button",onClick:vt,className:"ml-auto px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md",children:"+ Toevoegen"})}),ee.length===0&&i.jsx("p",{className:"text-gray-500 italic mb-4",children:"Nog geen hobby's toegevoegd."}),ee.map((We,de)=>{var et,be,ht,Xe,Fe,ce;return i.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4 mb-4",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Naam"}),i.jsx("input",{...S(`hobbys.${de}.naam`,{required:"Naam is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":(be=(et=H.hobbys)==null?void 0:et[de])!=null&&be.naam?"true":"false"}),((Xe=(ht=H.hobbys)==null?void 0:ht[de])==null?void 0:Xe.naam)&&i.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:(ce=(Fe=H.hobbys[de])==null?void 0:Fe.naam)==null?void 0:ce.message})]})}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{type:"button",onClick:()=>G(de),className:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-md",children:"Verwijderen"})})]},We.id)})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:[i.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:jt("vaardigheden")}),i.jsxs("div",{className:"bg-white rounded-lg",children:[i.jsx("div",{className:"flex justify-between items-center mb-4",children:i.jsxs("div",{children:[i.jsx("button",{type:"button",onClick:()=>Mt("soft"),className:"mr-2 px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md",children:"Soft Skills"}),i.jsx("button",{type:"button",onClick:()=>Mt("hard"),className:"px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md",children:"Hard Skills"})]})}),ae.length===0&&i.jsx("p",{className:"text-gray-500 italic mb-4",children:"Nog geen vaardigheden toegevoegd."}),ae.map((We,de)=>{var et,be,ht,Xe,Fe,ce;return i.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Naam"}),i.jsx("input",{...S(`vaardigheden.${de}.naam`,{required:"Naam is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":(be=(et=H.vaardigheden)==null?void 0:et[de])!=null&&be.naam?"true":"false"}),((Xe=(ht=H.vaardigheden)==null?void 0:ht[de])==null?void 0:Xe.naam)&&i.jsx("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:(ce=(Fe=H.vaardigheden[de])==null?void 0:Fe.naam)==null?void 0:ce.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),i.jsxs("select",{...S(`vaardigheden.${de}.type`),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[i.jsx("option",{value:"soft",children:"Soft Skill"}),i.jsx("option",{value:"hard",children:"Hard Skill"})]})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Niveau"}),i.jsx("input",{...S(`vaardigheden.${de}.niveau`,{setValueAs:P=>typeof P=="string"?parseInt(P,10)||0:P}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",type:"number",min:"1",max:"5"})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{type:"button",onClick:()=>ie(de),className:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-md",children:"Verwijderen"})})]},We.id)})]})]}),i.jsx("div",{className:"mt-6",children:i.jsx("button",{type:"submit",disabled:x,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-md",children:x?"Opslaan...":"Opslaan"})})]})})},IR=({user:r,onSuccess:e,onError:t,setLoading:n})=>{var $,q;const{register:a,handleSubmit:l,reset:u,setValue:f,watch:m,formState:{errors:g}}=ms(),[x,_]=z.useState((($=r.profile)==null?void 0:$.cv)||r.cv||""),[w,S]=z.useState(((q=r.profile)==null?void 0:q.profilePhoto)||r.profilePhoto||""),[U,B]=z.useState(!1),O=m("isAvailableForWork");z.useEffect(()=>{B(!!O)},[O]),z.useEffect(()=>{console.log("User profiel bijgewerkt, formulier resetten",JSON.stringify(r,null,2));const I={displayName:"",phoneNumber:"",street:"",houseNumber:"",postalCode:"",city:"",country:"",skills:"",availability:"",cv:"",linkedin:"",portfolio:"",experience:"",education:"",profilePhoto:"",isAvailableForWork:!1};if(I.displayName=r.displayName||"",I.phoneNumber=r.phoneNumber||r.phone||"",I.street=r.street||"",I.houseNumber=r.houseNumber||"",I.postalCode=r.postalCode||"",I.city=r.city||"",I.country=r.country||"",r.address&&typeof r.address=="object"){const k=r.address;I.street||(I.street=k.street||""),I.houseNumber||(I.houseNumber=k.houseNumber||""),I.postalCode||(I.postalCode=k.postalCode||""),I.city||(I.city=k.city||""),I.country||(I.country=k.country||"")}if(r.profile){if(console.log("Profielgegevens gevonden:",JSON.stringify(r.profile,null,2)),r.profile.address&&typeof r.profile.address=="object"){const L=r.profile.address;I.street||(I.street=L.street||""),I.houseNumber||(I.houseNumber=L.houseNumber||""),I.postalCode||(I.postalCode=L.postalCode||""),I.city||(I.city=L.city||""),I.country||(I.country=L.country||"")}const k=r.profile;k.skills&&(I.skills=Array.isArray(k.skills)?k.skills.join(", "):typeof k.skills=="string"?k.skills:""),I.availability=k.availability||"",I.isAvailableForWork=k.isAvailableForWork===!0,B(k.isAvailableForWork===!0),I.cv=k.cv||"",I.linkedin=k.linkedin||"",I.portfolio=k.portfolio||"",k.experience&&(I.experience=typeof k.experience=="string"?k.experience:Array.isArray(k.experience)?JSON.stringify(k.experience):""),k.education&&(I.education=Array.isArray(k.education)?k.education.join(", "):typeof k.education=="string"?k.education:""),k.profilePhoto&&(S(k.profilePhoto),I.profilePhoto=k.profilePhoto)}const j=r.profilePhoto||r.photoURL||(r.profile&&r.profile.profilePhoto?r.profile.profilePhoto:"");j&&(console.log("Profielfoto URL gevonden:",j),S(j),I.profilePhoto=j);const N=r.cv||(r.profile&&r.profile.cv?r.profile.cv:"");N&&(_(N),I.cv=N),console.log("Formulier reset met waarden:",I),u(I)},[r,u]);const H=I=>{_(I),f("cv",I)},V=async I=>{try{n(!0);const j=Zp(),N=rs.currentUser;if(!N)throw new Error("Je bent niet ingelogd. Log opnieuw in om je profielfoto te uploaden.");const L=`profile-${new Date().getTime()}-${I.name}`,F=oh(j,`profile-photos/${N.uid}/${L}`);console.log("Profielfoto uploaden naar:",`profile-photos/${N.uid}/${L}`),await sh(F,I),console.log("Profielfoto gepload, nu de download URL ophalen");const D=await ih(F);console.log("Profielfoto URL ontvangen:",D),S(D),f("profilePhoto",D);const C=ct($e,"users",N.uid);return await Pr(C,{profilePhoto:D,photoURL:D,"profile.profilePhoto":D,updatedAt:ds()}),console.log("Profielfoto succesvol bijgewerkt in profiel"),D}catch(j){throw console.error("Fout bij uploaden profielfoto:",j),t("Er is een fout opgetreden bij het uploaden van je profielfoto. Probeer het later opnieuw."),j}finally{n(!1)}},T=async I=>{if(!rs.currentUser){t("Je bent niet ingelogd. Log opnieuw in om je profiel op te slaan.");return}console.log("Profielgegevens worden opgeslagen:",I),n(!0);try{const j=rs.currentUser.uid,N=ct($e,"users",j),k={street:I.street||"",houseNumber:I.houseNumber||"",postalCode:I.postalCode||"",city:I.city||"",country:I.country||""},L={address:k,skills:I.skills?I.skills.split(",").map(D=>D.trim()):[],availability:I.availability||"",isAvailableForWork:I.isAvailableForWork===!0,cv:x||I.cv||"",linkedin:I.linkedin||"",portfolio:I.portfolio||"",experience:I.experience||"",education:I.education?I.education.split(",").map(D=>D.trim()):[],profilePhoto:w||I.profilePhoto||""},F={displayName:I.displayName||"",phoneNumber:I.phoneNumber||"",phone:I.phoneNumber||"",photoURL:L.profilePhoto,street:k.street,houseNumber:k.houseNumber,postalCode:k.postalCode,city:k.city,country:k.country,address:k,profile:L,profilePhoto:L.profilePhoto,cv:L.cv,updatedAt:ds()};console.log("Bijgewerkte gebruikersgegevens die worden opgeslagen:",JSON.stringify(F,null,2)),await Pr(N,F),console.log("Profiel succesvol bijgewerkt"),n(!1),f("street",I.street||""),f("houseNumber",I.houseNumber||""),f("postalCode",I.postalCode||""),f("city",I.city||""),f("country",I.country||""),f("phoneNumber",I.phoneNumber||""),e()}catch(j){console.error("Fout bij het bijwerken van profiel:",j),n(!1),t(j instanceof Error?j.message:"Er is een onbekende fout opgetreden")}};return i.jsx("div",{children:i.jsxs("div",{className:"space-y-8",children:[i.jsxs("form",{onSubmit:l(T),children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"Persoonlijke gegevens"}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profielfoto"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[w?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:w,alt:"Profielfoto",className:"w-20 h-20 rounded-full object-cover border-2 border-primary-500",onError:I=>{console.error("Fout bij laden profielfoto:",I),I.target.src="https://via.placeholder.com/80?text=Foto"}}),i.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center cursor-pointer",onClick:()=>{S(""),f("profilePhoto","")},children:""})]}):i.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-200 flex items-center justify-center",children:i.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),i.jsxs("div",{children:[i.jsx("input",{type:"file",accept:"image/*",onChange:I=>{var N;const j=(N=I.target.files)==null?void 0:N[0];j&&V(j).then(()=>console.log("Profielfoto succesvol bijgewerkt")).catch(k=>console.error("Fout bij uploaden:",k))},className:"hidden",id:"profilePhoto"}),i.jsxs("label",{htmlFor:"profilePhoto",className:"cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[i.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})}),"Foto uploaden"]}),w&&i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Profielfoto succesvol geladen"})]})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Naam"}),i.jsx("input",{type:"text",...a("displayName",{required:"Naam is verplicht"}),className:`w-full px-3 py-2 border rounded-md ${g.displayName?"border-red-500":"border-gray-300"}`}),g.displayName&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:g.displayName.message})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefoonnummer"}),i.jsx("input",{type:"tel",...a("phoneNumber"),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"Adresgegevens"}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Straat"}),i.jsx("input",{type:"text",...a("street"),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Huisnummer"}),i.jsx("input",{type:"text",...a("houseNumber"),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postcode"}),i.jsx("input",{type:"text",...a("postalCode"),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plaats"}),i.jsx("input",{type:"text",...a("city"),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Land"}),i.jsx("input",{type:"text",...a("country"),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]}),i.jsxs("div",{className:"mt-8 mb-8",children:[i.jsx("h2",{className:"text-xl font-medium mb-4",children:"Curriculum Vitae Document"}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Hieronder kun je een CV-document uploaden dat recruiters kunnen downloaden. Ondersteunde formaten zijn PDF, DOC en DOCX."}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx(ER,{currentCvUrl:x,userId:r.id,onUploadSuccess:H,onUploadError:I=>t(I)}),i.jsx("input",{type:"hidden",...a("cv")})]}),i.jsx("div",{children:i.jsx(kR,{cvUrl:x})})]})]}),i.jsxs("div",{className:"mt-8 mb-8",children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"Professionele informatie"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beschikbaarheid"}),i.jsxs("select",{...a("availability"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[i.jsx("option",{value:"",children:"Selecteer beschikbaarheid"}),i.jsx("option",{value:"Fulltime",children:"Fulltime"}),i.jsx("option",{value:"Parttime",children:"Parttime"}),i.jsx("option",{value:"Freelance",children:"Freelance"}),i.jsx("option",{value:"Stage",children:"Stage"})]})]}),i.jsx("div",{className:"mb-4",children:i.jsxs("div",{className:"flex items-center space-x-3 mt-4",children:[i.jsx("label",{htmlFor:"isAvailableForWork",className:"block text-sm font-medium text-gray-700 cursor-pointer",onClick:()=>{const I=!U;B(I),f("isAvailableForWork",I)},children:"Beschikbaar voor werk"}),i.jsxs("div",{className:"relative inline-block w-14 mr-2 align-middle select-none",children:[i.jsx("input",{type:"checkbox",id:"isAvailableForWork",...a("isAvailableForWork"),className:"sr-only",onChange:I=>{f("isAvailableForWork",I.target.checked),B(I.target.checked)}}),i.jsx("div",{className:`toggle-bg block h-8 rounded-full cursor-pointer w-14 transition-colors duration-200 ease-in-out ${U?"bg-primary-600":"bg-gray-200"}`,onClick:()=>{const I=!U;B(I),f("isAvailableForWork",I)}}),i.jsx("div",{className:`dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full shadow transition-transform duration-200 ease-in-out ${U?"transform translate-x-6":""}`})]}),i.jsx("span",{className:"text-sm text-gray-500 cursor-pointer",onClick:()=>{const I=!U;B(I),f("isAvailableForWork",I)},children:"Recruiters kunnen je profiel zien als dit is ingeschakeld"})]})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"LinkedIn"}),i.jsx("input",{type:"url",...a("linkedin"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"https://linkedin.com/in/jouwprofiel"})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Portfolio URL"}),i.jsx("input",{type:"url",...a("portfolio"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"https://jouwportfolio.com"})]})]})]}),i.jsx("div",{className:"mt-6 mb-10",children:i.jsx("button",{type:"submit",className:"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",children:"Basisprofiel opslaan"})})]}),i.jsxs("div",{className:"border-t border-gray-200 pt-8 mb-6",children:[i.jsxs("div",{className:"flex items-center mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Uitgebreid CV"}),i.jsx("div",{className:"ml-4 flex-1 border-t border-gray-200"})]}),i.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-8",children:i.jsxs("div",{className:"flex",children:[i.jsx("div",{className:"flex-shrink-0",children:i.jsx("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),i.jsx("div",{className:"ml-3",children:i.jsx("p",{className:"text-sm text-blue-700",children:"Hieronder kun je een gedetailleerd CV maken met specifieke informatie over je werkervaring, opleidingen, stages, certificaten, talen en hobby's. Deze informatie wordt opgeslagen in je profiel en is zichtbaar voor recruiters."})})]})})]}),i.jsx(TR,{user:r,onSuccess:e,onError:t,setLoading:n})]})})},wx=r=>{try{const e=localStorage.getItem(`recruiterForm_${r}`);return e?JSON.parse(e):{}}catch(e){return console.error("Fout bij ophalen formuliergegevens uit localStorage:",e),{}}},_x=(r,e)=>{try{localStorage.setItem(`recruiterForm_${r}`,JSON.stringify(e))}catch(t){console.error("Fout bij opslaan formuliergegevens in localStorage:",t)}},Br={},SR=({user:r,onSuccess:e,onError:t,setLoading:n})=>{const[a,l]=z.useState({}),[u,f]=z.useState(!1),[m,g]=z.useState(""),{register:x,handleSubmit:_,reset:w,formState:{errors:S},setValue:U,getValues:B}=ms({shouldUnregister:!1,defaultValues:a,mode:"onChange"}),O=(T,$)=>{if(Br[T]=$,r.id){const q=wx(r.id);_x(r.id,{...q,[T]:$})}};z.useEffect(()=>{if(!r||!r.id)return;const T=r.profile||{},$=r.id?wx(r.id):{},q=u?{}:$,I={displayName:q.displayName||Br.displayName||r.displayName||"",phoneNumber:q.phoneNumber||Br.phoneNumber||r.phoneNumber||"",companyName:q.companyName||Br.companyName||r.companyName||T.company||"",position:q.position||Br.position||T.position||"",companyLogo:q.companyLogo||Br.companyLogo||T.companyLogo||"",companyWebsite:q.companyWebsite||Br.companyWebsite||T.companyWebsite||"",companyDescription:q.companyDescription||Br.companyDescription||T.companyDescription||"",companyStreet:q.companyStreet||Br.companyStreet||r.companyStreet||"",companyHouseNumber:q.companyHouseNumber||Br.companyHouseNumber||r.companyHouseNumber||"",companyPostalCode:q.companyPostalCode||Br.companyPostalCode||r.companyPostalCode||"",companyCity:q.companyCity||Br.companyCity||r.companyCity||"",kvkNumber:q.kvkNumber||Br.kvkNumber||r.kvkNumber||T.kvkNumber||"",profilePhoto:q.profilePhoto||Br.profilePhoto||r.profilePhoto||T.profilePhoto||""},j=r.profilePhoto||r.photoURL||(r.profile&&r.profile.profilePhoto?r.profile.profilePhoto:"");j&&(console.log("Profielfoto URL gevonden:",j),g(j),I.profilePhoto=j),l(I),w(I),Object.entries(I).forEach(([N,k])=>{k&&U(N,k)}),u&&f(!1),console.log("Formulier reset met waarden:",I)},[r,w,U,u]);const H=async T=>{try{n(!0);const $=Zp(),q=rs.currentUser;if(!q)throw new Error("Je bent niet ingelogd. Log opnieuw in om je profielfoto te uploaden.");const j=`profile-${new Date().getTime()}-${T.name}`,N=oh($,`profile-photos/${q.uid}/${j}`);console.log("Profielfoto uploaden naar:",`profile-photos/${q.uid}/${j}`),await sh(N,T),console.log("Profielfoto gepload, nu de download URL ophalen");const k=await ih(N);console.log("Profielfoto URL ontvangen:",k),g(k),U("profilePhoto",k);const L=ct($e,"users",q.uid);return await Pr(L,{profilePhoto:k,photoURL:k,"profile.profilePhoto":k,updatedAt:ds()}),console.log("Profielfoto succesvol bijgewerkt in profiel"),k}catch($){throw console.error("Fout bij uploaden profielfoto:",$),t("Er is een fout opgetreden bij het uploaden van je profielfoto. Probeer het later opnieuw."),$}finally{n(!1)}},V=async T=>{try{n(!0),Object.keys(T).forEach(I=>{O(I,T[I])}),r.id&&_x(r.id,T);const $={...r,displayName:T.displayName,phoneNumber:T.phoneNumber,phone:T.phoneNumber,profilePhoto:m||T.profilePhoto||"",photoURL:m||T.profilePhoto||"",companyName:T.companyName,companyStreet:T.companyStreet,companyHouseNumber:T.companyHouseNumber,companyPostalCode:T.companyPostalCode,companyCity:T.companyCity,kvkNumber:T.kvkNumber,address:{street:T.companyStreet,houseNumber:T.companyHouseNumber,postalCode:T.companyPostalCode,city:T.companyCity},profile:{...r.profile||{},company:T.companyName,position:T.position,companyLogo:T.companyLogo,companyWebsite:T.companyWebsite,companyDescription:T.companyDescription,kvkNumber:T.kvkNumber,phoneNumber:T.phoneNumber,phone:T.phoneNumber,profilePhoto:m||T.profilePhoto||"",address:{street:T.companyStreet,houseNumber:T.companyHouseNumber,postalCode:T.companyPostalCode,city:T.companyCity},companyStreet:T.companyStreet,companyHouseNumber:T.companyHouseNumber,companyPostalCode:T.companyPostalCode,companyCity:T.companyCity},updatedAt:ds()};if(!r.id)throw new Error("Gebruiker ID is niet beschikbaar");console.log("Gebruikersdata die wordt opgeslagen:",JSON.stringify($,null,2));const q=ct($e,"users",r.id);await Pr(q,$),f(!0),setTimeout(()=>{Object.entries(T).forEach(([I,j])=>{U(I,j)})},200),e()}catch($){console.error("Fout bij bijwerken profiel:",$),t("Er is een fout opgetreden bij het opslaan van je profiel. Probeer het later opnieuw.")}finally{n(!1)}};return i.jsxs("form",{onSubmit:_(V),className:"space-y-8",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"Persoonlijke gegevens"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Naam"}),i.jsx("input",{type:"text",...x("displayName",{required:"Naam is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",onChange:T=>O("displayName",T.target.value)}),S.displayName&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:S.displayName.message})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefoonnummer"}),i.jsx("input",{type:"tel",...x("phoneNumber"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"+31 6 12345678",onChange:T=>O("phoneNumber",T.target.value)})]}),i.jsxs("div",{className:"mb-6 col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profielfoto"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[m?i.jsxs("div",{className:"relative",children:[i.jsx("img",{src:m,alt:"Profielfoto",className:"w-20 h-20 rounded-full object-cover border-2 border-primary-500",onError:T=>{console.error("Fout bij laden profielfoto:",T),T.target.src="https://via.placeholder.com/80?text=Foto"}}),i.jsx("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center cursor-pointer",onClick:()=>{g(""),U("profilePhoto","")},children:""})]}):i.jsx("div",{className:"w-20 h-20 rounded-full bg-gray-200 flex items-center justify-center",children:i.jsx("svg",{className:"w-10 h-10 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),i.jsxs("div",{children:[i.jsx("input",{type:"file",accept:"image/*",onChange:T=>{var q;const $=(q=T.target.files)==null?void 0:q[0];$&&H($).then(()=>console.log("Profielfoto succesvol bijgewerkt")).catch(I=>console.error("Fout bij uploaden:",I))},className:"hidden",id:"profilePhoto"}),i.jsxs("label",{htmlFor:"profilePhoto",className:"cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[i.jsx("svg",{className:"-ml-1 mr-2 h-5 w-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})}),"Foto uploaden"]}),m&&i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Profielfoto succesvol geladen"})]})]})]})]})]}),i.jsxs("div",{className:"mt-8",children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"Bedrijfsgegevens"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bedrijfsnaam"}),i.jsx("input",{type:"text",...x("companyName",{required:"Bedrijfsnaam is verplicht"}),className:`w-full px-3 py-2 border rounded-md ${S.companyName?"border-red-500":"border-gray-300"}`,onChange:T=>O("companyName",T.target.value)}),S.companyName&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:S.companyName.message})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),i.jsx("input",{type:"url",...x("companyWebsite"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"https://bedrijf.nl",onChange:T=>O("companyWebsite",T.target.value)})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"KVK-nummer"}),i.jsx("input",{type:"text",...x("kvkNumber"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",onChange:T=>O("kvkNumber",T.target.value)})]})]})]}),i.jsxs("div",{className:"mt-8",children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"Bedrijfsadres"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Straat"}),i.jsx("input",{type:"text",...x("companyStreet"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",onChange:T=>O("companyStreet",T.target.value)})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Huisnummer"}),i.jsx("input",{type:"text",...x("companyHouseNumber"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",onChange:T=>O("companyHouseNumber",T.target.value)})]})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postcode"}),i.jsx("input",{type:"text",...x("companyPostalCode"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",onChange:T=>O("companyPostalCode",T.target.value)})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plaats"}),i.jsx("input",{type:"text",...x("companyCity"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",onChange:T=>O("companyCity",T.target.value)})]})]})]})]}),i.jsxs("div",{className:"mt-8",children:[i.jsx("h2",{className:"text-lg font-medium mb-4",children:"Over het bedrijf"}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo URL"}),i.jsx("input",{type:"url",...x("companyLogo"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"https://bedrijf.nl/logo.png",onChange:T=>O("companyLogo",T.target.value)}),i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"URL naar het bedrijfslogo voor op vacatures"})]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bedrijfsomschrijving"}),i.jsx("textarea",{...x("companyDescription"),rows:5,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Vertel kandidaten meer over je bedrijf...",onChange:T=>O("companyDescription",T.target.value)})]})]}),i.jsx("div",{className:"mt-6",children:i.jsx("button",{type:"submit",className:"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",children:"Profiel opslaan"})})]})},jx=()=>{const{currentUser:r,createOrUpdateProfile:e}=_t(),[t,n]=z.useState(!1),[a,l]=z.useState(null),[u,f]=z.useState(!1),[m,g]=z.useState("werkzoekende"),[x,_]=z.useState((r==null?void 0:r.displayName)||""),w=async()=>{if(!r){l("Je moet ingelogd zijn om je profiel te herstellen");return}if(!x.trim()){l("Voer een naam in");return}try{n(!0),l(null);const S=await e(x,m);console.log("Profiel succesvol hersteld:",S),f(!0),setTimeout(()=>{window.location.reload()},2e3)}catch(S){console.error("Fout bij het herstellen van profiel:",S),l("Er is een fout opgetreden bij het herstellen van je profiel. Probeer het opnieuw.")}finally{n(!1)}};return i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 mt-4",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Profiel herstellen"}),a&&i.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 p-4 mb-4",children:i.jsx("p",{className:"text-red-700",children:a})}),u&&i.jsx("div",{className:"bg-green-100 border-l-4 border-green-500 p-4 mb-4",children:i.jsx("p",{className:"text-green-700",children:"Profiel succesvol hersteld! De pagina wordt opnieuw geladen..."})}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Je naam"}),i.jsx("input",{type:"text",value:x,onChange:S=>_(S.target.value),disabled:t||u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary-500",placeholder:"Vul je naam in"})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-gray-700 font-medium mb-2",children:"Gebruikerstype"}),i.jsxs("div",{className:"flex space-x-6",children:[i.jsxs("label",{className:"inline-flex items-center",children:[i.jsx("input",{type:"radio",value:"werkzoekende",checked:m==="werkzoekende",onChange:()=>g("werkzoekende"),disabled:t||u,className:"h-4 w-4 text-primary-600 focus:ring-primary-500"}),i.jsx("span",{className:"ml-2",children:"Werkzoekende"})]}),i.jsxs("label",{className:"inline-flex items-center",children:[i.jsx("input",{type:"radio",value:"recruiter",checked:m==="recruiter",onChange:()=>g("recruiter"),disabled:t||u,className:"h-4 w-4 text-primary-600 focus:ring-primary-500"}),i.jsx("span",{className:"ml-2",children:"Recruiter"})]})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{onClick:w,disabled:t||u,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50",children:t?"Bezig...":u?"Profiel Hersteld":"Profiel Herstellen"})})]})},qu=()=>{const{userProfile:r,currentUser:e,loading:t,refreshUserProfile:n,createOrUpdateProfile:a}=_t(),[l,u]=z.useState(!1),[f,m]=z.useState(null),[g,x]=z.useState(!1),[_,w]=z.useState(!1),S=kr();if(t)return i.jsxs("div",{className:"flex justify-center items-center h-screen",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"}),i.jsx("div",{className:"ml-4",children:"Profiel laden..."})]});if(!e||!r)return i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[i.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Profiel niet gevonden"}),i.jsx("p",{className:"mb-6",children:"Het lijkt erop dat je profiel niet beschikbaar is. Je kunt het opnieuw aanmaken hieronder."}),i.jsx(jx,{})]});const U=async()=>{try{u(!0),m(null),await a(r.displayName||"Gebruiker","werkzoekende"),x(!0),setTimeout(()=>x(!1),3e3)}catch(O){console.error("Fout bij repareren profiel:",O),m("Kon profiel niet repareren. Probeer later opnieuw.")}finally{u(!1)}},B=()=>uh(r)||(r==null?void 0:r.role)==="werkzoekende"||(r==null?void 0:r.userType)==="werkzoekende"?i.jsx(IR,{user:r,onSuccess:()=>{n().then(()=>{x(!0),setTimeout(()=>x(!1),3e3)}).catch(O=>{console.error("Fout bij verversen profiel na opslaan:",O)})},onError:O=>m(O),setLoading:u}):dh(r)||(r==null?void 0:r.role)==="recruiter"||(r==null?void 0:r.userType)==="recruiter"?i.jsx(SR,{user:r,onSuccess:()=>{x(!0),setTimeout(()=>{n().then(()=>{console.log("Profiel succesvol ververst na vertraging"),setTimeout(()=>x(!1),3e3)}).catch(O=>{console.error("Fout bij verversen profiel na opslaan:",O)})},500)},onError:O=>m(O),setLoading:u}):i.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 p-4 mb-6",children:[i.jsx("p",{className:"font-bold",children:"Profieltype niet herkend"}),i.jsx("p",{children:"We kunnen niet bepalen welk type profiel je hebt. Maak je profiel opnieuw aan om dit op te lossen."}),i.jsx("div",{className:"mt-4",children:i.jsx(jx,{})})]});return i.jsxs("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[i.jsxs("div",{className:"mb-6 flex justify-between items-center",children:[i.jsx("h1",{className:"text-2xl font-bold",children:"Mijn Profiel"}),i.jsx("button",{onClick:()=>S("/dashboard"),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300",children:"Terug naar dashboard"})]}),f&&i.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 p-4 mb-6",children:i.jsx("p",{className:"text-red-700",children:f})}),g&&i.jsx("div",{className:"bg-green-100 border-l-4 border-green-500 p-4 mb-6",children:i.jsx("p",{className:"text-green-700",children:"Profiel succesvol bijgewerkt!"})}),r&&!r.profile&&i.jsxs("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 p-4 mb-6",children:[i.jsx("p",{className:"font-bold",children:"Profiel onvolledig"}),i.jsx("p",{children:"Je profiel lijkt onvolledig of beschadigd te zijn. Klik op 'Profiel repareren' om dit probleem op te lossen."}),i.jsx("div",{className:"mt-4",children:i.jsx("button",{onClick:U,disabled:l,className:"px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 disabled:opacity-50",children:l?"Bezig...":"Profiel repareren als werkzoekende"})})]}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[B(),i.jsx("div",{className:"mt-8 pt-6 border-t",children:i.jsx("div",{className:"flex justify-end items-center",children:i.jsx("button",{onClick:()=>S("/dashboard"),className:"px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700",children:"Opslaan en terug"})})})]})]})},tr=()=>{const{currentUser:r,logout:e,userProfile:t}=_t(),n=$a(),a=n.pathname==="/"||n.pathname==="/home";let l=0;try{const{getUnreadCount:m}=ig();r&&(l=m())}catch(m){console.error("MessageContext niet beschikbaar:",m)}const u=(t==null?void 0:t.role)==="recruiter"||(t==null?void 0:t.userType)==="recruiter",f=(t==null?void 0:t.role)==="werkzoekende"||(t==null?void 0:t.userType)==="werkzoekende";return z.useEffect(()=>{console.log("Header userProfile:",t),console.log("isRecruiter:",u),console.log("isJobSeeker:",f)},[t,u,f]),i.jsx("header",{className:`w-full ${a?"bg-transparent absolute top-0 z-10":"bg-white shadow-sm"}`,children:i.jsx("div",{className:"container mx-auto px-4 py-4",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx(Pt,{to:"/",className:"flex items-center",children:i.jsx("span",{className:`text-2xl font-bold ${a?"text-white":"text-primary-600"}`,children:"PitchPro"})}),i.jsxs("nav",{className:"hidden md:flex space-x-6",children:[i.jsx(Pt,{to:"/",className:`${a?"text-white":"text-gray-700"} hover:opacity-80`,children:"Home"}),i.jsx(Pt,{to:"/about",className:`${a?"text-white":"text-gray-700"} hover:opacity-80`,children:"Over ons"}),u&&i.jsx(Pt,{to:"/candidates",className:`${a?"text-white":"text-gray-700"} hover:opacity-80`,children:"Kandidaten"}),!u&&r&&i.jsx(Pt,{to:"/jobs",className:`${a?"text-white":"text-gray-700"} hover:opacity-80`,children:"Vacatures"}),r&&i.jsx(Pt,{to:"/dashboard",className:`${a?"text-white":"text-gray-700"} hover:opacity-80`,children:"Dashboard"})]}),i.jsx("div",{className:"flex items-center",children:r?i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(Pt,{to:"/messages",className:`${a?"text-white":"text-gray-700"} hover:opacity-80 relative`,"aria-label":"Berichten",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),l>0&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:l>99?"99+":l})]}),i.jsx(Pt,{to:"/agenda",className:`${a?"text-white":"text-gray-700"} hover:opacity-80 relative`,"aria-label":"Agenda",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),i.jsx(Pt,{to:"/profile",className:`${a?"text-white":"text-gray-700"} hover:opacity-80`,children:"Profiel"}),i.jsx("button",{onClick:()=>e(),className:`px-4 py-2 rounded-md ${a?"border border-white text-white hover:bg-white hover:text-primary-600":"border border-primary-600 text-primary-600 hover:bg-primary-600 hover:text-white"} transition-colors`,children:"Uitloggen"})]}):i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx(Pt,{to:"/login",className:`${a?"text-white":"text-gray-700"} hover:opacity-80`,children:"Inloggen"}),i.jsx(Pt,{to:"/register",className:`px-4 py-2 rounded-md ${a?"bg-white text-primary-600 hover:bg-opacity-90":"bg-primary-600 text-white hover:bg-primary-700"} transition-colors`,children:"Registreren"})]})})]})})})},Wr=()=>{const[r,e]=z.useState(""),[t,n]=z.useState(!1),a=l=>{l.preventDefault(),console.log("Aangemeld voor nieuwsbrief met email:",r),n(!0),e(""),setTimeout(()=>{n(!1)},5e3)};return i.jsx("footer",{className:"bg-gray-800 text-white py-12",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx("div",{className:"mb-12 border-b border-gray-700 pb-10",children:i.jsxs("div",{className:"max-w-xl mx-auto text-center",children:[i.jsx("h3",{className:"text-2xl font-bold mb-4",children:"Blijf op de hoogte"}),i.jsx("p",{className:"text-gray-400 mb-6",children:"Meld je aan voor onze nieuwsbrief en ontvang de nieuwste vacatures en tips rechtstreeks in je inbox."}),t?i.jsx("div",{className:"bg-green-800 text-green-100 rounded-md p-3 mb-4",children:"Bedankt voor je aanmelding! Je ontvangt binnenkort onze nieuwsbrief."}):i.jsxs("form",{onSubmit:a,className:"flex flex-col sm:flex-row gap-2 justify-center",children:[i.jsx("input",{type:"email",value:r,onChange:l=>e(l.target.value),placeholder:"Jouw e-mailadres",required:!0,className:"px-4 py-2 rounded-md bg-gray-700 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent flex-grow max-w-xs"}),i.jsx("button",{type:"submit",className:"px-6 py-2 bg-primary-600 text-white font-medium rounded-md hover:bg-primary-700 transition-colors",children:"Aanmelden"})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold mb-4",children:"PitchPro"}),i.jsx("p",{className:"text-gray-400 mb-4",children:"Het moderne recruitmentplatform dat kandidaten en recruiters met elkaar verbindt."})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Links"}),i.jsxs("ul",{className:"space-y-2 text-gray-400",children:[i.jsx("li",{children:i.jsx("a",{href:"/",className:"hover:text-white transition-colors",children:"Home"})}),i.jsx("li",{children:i.jsx("a",{href:"/jobs",className:"hover:text-white transition-colors",children:"Vacatures"})}),i.jsx("li",{children:i.jsx("a",{href:"/candidates",className:"hover:text-white transition-colors",children:"Kandidaten"})}),i.jsx("li",{children:i.jsx("a",{href:"/about",className:"hover:text-white transition-colors",children:"Over ons"})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Juridisch"}),i.jsxs("ul",{className:"space-y-2 text-gray-400",children:[i.jsx("li",{children:i.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Voorwaarden"})}),i.jsx("li",{children:i.jsx("a",{href:"#",className:"hover:text-white transition-colors",children:"Cookiebeleid"})})]})]}),i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Volg ons"}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsx("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white","aria-label":"LinkedIn",children:i.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})}),i.jsx("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white","aria-label":"Twitter",children:i.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124-4.09-.193-7.715-2.157-10.141-5.126-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 14-7.503 14-14 0-.21-.005-.418-.015-.628.961-.689 1.8-1.56 2.46-2.548l-.047-.02z"})})}),i.jsx("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white","aria-label":"Facebook",children:i.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"})})}),i.jsx("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white","aria-label":"Instagram",children:i.jsx("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})]})]})]}),i.jsxs("div",{className:"mt-12 pt-8 border-t border-gray-700 text-center text-gray-400 text-sm",children:[" ",new Date().getFullYear()," PitchPro. Alle rechten voorbehouden."]})]})})},AR=()=>{const{currentUser:r}=_t();return i.jsxs("div",{className:"min-h-screen bg-white",children:[i.jsx(tr,{}),i.jsx("div",{className:"bg-gradient-to-br from-primary-600 to-primary-800 text-white pt-20",children:i.jsx("div",{className:"container mx-auto px-4 py-16 md:py-24",children:i.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[i.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Vind de perfecte match tussen talent en organisaties"}),i.jsx("p",{className:"text-xl mb-8 text-primary-100",children:"Het moderne recruitmentplatform dat kandidaten en recruiters samenbrengt"}),i.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:r?i.jsx(Pt,{to:"/dashboard",className:"px-8 py-3 bg-white text-primary-700 font-medium rounded-md hover:bg-gray-100 transition-colors shadow-md",children:"Naar Dashboard"}):i.jsxs(i.Fragment,{children:[i.jsx(Pt,{to:"/register",className:"px-8 py-3 bg-white text-primary-700 font-medium rounded-md hover:bg-gray-100 transition-colors shadow-md",children:"Registreren"}),i.jsx(Pt,{to:"/login",className:"px-8 py-3 border border-white text-white font-medium rounded-md hover:bg-primary-700 transition-colors",children:"Inloggen"})]})})]})})}),i.jsx("div",{id:"functions",className:"container mx-auto px-4 py-16",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsx("h2",{className:"text-3xl font-bold mb-6 text-center text-gray-800",children:"Vakgebieden en functies"}),i.jsx("p",{className:"text-gray-700 mb-8 text-center max-w-3xl mx-auto",children:"Ontdek de verschillende vakgebieden en functies waar PitchPro zich op richt. Ons platform verbindt professionals uit diverse disciplines met de perfecte werkgevers."}),i.jsx("div",{className:"space-y-8",children:[{id:1,title:"Software Development",description:"Ontwikkel applicaties en software-oplossingen voor diverse platforms en doeleinden.",roles:["Frontend Developer","Backend Developer","Full Stack Developer","Mobile Developer","DevOps Engineer"]},{id:2,title:"Design",description:"Creer visueel aantrekkelijke en gebruiksvriendelijke designs voor digitale producten.",roles:["UX Designer","UI Designer","Product Designer","Graphic Designer","Motion Designer"]},{id:3,title:"Product Management",description:"Leid de ontwikkeling van producten van concept tot lancering en verdere iteraties.",roles:["Product Manager","Product Owner","Program Manager","Technical Product Manager"]},{id:4,title:"Data",description:"Analyseer, verwerk en visualiseer data om inzichten te genereren en besluitvorming te ondersteunen.",roles:["Data Analyst","Data Scientist","Data Engineer","Business Intelligence Analyst"]},{id:5,title:"Marketing",description:"Promoot producten en diensten om bewustzijn te creren en nieuwe klanten aan te trekken.",roles:["Content Marketeer","SEO Specialist","Social Media Manager","Growth Hacker"]}].map(e=>i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-3",children:e.title}),i.jsx("p",{className:"text-gray-700 mb-5",children:e.description}),i.jsx("h3",{className:"text-lg font-medium mb-3",children:"Populaire functies:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.roles.map((t,n)=>i.jsx("span",{className:"px-3 py-1 bg-primary-50 text-primary-700 rounded-full text-sm font-medium",children:t},n))})]}),i.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100",children:i.jsxs("button",{className:"text-primary-600 font-medium hover:text-primary-800 transition-colors",children:["Bekijk alle ",e.title.toLowerCase()," vacatures "]})})]},e.id))})]})}),i.jsx("div",{id:"features",className:"bg-gray-50 py-16",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx("h2",{className:"text-3xl font-bold mb-12 text-center text-gray-800",children:"Waarom PitchPro?"}),i.jsxs("div",{className:"grid md:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[i.jsx("div",{className:"w-12 h-12 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center mb-4",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})})}),i.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Directe Communicatie"}),i.jsx("p",{className:"text-gray-600",children:"Communiceer direct met kandidaten en recruiters via ons ingebouwde chatsysteem"})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[i.jsx("div",{className:"w-12 h-12 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center mb-4",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),i.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Slimme Matching"}),i.jsx("p",{className:"text-gray-600",children:"Ons platform zorgt voor de perfecte match tussen kandidaten en vacatures"})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[i.jsx("div",{className:"w-12 h-12 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center mb-4",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),i.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Efficint Proces"}),i.jsx("p",{className:"text-gray-600",children:"Stroomlijn het volledige wervingsproces op n centrale plek"})]})]})]})}),i.jsx("div",{className:"container mx-auto px-4 py-16",children:i.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[i.jsx("h2",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Klaar om te beginnen?"}),i.jsx("p",{className:"text-xl mb-8 text-gray-600",children:"Meld je vandaag nog aan bij PitchPro en ontdek het moderne recruitment platform"}),i.jsx("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:r?i.jsx(Pt,{to:"/dashboard",className:"px-8 py-3 bg-primary-600 text-white font-medium rounded-md hover:bg-primary-700 transition-colors shadow-md",children:"Naar Dashboard"}):i.jsxs(i.Fragment,{children:[i.jsx(Pt,{to:"/register",className:"px-8 py-3 bg-primary-600 text-white font-medium rounded-md hover:bg-primary-700 transition-colors shadow-md",children:"Registreren"}),i.jsx(Pt,{to:"/login",className:"px-8 py-3 border border-primary-600 text-primary-600 font-medium rounded-md hover:bg-primary-50 transition-colors",children:"Inloggen"})]})})]})}),i.jsx(Wr,{})]})},CR=()=>i.jsxs("div",{className:"min-h-screen bg-white",children:[i.jsx(tr,{}),i.jsx("div",{className:"bg-gradient-to-br from-primary-600 to-primary-800 text-white pt-20",children:i.jsx("div",{className:"container mx-auto px-4 py-16 md:py-24",children:i.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[i.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Over PitchPro"}),i.jsx("p",{className:"text-xl mb-8 text-primary-100",children:"PitchPro is geboren uit de wens om talent en bedrijven efficint en mensgericht te verbinden. Ons innovatieve platform combineert geavanceerde technologie met persoonlijke betrokkenheid om echte matches te creren, gebaseerd op de unieke verhalen achter elk CV. Ontdek een nieuwe manier van recruitment waarin elke pitch het startpunt is voor succes."})]})})}),i.jsx("div",{className:"container mx-auto px-4 py-16",children:i.jsx("div",{className:"max-w-5xl mx-auto",children:i.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-800",children:"Onze missie"}),i.jsx("div",{className:"h-1 w-24 bg-primary-600 mb-6"}),i.jsx("p",{className:"text-gray-700 mb-4 leading-relaxed",children:"Bij PitchPro hebben we een duidelijke missie: het revolutioneren van het recruitment proces door technologie en menselijke connectie samen te brengen. Ons platform maakt het voor werkzoekenden eenvoudiger om hun talenten te tonen en voor recruiters om de perfecte match te vinden."}),i.jsx("p",{className:"text-gray-700 leading-relaxed",children:"We geloven dat de juiste baan vinden of de juiste kandidaat aannemen niet alleen om vaardigheden en ervaring draait, maar ook om persoonlijkheid, waarden en cultuur."})]}),i.jsxs("div",{className:"bg-primary-50 p-8 rounded-lg shadow-md",children:[i.jsx("h3",{className:"text-2xl font-semibold mb-4 text-primary-700",children:"Visie voor de toekomst"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Ons doel is om een platform te bouwen dat niet alleen de huidige behoeften van de arbeidsmarkt vervult, maar ook anticipeert op toekomstige ontwikkelingen."}),i.jsx("p",{className:"text-gray-700",children:"We streven ernaar om de meest innovatieve en gebruiksvriendelijke recruitment-oplossing in de markt te worden, die mensen helpt hun volledige potentieel te benutten."})]})]})})}),i.jsx("div",{className:"bg-gray-50 py-16",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"max-w-5xl mx-auto",children:[i.jsxs("div",{className:"text-center mb-12",children:[i.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-800",children:"Ons team"}),i.jsx("div",{className:"h-1 w-24 bg-primary-600 mx-auto mb-6"}),i.jsx("p",{className:"text-gray-700 max-w-3xl mx-auto",children:"PitchPro is opgericht door een team van experts met jarenlange ervaring in recruitment, technologie en gebruikerservaring. Ons diverse team werkt elke dag aan het verbeteren van ons platform om de beste ervaring te bieden voor zowel werkzoekenden als recruiters."})]}),i.jsx("div",{className:"grid md:grid-cols-3 gap-8",children:[{name:"Jaap de Vries",role:"CEO & Oprichter",avatar:""},{name:"Laura Jansen",role:"CTO",avatar:""},{name:"Mark Bakker",role:"Head of Design",avatar:""}].map((r,e)=>i.jsxs("div",{className:"bg-white rounded-lg overflow-hidden shadow-md text-center transition-transform hover:transform hover:scale-105",children:[i.jsx("div",{className:"p-8 bg-primary-600 text-white text-5xl",children:r.avatar}),i.jsxs("div",{className:"p-6",children:[i.jsx("h3",{className:"text-xl font-semibold mb-1 text-gray-800",children:r.name}),i.jsx("p",{className:"text-primary-600 mb-4",children:r.role}),i.jsxs("div",{className:"flex justify-center space-x-3",children:[i.jsx("button",{className:"text-gray-500 hover:text-primary-600",children:i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})}),i.jsx("button",{className:"text-gray-500 hover:text-primary-600",children:i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})})}),i.jsx("button",{className:"text-gray-500 hover:text-primary-600",children:i.jsx("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:i.jsx("path",{fillRule:"evenodd",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10c5.51 0 10-4.48 10-10S17.51 2 12 2zm6.605 4.61a8.502 8.502 0 011.93 5.314c-.281-.054-3.101-.629-5.943-.271-.065-.141-.12-.293-.184-.445a25.416 25.416 0 00-.564-1.236c3.145-1.28 4.577-3.124 4.761-3.362zM12 3.475c2.17 0 4.154.813 5.662 2.148-.152.216-1.443 1.941-4.48 3.08-1.399-2.57-2.95-4.675-3.189-5A8.687 8.687 0 0112 3.475zm-3.633.803a53.896 53.896 0 013.167 4.935c-3.992 1.063-7.517 1.04-7.896 1.04a8.581 8.581 0 014.729-5.975zM3.453 12.01v-.21c.37.01 4.512.065 8.775-1.215.25.477.477.965.694 1.453-.109.033-.228.065-.336.098-4.404 1.42-6.747 5.303-6.942 5.629a8.522 8.522 0 01-2.19-5.705zM12 20.547a8.482 8.482 0 01-5.239-1.8c.152-.315 1.888-3.656 6.703-5.337.022-.01.033-.01.054-.022a35.318 35.318 0 011.823 6.475 8.4 8.4 0 01-3.341.684zm4.761-1.465c-.086-.52-.542-3.015-1.659-6.084 2.679-.423 5.022.271 5.314.369a8.468 8.468 0 01-3.655 5.715z",clipRule:"evenodd"})})})]})]})]},e))})]})})}),i.jsx("div",{className:"container mx-auto px-4 py-16",children:i.jsxs("div",{className:"max-w-5xl mx-auto",children:[i.jsx("h2",{className:"text-3xl font-bold mb-4 text-gray-800",children:"Onze waarden"}),i.jsx("div",{className:"h-1 w-24 bg-primary-600 mb-12"}),i.jsxs("div",{className:"grid md:grid-cols-2 gap-8",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-primary-600",children:[i.jsx("div",{className:"w-12 h-12 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center mb-4",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),i.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Transparantie"}),i.jsx("p",{className:"text-gray-600",children:"We geloven in eerlijke en open communicatie tussen alle partijen en bevorderen vertrouwen door transparantie in al onze activiteiten."})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-primary-600",children:[i.jsx("div",{className:"w-12 h-12 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center mb-4",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),i.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Innovatie"}),i.jsx("p",{className:"text-gray-600",children:"We blijven continu verbeteren en nieuwe oplossingen zoeken om het recruitment proces efficinter en effectiever te maken voor alle betrokkenen."})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-primary-600",children:[i.jsx("div",{className:"w-12 h-12 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center mb-4",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),i.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Inclusiviteit"}),i.jsx("p",{className:"text-gray-600",children:"We streven naar een diverse en inclusieve arbeidsmarkt waar iedereen gelijke kansen heeft, ongeacht achtergrond, identiteit of levenservaring."})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-primary-600",children:[i.jsx("div",{className:"w-12 h-12 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center mb-4",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}),i.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Kwaliteit"}),i.jsx("p",{className:"text-gray-600",children:"We zetten ons in voor de hoogste kwaliteit in alles wat we doen en streven ernaar om excellentie te leveren in elke interactie en elk aspect van ons platform."})]})]})]})}),i.jsx("div",{className:"bg-primary-700 text-white py-16",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[i.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Neem contact met ons op"}),i.jsx("p",{className:"text-xl mb-8 text-primary-100",children:"Wil je meer weten over PitchPro? Ons team staat klaar om je vragen te beantwoorden."}),i.jsx("button",{className:"px-8 py-3 bg-white text-primary-700 font-medium rounded-md hover:bg-primary-50 transition-colors shadow-md",children:"Contact opnemen"})]})})}),i.jsx(Wr,{})]}),RR=()=>{const[r,e]=z.useState([]),[t,n]=z.useState(!0),[a,l]=z.useState(null),u=kr();return z.useEffect(()=>{(async()=>{try{const m=vn(Jt($e,"users"),xn("userType","in",["jobseeker","werkzoekende"])),g=await wn(m),x=[];g.forEach(_=>{var S,U,B,O,H,V,T,$,q,I,j;const w=_.data();console.log("Candidate data:",w),console.log(`Beschikbaarheid voor ${w.displayName||w.name||"onbekend"}:`,{"isAvailableForWork (root)":w.isAvailableForWork,"profile.isAvailableForWork":(S=w.profile)==null?void 0:S.isAvailableForWork,"Wordt getoond (data.profile?.isAvailableForWork === true)":((U=w.profile)==null?void 0:U.isAvailableForWork)===!0}),(((B=w.profile)==null?void 0:B.isAvailableForWork)===!0||w.isAvailableForWork===!0)&&x.push({id:_.id,name:w.displayName||w.name||"Onbekende naam",role:((O=w.professionalDetails)==null?void 0:O.jobTitle)||((H=w.profile)==null?void 0:H.jobTitle)||w.jobTitle||"Geen functie opgegeven",experience:(V=w.professionalDetails)!=null&&V.yearsOfExperience?`${w.professionalDetails.yearsOfExperience} jaar`:((T=w.profile)==null?void 0:T.experience)||w.experience||"Ervaring onbekend",skills:(($=w.professionalDetails)==null?void 0:$.skills)||((q=w.profile)==null?void 0:q.skills)||w.skills||[],location:w.location||w.city||"Locatie onbekend",available:((I=w.profile)==null?void 0:I.isAvailableForWork)===!0||w.isAvailableForWork===!0,profileImage:w.profilePhoto||w.profileImageURL||w.photoURL||((j=w.profile)==null?void 0:j.profilePhoto)||void 0})}),e(x),n(!1)}catch(m){console.error("Error fetching candidates:",m),l("Er is een fout opgetreden bij het laden van de kandidaten."),n(!1)}})()},[]),t?i.jsxs("div",{className:"min-h-screen bg-white",children:[i.jsx(tr,{}),i.jsx("div",{className:"w-full bg-gradient-to-r from-primary-600 to-primary-800 text-white py-32 mb-8",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx("h1",{className:"text-4xl font-bold mb-6 text-center",children:"Kandidaten"}),i.jsx("div",{className:"h-4 bg-primary-300 bg-opacity-30 rounded w-2/3 mx-auto mb-8"})]})}),i.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:i.jsxs("div",{className:"animate-pulse",children:[i.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mx-auto mb-6"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3 mx-auto mb-8"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(f=>i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-4"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),i.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-6"}),i.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:[1,2,3,4].map(m=>i.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"},m))})]}),i.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100",children:i.jsx("div",{className:"h-10 bg-gray-200 rounded"})})]},f))})]})}),i.jsx(Wr,{})]}):a?i.jsxs("div",{className:"min-h-screen bg-white",children:[i.jsx(tr,{}),i.jsx("div",{className:"w-full bg-gradient-to-r from-primary-600 to-primary-800 text-white py-32 mb-8",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsx("h1",{className:"text-4xl font-bold mb-6 text-center",children:"Kandidaten"})})}),i.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("svg",{className:"w-16 h-16 text-red-500 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Probleem bij het laden"}),i.jsx("p",{className:"text-gray-600 mb-6",children:a}),i.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"Probeer opnieuw"})]})}),i.jsx(Wr,{})]}):r.length===0?i.jsxs("div",{className:"min-h-screen bg-white",children:[i.jsx(tr,{}),i.jsx("div",{className:"w-full bg-gradient-to-r from-primary-600 to-primary-800 text-white py-32 mb-8",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsx("h1",{className:"text-4xl font-bold mb-6 text-center",children:"Kandidaten"})})}),i.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("svg",{className:"w-16 h-16 text-primary-600 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),i.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Geen kandidaten gevonden"}),i.jsx("p",{className:"text-gray-600",children:"Er zijn momenteel geen kandidaten beschikbaar in het systeem. Kom later terug om nieuwe profielen te bekijken."})]})}),i.jsx(Wr,{})]}):i.jsxs("div",{className:"min-h-screen bg-white",children:[i.jsx(tr,{}),i.jsx("div",{className:"w-full bg-gradient-to-r from-primary-600 to-primary-800 text-white py-32 mb-8",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx("h1",{className:"text-4xl font-bold mb-6 text-center",children:"Kandidaten"}),i.jsx("p",{className:"text-xl text-center max-w-3xl mx-auto",children:"Bekijk onze hoogwaardige kandidaten die klaar zijn voor hun volgende uitdaging. Neem contact op om meer te weten te komen."})]})}),i.jsx("div",{className:"container mx-auto px-4 py-12",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(f=>i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[i.jsxs("div",{className:"p-6",children:[i.jsx("div",{className:"flex justify-center mb-4",children:f.profileImage?i.jsxs(i.Fragment,{children:[i.jsx("img",{src:f.profileImage,alt:`Profielfoto van ${f.name}`,className:"w-24 h-24 rounded-full object-cover border-2 border-primary-200",onError:m=>{console.error(`Fout bij laden profielfoto voor ${f.name}:`,f.profileImage),m.currentTarget.style.display="none";const g=m.currentTarget.parentElement;if(g){const x=g.querySelector(".fallback-avatar");x&&x.classList.remove("hidden")}}}),i.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 text-2xl border-2 border-gray-300 hidden fallback-avatar",children:f.name.charAt(0).toUpperCase()})]}):i.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 text-2xl border-2 border-gray-300",children:f.name.charAt(0).toUpperCase()})}),i.jsx("h2",{className:"text-xl font-semibold mb-2 text-center",children:f.name}),i.jsx("p",{className:"text-primary-600 font-medium mb-2",children:f.role}),i.jsxs("p",{className:"text-gray-600 mb-4",children:[f.location,"  ",f.experience]}),i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Vaardigheden:"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:f.skills.map((m,g)=>i.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:m},g))})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:`inline-block w-3 h-3 rounded-full mr-2 ${f.available?"bg-green-500":"bg-red-500"}`}),i.jsx("span",{className:"text-sm text-gray-600",children:f.available?"Beschikbaar":"Niet beschikbaar"})]})]}),i.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100",children:i.jsx("button",{onClick:()=>u(`/candidate/${f.id}`),className:"w-full py-2 px-4 bg-primary-600 hover:bg-primary-700 text-white rounded-md transition-colors",children:"Bekijk profiel"})})]},f.id))})}),i.jsx(Wr,{})]})},PR=()=>{var ve,Le,Ve,_e,ne,ee,R;const{id:r}=Io(),e=kr(),[t,n]=z.useState(null),[a,l]=z.useState(!0),[u,f]=z.useState(null),[m,g]=z.useState("overview"),[x,_]=z.useState(!1),w=z.useRef(null);z.useEffect(()=>{(async()=>{var ae,ge,ie,Ne,xe;if(!r){f("Geen kandidaat ID gevonden"),l(!1);return}try{const ke=ct($e,"users",r),Pe=await fr(ke);if(Pe.exists()){const Oe=Pe.data();console.log("Gebruikersgegevens geladen:",Oe),console.log("Profile photo fields:",{photoURL:Oe.photoURL,profilePhoto:Oe.profilePhoto,profileImageURL:Oe.profileImageURL,profileImage:Oe.profileImage,"profile.profilePhoto":(ae=Oe.profile)==null?void 0:ae.profilePhoto}),console.log("Beschikbaarheid velden:",{"isAvailableForWork (root)":Oe.isAvailableForWork,"profile.isAvailableForWork":(ge=Oe.profile)==null?void 0:ge.isAvailableForWork,"available na toewijzing":Oe.isAvailableForWork===!0||((ie=Oe.profile)==null?void 0:ie.isAvailableForWork)===!0});const Vt=Jt($e,"users",r,"cv"),vt=await wn(Vt);console.log("CV collectie bestaat. Aantal documenten:",vt.size),console.log("CV documenten IDs:",vt.docs.map(We=>We.id));let Mt,jt="main";if(vt.empty)console.log("Geen CV documenten gevonden in de subcollectie");else{const We=vt.docs.find(de=>de.id==="main");We?(Mt=We.data(),console.log("CV 'main' document gevonden:",Mt)):(jt=vt.docs[0].id,Mt=vt.docs[0].data(),console.log(`Geen 'main' document gevonden, gebruikte eerste document met ID ${jt}:`,Mt))}n({id:Pe.id,...Oe,name:Oe.displayName||Oe.name||"Onbekende naam",profileImage:Oe.profilePhoto||Oe.profileImageURL||Oe.photoURL||((Ne=Oe.profile)==null?void 0:Ne.profilePhoto),available:Oe.isAvailableForWork===!0||((xe=Oe.profile)==null?void 0:xe.isAvailableForWork)===!0,cv:Mt||void 0}),console.log("CV gegevens in candidate state:",Mt)}else f("Kandidaat niet gevonden");l(!1)}catch(ke){console.error("Error fetching candidate:",ke),f("Er is een fout opgetreden bij het laden van de kandidaat"),l(!1)}})()},[r]),z.useEffect(()=>{var G;if(t){const ae=t.profilePhoto||t.profileImageURL||t.photoURL||((G=t.profile)==null?void 0:G.profilePhoto);ae?(console.log("Profielfoto URL gevonden:",ae),console.log("Veld dat wordt gebruikt:",t.profilePhoto?"profilePhoto":t.profileImageURL?"profileImageURL":t.photoURL?"photoURL":"profile.profilePhoto")):console.log("Geen profielfoto URL beschikbaar")}},[t]);const S=G=>{if(!G)return!1;try{new URL(G)}catch{return console.error("Ongeldige URL format:",G),!1}return G.includes("firebasestorage.googleapis.com")||G.match(/\.(jpeg|jpg|gif|png|webp|svg|bmp)$/i)!==null||G.startsWith("data:image/")?!0:G.startsWith("http")?(console.warn("URL zonder duidelijke afbeeldingsextensie:",G),!0):!1},U=()=>{console.error("Profielfoto kon niet worden geladen:",t==null?void 0:t.profileImage),_(!0)},B=()=>{e(`/schedule-meeting/${r}`)},O=()=>{e(`/chat/${r}`)},H=G=>{if(!G)return"Heden";try{return(G.toDate?G.toDate():new Date(G)).toLocaleDateString("nl-NL",{year:"numeric",month:"long"})}catch(ae){return console.error("Error formatting date:",ae),"Onbekende datum"}};if(a)return i.jsxs("div",{className:"min-h-screen bg-white",children:[i.jsx(tr,{}),i.jsx("div",{className:"container mx-auto px-4 py-32 flex justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}),i.jsx(Wr,{})]});if(u||!t)return i.jsxs("div",{className:"min-h-screen bg-white",children:[i.jsx(tr,{}),i.jsx("div",{className:"container mx-auto px-4 py-32 text-center",children:i.jsxs("div",{className:"max-w-md mx-auto",children:[i.jsx("svg",{className:"w-16 h-16 text-red-500 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),i.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Kandidaat niet gevonden"}),i.jsx("p",{className:"text-gray-600 mb-6",children:u||"Deze kandidaat bestaat niet of is verwijderd."}),i.jsx("button",{onClick:()=>e("/candidates"),className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"Terug naar kandidaten"})]})}),i.jsx(Wr,{})]});const V=(G,ae="")=>{const ge=G;return t[ge]&&typeof t[ge]=="string"?t[ge]:t.professionalDetails&&t.professionalDetails[G]?t.professionalDetails[G]:t.profile&&t.profile[G]?t.profile[G]:ae},T=V("jobTitle","Functie onbekend"),$=V("bio",V("about","")),q=t.skills||((ve=t.professionalDetails)==null?void 0:ve.skills)||((Le=t.profile)==null?void 0:Le.skills)||[],I=t.location||t.city||"Locatie onbekend";typeof((Ve=t.professionalDetails)==null?void 0:Ve.yearsOfExperience)=="number"?`${t.professionalDetails.yearsOfExperience}`:t.experience||(_e=t.profile)!=null&&_e.experience;const j=t.cv;console.log("CV data in render:",j);const N=G=>G?Array.isArray(G)?G:[]:[],k=(j==null?void 0:j.overMij)||$,L=N(j==null?void 0:j.werkervaring),F=N(j==null?void 0:j.opleiding),D=N(j==null?void 0:j.stages),C=N(j==null?void 0:j.certificaten);return console.log("CV sectie gegevens:"),console.log("- aboutMe:",k),console.log("- workExperience:",L,"length:",L==null?void 0:L.length),console.log("- education:",F,"length:",F==null?void 0:F.length),console.log("- internships:",D,"length:",D==null?void 0:D.length),console.log("- certificates:",C,"length:",C==null?void 0:C.length),i.jsxs("div",{className:"min-h-screen bg-white",children:[i.jsx(tr,{}),i.jsxs("div",{className:"container mx-auto px-4 py-32",children:[i.jsx("div",{className:"mb-6",children:i.jsxs("button",{onClick:()=>e("/candidates"),className:"text-primary-600 hover:text-primary-800 flex items-center",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Terug naar kandidaten"]})}),i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[i.jsx("div",{className:"p-8 bg-gradient-to-r from-primary-600 to-primary-800 text-white",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center",children:[i.jsx("div",{className:"w-32 h-32 md:w-40 md:h-40 bg-white rounded-full text-primary-600 flex items-center justify-center text-4xl font-bold mb-4 md:mb-0 md:mr-6 overflow-hidden border-4 border-white shadow-lg relative",children:(t!=null&&t.profileImage||t!=null&&t.profilePhoto||t!=null&&t.profileImageURL||t!=null&&t.photoURL||(ne=t==null?void 0:t.profile)!=null&&ne.profilePhoto)&&!x&&S((t==null?void 0:t.profileImage)||(t==null?void 0:t.profilePhoto)||(t==null?void 0:t.profileImageURL)||(t==null?void 0:t.photoURL)||((ee=t==null?void 0:t.profile)==null?void 0:ee.profilePhoto)||"")?i.jsxs(i.Fragment,{children:[i.jsx("img",{ref:w,src:t.profileImage||t.profilePhoto||t.profileImageURL||t.photoURL||((R=t.profile)==null?void 0:R.profilePhoto),alt:t.name,className:"w-full h-full object-cover",onError:U}),i.jsx("div",{className:"absolute inset-0 w-full h-full flex items-center justify-center bg-gray-200 text-gray-500 opacity-0",style:{opacity:x?1:0},children:t!=null&&t.name?t.name.substring(0,2).toUpperCase():"KP"})]}):i.jsx("div",{className:"w-full h-full flex items-center justify-center bg-gray-200 text-gray-500",children:t!=null&&t.name?t.name.substring(0,2).toUpperCase():"KP"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-3xl font-bold mb-2",children:t.name}),i.jsx("p",{className:"text-xl text-primary-100",children:T}),i.jsxs("div",{className:"flex items-center mt-3",children:[i.jsx("span",{className:`inline-block w-3 h-3 rounded-full mr-2 ${t.available?"bg-green-400":"bg-red-400"}`}),i.jsx("span",{className:"text-primary-50",children:t.available?"Beschikbaar voor nieuwe kansen":"Momenteel niet beschikbaar"})]})]})]})}),i.jsx("div",{className:"border-b border-gray-200",children:i.jsxs("nav",{className:"flex -mb-px",children:[i.jsx("button",{onClick:()=>g("overview"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${m==="overview"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Overzicht"}),i.jsx("button",{onClick:()=>g("cv"),className:`py-4 px-6 text-center border-b-2 font-medium text-sm ${m==="cv"?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"CV"})]})}),m==="overview"?i.jsx("div",{className:"p-8",children:i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[i.jsxs("div",{className:"lg:col-span-2",children:[i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Over mij"}),i.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:k||"Deze kandidaat heeft nog geen bio toegevoegd."})]}),i.jsxs("section",{className:"mb-8",children:[i.jsx("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Vaardigheden"}),q.length>0?i.jsx("div",{className:"flex flex-wrap gap-2",children:q.map((G,ae)=>i.jsx("span",{className:"px-3 py-1 bg-primary-50 text-primary-700 rounded-full text-sm font-medium",children:G},ae))}):i.jsx("p",{className:"text-gray-500 italic",children:"Geen vaardigheden opgegeven"})]})]}),i.jsxs("div",{className:"lg:col-span-1",children:[i.jsxs("div",{className:"bg-gray-50 p-6 rounded-lg shadow-sm",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Details"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm text-gray-500 mb-1",children:"Locatie"}),i.jsx("p",{className:"text-gray-800",children:I})]}),t.email&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm text-gray-500 mb-1",children:"E-mail"}),i.jsx("p",{className:"text-gray-800",children:t.email})]}),t.phoneNumber&&i.jsxs("div",{children:[i.jsx("h4",{className:"text-sm text-gray-500 mb-1",children:"Telefoonnummer"}),i.jsx("p",{className:"text-gray-800",children:t.phoneNumber})]})]})]}),i.jsxs("div",{className:"mt-6 space-y-4",children:[i.jsxs("button",{onClick:B,className:"w-full flex items-center justify-center py-2 px-4 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),"Afspraak maken"]}),i.jsxs("button",{onClick:O,className:"w-full flex items-center justify-center py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),"Chatten"]})]})]})]})}):i.jsx("div",{className:"p-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("section",{className:"mb-12",children:[i.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-2",children:"Werkervaring"}),L.length>0?i.jsx("div",{className:"space-y-8",children:L.map(G=>i.jsxs("div",{className:"relative pl-8 before:absolute before:left-0 before:top-0 before:bottom-0 before:w-0.5 before:bg-primary-100",children:[i.jsx("div",{className:"absolute left-0 top-1.5 w-4 h-4 rounded-full bg-primary-600 -ml-2"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:G.functie}),i.jsx("p",{className:"text-primary-700 font-medium",children:G.bedrijf}),i.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[H(G.startDatum)," - ",G.isHuidigeFunctie?"Heden":H(G.eindDatum)]}),G.beschrijving&&i.jsx("p",{className:"mt-3 text-gray-700",children:G.beschrijving})]},G.id))}):i.jsx("p",{className:"text-gray-500 italic",children:"Geen werkervaring toegevoegd"})]}),i.jsxs("section",{className:"mb-12",children:[i.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-2",children:"Opleiding"}),F.length>0?i.jsx("div",{className:"space-y-8",children:F.map(G=>i.jsxs("div",{className:"relative pl-8 before:absolute before:left-0 before:top-0 before:bottom-0 before:w-0.5 before:bg-primary-100",children:[i.jsx("div",{className:"absolute left-0 top-1.5 w-4 h-4 rounded-full bg-primary-600 -ml-2"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:G.opleiding}),i.jsx("p",{className:"text-primary-700 font-medium",children:G.instituut}),i.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[H(G.startDatum)," - ",G.isHuidigeOpleiding?"Heden":H(G.eindDatum)]}),G.beschrijving&&i.jsx("p",{className:"mt-3 text-gray-700",children:G.beschrijving})]},G.id))}):i.jsx("p",{className:"text-gray-500 italic",children:"Geen opleiding toegevoegd"})]}),D.length>0&&i.jsxs("section",{className:"mb-12",children:[i.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-2",children:"Stages"}),i.jsx("div",{className:"space-y-8",children:D.map(G=>i.jsxs("div",{className:"relative pl-8 before:absolute before:left-0 before:top-0 before:bottom-0 before:w-0.5 before:bg-primary-100",children:[i.jsx("div",{className:"absolute left-0 top-1.5 w-4 h-4 rounded-full bg-primary-600 -ml-2"}),i.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:G.functie}),i.jsx("p",{className:"text-primary-700 font-medium",children:G.bedrijf}),i.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[H(G.startDatum)," - ",G.isHuidigeStage?"Heden":H(G.eindDatum)]}),G.beschrijving&&i.jsx("p",{className:"mt-3 text-gray-700",children:G.beschrijving})]},G.id))})]}),C.length>0&&i.jsxs("section",{className:"mb-12",children:[i.jsx("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-2",children:"Certificaten"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:C.map(G=>i.jsxs("div",{className:"bg-white border border-gray-200 rounded-lg p-5 shadow-sm",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:G.naam||"Certificaat"}),G.uitgever&&i.jsx("p",{className:"text-primary-700",children:G.uitgever}),G.datum&&i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:H(G.datum)}),G.beschrijving&&i.jsx("p",{className:"mt-3 text-gray-700",children:G.beschrijving})]},G.id))})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-8",children:[i.jsxs("button",{onClick:B,className:"flex-1 flex items-center justify-center py-2 px-4 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),"Afspraak maken"]}),i.jsxs("button",{onClick:O,className:"flex-1 flex items-center justify-center py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),"Chatten met ",t.name.split(" ")[0]]})]})]})})]})]}),i.jsx(Wr,{})]})},DR=()=>{const r=kr(),[e,t]=z.useState([]),[n,a]=z.useState(!0),[l,u]=z.useState(null),[f,m]=z.useState(""),{userProfile:g,currentUser:x}=_t(),{addFavorite:_,removeFavorite:w,isFavorite:S,loading:U}=G1(),B=[{id:"dummy1",title:"Frontend Developer",company:"Test Bedrijf",location:"Amsterdam",description:"Een test vacature voor frontend developer met React en TypeScript ervaring.",salary:"3000-4000",isFullTime:!0,isRemote:!1,requirements:"Ervaring met React, TypeScript en responsive design"},{id:"dummy2",title:"UX Designer",company:"Creative Solutions",location:"Rotterdam",description:"Een test vacature voor een ervaren UX Designer.",salary:"2800-3800",isFullTime:!0,isRemote:!0,requirements:"Ervaring met Figma, user testing en wireframing"}];z.useEffect(()=>{(async()=>{a(!0);try{const T=Jt($e,"jobs");console.log("Query uitgevoerd op collectie: jobs");const $=vn(T),q=await wn($);console.log(`Er zijn ${q.size} vacatures gevonden in Firestore (jobs collectie)`);const I=[];q.forEach(j=>{const N=j.data();console.log(`Vacature ID: ${j.id}, Titel: ${N.title||"Onbekend"}`),I.push({id:j.id,title:N.title||"Onbekende functie",company:N.company||"Onbekend bedrijf",location:N.location||"Locatie onbekend",description:N.description||"Geen beschrijving beschikbaar",salary:N.salary,isFullTime:N.isFullTime,isRemote:N.isRemote,status:N.status,requirements:N.requirements,createdAt:N.createdAt,updatedAt:N.updatedAt,userId:N.userId,recruiterId:N.recruiterId})}),I.length>0?(t(I),console.log("Vacatures succesvol geladen uit jobs collectie")):(console.log("Geen echte vacatures gevonden, toon dummy data voor testing"),t(B)),u(null)}catch(T){console.error("Fout bij het ophalen van vacatures:",T),(T instanceof Error?T.message:String(T)).includes("permission-denied")?(console.log("BELANGRIJK: De Firebase security rules geven geen toegang tot de 'jobs' collectie."),console.log("Je moet de security rules aanpassen om de 'jobs' collectie te kunnen lezen."),u("Geen toegangsrechten voor de vacature-database. Neem contact op met de beheerder.")):u("Er is een fout opgetreden bij het laden van de vacatures. Probeer het later opnieuw."),console.log("Fout bij ophalen, toon dummy data voor testing"),t(B)}finally{a(!1)}})()},[]),z.useEffect(()=>{var T;const V=((T=g==null?void 0:g.profile)==null?void 0:T.profilePhoto)||(g==null?void 0:g.profilePhoto)||(x==null?void 0:x.photoURL)||"";console.log("User profile data updated, photo URL:",V),V&&V!==f&&m(V)},[g,x]);const O=V=>{r(`/job/${V}`)},H=async(V,T)=>{if(V.stopPropagation(),V.preventDefault(),!x){r("/login",{state:{from:"/jobs"}});return}try{S(T.id)?(await w(T.id),console.log(`Vacature ${T.id} verwijderd uit favorieten`)):(await _(T.id,T),console.log(`Vacature ${T.id} toegevoegd aan favorieten`))}catch($){console.error("Fout bij favoriet markeren:",$)}};return i.jsxs("div",{className:"min-h-screen bg-white",children:[i.jsx(tr,{}),i.jsx("div",{className:"bg-gradient-to-br from-primary-600 to-primary-800 text-white pt-20",children:i.jsx("div",{className:"container mx-auto px-4 py-16 md:py-24",children:i.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[i.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Vacatures"}),i.jsx("p",{className:"text-xl mb-8 text-primary-100",children:"Ontdek uitdagende vacatures die perfect aansluiten bij jouw unieke vaardigheden en ambities. Ons platform biedt kansen waarin jouw talenten volledig tot hun recht komen, met volop ruimte voor groei en ontwikkeling. Vind de baan die jouw professionele toekomst vormgeeft."})]})})}),i.jsx("div",{className:"container mx-auto px-4 py-12",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[i.jsx("div",{className:"md:col-span-1",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4",children:[i.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Filters"}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Zoeken"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:"text",id:"search",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md",placeholder:"Zoek op trefwoord"}),i.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:i.jsx("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Locatie"}),i.jsx("input",{type:"text",id:"location",className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Bijv. Amsterdam"})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{htmlFor:"radius",className:"block text-sm font-medium text-gray-700 mb-1",children:"Straal"}),i.jsxs("select",{id:"radius",className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[i.jsx("option",{value:"",children:"Selecteer afstand"}),i.jsx("option",{value:"5",children:"5 km"}),i.jsx("option",{value:"10",children:"10 km"}),i.jsx("option",{value:"25",children:"25 km"}),i.jsx("option",{value:"50",children:"50 km"}),i.jsx("option",{value:"100",children:"100 km"})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{htmlFor:"function",className:"block text-sm font-medium text-gray-700 mb-1",children:"Functie"}),i.jsx("input",{type:"text",id:"function",className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Bijv. Developer"})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Salaris range"}),i.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[i.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Min"}),i.jsx("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Max"})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Geplaatst sinds"}),i.jsxs("select",{id:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[i.jsx("option",{value:"",children:"Alle datums"}),i.jsx("option",{value:"1",children:"Laatste 24 uur"}),i.jsx("option",{value:"7",children:"Afgelopen week"}),i.jsx("option",{value:"30",children:"Afgelopen maand"}),i.jsx("option",{value:"90",children:"Afgelopen 3 maanden"})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ervaringsniveau"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{id:"starter",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"starter",className:"ml-2 text-sm text-gray-700",children:"Starter"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{id:"medior",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"medior",className:"ml-2 text-sm text-gray-700",children:"Medior"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{id:"senior",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"senior",className:"ml-2 text-sm text-gray-700",children:"Senior"})]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Soort baan"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{id:"fulltime",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"fulltime",className:"ml-2 text-sm text-gray-700",children:"Fulltime"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{id:"parttime",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"parttime",className:"ml-2 text-sm text-gray-700",children:"Parttime"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{id:"contract",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"contract",className:"ml-2 text-sm text-gray-700",children:"Contract"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{id:"tijdelijk",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"tijdelijk",className:"ml-2 text-sm text-gray-700",children:"Tijdelijk"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{id:"zzp",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"zzp",className:"ml-2 text-sm text-gray-700",children:"ZZP"})]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Werklocatie"}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{id:"onsite",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"onsite",className:"ml-2 text-sm text-gray-700",children:"Op locatie"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{id:"hybrid",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"hybrid",className:"ml-2 text-sm text-gray-700",children:"Hybride"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{id:"remote",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"remote",className:"ml-2 text-sm text-gray-700",children:"Op afstand"})]})]})]}),i.jsxs("div",{className:"flex flex-col space-y-2",children:[i.jsx("button",{className:"w-full py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"Filters toepassen"}),i.jsx("button",{className:"w-full py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Filters wissen"})]})]})}),i.jsxs("div",{className:"md:col-span-3",children:[n&&i.jsxs("div",{className:"flex justify-center items-center p-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"}),i.jsx("span",{className:"ml-3",children:"Vacatures laden..."})]}),l&&i.jsx("div",{className:"bg-red-50 text-red-700 p-4 rounded-lg mb-6",children:i.jsx("p",{children:l})}),!n&&!l&&e.length===0&&i.jsxs("div",{className:"bg-gray-50 p-12 rounded-lg text-center",children:[i.jsx("h3",{className:"text-xl font-medium text-gray-700 mb-2",children:"Geen vacatures gevonden"}),i.jsx("p",{className:"text-gray-500",children:"Er zijn momenteel geen vacatures beschikbaar. Kom later terug voor nieuwe mogelijkheden."})]}),!n&&!l&&e.length>0&&i.jsx("div",{className:"space-y-6",children:e.map(V=>i.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border border-gray-100 hover:shadow-lg transition-shadow",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-4",children:[i.jsxs("h2",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[V.title,i.jsx("button",{onClick:T=>H(T,V),className:`ml-2 focus:outline-none transition-colors ${S(V.id)?"text-yellow-500":"text-gray-400 hover:text-gray-600"}`,"aria-label":S(V.id)?"Verwijder uit favorieten":"Voeg toe aan favorieten",disabled:U,children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})})]}),i.jsx("span",{className:"mt-2 md:mt-0 px-3 py-1 bg-primary-50 text-primary-700 rounded-full text-sm font-medium",children:V.isFullTime?"Fulltime":"Parttime"})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 mb-4 text-gray-600",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h8a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm3 1h6v4H7V5zm8 8v2h1v1H4v-1h1v-2h-.5a.5.5 0 01-.5-.5v-2a.5.5 0 01.5-.5H6v-1h8v1h1.5a.5.5 0 01.5.5v2a.5.5 0 01-.5.5H15z",clipRule:"evenodd"})}),V.company]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),V.location," ",V.isRemote&&i.jsx("span",{className:"ml-1 text-primary-600",children:"(Remote mogelijk)"})]}),V.salary&&i.jsxs("div",{className:"flex items-center",children:[i.jsxs("svg",{className:"w-5 h-5 mr-2 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[i.jsx("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z",clipRule:"evenodd"})]}),"",V.salary]})]}),i.jsx("p",{className:"text-gray-700 mb-4",children:V.description}),V.requirements&&i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"text-md font-medium mb-2",children:"Vereisten:"}),i.jsx("p",{className:"text-gray-700",children:V.requirements})]}),i.jsx("div",{className:"mt-4 flex justify-end",children:i.jsx("button",{onClick:()=>O(V.id),className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"Bekijk vacature"})})]})},V.id))})]})]})}),i.jsx(Wr,{})]})},VR=()=>{const{jobId:r}=Io(),e=kr(),{currentUser:t,userProfile:n}=_t(),{createNewChat:a}=ig(),[l,u]=z.useState(null),[f,m]=z.useState(!0),[g,x]=z.useState(null),[_,w]=z.useState(!1),S=(n==null?void 0:n.role)==="werkzoekende",U=(n==null?void 0:n.role)==="recruiter",B=t&&(l==null?void 0:l.recruiterId)===t.uid;z.useEffect(()=>{(async()=>{if(!r){x("Geen vacature ID gevonden"),m(!1);return}try{m(!0);const q=ct($e,"jobs",r),I=await fr(q);if(I.exists()){const j=I.data();u({id:I.id,title:j.title||"Onbekende functie",company:j.company||"Onbekend bedrijf",location:j.location||"Locatie onbekend",description:j.description||"Geen beschrijving beschikbaar",salary:j.salary,isFullTime:j.isFullTime,isRemote:j.isRemote,status:j.status,requirements:j.requirements,createdAt:j.createdAt,updatedAt:j.updatedAt,userId:j.userId,recruiterId:j.recruiterId}),x(null)}else x("Vacature niet gevonden"),u(null)}catch(q){console.error("Fout bij het ophalen van vacaturedetails:",q),x("Er is een fout opgetreden bij het laden van de vacature"),u(null)}finally{m(!1)}})()},[r]);const O=()=>{if(!t){e("/login",{state:{from:`/job/${r}`}});return}e(`/job-application/${r}`)},H=async()=>{if(!t){e("/login",{state:{from:`/job/${r}`}});return}if(!(l!=null&&l.recruiterId)){alert("Er is geen recruiter gekoppeld aan deze vacature");return}try{if(w(!0),t.uid===l.recruiterId){alert("Je kunt geen chat starten met jezelf"),w(!1);return}const $=await a(l.recruiterId);e(`/messages/${$}`)}catch($){console.error("Fout bij het starten van de chat:",$),alert("Er is een fout opgetreden bij het starten van de chat. Probeer het later opnieuw."),w(!1)}},V=()=>{e("/jobs")},T=()=>{e(`/edit-job/${r}`)};return i.jsxs("div",{className:"min-h-screen bg-white",children:[i.jsx(tr,{}),i.jsx("div",{className:"container mx-auto px-4 py-12 mt-12",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("button",{onClick:V,className:"mb-6 flex items-center text-primary-600 hover:text-primary-800",children:[i.jsx("svg",{className:"w-5 h-5 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Terug naar alle vacatures"]}),f&&i.jsxs("div",{className:"flex justify-center items-center p-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"}),i.jsx("span",{className:"ml-3",children:"Vacature details laden..."})]}),g&&i.jsxs("div",{className:"bg-red-50 text-red-700 p-6 rounded-lg mb-6",children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Er is een probleem opgetreden"}),i.jsx("p",{children:g})]}),!f&&!g&&l&&i.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden border border-gray-200",children:[i.jsxs("div",{className:"p-6 border-b border-gray-200",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-4",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:l.title}),i.jsxs("span",{className:"mt-2 md:mt-0 px-4 py-1 bg-primary-50 text-primary-700 rounded-full text-sm font-medium",children:[l.isFullTime?"Fulltime":"Parttime",l.isRemote&&", Remote mogelijk"]})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-gray-600",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h8a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm3 1h6v4H7V5zm8 8v2h1v1H4v-1h1v-2h-.5a.5.5 0 01-.5-.5v-2a.5.5 0 01.5-.5H6v-1h8v1h1.5a.5.5 0 01.5.5v2a.5.5 0 01-.5.5H15z",clipRule:"evenodd"})}),l.company]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("svg",{className:"w-5 h-5 mr-2 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),l.location]}),l.salary&&i.jsxs("div",{className:"flex items-center",children:[i.jsxs("svg",{className:"w-5 h-5 mr-2 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[i.jsx("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z",clipRule:"evenodd"})]}),"",l.salary]})]})]}),i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Functieomschrijving"}),i.jsx("div",{className:"mb-6 text-gray-700 whitespace-pre-line",children:l.description}),l.requirements&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Functie-eisen"}),i.jsx("div",{className:"text-gray-700 whitespace-pre-line",children:l.requirements})]}),S&&i.jsxs("div",{className:"mt-8 flex flex-col sm:flex-row gap-4",children:[i.jsx("button",{onClick:O,className:"px-6 py-3 bg-primary-600 text-white font-medium rounded-md hover:bg-primary-700 transition-colors flex-1",children:"Solliciteer direct"}),i.jsx("button",{onClick:H,disabled:_,className:"px-6 py-3 bg-white text-primary-600 font-medium rounded-md border border-primary-600 hover:bg-primary-50 transition-colors flex-1 flex justify-center items-center",children:_?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-primary-600 mr-2"}),i.jsx("span",{children:"Bezig..."})]}):"Chat met recruiter"})]}),U&&B&&i.jsx("div",{className:"mt-8 flex justify-end",children:i.jsx("button",{onClick:T,className:"px-6 py-3 bg-primary-600 text-white font-medium rounded-md hover:bg-primary-700 transition-colors",children:"Vacature bewerken"})})]})]})]})})]})},OR=()=>{var j,N,k,L;const{jobId:r}=Io(),e=kr(),{currentUser:t,userProfile:n}=_t(),[a,l]=z.useState(null),[u,f]=z.useState(!0),[m,g]=z.useState(!1),[x,_]=z.useState(null),[w,S]=z.useState(!1),[U,B]=z.useState(null),{register:O,handleSubmit:H,formState:{errors:V}}=ms({defaultValues:{email:(t==null?void 0:t.email)||"",phoneNumber:(n==null?void 0:n.phoneNumber)||"",linkedinUrl:((j=n==null?void 0:n.profile)==null?void 0:j.linkedin)||"",portfolioUrl:((N=n==null?void 0:n.profile)==null?void 0:N.portfolio)||""}});n==null||n.role,z.useEffect(()=>{if(!t){e("/login",{state:{from:`/job-application/${r}`}});return}if(n&&n.role!=="werkzoekende"){_("Alleen werkzoekenden kunnen solliciteren"),f(!1);return}(async()=>{if(!r){_("Geen vacature ID gevonden"),f(!1);return}try{f(!0);const D=ct($e,"jobs",r),C=await fr(D);if(C.exists()){const ve=C.data();l({id:C.id,title:ve.title||"Onbekende functie",company:ve.company||"Onbekend bedrijf",location:ve.location||"Locatie onbekend",description:ve.description||"Geen beschrijving beschikbaar",salary:ve.salary,isFullTime:ve.isFullTime,isRemote:ve.isRemote,status:ve.status,requirements:ve.requirements,createdAt:ve.createdAt,updatedAt:ve.updatedAt,userId:ve.userId,recruiterId:ve.recruiterId}),_(null)}else _("Vacature niet gevonden"),l(null)}catch(D){console.error("Fout bij het ophalen van vacaturedetails:",D),_("Er is een fout opgetreden bij het laden van de vacature"),l(null)}finally{f(!1)}})()},[r,t,e,n]);const T=async F=>{if(!t)throw new Error("Niet ingelogd");const D=F.name.split(".").pop(),C=`cv_${t.uid}_${Date.now()}.${D}`,ve=oh(B1,`cv/${C}`);return await sh(ve,F),ih(ve)},$=async F=>{var D;if(!t||!a||!a.recruiterId){_("Er ontbreken gegevens om de sollicitatie te kunnen versturen");return}try{g(!0),_(null);let C=((D=n==null?void 0:n.profile)==null?void 0:D.cv)||"";F.cv&&F.cv.length>0&&(C=await T(F.cv[0]));const ve={jobId:a.id,userId:t.uid,recruiterId:a.recruiterId,jobTitle:a.title,companyName:a.company,applicantName:(n==null?void 0:n.displayName)||t.displayName||"",motivationLetter:F.motivationLetter,cvUrl:C,phoneNumber:F.phoneNumber||"",email:F.email,linkedinUrl:F.linkedinUrl||"",portfolioUrl:F.portfolioUrl||"",status:"pending",applicationDate:ds(),updatedAt:ds(),notes:F.additionalNotes||""},Le=Jt($e,"sollicitaties");await Ua(Le,ve),S(!0),setTimeout(()=>{e("/dashboard")},3e3)}catch(C){console.error("Fout bij het versturen van de sollicitatie:",C),C.code==="permission-denied"?_("Je hebt niet de juiste rechten om een sollicitatie te versturen. Zorg ervoor dat je bent ingelogd als werkzoekende."):C.code==="unavailable"||C.code==="network-request-failed"?_("Er is een netwerkprobleem opgetreden. Controleer je internetverbinding en probeer het opnieuw."):C.code==="storage/unauthorized"?_("Je hebt niet de juiste rechten om je CV te uploaden. Zorg ervoor dat je bent ingelogd als werkzoekende."):_("Er is een fout opgetreden bij het versturen van je sollicitatie. Probeer het later opnieuw of neem contact op met de helpdesk.")}finally{g(!1)}},q=F=>{F.target.files&&F.target.files.length>0?B(F.target.files[0].name):B(null)},I=()=>{e(`/job/${r}`)};return i.jsxs("div",{className:"min-h-screen bg-white",children:[i.jsx(tr,{}),i.jsx("div",{className:"container mx-auto px-4 py-12 mt-12",children:i.jsxs("div",{className:"max-w-4xl mx-auto",children:[i.jsxs("button",{onClick:I,className:"mb-6 flex items-center text-primary-600 hover:text-primary-800",children:[i.jsx("svg",{className:"w-5 h-5 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Terug naar vacature"]}),u&&i.jsxs("div",{className:"flex justify-center items-center p-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"}),i.jsx("span",{className:"ml-3",children:"Vacature details laden..."})]}),x&&i.jsxs("div",{className:"bg-red-50 text-red-700 p-6 rounded-lg mb-6",children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Er is een probleem opgetreden"}),i.jsx("p",{children:x})]}),w&&i.jsxs("div",{className:"bg-green-50 text-green-700 p-6 rounded-lg mb-6",children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Sollicitatie verstuurd!"}),i.jsx("p",{children:"Je sollicitatie is succesvol verstuurd. Je wordt nu doorgestuurd naar je dashboard."})]}),!u&&!x&&a&&!w&&i.jsxs("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden border border-gray-200",children:[i.jsxs("div",{className:"bg-primary-50 p-6 border-b border-gray-200",children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-2",children:["Solliciteren op: ",a.title]}),i.jsxs("p",{className:"text-gray-600",children:[a.company,"  ",a.location]})]}),i.jsxs("form",{onSubmit:H($),className:"p-6",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"motivationLetter",children:["Motivatiebrief ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("textarea",{...O("motivationLetter",{required:"Motivatiebrief is verplicht"}),id:"motivationLetter",rows:8,className:`w-full px-3 py-2 border ${V.motivationLetter?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"Vertel waarom je genteresseerd bent in deze functie en waarom je de ideale kandidaat bent..."}),V.motivationLetter&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:V.motivationLetter.message})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"cv",children:"Upload je CV (PDF)"}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"file",...O("cv"),id:"cv",className:"hidden",accept:".pdf,.doc,.docx",onChange:q}),i.jsx("label",{htmlFor:"cv",className:"cursor-pointer px-4 py-2 bg-gray-100 text-gray-800 rounded-md border border-gray-300 hover:bg-gray-200",children:"Kies bestand"}),i.jsx("span",{className:"ml-3 text-sm text-gray-500",children:U||((k=n==null?void 0:n.profile)!=null&&k.cv?"Bestaand CV wordt gebruikt":"Geen bestand gekozen")})]}),i.jsx("p",{className:"mt-1 text-xs text-gray-500",children:(L=n==null?void 0:n.profile)!=null&&L.cv?"Je hebt al een CV gepload in je profiel. Als je geen nieuw bestand kiest, gebruiken we je bestaande CV.":"Maximaal 5MB. Ondersteunde formaten: PDF, DOC, DOCX"})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-medium mb-3 text-gray-800",children:"Contactgegevens"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"email",children:["E-mailadres ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{...O("email",{required:"E-mailadres is verplicht",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Voer een geldig e-mailadres in"}}),type:"email",id:"email",className:`w-full px-3 py-2 border ${V.email?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"jouw@email.nl"}),V.email&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:V.email.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"phoneNumber",children:"Telefoonnummer"}),i.jsx("input",{...O("phoneNumber"),type:"tel",id:"phoneNumber",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"06 12345678"})]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"text-lg font-medium mb-3 text-gray-800",children:"Online profielen"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"linkedinUrl",children:"LinkedIn URL"}),i.jsx("input",{...O("linkedinUrl"),type:"url",id:"linkedinUrl",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"https://linkedin.com/in/jouwnaam"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"portfolioUrl",children:"Portfolio / Website"}),i.jsx("input",{...O("portfolioUrl"),type:"url",id:"portfolioUrl",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"https://jouwportfolio.nl"})]})]})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"additionalNotes",children:"Extra informatie"}),i.jsx("textarea",{...O("additionalNotes"),id:"additionalNotes",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Is er nog iets anders dat je wilt delen met de recruiter?"})]}),i.jsx("div",{className:"mt-8",children:i.jsx("button",{type:"submit",disabled:m,className:"w-full md:w-auto px-6 py-3 bg-primary-600 text-white font-medium rounded-md hover:bg-primary-700 transition-colors flex items-center justify-center disabled:bg-primary-400",children:m?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white mr-2"}),"Versturen..."]}):"Sollicitatie versturen"})})]})]})]})})]})},Nx=({size:r="md",color:e="text-blue-500"})=>{const t={sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"};return i.jsx("div",{className:"flex justify-center items-center",children:i.jsx("div",{className:`${t[r]} ${e} animate-spin`,children:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})})},Ex=()=>{const{chatId:r}=Io(),{currentUser:e}=_t(),t=kr(),{chats:n,activeChat:a,messages:l,loadingChats:u,loadingMessages:f,error:m,sendMessage:g,setActiveChatById:x}=ig(),[_,w]=z.useState(""),S=z.useRef(null),U=z.useRef(null);if(z.useEffect(()=>{e||t("/login")},[e,t]),z.useEffect(()=>{r&&x(r)},[r,x]),z.useEffect(()=>{var V;(V=S.current)==null||V.scrollIntoView({behavior:"smooth"})},[l]),z.useEffect(()=>{var V;a&&((V=U.current)==null||V.focus())},[l.length,a]),u)return i.jsx("div",{className:"flex justify-center items-center min-h-screen",children:i.jsx(Nx,{})});const B=async V=>{if(V.preventDefault(),!_.trim()||!a)return;const T=_.trim();w("");try{await g(a.id,T)}catch($){console.error("Fout bij het versturen van bericht:",$),w(T)}},O=V=>{t(`/messages/${V}`)},H=V=>{if(!V)return"";const T=V.toDate(),$=new Date,q=new Date($);return q.setDate(q.getDate()-1),T.toDateString()===$.toDateString()?T.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):T.toDateString()===q.toDateString()?"Gisteren":T.toLocaleDateString()};return i.jsxs("div",{className:"container mx-auto px-4 py-8",children:[i.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Berichten"}),m&&i.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",children:m}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-4 bg-white rounded-lg shadow-lg overflow-hidden min-h-[70vh]",children:[i.jsxs("div",{className:"md:w-1/3 border-r",children:[i.jsx("div",{className:"p-4 bg-gray-50 border-b",children:i.jsx("h2",{className:"font-semibold text-lg",children:"Gesprekken"})}),i.jsx("div",{className:"overflow-y-auto h-[calc(70vh-4rem)]",children:n.length===0?i.jsx("div",{className:"p-6 text-center text-gray-500",children:"Geen berichten gevonden. Start een gesprek via het profiel van een kandidaat of recruiter."}):n.map(V=>{var T,$;return i.jsx("div",{className:`p-4 border-b hover:bg-gray-50 cursor-pointer ${(a==null?void 0:a.id)===V.id?"bg-blue-50":""}`,onClick:()=>O(V.id),children:i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsxs("div",{className:"relative",children:[V.otherUser.photoURL?i.jsx("img",{src:V.otherUser.photoURL,alt:V.otherUser.displayName,className:"w-12 h-12 rounded-full object-cover"}):i.jsx("div",{className:"w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center text-lg font-medium text-gray-600",children:V.otherUser.displayName.substring(0,1).toUpperCase()}),typeof V.unreadCount=="number"?V.unreadCount>0&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:V.unreadCount}):(((T=V.unreadCount)==null?void 0:T[(e==null?void 0:e.uid)||""])||0)>0&&i.jsx("span",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:(($=V.unreadCount)==null?void 0:$[(e==null?void 0:e.uid)||""])||0})]}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h3",{className:"font-medium truncate",children:V.otherUser.displayName}),V.lastMessageTimestamp&&i.jsx("span",{className:"text-xs text-gray-500",children:H(V.lastMessageTimestamp)})]}),i.jsx("p",{className:"text-sm text-gray-600 truncate",children:V.lastMessage?V.lastMessage:"Geen berichten"})]})]})},V.id)})})]}),i.jsx("div",{className:"md:w-2/3 flex flex-col",children:a?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"p-4 bg-gray-50 border-b flex items-center gap-3",children:[a.otherUser.photoURL?i.jsx("img",{src:a.otherUser.photoURL,alt:a.otherUser.displayName,className:"w-10 h-10 rounded-full object-cover"}):i.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-md font-medium text-gray-600",children:a.otherUser.displayName.substring(0,1).toUpperCase()}),i.jsxs("div",{children:[i.jsx("h2",{className:"font-semibold",children:a.otherUser.displayName}),i.jsx("p",{className:"text-sm text-gray-500",children:a.otherUser.role})]})]}),i.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 h-[calc(70vh-12rem)]",children:[f?i.jsx("div",{className:"flex justify-center items-center h-full",children:i.jsx(Nx,{})}):l.length===0?i.jsx("div",{className:"text-center text-gray-500 mt-10",children:"Geen berichten. Stuur een bericht om het gesprek te starten."}):l.map(V=>i.jsx("div",{className:`flex ${V.senderId===(e==null?void 0:e.uid)?"justify-end":"justify-start"}`,children:i.jsxs("div",{className:`max-w-[70%] p-3 rounded-lg ${V.senderId===(e==null?void 0:e.uid)?"bg-blue-500 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-bl-none"}`,children:[i.jsx("p",{children:V.text}),i.jsxs("div",{className:`text-xs mt-1 ${V.senderId===(e==null?void 0:e.uid)?"text-blue-100":"text-gray-500"}`,children:[H(V.timestamp),V.senderId===(e==null?void 0:e.uid)&&i.jsx("span",{className:"ml-1",children:V.read?"  Gelezen":""})]})]})},V.id)),i.jsx("div",{ref:S})]}),i.jsx("form",{onSubmit:B,className:"p-4 border-t",children:i.jsxs("div",{className:"flex gap-2",children:[i.jsx("input",{ref:U,type:"text",value:_,onChange:V=>w(V.target.value),placeholder:"Typ een bericht...",className:"flex-1 border rounded-full px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),i.jsx("button",{type:"submit",disabled:!_.trim(),className:"bg-blue-500 text-white rounded-full p-2 hover:bg-blue-600 disabled:opacity-50",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]}):i.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-10 text-center text-gray-500",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mb-4 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Geen actief gesprek"}),i.jsx("p",{children:"Selecteer een gesprek in de lijst links om berichten weer te geven."})]})})]})]})},ho=r=>{if(!r)return"Onbekend";try{if(r&&typeof r=="object"&&"seconds"in r)return new Date(r.seconds*1e3).toLocaleDateString("nl-NL",{year:"numeric",month:"long",day:"numeric"});if(r instanceof Date)return r.toLocaleDateString("nl-NL",{year:"numeric",month:"long",day:"numeric"});if(typeof r=="string"){const e=new Date(r);if(!isNaN(e.getTime()))return e.toLocaleDateString("nl-NL",{year:"numeric",month:"long",day:"numeric"})}return String(r)}catch(e){return console.error("Error formatting date:",e),"Onbekend"}},LR=()=>{const{userProfile:r,currentUser:e}=_t(),[t,n]=z.useState(null),[a,l]=z.useState(!0),[u,f]=z.useState(null),m=kr();z.useEffect(()=>{(async()=>{if(!(e!=null&&e.uid)){f("Je moet ingelogd zijn om je CV te bekijken"),l(!1);return}try{l(!0);const S=ct($e,"users",e.uid),U=await fr(S);if(U.exists()){const B=U.data();if(B.detailedCV)n(B.detailedCV);else{const O=ct($e,"users",e.uid,"cv","main"),H=await fr(O);H.exists()?n(H.data()):f("Geen CV gegevens gevonden. Maak eerst een CV aan.")}}else f("Gebruikersprofiel niet gevonden")}catch(S){console.error("Fout bij ophalen CV data:",S),f("Er is een fout opgetreden bij het ophalen van je CV gegevens")}finally{l(!1)}})()},[e]);const g=w=>{const S=[];for(let B=1;B<=5;B++)B<=w?S.push(i.jsx("svg",{className:"w-4 h-4 text-yellow-500 fill-current",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},B)):S.push(i.jsx("svg",{className:"w-4 h-4 text-gray-300 fill-current",viewBox:"0 0 20 20",children:i.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},B));return i.jsx("div",{className:"flex",children:S})},x=()=>{m("/profile")};if(a)return i.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"CV gegevens laden..."})]})});if(u)return i.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:i.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-md p-8",children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"CV Preview"}),i.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4",children:i.jsx("p",{className:"text-red-700",children:u})}),i.jsx("button",{onClick:x,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:"Terug naar profiel"})]})});const _=(r==null?void 0:r.displayName)||(e==null?void 0:e.displayName)||"Gebruiker";return i.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6",children:i.jsx("div",{className:"max-w-5xl mx-auto",children:i.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[i.jsxs("div",{className:"p-6 bg-gradient-to-r from-primary-600 to-primary-800 text-white",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"text-3xl font-bold",children:"CV Preview"}),i.jsx("button",{onClick:x,className:"px-4 py-2 bg-white text-primary-700 rounded-md hover:bg-gray-100",children:"Terug naar profiel"})]}),i.jsx("p",{className:"mt-2 text-primary-100",children:"Dit is hoe je CV eruit zal zien voor recruiters"})]}),i.jsxs("div",{className:"p-8",children:[i.jsxs("div",{className:"mb-10",children:[i.jsx("h2",{className:"text-2xl font-bold text-primary-700 border-b-2 border-primary-200 pb-2 mb-4",children:_}),(r==null?void 0:r.email)&&i.jsxs("p",{className:"text-gray-600 mb-1",children:[i.jsx("span",{className:"font-medium",children:"Email:"})," ",r.email]}),(r==null?void 0:r.phoneNumber)&&i.jsxs("p",{className:"text-gray-600 mb-1",children:[i.jsx("span",{className:"font-medium",children:"Telefoon:"})," ",r.phoneNumber]}),(r==null?void 0:r.address)&&i.jsxs("p",{className:"text-gray-600 mb-1",children:[i.jsx("span",{className:"font-medium",children:"Adres:"})," ",[r.address.street,r.address.houseNumber,r.address.postalCode,r.address.city,r.address.country].filter(Boolean).join(", ")]})]}),(t==null?void 0:t.overMij)&&i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Over mij"}),i.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:t.overMij})]}),(t==null?void 0:t.werkervaring)&&t.werkervaring.length>0&&i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Werkervaring"}),i.jsx("div",{className:"space-y-6",children:t.werkervaring.map(w=>i.jsxs("div",{className:"pl-4 border-l-2 border-primary-200",children:[i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsx("h3",{className:"font-medium text-lg text-gray-800",children:w.functie}),i.jsxs("span",{className:"text-gray-500 text-sm",children:[ho(w.startDatum)," - ",w.isHuidigeFunctie?"Heden":ho(w.eindDatum)]})]}),i.jsx("p",{className:"text-primary-600 font-medium mb-2",children:w.bedrijf}),w.beschrijving&&i.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:w.beschrijving})]},w.id))})]}),(t==null?void 0:t.opleiding)&&t.opleiding.length>0&&i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Opleiding"}),i.jsx("div",{className:"space-y-6",children:t.opleiding.map(w=>i.jsxs("div",{className:"pl-4 border-l-2 border-primary-200",children:[i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsx("h3",{className:"font-medium text-lg text-gray-800",children:w.opleiding}),i.jsxs("span",{className:"text-gray-500 text-sm",children:[ho(w.startDatum)," - ",w.isHuidigeOpleiding?"Heden":ho(w.eindDatum)]})]}),i.jsx("p",{className:"text-primary-600 font-medium mb-2",children:w.instituut}),w.beschrijving&&i.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:w.beschrijving})]},w.id))})]}),(t==null?void 0:t.stages)&&t.stages.length>0&&i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Stages"}),i.jsx("div",{className:"space-y-6",children:t.stages.map(w=>i.jsxs("div",{className:"pl-4 border-l-2 border-primary-200",children:[i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsx("h3",{className:"font-medium text-lg text-gray-800",children:w.functie}),i.jsxs("span",{className:"text-gray-500 text-sm",children:[ho(w.startDatum)," - ",w.isHuidigeStage?"Heden":ho(w.eindDatum)]})]}),i.jsx("p",{className:"text-primary-600 font-medium mb-2",children:w.bedrijf}),w.beschrijving&&i.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:w.beschrijving})]},w.id))})]}),(t==null?void 0:t.vaardigheden)&&t.vaardigheden.length>0&&i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Vaardigheden"}),t.vaardigheden.some(w=>w.type==="soft")&&i.jsxs("div",{className:"mb-4",children:[i.jsx("h3",{className:"font-medium text-primary-600 mb-2",children:"Soft Skills"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.vaardigheden.filter(w=>w.type==="soft").map(w=>i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-700",children:w.naam}),g(w.niveau)]},w.id))})]}),t.vaardigheden.some(w=>w.type==="hard")&&i.jsxs("div",{children:[i.jsx("h3",{className:"font-medium text-primary-600 mb-2",children:"Hard Skills"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.vaardigheden.filter(w=>w.type==="hard").map(w=>i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("span",{className:"text-gray-700",children:w.naam}),g(w.niveau)]},w.id))})]})]}),(t==null?void 0:t.certificaten)&&t.certificaten.length>0&&i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Certificaten"}),i.jsx("div",{className:"space-y-4",children:t.certificaten.map(w=>i.jsxs("div",{className:"pl-4 border-l-2 border-primary-200",children:[i.jsxs("div",{className:"flex justify-between mb-1",children:[i.jsx("h3",{className:"font-medium text-gray-800",children:w.naam}),i.jsx("span",{className:"text-gray-500 text-sm",children:ho(w.datum)})]}),i.jsx("p",{className:"text-primary-600 font-medium mb-1",children:w.uitgever}),w.beschrijving&&i.jsx("p",{className:"text-gray-700 text-sm",children:w.beschrijving})]},w.id))})]}),(t==null?void 0:t.talen)&&t.talen.length>0&&i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Talen"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.talen.map(w=>i.jsxs("div",{className:"flex justify-between",children:[i.jsx("span",{className:"text-gray-700",children:w.taal}),i.jsx("span",{className:"text-primary-600 font-medium",children:w.niveau})]},w.id))})]}),(t==null?void 0:t.hobbys)&&t.hobbys.length>0&&i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Hobby's en interesses"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:t.hobbys.map(w=>i.jsx("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full",children:w.naam},w.id))})]})]}),i.jsx("div",{className:"bg-gray-50 px-8 py-4 border-t border-gray-200",children:i.jsxs("p",{className:"text-gray-500 text-center",children:["Dit is een preview van je CV zoals het zichtbaar is voor recruiters.",i.jsx("br",{}),"Ga terug naar het profiel om wijzigingen aan te brengen."]})})]})})})},FR=()=>{var w;const r=kr(),{currentUser:e,userProfile:t}=_t(),[n,a]=z.useState(!1),[l,u]=z.useState(null),{register:f,handleSubmit:m,formState:{errors:g}}=ms({defaultValues:{title:"",company:((w=t==null?void 0:t.profile)==null?void 0:w.company)||(t==null?void 0:t.companyName)||"",location:"",description:"",requirements:"",salary:"",isFullTime:!0,isRemote:!1}}),x=async S=>{if(!e){u("Je moet ingelogd zijn om een vacature te plaatsen");return}if((t==null?void 0:t.role)!=="recruiter"){console.error("Gebruiker is geen recruiter, kan geen vacature plaatsen",t),u("Alleen recruiters kunnen vacatures plaatsen");return}console.log("Vacature aanmaken voor gebruiker:",{uid:e.uid,email:e.email,role:t==null?void 0:t.role}),a(!0),u(null);try{const U=Jt($e,"jobs"),B=new Date,O={seconds:Math.floor(B.getTime()/1e3),nanoseconds:B.getMilliseconds()*1e6},H={...S,recruiterId:e.uid,userId:e.uid,createdAt:ds(),createdAtFallback:O,updatedAt:ds(),updatedAtFallback:O,status:"active"};console.log("Nieuw vacature data om op te slaan:",H),console.log("Firebase connection status check vr toevoegen vacature");const V=await Ua(U,H);console.log("Vacature toegevoegd met ID:",V.id),r(`/job/${V.id}`)}catch(U){console.error("Fout bij het toevoegen van vacature:",U);let B="Er is een fout opgetreden bij het plaatsen van de vacature. ";U instanceof Error?(console.error("Foutdetails:",U.message),U.message.includes("permission-denied")?B+="Je hebt geen toestemming om vacatures te plaatsen. Controleer of je bent ingelogd als recruiter.":U.message.includes("network")?B+="Er lijkt een netwerkprobleem te zijn. Controleer je internetverbinding en probeer het opnieuw.":B+="Probeer het later opnieuw."):B+="Probeer het later opnieuw.",u(B),a(!1)}},_=()=>{r("/dashboard")};return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(tr,{}),i.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-3xl",children:[i.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Nieuwe vacature plaatsen"}),i.jsx("button",{onClick:_,className:"text-gray-600 hover:text-gray-800",children:"Annuleren"})]}),l&&i.jsx("div",{className:"mb-6 bg-red-100 border-l-4 border-red-500 text-red-700 p-4",children:i.jsx("p",{children:l})}),i.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:i.jsxs("form",{onSubmit:m(x),className:"p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:["Functietitel ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",id:"title",...f("title",{required:"Functietitel is verplicht"}),className:`w-full px-3 py-2 border ${g.title?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"bijv. Frontend Developer"}),g.title&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:g.title.message})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700 mb-1",children:["Bedrijfsnaam ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",id:"company",...f("company",{required:"Bedrijfsnaam is verplicht"}),className:`w-full px-3 py-2 border ${g.company?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"bijv. Tech Solutions BV"}),g.company&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:g.company.message})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:["Locatie ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",id:"location",...f("location",{required:"Locatie is verplicht"}),className:`w-full px-3 py-2 border ${g.location?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"bijv. Amsterdam"}),g.location&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:g.location.message})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"salary",className:"block text-sm font-medium text-gray-700 mb-1",children:"Salarisindicatie"}),i.jsx("input",{type:"text",id:"salary",...f("salary"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"bijv. 3000-4000 per maand"})]}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"isFullTime",...f("isFullTime"),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"isFullTime",className:"ml-2 block text-sm text-gray-700",children:"Fulltime"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"isRemote",...f("isRemote"),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"isRemote",className:"ml-2 block text-sm text-gray-700",children:"Mogelijkheid tot thuiswerken"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Functieomschrijving ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("textarea",{id:"description",...f("description",{required:"Functieomschrijving is verplicht"}),rows:6,className:`w-full px-3 py-2 border ${g.description?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"Beschrijf de functie, taken en verantwoordelijkheden..."}),g.description&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:g.description.message})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"requirements",className:"block text-sm font-medium text-gray-700 mb-1",children:"Functie-eisen"}),i.jsx("textarea",{id:"requirements",...f("requirements"),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Beschrijf de kennis, vaardigheden en ervaring die nodig zijn voor deze functie..."})]}),i.jsxs("div",{className:"pt-4 flex justify-end space-x-4",children:[i.jsx("button",{type:"button",onClick:_,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Annuleren"}),i.jsx("button",{type:"submit",disabled:n,className:"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 flex items-center justify-center",children:n?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin mr-2 h-4 w-4 border-t-2 border-b-2 border-white rounded-full"}),"Bezig met opslaan..."]}):"Vacature plaatsen"})]})]})})]})]})},MR=()=>{const{jobId:r}=Io(),e=kr(),{currentUser:t}=_t(),[n,a]=z.useState(!1),[l,u]=z.useState(!0),[f,m]=z.useState(null),[g,x]=z.useState(!1),{register:_,handleSubmit:w,formState:{errors:S},reset:U}=ms();z.useEffect(()=>{(async()=>{if(!r||!t){m("Ongeldige vacature ID of gebruiker niet ingelogd"),u(!1);return}try{u(!0);const T=ct($e,"jobs",r),$=await fr(T);if(!$.exists()){m("Vacature niet gevonden"),u(!1);return}const q=$.data();if(q.recruiterId!==t.uid){x(!0),u(!1);return}U({title:q.title||"",company:q.company||"",location:q.location||"",description:q.description||"",requirements:q.requirements||"",salary:q.salary||"",isFullTime:q.isFullTime||!1,isRemote:q.isRemote||!1,status:q.status||"active"}),u(!1)}catch(T){console.error("Fout bij ophalen vacature:",T),m("Er is een fout opgetreden bij het laden van de vacature"),u(!1)}})()},[r,t,U]);const B=async V=>{if(!t||!r){m("Je moet ingelogd zijn en een geldige vacature ID hebben");return}a(!0),m(null);try{const T=ct($e,"jobs",r),$={...V,updatedAt:ds()};await Pr(T,$),e(`/job/${r}`)}catch(T){console.error("Fout bij bijwerken vacature:",T),m("Er is een fout opgetreden bij het bijwerken van de vacature. Probeer het later opnieuw."),a(!1)}},O=()=>{e(`/job/${r}`)},H=async()=>{if(confirm("Weet je zeker dat je deze vacature wilt verwijderen? Dit kan niet ongedaan worden gemaakt.")){if(!t||!r){m("Je moet ingelogd zijn en een geldige vacature ID hebben");return}try{a(!0);const V=ct($e,"jobs",r);await Pr(V,{status:"deleted",updatedAt:ds()}),e("/dashboard")}catch(V){console.error("Fout bij verwijderen vacature:",V),m("Er is een fout opgetreden bij het verwijderen van de vacature"),a(!1)}}};return g?i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(tr,{}),i.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-3xl",children:[i.jsx("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6",children:i.jsx("p",{children:"Je hebt geen toestemming om deze vacature te bewerken."})}),i.jsx("button",{onClick:()=>e("/dashboard"),className:"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:"Terug naar dashboard"})]})]}):i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx(tr,{}),i.jsxs("div",{className:"container mx-auto px-4 py-12 max-w-3xl",children:[i.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[i.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Vacature bewerken"}),i.jsx("button",{onClick:O,className:"text-gray-600 hover:text-gray-800",children:"Annuleren"})]}),f&&i.jsx("div",{className:"mb-6 bg-red-100 border-l-4 border-red-500 text-red-700 p-4",children:i.jsx("p",{children:f})}),l?i.jsxs("div",{className:"flex justify-center py-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"}),i.jsx("span",{className:"ml-3 text-gray-600",children:"Vacature laden..."})]}):i.jsx("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:i.jsxs("form",{onSubmit:w(B),className:"p-6 space-y-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:["Functietitel ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",id:"title",..._("title",{required:"Functietitel is verplicht"}),className:`w-full px-3 py-2 border ${S.title?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"bijv. Frontend Developer"}),S.title&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:S.title.message})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700 mb-1",children:["Bedrijfsnaam ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",id:"company",..._("company",{required:"Bedrijfsnaam is verplicht"}),className:`w-full px-3 py-2 border ${S.company?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"bijv. Tech Solutions BV"}),S.company&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:S.company.message})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:["Locatie ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",id:"location",..._("location",{required:"Locatie is verplicht"}),className:`w-full px-3 py-2 border ${S.location?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"bijv. Amsterdam"}),S.location&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:S.location.message})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:["Status ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{id:"status",..._("status",{required:"Status is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[i.jsx("option",{value:"active",children:"Actief"}),i.jsx("option",{value:"paused",children:"Gepauzeerd"}),i.jsx("option",{value:"closed",children:"Gesloten"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"salary",className:"block text-sm font-medium text-gray-700 mb-1",children:"Salarisindicatie"}),i.jsx("input",{type:"text",id:"salary",..._("salary"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"bijv. 3000-4000 per maand"})]}),i.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"isFullTime",..._("isFullTime"),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"isFullTime",className:"ml-2 block text-sm text-gray-700",children:"Fulltime"})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:"isRemote",..._("isRemote"),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),i.jsx("label",{htmlFor:"isRemote",className:"ml-2 block text-sm text-gray-700",children:"Mogelijkheid tot thuiswerken"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Functieomschrijving ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("textarea",{id:"description",..._("description",{required:"Functieomschrijving is verplicht"}),rows:6,className:`w-full px-3 py-2 border ${S.description?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"Beschrijf de functie, taken en verantwoordelijkheden..."}),S.description&&i.jsx("p",{className:"mt-1 text-sm text-red-500",children:S.description.message})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"requirements",className:"block text-sm font-medium text-gray-700 mb-1",children:"Functie-eisen"}),i.jsx("textarea",{id:"requirements",..._("requirements"),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Beschrijf de kennis, vaardigheden en ervaring die nodig zijn voor deze functie..."})]}),i.jsxs("div",{className:"pt-4 flex justify-between",children:[i.jsx("button",{type:"button",onClick:H,className:"px-6 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",disabled:n,children:"Vacature verwijderen"}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsx("button",{type:"button",onClick:O,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Annuleren"}),i.jsx("button",{type:"submit",disabled:n,className:"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 flex items-center justify-center",children:n?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"animate-spin mr-2 h-4 w-4 border-t-2 border-b-2 border-white rounded-full"}),"Bezig met opslaan..."]}):"Wijzigingen opslaan"})]})]})]})})]})]})},Gu=()=>{const{id:r}=Io(),e=kr(),{currentUser:t,userProfile:n}=_t(),[a,l]=z.useState(null),[u,f]=z.useState(!0),[m,g]=z.useState(null),[x,_]=z.useState(null),[w,S]=z.useState(!1),[U,B]=z.useState(""),[O,H]=z.useState([]),[V,T]=z.useState(!1),[$,q]=z.useState(new Date().getMonth()),[I,j]=z.useState(new Date().getFullYear()),{register:N,handleSubmit:k,control:L,watch:F,formState:{errors:D},setValue:C,reset:ve}=ms({defaultValues:{date:new Date,time:"10:00",endTime:"11:00",title:"",description:"",meetingType:"kennismaking",locationType:"online"}}),Le=F("locationType");z.useEffect(()=>{(async()=>{if(!r){f(!1);return}try{f(!0);const Ne=await fr(ct($e,"users",r));if(Ne.exists()){const xe=Ne.data(),ke={id:Ne.id,name:xe.displayName||xe.name||"Onbekende kandidaat",email:xe.email,phoneNumber:xe.phoneNumber};l(ke),C("candidateId",ke.id),C("candidateName",ke.name),C("candidateEmail",ke.email||"")}else g("Kandidaat niet gevonden")}catch(Ne){console.error("Error fetching candidate:",Ne),g("Er is een fout opgetreden bij het laden van de kandidaat")}finally{f(!1)}})()},[r,C]);const Ve=async()=>{if(U.trim())try{T(!0),g(null);const ie=Jt($e,"users"),Ne=await wn(ie),xe=[];Ne.forEach(ke=>{const Pe=ke.data();if(Pe.role==="werkzoekende"||Pe.userType==="werkzoekende"||Pe.role==="jobseeker"||Pe.userType==="jobseeker"){const Oe=Pe.displayName||Pe.name||"",Vt=Pe.email||"";(Oe.toLowerCase().includes(U.toLowerCase())||Vt.toLowerCase().includes(U.toLowerCase()))&&xe.push({id:ke.id,name:Oe,email:Vt,phoneNumber:Pe.phoneNumber})}}),H(xe),xe.length===0&&g("Geen kandidaten gevonden met deze zoekopdracht")}catch(ie){console.error("Fout bij zoeken kandidaten:",ie),g("Er is een fout opgetreden bij het zoeken naar kandidaten")}finally{T(!1)}},_e=ie=>{l(ie),C("candidateId",ie.id),C("candidateName",ie.name),C("candidateEmail",ie.email||""),H([]),B("")},ne=()=>{const ie=F("candidateName"),Ne=F("candidateEmail");if(!ie){g("Vul tenminste een naam in voor de kandidaat");return}l({id:"manual",name:ie,email:Ne}),H([]),B("")},ee=async ie=>{if(!t)return;const Ne=ie.candidateId||(a?a.id:null),xe=ie.candidateName||(a?a.name:null);if(!Ne&&!xe){g("Selecteer een kandidaat of voeg handmatig een kandidaat toe");return}try{f(!0);const ke=new Date(ie.date),[Pe,Oe]=ie.time.split(":").map(Number);ke.setHours(Pe,Oe);const Vt=new Date(ie.date),[vt,Mt]=ie.endTime.split(":").map(Number);Vt.setHours(vt,Mt);let jt=Ne;(Ne==="manual"||!Ne)&&(jt=(await Ua(Jt($e,"users"),{displayName:xe,email:ie.candidateEmail||null,role:"werkzoekende",userType:"werkzoekende",createdAt:Ye.now(),createdBy:t.uid,isManuallyAdded:!0})).id);const We={candidateId:jt,candidateName:xe,candidateEmail:ie.candidateEmail||null,recruiterId:t.uid,recruiterName:(n==null?void 0:n.displayName)||"Onbekende recruiter",title:ie.title,description:ie.description,meetingType:ie.meetingType,locationType:ie.locationType,location:ie.locationType==="locatie"?ie.location:null,meetingLink:ie.locationType==="online"?ie.meetingLink:null,dateTime:Ye.fromDate(ke),endDateTime:Ye.fromDate(Vt),status:"gepland",createdAt:Ye.now()};await Ua(Jt($e,"meetings"),We),S(!0),setTimeout(()=>{e("/dashboard")},2e3),ve(ie)}catch(ke){console.error("Error creating meeting:",ke);let Pe="Er is een fout opgetreden bij het plannen van de afspraak";ke instanceof Error&&(console.error("Foutdetails:",ke.message),ke.message.includes("permission-denied")?Pe="Je hebt geen toestemming om afspraken te plannen. Controleer of je de juiste rechten hebt.":ke.message.includes("network")&&(Pe="Er lijkt een netwerkprobleem te zijn. Controleer je internetverbinding en probeer het opnieuw.")),g(Pe)}finally{f(!1)}},R=(ie,Ne)=>new Date(ie,Ne+1,0).getDate(),G=()=>{$===0?(q(11),j(I-1)):q($-1)},ae=()=>{$===11?(q(0),j(I+1)):q($+1)},ge=()=>{const ie=new Date(I,$,1).getDay(),Ne=R(I,$),xe=[];for(let ke=0;ke<ie;ke++)xe.push(i.jsx("div",{className:"h-12 border border-gray-200"},`empty-${ke}`));for(let ke=1;ke<=Ne;ke++){const Pe=new Date(I,$,ke),Oe=new Date,Vt=Oe.getDate()===ke&&Oe.getMonth()===$&&Oe.getFullYear()===I,vt=(x==null?void 0:x.getDate())===ke&&(x==null?void 0:x.getMonth())===$&&(x==null?void 0:x.getFullYear())===I;xe.push(i.jsx("div",{onClick:()=>{_(Pe),C("date",Pe)},className:`h-12 flex items-center justify-center cursor-pointer hover:bg-primary-100 transition-colors
            ${Vt?"font-bold":""}
            ${vt?"bg-primary-500 text-white hover:bg-primary-600":"bg-white"}
            border border-gray-200`,children:ke},`day-${ke}`))}return xe};return u&&!a?i.jsxs("div",{className:"min-h-screen bg-white",children:[i.jsx(tr,{}),i.jsxs("div",{className:"container mx-auto px-4 py-32 text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Bezig met laden..."})]}),i.jsx(Wr,{})]}):u&&r?i.jsxs("div",{className:"min-h-screen bg-white",children:[i.jsx(tr,{}),i.jsxs("div",{className:"container mx-auto px-4 py-32 text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Bezig met laden..."})]}),i.jsx(Wr,{})]}):i.jsxs("div",{className:"min-h-screen bg-white",children:[i.jsx(tr,{}),i.jsx("div",{className:"w-full bg-gradient-to-r from-primary-600 to-primary-800 text-white py-32 mb-8",children:i.jsxs("div",{className:"container mx-auto px-4",children:[i.jsx("h1",{className:"text-4xl font-bold mb-6 text-center",children:"Afspraak plannen"}),i.jsx("p",{className:"text-xl text-center max-w-3xl mx-auto",children:a?`Plan een afspraak met ${a.name}`:"Plan een afspraak met een kandidaat"})]})}),i.jsx("div",{className:"container mx-auto px-4 py-12",children:i.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[i.jsx("div",{className:"w-full md:w-1/2 bg-white rounded-lg shadow-md overflow-hidden mb-8",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Kandidaat selecteren"}),i.jsxs("div",{className:"mb-6",children:[i.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Zoek een kandidaat"}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("input",{type:"text",value:U,onChange:ie=>B(ie.target.value),placeholder:"Voer naam of e-mail in...",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"}),i.jsx("button",{type:"button",onClick:Ve,disabled:V,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50",children:V?"Zoeken...":"Zoek"})]})]}),O.length>0&&i.jsxs("div",{className:"mb-6",children:[i.jsx("h3",{className:"font-medium mb-2",children:"Gevonden kandidaten"}),i.jsx("div",{className:"max-h-60 overflow-y-auto border rounded-md",children:O.map(ie=>i.jsxs("div",{onClick:()=>_e(ie),className:"p-3 border-b hover:bg-gray-50 cursor-pointer flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:ie.name}),ie.email&&i.jsx("p",{className:"text-sm text-gray-600",children:ie.email})]}),i.jsx("button",{className:"text-blue-600 hover:text-blue-800 text-sm",children:"Selecteren"})]},ie.id))})]}),U&&O.length===0&&!V&&i.jsx("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:i.jsx("p",{className:"text-yellow-800",children:"Geen kandidaten gevonden. Controleer de spelling of zoek op een andere naam of e-mail."})}),i.jsx("div",{className:"mb-6",children:i.jsxs("div",{className:"relative flex items-center",children:[i.jsx("div",{className:"flex-grow border-t border-gray-300"}),i.jsx("span",{className:"flex-shrink mx-4 text-gray-600",children:"OF"}),i.jsx("div",{className:"flex-grow border-t border-gray-300"})]})}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("h3",{className:"font-medium",children:"Voeg handmatig een kandidaat toe"}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"candidateName",children:"Naam kandidaat *"}),i.jsx("input",{id:"candidateName",...N("candidateName",{required:"Naam is verplicht"}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",placeholder:"Volledige naam"}),D.candidateName&&i.jsx("p",{className:"text-red-500 text-xs italic mt-1",children:D.candidateName.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"candidateEmail",children:"E-mail kandidaat"}),i.jsx("input",{id:"candidateEmail",...N("candidateEmail",{pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Ongeldig e-mailadres"}}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"email",placeholder:"E-mailadres"}),D.candidateEmail&&i.jsx("p",{className:"text-red-500 text-xs italic mt-1",children:D.candidateEmail.message})]}),i.jsx("div",{children:i.jsx("button",{type:"button",onClick:ne,className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors",children:"Bevestig kandidaat"})})]}),a&&i.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[i.jsx("h3",{className:"font-medium mb-2",children:"Geselecteerde kandidaat"}),i.jsx("p",{className:"text-xl font-bold",children:a.name}),a.email&&i.jsx("p",{className:"text-gray-600",children:a.email}),i.jsx("button",{type:"button",onClick:()=>l(null),className:"mt-2 text-red-600 hover:text-red-800 text-sm",children:"Verwijderen"})]})]})}),i.jsx("div",{className:"w-full md:w-1/2 bg-white rounded-lg shadow-md overflow-hidden",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Datum selecteren"}),i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("button",{onClick:G,className:"p-2 rounded-full hover:bg-gray-200 transition-colors","aria-label":"Vorige maand",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),i.jsx("h3",{className:"text-lg font-medium",children:new Date(I,$).toLocaleDateString("nl-NL",{month:"long",year:"numeric"})}),i.jsx("button",{onClick:ae,className:"p-2 rounded-full hover:bg-gray-200 transition-colors","aria-label":"Volgende maand",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),i.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Zo","Ma","Di","Wo","Do","Vr","Za"].map(ie=>i.jsx("div",{className:"h-10 flex items-center justify-center font-medium text-gray-600",children:ie},ie))}),i.jsx("div",{className:"grid grid-cols-7 gap-1",children:ge()}),i.jsxs("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[i.jsx("h3",{className:"font-medium mb-2",children:"Geselecteerde datum"}),i.jsx("p",{className:"text-xl font-bold",children:x?x.toLocaleDateString("nl-NL",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):"Geen datum geselecteerd"})]})]})}),i.jsx("div",{className:"w-full md:w-1/2 bg-white rounded-lg shadow-md overflow-hidden",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Afspraak details"}),w?i.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:"Afspraak succesvol gepland! Pagina wordt omgeleid..."}):i.jsxs("form",{onSubmit:k(ee),className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"title",children:"Titel afspraak *"}),i.jsx("input",{id:"title",...N("title",{required:"Titel is verplicht"}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",placeholder:"Bijv. Kennismakingsgesprek met [naam]"}),D.title&&i.jsx("p",{className:"text-red-500 text-xs italic mt-1",children:D.title.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"time",children:"Begintijd *"}),i.jsx("input",{id:"time",...N("time",{required:"Begintijd is verplicht"}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"time"}),D.time&&i.jsx("p",{className:"text-red-500 text-xs italic mt-1",children:D.time.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"endTime",children:"Eindtijd *"}),i.jsx("input",{id:"endTime",...N("endTime",{required:"Eindtijd is verplicht"}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"time"}),D.endTime&&i.jsx("p",{className:"text-red-500 text-xs italic mt-1",children:D.endTime.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"meetingType",children:"Type afspraak *"}),i.jsxs("select",{id:"meetingType",...N("meetingType",{required:!0}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[i.jsx("option",{value:"kennismaking",children:"Kennismakingsgesprek"}),i.jsx("option",{value:"sollicitatiegesprek",children:"Sollicitatiegesprek"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Locatie type *"}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsxs("label",{className:"inline-flex items-center",children:[i.jsx("input",{type:"radio",...N("locationType"),value:"online",className:"form-radio"}),i.jsx("span",{className:"ml-2",children:"Online meeting"})]}),i.jsxs("label",{className:"inline-flex items-center",children:[i.jsx("input",{type:"radio",...N("locationType"),value:"locatie",className:"form-radio"}),i.jsx("span",{className:"ml-2",children:"Op locatie"})]})]})]}),Le==="online"?i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"meetingLink",children:"Meeting link"}),i.jsx("input",{id:"meetingLink",...N("meetingLink"),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",placeholder:"Bijv. https://meet.google.com/..."})]}):i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"location",children:"Adres locatie *"}),i.jsx("input",{id:"location",...N("location",{required:Le==="locatie"?"Adres is verplicht voor afspraken op locatie":!1}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",placeholder:"Bijv. Hoofdstraat 1, 1234 AB Amsterdam"}),D.location&&i.jsx("p",{className:"text-red-500 text-xs italic mt-1",children:D.location.message})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"description",children:"Beschrijving"}),i.jsx("textarea",{id:"description",...N("description"),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",rows:4,placeholder:"Geef extra details over deze afspraak..."})]}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("button",{type:"button",onClick:()=>e(`/candidate/${r}`),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors",children:"Annuleren"}),i.jsx("button",{type:"submit",disabled:u,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors disabled:opacity-50",children:u?"Bezig...":"Afspraak plannen"})]})]})]})})]})}),i.jsx(Wr,{})]})},UR=()=>{const{currentUser:r}=_t(),[e,t]=z.useState([]),[n,a]=z.useState(!0),[l,u]=z.useState(null),[f,m]=z.useState(null),[g,x]=z.useState(new Date().getMonth()),[_,w]=z.useState(new Date().getFullYear()),[S,U]=z.useState([]);z.useEffect(()=>{(async()=>{if(r)try{a(!0),u(null);const j=Jt($e,"meetings"),N=vn(j,xn("recruiterId","==",r.uid),Ma("dateTime","asc")),k=await wn(N),L=[];k.forEach(F=>{const D=F.data();L.push({id:F.id,title:D.title||"Ongetitelde afspraak",candidateName:D.candidateName||"Onbekende kandidaat",dateTime:D.dateTime,endDateTime:D.endDateTime,description:D.description,locationType:D.locationType,location:D.location,meetingLink:D.meetingLink,status:D.status||"gepland",candidateEmail:D.candidateEmail})}),t(L)}catch(j){console.error("Fout bij ophalen van meetings:",j),u("Er is een fout opgetreden bij het ophalen van je afspraken")}finally{a(!1)}})()},[r]);const B=(I,j)=>new Date(I,j+1,0).getDate(),O=()=>{g===0?(x(11),w(_-1)):x(g-1)},H=()=>{g===11?(x(0),w(_+1)):x(g+1)},V=I=>e.filter(j=>{const N=j.dateTime.toDate();return N.getDate()===I.getDate()&&N.getMonth()===I.getMonth()&&N.getFullYear()===I.getFullYear()}),T=I=>{m(I);const j=V(I);U(j)},$=()=>{const I=new Date(_,g,1).getDay(),j=B(_,g),N=[];for(let k=0;k<I;k++)N.push(i.jsx("div",{className:"h-24 border border-gray-100 bg-gray-50"},`empty-${k}`));for(let k=1;k<=j;k++){const L=new Date(_,g,k),F=new Date,D=F.getDate()===k&&F.getMonth()===g&&F.getFullYear()===_,C=(f==null?void 0:f.getDate())===k&&(f==null?void 0:f.getMonth())===g&&(f==null?void 0:f.getFullYear())===_,ve=V(L),Le=ve.length>0;N.push(i.jsxs("div",{onClick:()=>T(L),className:`h-24 p-1 border border-gray-200 overflow-hidden cursor-pointer transition-colors
            ${D?"bg-blue-50":"bg-white"}
            ${C?"ring-2 ring-primary-500":""}
            ${Le?"hover:bg-primary-50":"hover:bg-gray-50"}
          `,children:[i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsx("span",{className:`inline-block rounded-full w-7 h-7 text-center leading-7 text-sm
              ${D?"bg-primary-500 text-white font-bold":""}
            `,children:k}),Le&&i.jsx("span",{className:"rounded-full w-5 h-5 flex items-center justify-center bg-primary-500 text-white text-xs",children:ve.length})]}),i.jsxs("div",{className:"mt-1 overflow-hidden space-y-1",children:[ve.slice(0,2).map((Ve,_e)=>i.jsx("div",{className:"text-xs truncate px-1 py-0.5 rounded bg-primary-100 text-primary-800",children:Ve.title},`meeting-preview-${Ve.id}-${_e}`)),ve.length>2&&i.jsxs("div",{className:"text-xs text-gray-500 pl-1",children:["+ ",ve.length-2," meer"]})]})]},`day-${k}`))}return N},q=(I,j)=>{const N=I.toDate(),k=j.toDate();return`${N.toLocaleTimeString("nl-NL",{hour:"2-digit",minute:"2-digit",hour12:!1})} - ${k.toLocaleTimeString("nl-NL",{hour:"2-digit",minute:"2-digit",hour12:!1})}`};return i.jsxs("div",{className:"min-h-screen bg-gray-50",children:[i.jsx("div",{className:"w-full bg-gradient-to-r from-primary-600 to-primary-800 text-white py-24",children:i.jsx("div",{className:"container mx-auto px-4",children:i.jsxs("div",{className:"max-w-5xl mx-auto",children:[i.jsx("h1",{className:"text-3xl font-bold mb-4",children:"Agenda"}),i.jsx("p",{className:"text-lg opacity-90",children:"Bekijk en beheer al je geplande afspraken"})]})})}),i.jsx("div",{className:"container mx-auto px-4 py-8",children:i.jsxs("div",{className:"max-w-5xl mx-auto",children:[i.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-8",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-2xl font-bold",children:new Date(_,g).toLocaleDateString("nl-NL",{month:"long",year:"numeric"})}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx("button",{onClick:O,className:"p-2 rounded hover:bg-gray-100","aria-label":"Vorige maand",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),i.jsx("button",{onClick:()=>{x(new Date().getMonth()),w(new Date().getFullYear())},className:"px-3 py-1 text-sm bg-gray-100 rounded hover:bg-gray-200",children:"Vandaag"}),i.jsx("button",{onClick:H,className:"p-2 rounded hover:bg-gray-100","aria-label":"Volgende maand",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]}),n?i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):l?i.jsxs("div",{className:"text-center text-red-500 p-8 bg-red-50 rounded-lg",children:[i.jsx("p",{children:l}),i.jsx("button",{onClick:()=>window.location.reload(),className:"mt-2 text-primary-600 hover:text-primary-800 font-medium",children:"Probeer opnieuw"})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"grid grid-cols-7 gap-1 mb-1",children:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"].map(I=>i.jsx("div",{className:"h-10 font-medium text-gray-500 text-sm flex items-center justify-center",children:I},I))}),i.jsx("div",{className:"grid grid-cols-7 gap-1",children:$()})]})]})}),f&&i.jsx("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-8",children:i.jsxs("div",{className:"p-6",children:[i.jsxs("h2",{className:"text-xl font-bold mb-4",children:["Afspraken op ",f.toLocaleDateString("nl-NL",{weekday:"long",day:"numeric",month:"long",year:"numeric"})]}),S.length===0?i.jsx("div",{className:"text-center p-8 bg-gray-50 rounded-lg",children:i.jsx("p",{className:"text-gray-500",children:"Geen afspraken gepland voor deze dag."})}):i.jsx("div",{className:"space-y-4",children:S.map(I=>i.jsx("div",{className:"border-l-4 border-primary-500 pl-4 py-3 bg-gray-50 rounded-r-lg hover:bg-gray-100 transition-colors",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"font-bold text-lg",children:I.title}),i.jsx("p",{className:"text-primary-700",children:q(I.dateTime,I.endDateTime)}),i.jsxs("p",{className:"text-gray-600 mt-1",children:["Met: ",I.candidateName]}),I.candidateEmail&&i.jsx("p",{className:"text-gray-500 text-sm",children:I.candidateEmail}),I.description&&i.jsx("p",{className:"mt-2 text-gray-700",children:I.description}),i.jsxs("div",{className:"mt-2",children:[i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${I.locationType==="online"?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"}`,children:I.locationType==="online"?"Online meeting":"Op locatie"}),I.locationType==="online"&&I.meetingLink&&i.jsx("a",{href:I.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-primary-600 hover:text-primary-800 text-sm",children:"Meeting link"}),I.locationType==="locatie"&&I.location&&i.jsx("span",{className:"ml-2 text-gray-600 text-sm",children:I.location})]})]}),i.jsx("div",{className:"flex space-x-2",children:i.jsx("button",{onClick:()=>window.open(`mailto:${I.candidateEmail}`,"_blank"),disabled:!I.candidateEmail,className:`p-2 rounded hover:bg-gray-200 ${I.candidateEmail?"":"opacity-50 cursor-not-allowed"}`,title:I.candidateEmail?"E-mail versturen":"Geen e-mailadres beschikbaar",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})})]})},I.id))})]})}),i.jsx("div",{className:"flex justify-end",children:i.jsxs("a",{href:"/schedule-meeting",className:"inline-flex items-center px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-md",children:[i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Nieuwe afspraak plannen"]})})]})}),i.jsx(Wr,{})]})},zR=()=>{const{applicationId:r}=Io(),e=kr(),{currentUser:t,userProfile:n}=_t(),[a,l]=z.useState("profiel"),[u,f]=z.useState(null),[m,g]=z.useState(null),[x,_]=z.useState(!0),[w,S]=z.useState(null),[U,B]=z.useState(!1),[O,H]=z.useState(!1),[V,T]=z.useState(null),$=(n==null?void 0:n.role)==="recruiter",q=(n==null?void 0:n.role)==="werkzoekende";z.useEffect(()=>{(async()=>{if(!r){S("Geen sollicitatie ID gevonden"),_(!1);return}try{_(!0);const ne=ct($e,"sollicitaties",r),ee=await fr(ne);if(ee.exists()){const R=ee.data();if(R.recruiterId!==(t==null?void 0:t.uid)&&R.userId!==(t==null?void 0:t.uid)){S("Je hebt geen toegang tot deze sollicitatie"),f(null),_(!1);return}if(f({id:ee.id,...R,applicationDate:R.applicationDate||Ye.now()}),$&&R.userId){const G=ct($e,"users",R.userId),ae=await fr(G);ae.exists()&&g(ae.data())}if(R.jobId){const G=ct($e,"jobs",R.jobId),ae=await fr(G);ae.exists()&&T(ae.data())}S(null)}else S("Sollicitatie niet gevonden"),f(null)}catch(ne){console.error("Fout bij het ophalen van sollicitatiedetails:",ne),S("Er is een fout opgetreden bij het laden van de sollicitatie"),f(null)}finally{_(!1)}})()},[r,t==null?void 0:t.uid,$]);const I=async _e=>{if(!(!u||!u.id))try{B(!0);const ne=ct($e,"sollicitaties",u.id);await Pr(ne,{status:_e,updatedAt:Ye.now()}),f({...u,status:_e,updatedAt:Ye.now()}),H(!0),setTimeout(()=>H(!1),3e3)}catch(ne){console.error("Fout bij het bijwerken van status:",ne),S("Er is een fout opgetreden bij het bijwerken van de status")}finally{B(!1)}},j=_e=>_e?(_e instanceof Ye||_e.toDate?_e.toDate():new Date(_e)).toLocaleDateString("nl-NL",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Onbekende datum",N=_e=>{switch(_e){case"pending":return{text:"Nieuw",bgColor:"bg-blue-100",textColor:"text-blue-800"};case"reviewing":return{text:"In behandeling",bgColor:"bg-yellow-100",textColor:"text-yellow-800"};case"interview":return{text:"Gesprek ingepland",bgColor:"bg-green-100",textColor:"text-green-800"};case"rejected":return{text:"Afgewezen",bgColor:"bg-red-100",textColor:"text-red-800"};case"accepted":return{text:"Aangenomen",bgColor:"bg-emerald-100",textColor:"text-emerald-800"};default:return{text:"Onbekend",bgColor:"bg-gray-100",textColor:"text-gray-800"}}},k=()=>{e("/dashboard")},L=()=>{u&&u.userId&&e(`/schedule-meeting/${u.userId}`)},F=()=>{u&&u.userId&&e(`/messages/${u.userId}`)},D=_e=>{l(_e)},C=()=>{if(!u)return null;const ne=m&&(m.profileImage||m.profilePhoto||m.avatar||m.profile&&m.profile.profileImage||m.profile&&m.profile.profilePhoto||m.profile&&m.profile.avatar||m.userData&&m.userData.profileImage)||null;return console.log("Applicant profile data:",m),console.log("Profile image URL found:",ne),i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:space-x-6",children:[i.jsx("div",{className:"flex-shrink-0 mb-4 md:mb-0",children:i.jsx("div",{className:"w-32 h-32 rounded-full overflow-hidden bg-gray-100 border border-gray-200",children:ne?i.jsx("img",{src:ne,alt:`Profielfoto van ${u.applicantName}`,className:"w-full h-full object-cover",onError:ee=>{console.log("Error loading profile image:",ee),ee.currentTarget.src="https://via.placeholder.com/150?text=Geen+foto"}}):i.jsx("div",{className:"flex items-center justify-center w-full h-full bg-gray-100 text-gray-400",children:i.jsx("svg",{className:"w-16 h-16",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})})})}),i.jsxs("div",{className:"flex-grow",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Kandidaat gegevens"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Naam"}),i.jsx("p",{className:"font-medium text-gray-800",children:u.applicantName||"Onbekend"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"E-mail"}),i.jsx("p",{className:"font-medium text-gray-800",children:i.jsx("a",{href:`mailto:${u.email}`,className:"text-primary-600 hover:underline",children:u.email||"Niet opgegeven"})})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Telefoonnummer"}),i.jsx("p",{className:"font-medium text-gray-800",children:u.phoneNumber?i.jsx("a",{href:`tel:${u.phoneNumber}`,className:"text-primary-600 hover:underline",children:u.phoneNumber}):"Niet opgegeven"})]}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500 mb-1",children:"Sollicitatie ontvangen op"}),i.jsx("p",{className:"font-medium text-gray-800",children:j(u.applicationDate)})]})]})]})]})}),i.jsxs("div",{className:"bg-gray-50 p-6 border-t border-gray-200",children:[i.jsx("h3",{className:"text-lg font-medium mb-3",children:"Online profielen"}),i.jsxs("div",{className:"space-y-3",children:[u.linkedinUrl&&i.jsxs("div",{className:"flex items-center",children:[i.jsx("svg",{className:"w-5 h-5 text-blue-600 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:i.jsx("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452z"})}),i.jsx("a",{href:u.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"LinkedIn profiel"})]}),u.portfolioUrl&&i.jsxs("div",{className:"flex items-center",children:[i.jsx("svg",{className:"w-5 h-5 text-gray-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"})}),i.jsx("a",{href:u.portfolioUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"Portfolio website"})]})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[i.jsxs("button",{onClick:L,className:"px-6 py-3 bg-primary-600 text-white font-medium rounded-md hover:bg-primary-700 transition-colors flex-1 flex justify-center items-center",children:[i.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Plan een gesprek"]}),i.jsxs("button",{onClick:F,className:"px-6 py-3 bg-white text-primary-600 font-medium rounded-md border border-primary-600 hover:bg-primary-50 transition-colors flex-1 flex justify-center items-center",children:[i.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Stuur een bericht"]})]})]})},ve=()=>u?i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[i.jsx("div",{className:"p-6",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[i.jsxs("div",{children:[i.jsx("span",{className:"inline-block text-xs font-medium text-gray-500 mb-2",children:"Sollicitatie voor"}),i.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:u.jobTitle||"Onbekende vacature"}),i.jsx("p",{className:"text-gray-600 mt-1",children:u.companyName||"Onbekend bedrijf"})]}),i.jsx("div",{className:"mt-4 md:mt-0",children:u.status&&i.jsx("span",{className:`${N(u.status).bgColor} ${N(u.status).textColor} px-3 py-2 rounded-md font-medium`,children:N(u.status).text})})]})}),i.jsxs("div",{className:"bg-gray-50 p-6 border-t border-gray-200",children:[i.jsx("h3",{className:"text-lg font-medium mb-3",children:"Status bijwerken"}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx("button",{onClick:()=>I("pending"),disabled:U||u.status==="pending",className:`px-4 py-2 rounded-md font-medium ${u.status==="pending"?"bg-blue-100 text-blue-800 cursor-default":"bg-white border border-blue-500 text-blue-700 hover:bg-blue-50"}`,children:"Nieuw"}),i.jsx("button",{onClick:()=>I("reviewing"),disabled:U||u.status==="reviewing",className:`px-4 py-2 rounded-md font-medium ${u.status==="reviewing"?"bg-yellow-100 text-yellow-800 cursor-default":"bg-white border border-yellow-500 text-yellow-700 hover:bg-yellow-50"}`,children:"In behandeling"}),i.jsx("button",{onClick:()=>I("interview"),disabled:U||u.status==="interview",className:`px-4 py-2 rounded-md font-medium ${u.status==="interview"?"bg-green-100 text-green-800 cursor-default":"bg-white border border-green-500 text-green-700 hover:bg-green-50"}`,children:"Gesprek ingepland"}),i.jsx("button",{onClick:()=>I("rejected"),disabled:U||u.status==="rejected",className:`px-4 py-2 rounded-md font-medium ${u.status==="rejected"?"bg-red-100 text-red-800 cursor-default":"bg-white border border-red-500 text-red-700 hover:bg-red-50"}`,children:"Afwijzen"}),i.jsx("button",{onClick:()=>I("accepted"),disabled:U||u.status==="accepted",className:`px-4 py-2 rounded-md font-medium ${u.status==="accepted"?"bg-emerald-100 text-emerald-800 cursor-default":"bg-white border border-emerald-500 text-emerald-700 hover:bg-emerald-50"}`,children:"Aannemen"})]})]})]}),i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Motivatiebrief"}),i.jsx("div",{className:"bg-gray-50 p-4 rounded-md text-gray-700 whitespace-pre-line",children:u.motivationLetter||"Geen motivatiebrief bijgevoegd"})]})}),u.notes&&i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Extra informatie"}),i.jsx("div",{className:"bg-gray-50 p-4 rounded-md text-gray-700 whitespace-pre-line",children:u.notes})]})})]}):null,Le=()=>{if(!u)return null;const _e=m&&m.profile&&Object.keys(m.profile).length>0;return i.jsxs("div",{className:"space-y-6",children:[(u.cvUrl||!_e)&&i.jsxs("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[i.jsxs("div",{className:"p-6",children:[i.jsxs("h2",{className:"text-xl font-semibold mb-4",children:["CV van ",u.applicantName]}),u.cvUrl?i.jsx("div",{className:"aspect-[3/4] bg-gray-50 rounded-md border border-gray-200 overflow-hidden",children:i.jsx("iframe",{src:u.cvUrl,className:"w-full h-full",title:`CV van ${u.applicantName}`})}):i.jsx("div",{className:"aspect-[3/4] bg-gray-50 rounded-md border border-gray-200 flex items-center justify-center",children:i.jsxs("div",{className:"text-center p-6",children:[i.jsx("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),i.jsx("p",{className:"text-gray-600",children:"Geen CV bijgevoegd"})]})})]}),u.cvUrl&&i.jsx("div",{className:"bg-gray-50 p-6 border-t border-gray-200",children:i.jsxs("a",{href:u.cvUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center px-6 py-3 bg-primary-600 text-white font-medium rounded-md hover:bg-primary-700 transition-colors",children:[i.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 00-1.414-1.414L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download CV"]})})]}),_e&&i.jsx("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Uitgebreid profiel"}),m.profile&&i.jsxs("div",{className:"space-y-6",children:[m.profile.skills&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Vaardigheden"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:Array.isArray(m.profile.skills)?m.profile.skills.map((ne,ee)=>i.jsx("span",{className:"bg-primary-50 text-primary-700 px-3 py-1 rounded-full text-sm",children:ne},ee)):i.jsx("p",{className:"text-gray-600",children:"Geen vaardigheden opgegeven"})})]}),m.profile.availability&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Beschikbaarheid"}),i.jsx("p",{className:"text-gray-700",children:m.profile.availability})]}),m.profile.experience&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Werkervaring"}),Array.isArray(m.profile.experience)&&m.profile.experience.length>0?i.jsx("div",{className:"space-y-4",children:m.profile.experience.map((ne,ee)=>i.jsxs("div",{className:"border-l-2 border-primary-200 pl-4",children:[i.jsxs("p",{className:"font-medium",children:[ne.position," bij ",ne.company]}),i.jsxs("p",{className:"text-gray-600 text-sm",children:[ne.startDate," - ",ne.endDate||"Heden"]}),ne.description&&i.jsx("p",{className:"text-gray-700 mt-1",children:ne.description})]},ee))}):i.jsx("p",{className:"text-gray-600",children:"Geen werkervaring opgegeven"})]}),m.profile.education&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Opleiding"}),Array.isArray(m.profile.education)&&m.profile.education.length>0?i.jsx("div",{className:"space-y-4",children:m.profile.education.map((ne,ee)=>i.jsxs("div",{className:"border-l-2 border-primary-200 pl-4",children:[i.jsx("p",{className:"font-medium",children:ne.degree}),i.jsx("p",{className:"text-gray-600",children:ne.school}),i.jsxs("p",{className:"text-gray-600 text-sm",children:[ne.startDate," - ",ne.endDate||"Heden"]}),ne.description&&i.jsx("p",{className:"text-gray-700 mt-1",children:ne.description})]},ee))}):i.jsx("p",{className:"text-gray-600",children:"Geen opleiding opgegeven"})]})]}),(!m.profile||Object.keys(m.profile).length===0)&&i.jsx("p",{className:"text-gray-600",children:"Geen uitgebreid profiel beschikbaar"})]})})]})},Ve=()=>{if(!u)return null;const _e=N(u.status),ne=ee=>{switch(ee){case"pending":return"Je sollicitatie is ontvangen en wacht op beoordeling door de recruiter.";case"reviewing":return"De recruiter is momenteel je sollicitatie aan het beoordelen.";case"interview":return"Gefeliciteerd! De recruiter wil graag een gesprek met je plannen. Je kunt binnenkort een uitnodiging verwachten.";case"rejected":return"Helaas heeft de recruiter besloten niet verder te gaan met je sollicitatie. Kijk naar andere vacatures die mogelijk beter passen.";case"accepted":return"Gefeliciteerd! Je bent aangenomen voor deze positie. De recruiter zal contact met je opnemen voor de volgende stappen.";default:return"De status van je sollicitatie is onbekend."}};return i.jsxs("div",{className:"max-w-3xl mx-auto bg-white shadow-md rounded-lg overflow-hidden",children:[i.jsxs("div",{className:"bg-gradient-to-r from-primary-600 to-primary-800 px-6 py-4 text-white",children:[i.jsxs("h1",{className:"text-2xl font-bold mb-2",children:["Sollicitatie: ",u.jobTitle||"Onbekende functie"]}),i.jsx("p",{className:"text-primary-100",children:u.companyName||"Onbekend bedrijf"})]}),i.jsxs("div",{className:"p-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-6",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-gray-500",children:"Sollicitatie verzonden op"}),i.jsx("p",{className:"font-medium",children:j(u.applicationDate)})]}),i.jsx("div",{children:i.jsx("span",{className:`inline-flex items-center px-4 py-2 rounded-full font-medium ${_e.bgColor} ${_e.textColor}`,children:_e.text})})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-lg font-semibold mb-2",children:"Status van je sollicitatie"}),i.jsx("div",{className:"p-4 rounded-md bg-gray-50 border border-gray-200",children:i.jsx("p",{children:ne(u.status)})})]}),i.jsxs("div",{className:"mb-8",children:[i.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Sollicitatieproces"}),i.jsxs("div",{className:"relative",children:[i.jsx("div",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 w-full h-1 bg-gray-200"}),i.jsx("div",{className:"relative flex justify-between",children:["pending","reviewing","interview","accepted"].map((ee,R)=>{const G=u.status==="pending"&&R===0||u.status==="reviewing"&&R<=1||u.status==="interview"&&R<=2||u.status==="accepted"&&R<=3,ae=u.status==="pending"&&R===0||u.status==="reviewing"&&R===1||u.status==="interview"&&R===2||u.status==="accepted"&&R===3;return i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center z-10 ${ae?"ring-4 ring-primary-100 bg-primary-600 text-white":G?"bg-primary-600 text-white":"bg-gray-200 text-gray-500"}`,children:R+1}),i.jsxs("p",{className:`mt-2 text-sm ${ae?"font-medium text-primary-600":"text-gray-500"}`,children:[R===0&&"Ontvangen",R===1&&"In behandeling",R===2&&"Gesprek",R===3&&"Aangenomen"]})]},ee)})})]})]}),i.jsxs("div",{className:"border-t border-gray-200 pt-6 mt-6",children:[i.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Jouw sollicitatie"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm text-gray-500",children:"Motivatiebrief"}),i.jsx("div",{className:"mt-1 p-3 bg-gray-50 rounded-md whitespace-pre-line",children:u.motivationLetter||"Geen motivatiebrief bijgevoegd"})]}),u.cvUrl&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm text-gray-500",children:"CV"}),i.jsx("div",{className:"mt-1",children:i.jsxs("a",{href:u.cvUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[i.jsx("svg",{className:"mr-2 h-5 w-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Bekijk je CV"]})})]}),u.notes&&i.jsxs("div",{children:[i.jsx("h3",{className:"text-sm text-gray-500",children:"Extra informatie"}),i.jsx("div",{className:"mt-1 p-3 bg-gray-50 rounded-md whitespace-pre-line",children:u.notes})]})]})]}),i.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[i.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Contact met recruiter"}),i.jsxs("button",{onClick:F,className:"w-full px-6 py-3 bg-primary-600 text-white font-medium rounded-md hover:bg-primary-700 transition-colors flex justify-center items-center",children:[i.jsx("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Stuur een bericht aan de recruiter"]})]})]}),i.jsx("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200",children:i.jsxs("button",{onClick:k,className:"flex items-center text-primary-600 hover:text-primary-800",children:[i.jsx("svg",{className:"w-5 h-5 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Terug naar dashboard"]})})]})};return i.jsx("div",{className:"min-h-screen bg-gray-50",children:i.jsx("div",{className:"container mx-auto px-4 py-12 mt-12",children:i.jsxs("div",{className:"max-w-5xl mx-auto",children:[i.jsxs("button",{onClick:k,className:"mb-6 flex items-center text-primary-600 hover:text-primary-800",children:[i.jsx("svg",{className:"w-5 h-5 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Terug naar dashboard"]}),x&&i.jsxs("div",{className:"flex justify-center items-center p-12",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"}),i.jsx("span",{className:"ml-3",children:"Sollicitatie details laden..."})]}),w&&i.jsxs("div",{className:"bg-red-50 text-red-700 p-6 rounded-lg mb-6",children:[i.jsx("h3",{className:"text-lg font-medium mb-2",children:"Er is een probleem opgetreden"}),i.jsx("p",{children:w})]}),O&&i.jsxs("div",{className:"bg-green-50 text-green-700 p-6 rounded-lg mb-6 flex items-center",children:[i.jsx("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),i.jsx("p",{children:"Status bijgewerkt"})]}),!x&&!w&&u&&i.jsx(i.Fragment,{children:q?Ve():i.jsxs("div",{children:[i.jsx("div",{className:"bg-white shadow-md rounded-t-lg p-6 mb-0 border border-gray-200 border-b-0",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:u.applicantName||"Onbekende kandidaat"}),i.jsxs("p",{className:"text-gray-600",children:["Sollicitatie voor ",u.jobTitle||"Onbekende functie"," bij ",u.companyName||"Onbekend bedrijf"]})]}),i.jsx("div",{className:"mt-4 md:mt-0",children:u.status&&i.jsx("span",{className:`${N(u.status).bgColor} ${N(u.status).textColor} px-3 py-2 rounded-md font-medium`,children:N(u.status).text})})]})}),i.jsx("div",{className:"bg-white border-x border-t border-gray-200",children:i.jsxs("nav",{className:"flex border-b border-gray-200",children:[i.jsx("button",{onClick:()=>D("profiel"),className:`px-6 py-4 text-center w-1/3 font-medium text-sm focus:outline-none ${a==="profiel"?"border-b-2 border-primary-500 text-primary-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Profiel"}),i.jsx("button",{onClick:()=>D("sollicitatie"),className:`px-6 py-4 text-center w-1/3 font-medium text-sm focus:outline-none ${a==="sollicitatie"?"border-b-2 border-primary-500 text-primary-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"Sollicitatie"}),i.jsx("button",{onClick:()=>D("cv"),className:`px-6 py-4 text-center w-1/3 font-medium text-sm focus:outline-none ${a==="cv"?"border-b-2 border-primary-500 text-primary-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:"CV"})]})}),i.jsxs("div",{className:"p-6 bg-gray-50 border-x border-b border-gray-200 rounded-b-lg",children:[a==="profiel"&&C(),a==="sollicitatie"&&ve(),a==="cv"&&Le()]})]})})]})})})},BR=({user:r})=>{const[e,t]=z.useState(!1),{favorites:n,loading:a,removeFavorite:l}=G1(),u=kr(),[f,m]=z.useState([]),[g,x]=z.useState(!0),_=async V=>{try{await l(V)}catch(T){console.error("Fout bij verwijderen favoriet:",T)}},w=V=>{u(`/job/${V}`)},S=V=>{u(`/applications/${V}`)};(()=>{let V=0,T=0;const $=["displayName","email","phoneNumber"];V+=$.length,$.forEach(I=>{r[I]&&T++});const q=["street","houseNumber","postalCode","city","country"];if(V+=q.length,q.forEach(I=>{(r[I]||r.address&&typeof r.address=="object"&&r.address[I])&&T++}),r.profile){const I=["skills","availability","cv","linkedin","portfolio","experience","education"];V+=I.length,I.forEach(j=>{r.profile&&r.profile[j]&&(Array.isArray(r.profile[j])?r.profile[j].length>0&&T++:T++)})}return Math.round(T/V*100)})();const B=()=>{alert("Deze functie is momenteel alleen beschikbaar voor recruiters. Als werkzoekende kun je alleen afspraken ontvangen van recruiters.")};z.useEffect(()=>{(async()=>{if(r.id)try{x(!0);const T=vn(Jt($e,"sollicitaties"),xn("userId","==",r.id),Ma("applicationDate","desc")),$=await wn(T),q=[];$.forEach(I=>{const j=I.data();q.push({id:I.id,jobId:j.jobId,jobTitle:j.jobTitle||"Onbekende functie",companyName:j.companyName||"Onbekend bedrijf",status:j.status||"pending",applicationDate:j.applicationDate})}),m(q)}catch(T){console.error("Fout bij ophalen sollicitaties:",T)}finally{x(!1)}})()},[r.id]);const O=V=>V?V.toDate().toLocaleDateString("nl-NL",{day:"numeric",month:"long",year:"numeric"}):"Onbekende datum",H=V=>{switch(V){case"pending":return{color:"blue",bg:"blue-100",text:"Nieuw"};case"reviewing":return{color:"yellow",bg:"yellow-100",text:"In behandeling"};case"interview":return{color:"green",bg:"green-100",text:"Gesprek ingepland"};case"rejected":return{color:"red",bg:"red-100",text:"Afgewezen"};case"accepted":return{color:"emerald",bg:"emerald-100",text:"Aangenomen"};default:return{color:"gray",bg:"gray-100",text:"Onbekend"}}};return i.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6",children:i.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[i.jsxs("div",{className:"p-6 bg-gradient-to-r from-primary-700 to-primary-900 text-white",children:[i.jsxs("h1",{className:"text-3xl font-bold",children:["Welkom, ",r.displayName||"Werkzoekende"]}),i.jsx("p",{className:"mt-2 text-primary-100",children:"Beheer je profiel en sollicitaties vanaf je persoonlijke dashboard"})]}),i.jsx("div",{className:"p-6 border-b",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Mijn profiel"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Zorg dat je profiel compleet is om je kansen op een baan te vergroten"})]}),i.jsx("a",{href:"/profile",className:"mt-4 md:mt-0 inline-block px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-md",children:"Profiel bekijken"})]})}),i.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white border rounded-lg shadow-sm p-5",children:[i.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Verstuurde sollicitaties"}),i.jsx("div",{className:"space-y-3",children:g?i.jsx("div",{className:"flex justify-center py-4",children:i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-primary-600"})}):f.length>0?i.jsx("div",{className:"space-y-3",children:f.map(V=>{const T=H(V.status);return i.jsxs("div",{className:`border-l-4 border-${T.color}-500 pl-3 py-2 hover:bg-gray-50 cursor-pointer transition-colors duration-200`,onClick:()=>S(V.id),children:[i.jsxs("p",{className:"font-medium",children:[V.jobTitle," bij ",V.companyName]}),i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("p",{className:"text-sm text-gray-600",children:["Ingediend op ",O(V.applicationDate)]}),i.jsx("span",{className:`text-xs font-medium bg-${T.bg} text-${T.color}-800 px-2 py-1 rounded-full`,children:T.text})]})]},V.id)})}):i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-gray-500 text-sm italic",children:"Je hebt nog geen sollicitaties verstuurd."}),i.jsx("a",{href:"/jobs",className:"block text-primary-600 hover:text-primary-800 font-medium",children:"Zoek vacatures om te solliciteren"})]})})]}),i.jsxs("div",{className:"bg-white border rounded-lg shadow-sm p-5",children:[i.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Favoriete vacatures"}),i.jsx("div",{className:"space-y-3",children:a?i.jsx("div",{className:"flex justify-center py-4",children:i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-primary-600"})}):n.length>0?i.jsx("div",{className:"space-y-3",children:n.map(V=>{var T,$,q,I;return i.jsxs("div",{className:"border rounded-md p-3 hover:bg-gray-50",children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsx("p",{className:"font-medium",children:((T=V.job)==null?void 0:T.title)||"Onbekende functie"}),i.jsx("button",{onClick:()=>_(V.jobId),className:"text-yellow-500 hover:text-yellow-600","aria-label":"Verwijder uit favorieten",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})})]}),i.jsxs("p",{className:"text-sm text-gray-600",children:[(($=V.job)==null?void 0:$.company)||"Onbekend bedrijf",", ",((q=V.job)==null?void 0:q.location)||"Onbekende locatie"]}),i.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[((I=V.job)==null?void 0:I.salary)&&i.jsxs("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:["",V.job.salary]}),i.jsx("button",{onClick:()=>w(V.jobId),className:"text-primary-600 hover:text-primary-800 text-sm",children:"Bekijken "})]})]},V.id)})}):i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-gray-500 text-sm italic",children:"Je hebt nog geen vacatures als favoriet gemarkeerd."}),i.jsx("a",{href:"/jobs",className:"block text-primary-600 hover:text-primary-800 font-medium",children:"Ontdek interessante vacatures"})]})})]}),i.jsxs("div",{className:"bg-white border rounded-lg shadow-sm p-5 col-span-1 md:col-span-2",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"font-semibold text-lg",children:"Mijn Agenda"}),i.jsx("button",{onClick:B,className:"px-3 py-1 bg-primary-600 hover:bg-primary-700 text-white text-sm rounded-md",children:"+ Afspraak toevoegen"})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-gray-500 text-sm italic",children:"Je hebt geen geplande sollicitatiegesprekken of afspraken."}),i.jsx("div",{className:"hidden",children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx("div",{className:"border-l-4 border-blue-500 pl-3 py-2",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"mr-3 text-blue-700",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Sollicitatiegesprek bij TechCorp"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Morgen, 10:00 - 11:00"})]})]})}),i.jsx("div",{className:"border-l-4 border-green-500 pl-3 py-2",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"mr-3 text-green-700",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:"Telefonische screening InnovateCo"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Woensdag, 14:30 - 15:00"})]})]})})]})}),i.jsx("div",{className:"flex justify-center mt-4",children:i.jsx("a",{href:"#",className:"inline-block text-primary-600 hover:text-primary-800 font-medium",children:"Beheer je sollicitatiekalender"})})]})]})]})]})})},$R=({user:r})=>{const e=kr(),[t,n]=z.useState([]),[a,l]=z.useState([]),[u,f]=z.useState(!1),[m,g]=z.useState(!1),[x,_]=z.useState(null),[w,S]=z.useState(null),[U,B]=z.useState(""),{userProfile:O,currentUser:H}=_t(),[V,T]=z.useState([]),[$,q]=z.useState(!0),[I,j]=z.useState(null),k=(()=>{let ee=0,R=0;const G=["displayName","email","phoneNumber"];ee+=G.length,G.forEach(ge=>{r[ge]&&R++});const ae=["companyName","companyAddress","companyCity","companyPostalCode","kvkNumber"];if(ee+=ae.length,ae.forEach(ge=>{r[ge]&&R++}),r.profile){const ge=["company","position","companyLogo","companyWebsite","companyDescription"];ee+=ge.length,ge.forEach(ie=>{r.profile&&r.profile[ie]&&R++})}return Math.round(R/ee*100)})(),L=()=>k<40?"bg-red-500":k<70?"bg-yellow-500":"bg-green-500",F=()=>r.profile&&r.profile.company?r.profile.company:r.companyName?r.companyName:"Je bedrijf",D=()=>{e("/create-job")},C=ee=>{e(`/job/${ee}`)},ve=()=>{e("/schedule-meeting")};z.useEffect(()=>{(async()=>{if(H)try{g(!0),S(null);const R=Ye.now(),G=Jt($e,"meetings"),ae=vn(G,xn("recruiterId","==",H.uid),xn("dateTime",">=",R),Ma("dateTime","asc"),Qv(5)),ge=await wn(ae),ie=[];ge.forEach(Ne=>{const xe=Ne.data();ie.push({id:Ne.id,title:xe.title||"Ongetitelde afspraak",candidateName:xe.candidateName||"Onbekende kandidaat",dateTime:xe.dateTime,endDateTime:xe.endDateTime,locationType:xe.locationType,location:xe.location,meetingLink:xe.meetingLink,status:xe.status||"gepland"})}),l(ie)}catch(R){console.error("Fout bij ophalen van meetings:",R),S("Er is een fout opgetreden bij het ophalen van je afspraken")}finally{g(!1)}})()},[H]),z.useEffect(()=>{(async()=>{console.log("Gebruiker ID velden:",{id:r.id,uid:r.uid,allKeys:Object.keys(r)});const R=r.id||r.uid;if(!R){console.log("Geen gebruikers-ID gevonden om vacatures mee op te halen",r),_("Gebruikers-ID niet gevonden. Probeer opnieuw in te loggen.");return}console.log("Vacatures ophalen voor recruiterId:",R),f(!0),_(null);try{const G=Jt($e,"jobs"),ae=vn(G,xn("recruiterId","==",R),Qv(50));console.log("Query uitgevoerd...");const ge=await wn(ae);console.log(`Aantal gevonden vacatures: ${ge.size}`);const ie=[];ge.forEach(Ne=>{const xe=Ne.data();console.log("Vacature data:",{id:Ne.id,title:xe.title,recruiterId:xe.recruiterId,createdAt:xe.createdAt}),ie.push({id:Ne.id,title:xe.title||"Onbekende functie",company:xe.company||"Onbekend bedrijf",location:xe.location||"Onbekende locatie",createdAt:xe.createdAt,status:xe.status||"active"})}),ie.sort((Ne,xe)=>{var ke,Pe;if(!Ne.createdAt)return 1;if(!xe.createdAt)return-1;try{const Oe=Ne.createdAt instanceof Ye||(ke=Ne.createdAt)!=null&&ke.toDate?Ne.createdAt.toDate():new Date(Ne.createdAt);return(xe.createdAt instanceof Ye||(Pe=xe.createdAt)!=null&&Pe.toDate?xe.createdAt.toDate():new Date(xe.createdAt)).getTime()-Oe.getTime()}catch(Oe){return console.error("Fout bij sorteren:",Oe),0}}),console.log("Opgehaalde vacatures (gesorteerd):",ie),n(ie)}catch(G){console.error("Fout bij ophalen van vacatures:",G),_("Er is een fout opgetreden bij het ophalen van je vacatures")}finally{f(!1)}})()},[r]),z.useEffect(()=>{(async()=>{if(r.id)try{q(!0),j(null);const R=vn(Jt($e,"sollicitaties"),xn("recruiterId","==",r.id),Ma("applicationDate","desc")),G=await wn(R),ae=[];G.forEach(ge=>{const ie=ge.data();ae.push({id:ge.id,jobId:ie.jobId,jobTitle:ie.jobTitle||"Onbekende functie",userId:ie.userId,applicantName:ie.applicantName||"Onbekende kandidaat",status:ie.status||"pending",applicationDate:ie.applicationDate,location:ie.location})}),T(ae)}catch(R){console.error("Fout bij ophalen sollicitaties:",R),j("Er is een fout opgetreden bij het laden van sollicitaties")}finally{q(!1)}})()},[r.id]);const Le=ee=>ee?ee.toDate().toLocaleDateString("nl-NL",{day:"numeric",month:"long",year:"numeric"}):"Onbekende datum",Ve=ee=>{switch(ee){case"pending":return{color:"blue",bg:"blue-100",text:"Nieuw"};case"reviewing":return{color:"yellow",bg:"yellow-100",text:"In behandeling"};case"interview":return{color:"green",bg:"green-100",text:"Gesprek ingepland"};case"rejected":return{color:"red",bg:"red-100",text:"Afgewezen"};case"accepted":return{color:"emerald",bg:"emerald-100",text:"Aangenomen"};default:return{color:"gray",bg:"gray-100",text:"Onbekend"}}},_e=ee=>{e(`/applications/${ee}`)},ne=(ee,R)=>{const G=ee.toDate(),ae=R.toDate(),ge=new Date,ie=new Date(ge);ie.setDate(ie.getDate()+1);let Ne="";G.toDateString()===ge.toDateString()?Ne="Vandaag":G.toDateString()===ie.toDateString()?Ne="Morgen":Ne=G.toLocaleDateString("nl-NL",{weekday:"long",day:"numeric",month:"long"});const xe=G.toLocaleTimeString("nl-NL",{hour:"2-digit",minute:"2-digit",hour12:!1}),ke=ae.toLocaleTimeString("nl-NL",{hour:"2-digit",minute:"2-digit",hour12:!1});return`${Ne}, ${xe} - ${ke}`};return i.jsx("div",{className:"max-w-6xl mx-auto px-4 py-6",children:i.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[i.jsxs("div",{className:"p-6 bg-gradient-to-r from-primary-700 to-primary-900 text-white",children:[i.jsxs("h1",{className:"text-3xl font-bold",children:["Welkom, ",r.displayName||"Recruiter"]}),i.jsxs("p",{className:"mt-2 text-primary-100",children:["Beheer je vacatures en vind de juiste kandidaten voor ",F()]})]}),i.jsx("div",{className:"p-6 border-b",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Bedrijfsprofiel"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Maak je bedrijfsprofiel compleet om meer geschikte kandidaten te vinden"})]}),i.jsxs("div",{className:"mt-4 md:mt-0",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"relative w-48 h-2 bg-gray-200 rounded-full overflow-hidden",children:i.jsx("div",{className:`absolute top-0 left-0 h-full ${L()}`,style:{width:`${k}%`}})}),i.jsxs("span",{className:"ml-3 font-medium",children:[k,"% compleet"]})]}),i.jsx("a",{href:"/profile/recruiter",className:"mt-2 inline-block text-primary-600 hover:text-primary-800 font-medium",children:"Profiel verbeteren "})]})]})}),i.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{className:"bg-white border rounded-lg shadow-sm p-5",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"font-semibold text-lg",children:"Mijn vacatures"}),i.jsx("button",{onClick:D,className:"px-3 py-1 bg-primary-600 hover:bg-primary-700 text-white text-sm rounded-md",children:"+ Nieuwe vacature"})]}),u&&i.jsxs("div",{className:"flex justify-center py-4",children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-primary-600"}),i.jsx("span",{className:"ml-2",children:"Laden..."})]}),x&&i.jsxs("div",{className:"text-red-600 text-sm mb-4 bg-red-50 p-3 rounded-md",children:[i.jsx("p",{className:"font-medium",children:"Er is een fout opgetreden:"}),i.jsx("p",{children:x}),i.jsx("button",{onClick:()=>window.location.reload(),className:"mt-2 text-primary-600 hover:text-primary-800 font-medium",children:"Probeer opnieuw"})]}),!u&&!x&&t.length===0&&i.jsxs("div",{className:"space-y-3",children:[i.jsx("p",{className:"text-gray-500 text-sm italic",children:"Je hebt nog geen vacatures geplaatst."}),i.jsx(Pt,{to:"/create-job",className:"block text-primary-600 hover:text-primary-800 font-medium",children:"Aan de slag met je eerste vacature"})]}),!u&&!x&&t.length>0&&i.jsxs("div",{className:"space-y-3",children:[t.map(ee=>{var R;return i.jsx("div",{onClick:()=>C(ee.id),className:"border rounded-md p-4 hover:bg-gray-50 cursor-pointer transition-colors",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium text-gray-900",children:ee.title}),i.jsxs("p",{className:"text-sm text-gray-600",children:[ee.company,"  ",ee.location]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(R=ee.createdAt)!=null&&R.toDate?new Date(ee.createdAt.toDate()).toLocaleDateString("nl-NL",{year:"numeric",month:"long",day:"numeric"}):"Datum onbekend"})]}),i.jsx("div",{children:i.jsx("span",{className:`px-2 py-1 text-xs rounded-full ${ee.status==="active"?"bg-green-100 text-green-800":ee.status==="paused"?"bg-yellow-100 text-yellow-800":ee.status==="deleted"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:ee.status==="active"?"Actief":ee.status==="paused"?"Gepauzeerd":ee.status==="closed"?"Gesloten":ee.status==="deleted"?"Verwijderd":"Onbekend"})})]})},ee.id)}),i.jsx("div",{className:"mt-4",children:i.jsx(Pt,{to:"/create-job",className:"text-primary-600 hover:text-primary-800 text-sm font-medium",children:"+ Nog een vacature plaatsen"})})]})]}),i.jsxs("div",{className:"bg-white border rounded-lg shadow-sm p-5",children:[i.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Ontvangen sollicitaties"}),i.jsx("div",{className:"space-y-3",children:$?i.jsxs("div",{className:"text-center py-4",children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-primary-600 mx-auto"}),i.jsx("p",{className:"mt-2 text-gray-500 text-sm",children:"Sollicitaties laden..."})]}):I?i.jsx("div",{className:"text-red-500 text-sm py-2",children:I}):V.length>0?i.jsx("div",{className:"space-y-3",children:V.map(ee=>{const R=Ve(ee.status);return i.jsxs("div",{className:`border-l-4 border-${R.color}-500 pl-3 py-2 hover:bg-gray-50 cursor-pointer`,onClick:()=>_e(ee.id),children:[i.jsxs("div",{className:"flex justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:ee.applicantName}),i.jsxs("p",{className:"text-sm text-gray-600",children:[ee.jobTitle," ",ee.location?` ${ee.location}`:""]})]}),i.jsx("span",{className:`text-xs bg-${R.bg} text-${R.color}-800 px-2 py-1 rounded flex items-center h-fit`,children:R.text})]}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:["Sollicitatie ontvangen op ",Le(ee.applicationDate)]})]},ee.id)})}):i.jsxs(i.Fragment,{children:[i.jsx("p",{className:"text-gray-500 text-sm italic",children:"Je hebt nog geen sollicitaties ontvangen."}),i.jsx("a",{href:"/create-job",className:"block text-primary-600 hover:text-primary-800 font-medium",children:"Plaats een vacature om sollicitaties te ontvangen"})]})})]}),i.jsxs("div",{className:"bg-white border rounded-lg shadow-sm p-5 md:col-span-2",children:[i.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Statistieken"}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[i.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-blue-700",children:t.length}),i.jsx("p",{className:"text-sm text-blue-800",children:"Actieve vacatures"})]}),i.jsxs("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-green-700",children:V.length}),i.jsx("p",{className:"text-sm text-green-800",children:"Sollicitaties ontvangen"})]}),i.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-purple-700",children:"0"}),i.jsx("p",{className:"text-sm text-purple-800",children:"Interviews ingepland"})]}),i.jsxs("div",{className:"bg-yellow-50 p-4 rounded-lg text-center",children:[i.jsx("p",{className:"text-2xl font-bold text-yellow-700",children:"0"}),i.jsx("p",{className:"text-sm text-yellow-800",children:"Kandidaten benaderd"})]})]})]}),i.jsxs("div",{className:"bg-white border rounded-lg shadow-sm p-5",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"font-semibold text-lg",children:"Favoriete kandidaten"}),i.jsx("a",{href:"/candidates",className:"px-3 py-1 text-primary-600 hover:text-primary-700 text-sm",children:"Alle kandidaten bekijken "})]}),i.jsxs("div",{className:"space-y-4",children:[i.jsx("p",{className:"text-gray-500 text-sm italic",children:"Je hebt nog geen favoriete kandidaten toegevoegd."}),i.jsx("div",{className:"hidden",children:i.jsxs("div",{className:"border rounded-md p-3 flex items-center hover:bg-gray-50 transition-colors",children:[i.jsx("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center text-primary-700 font-bold mr-3",children:"JD"}),i.jsxs("div",{children:[i.jsx("h4",{className:"font-medium",children:"Jan de Vries"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Frontend Developer  4 jaar ervaring"})]}),i.jsxs("div",{className:"ml-auto flex space-x-2",children:[i.jsx("button",{className:"p-1 text-gray-400 hover:text-primary-600",children:i.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[i.jsx("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),i.jsx("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})}),i.jsx("button",{className:"p-1 text-gray-400 hover:text-red-600",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})})})]})]})}),i.jsx("a",{href:"/candidates",className:"block text-primary-600 hover:text-primary-800 font-medium",children:"Zoek kandidaten om toe te voegen"})]})]}),i.jsxs("div",{className:"bg-white border rounded-lg shadow-sm p-5",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"font-semibold text-lg",children:"Agenda"}),i.jsx("button",{onClick:ve,className:"px-3 py-1 bg-primary-600 hover:bg-primary-700 text-white text-sm rounded-md",children:"+ Afspraak toevoegen"})]}),i.jsxs("div",{className:"space-y-3",children:[m?i.jsxs("div",{className:"text-center py-4",children:[i.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-primary-600 mx-auto"}),i.jsx("p",{className:"mt-2 text-gray-500 text-sm",children:"Agenda laden..."})]}):w?i.jsx("div",{className:"text-red-500 text-sm py-2",children:w}):a.length===0?i.jsx("p",{className:"text-gray-500 text-sm italic",children:"Je hebt geen geplande afspraken voor de komende dagen."}):i.jsx("div",{className:"space-y-3",children:a.map(ee=>i.jsx("div",{className:"border-l-4 border-primary-500 pl-3 py-2",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"mr-3 text-primary-700",children:i.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),i.jsxs("div",{children:[i.jsx("p",{className:"font-medium",children:ee.title}),i.jsx("p",{className:"text-sm text-gray-600",children:ne(ee.dateTime,ee.endDateTime)}),i.jsxs("p",{className:"text-xs text-gray-500",children:["Met ",ee.candidateName]})]})]})},ee.id))}),i.jsx("div",{className:"flex justify-center mt-4",children:i.jsx("a",{href:"/agenda",className:"inline-block text-primary-600 hover:text-primary-800 font-medium",children:"Beheer je agenda"})})]})]})]})]})})},Ku=({requiredRole:r})=>{const{currentUser:e,loading:t,userProfile:n}=_t();return console.log("ProtectedRoute rendering",{currentUser:e,loading:t,requiredRole:r,userProfile:n}),t?i.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary-600"}),i.jsx("div",{className:"ml-4",children:"Bezig met laden..."})]}):e?n?r&&!(r==="werkzoekende"&&uh(n)||r==="recruiter"&&dh(n))?(console.warn(`Gebruiker heeft niet de juiste rol. Vereist: ${r}, Actueel: ${$1(n)}`),i.jsx(yo,{to:"/dashboard",replace:!0})):i.jsx(od,{}):r?i.jsx(yo,{to:"/dashboard",replace:!0}):i.jsx(od,{}):i.jsx(yo,{to:"/login",replace:!0})},HR=()=>{const{currentUser:r,loading:e}=_t();return console.log("PublicRoute rendering",{loading:e,currentUser:r}),z.useEffect(()=>{console.log("PublicRoute effect",{loading:e,currentUser:r})},[e,r]),e?(console.log("PublicRoute - Toont laadscherm"),i.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary-600"}),i.jsx("div",{className:"ml-4",children:"Bezig met laden..."})]})):r?(console.log("PublicRoute - Doorverwijzen naar home"),i.jsx(yo,{to:"/",replace:!0})):(console.log("PublicRoute - Toont publieke content"),i.jsx(od,{}))},WR=({children:r})=>i.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[i.jsx(tr,{}),i.jsx("main",{className:"flex-grow p-4 sm:p-6 md:p-8 mt-16",children:r}),i.jsx("footer",{className:"bg-white py-4 border-t border-gray-200",children:i.jsxs("div",{className:"container mx-auto px-4 text-center text-gray-500 text-sm",children:[" ",new Date().getFullYear()," PitchPro. Alle rechten voorbehouden."]})})]}),qR=()=>(console.log("Rendering SimpleDashboard"),i.jsxs("div",{className:"p-8",children:[i.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Dashboard"}),i.jsx("p",{children:"Als je dit kunt zien, werkt de rendering correct."})]})),GR=()=>{const{userProfile:r,currentUser:e}=_t();return console.log("Dashboard component rendering met:",{currentUser:e==null?void 0:e.uid,userProfile:r==null?void 0:r.role,displayName:r==null?void 0:r.displayName}),e&&!r?(console.log("Gebruiker ingelogd maar geen profiel gevonden"),i.jsxs("div",{className:"bg-white shadow-md rounded-lg p-6",children:[i.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Probleem met gebruikersprofiel"}),i.jsx("p",{className:"mb-4",children:"Je bent wel ingelogd, maar je gebruikersprofiel kon niet worden geladen."}),i.jsx(KR,{})]})):(r==null?void 0:r.role)==="werkzoekende"?(console.log("Werkzoekende dashboard wordt geladen"),i.jsx(BR,{user:r})):(r==null?void 0:r.role)==="recruiter"?(console.log("Recruiter dashboard wordt geladen",r),i.jsx($R,{user:r})):(console.log("Geen profiel gevonden, laadscherm wordt getoond"),i.jsx("div",{className:"flex justify-center items-center h-screen",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}))},KR=()=>{const{currentUser:r,createOrUpdateProfile:e}=_t(),[t,n]=z.useState(!1),[a,l]=z.useState(null),[u,f]=z.useState(!1),[m,g]=z.useState("werkzoekende"),[x,_]=z.useState((r==null?void 0:r.displayName)||""),w=async()=>{if(r)try{if(n(!0),l(null),!x.trim()){l("Vul een naam in");return}await e(x,m),f(!0),setTimeout(()=>{window.location.reload()},2e3)}catch(S){console.error("Fout bij aanmaken profiel:",S),l("Er is een fout opgetreden bij het aanmaken van je profiel. Probeer het later opnieuw.")}finally{n(!1)}};return i.jsxs("div",{className:"bg-white p-6 rounded-lg shadow-md max-w-md mt-4",children:[i.jsx("h2",{className:"text-xl font-medium mb-4",children:"Maak je profiel opnieuw aan"}),a&&i.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:a}),u&&i.jsx("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:"Profiel succesvol aangemaakt! Pagina wordt vernieuwd..."}),i.jsxs("div",{className:"mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Je naam"}),i.jsx("input",{type:"text",value:x,onChange:S=>_(S.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Vul je naam in",disabled:t||u})]}),i.jsxs("div",{className:"mb-6",children:[i.jsx("p",{className:"mb-2 text-sm font-medium text-gray-700",children:"Selecteer je gebruikerstype:"}),i.jsxs("div",{className:"flex space-x-4",children:[i.jsxs("label",{className:"inline-flex items-center",children:[i.jsx("input",{type:"radio",className:"form-radio",name:"role",value:"werkzoekende",checked:m==="werkzoekende",onChange:()=>g("werkzoekende"),disabled:t||u}),i.jsx("span",{className:"ml-2",children:"Werkzoekende"})]}),i.jsxs("label",{className:"inline-flex items-center",children:[i.jsx("input",{type:"radio",className:"form-radio",name:"role",value:"recruiter",checked:m==="recruiter",onChange:()=>g("recruiter"),disabled:t||u}),i.jsx("span",{className:"ml-2",children:"Recruiter"})]})]})]}),i.jsx("button",{onClick:w,disabled:t||u,className:"w-full bg-primary-600 text-white py-2 px-4 rounded hover:bg-primary-700 disabled:opacity-50",children:t?"Bezig...":u?"Profiel aangemaakt":"Profiel aanmaken"})]})},QR=()=>{const{loading:r,currentUser:e,userProfile:t,authError:n}=_t();return console.log("AuthDebugger rendering",{loading:r,currentUser:e,userProfile:t,authError:n}),i.jsxs("div",{className:"fixed bottom-0 right-0 bg-black bg-opacity-75 text-white p-2 text-xs",children:["Loading: ",r?"Ja":"Nee",i.jsx("br",{}),"User: ",e?"Aanwezig":"Geen",i.jsx("br",{}),"Profile: ",t?t.role:"Geen",i.jsx("br",{}),"Error: ",n?n.message:"Geen"]})},JR=()=>{const{currentUser:r,loading:e}=_t();return console.log("Redirect component rendering",{loading:e,currentUser:r}),e?i.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary-600"}),i.jsx("div",{className:"ml-4",children:"Bezig met laden..."})]}):r?i.jsx(yo,{to:"/dashboard",replace:!0}):i.jsx(yo,{to:"/login",replace:!0})},YR=()=>i.jsx(WR,{children:i.jsx(od,{})}),XR=()=>(console.log("App component rendering"),z.useEffect(()=>{const r=e=>{console.error("Onafgehandelde fout opgevangen:",e.error)};return window.addEventListener("error",r),()=>{window.removeEventListener("error",r)}},[]),i.jsx(QC,{children:i.jsx(JC,{children:i.jsx(YC,{children:i.jsxs(wN,{basename:"/",children:[i.jsxs(mN,{children:[i.jsx(tt,{path:"/",element:i.jsx(AR,{})}),i.jsxs(tt,{element:i.jsx(HR,{}),children:[i.jsx(tt,{path:"/login",element:i.jsx(bR,{})}),i.jsx(tt,{path:"/register",element:i.jsx(_R,{})}),i.jsx(tt,{path:"/reset-password",element:i.jsx(NR,{})})]}),i.jsx(tt,{path:"/about",element:i.jsx(CR,{})}),i.jsx(tt,{path:"/jobs",element:i.jsx(DR,{})}),i.jsx(tt,{path:"/job/:jobId",element:i.jsx(VR,{})}),i.jsx(tt,{element:i.jsx(Ku,{}),children:i.jsx(tt,{path:"/job-application/:jobId",element:i.jsx(OR,{})})}),i.jsxs(tt,{element:i.jsx(Ku,{requiredRole:"recruiter"}),children:[i.jsx(tt,{path:"/candidates",element:i.jsx(RR,{})}),i.jsx(tt,{path:"/candidate/:id",element:i.jsx(PR,{})}),i.jsx(tt,{path:"/schedule-meeting",element:i.jsx(Gu,{})}),i.jsx(tt,{path:"/schedule-meeting/:id",element:i.jsx(Gu,{})})]}),i.jsx(tt,{path:"/redirect",element:i.jsx(JR,{})}),i.jsx(tt,{path:"/simple",element:i.jsx(qR,{})}),i.jsx(tt,{element:i.jsx(Ku,{}),children:i.jsxs(tt,{element:i.jsx(YR,{}),children:[i.jsx(tt,{path:"/dashboard",element:i.jsx(GR,{})}),i.jsx(tt,{path:"/messages",element:i.jsx(Ex,{})}),i.jsx(tt,{path:"/messages/:chatId",element:i.jsx(Ex,{})}),i.jsx(tt,{path:"/profile",element:i.jsx(qu,{})}),i.jsx(tt,{path:"/profile/:type",element:i.jsx(qu,{})}),i.jsx(tt,{path:"/profile/jobseeker",element:i.jsx(qu,{})}),i.jsx(tt,{path:"/profile/recruiter",element:i.jsx(qu,{})}),i.jsx(tt,{path:"/cv-preview",element:i.jsx(LR,{})}),i.jsx(tt,{path:"/applications/:applicationId",element:i.jsx(zR,{})}),i.jsxs(tt,{element:i.jsx(Ku,{requiredRole:"recruiter"}),children:[i.jsx(tt,{path:"/create-job",element:i.jsx(FR,{})}),i.jsx(tt,{path:"/edit-job/:jobId",element:i.jsx(MR,{})})]}),i.jsx(tt,{path:"/agenda",element:i.jsx(UR,{})}),i.jsx(tt,{path:"/schedule-meeting/:candidateId",element:i.jsx(Gu,{})}),i.jsx(tt,{path:"/schedule-meeting",element:i.jsx(Gu,{})})]})}),i.jsx(tt,{path:"*",element:i.jsx(yo,{to:"/",replace:!0})})]}),i.jsx(QR,{})]})})})}));console.log("PitchPro/src/main.jsx initialisatie gestart");const a_=document.getElementById("root");if(!a_)throw new Error('Geen "root" element gevonden in de DOM. Controleer je index.html bestand.');console.log("Root element gevonden, gaat nu app renderen");const ZR=wj.createRoot(a_);ZR.render(i.jsx(Ue.StrictMode,{children:i.jsx(XR,{})}));console.log("Rendering verzonden naar ReactDOM");
//# sourceMappingURL=index-BoiK9WTT.js.map
