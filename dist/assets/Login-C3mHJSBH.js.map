{"version":3,"file":"Login-C3mHJSBH.js","sources":["../../src/components/auth/LoginForm.tsx","../../src/pages/Login.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useAuth } from '../../contexts/AuthContext';\nimport { Link } from 'react-router-dom';\nimport { createUserWithEmailAndPassword, updateProfile } from 'firebase/auth';\nimport { auth, db } from '../../firebase/config';\nimport { doc, setDoc } from 'firebase/firestore';\n\ninterface LoginFormInputs {\n  email: string;\n  password: string;\n}\n\nconst LoginForm: React.FC = () => {\n  const { register, handleSubmit, formState: { errors }, setValue } = useForm<LoginFormInputs>();\n  const { login } = useAuth();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [debugMode, setDebugMode] = useState(false);\n\n  const onSubmit = async (data: LoginFormInputs) => {\n    try {\n      setError(null);\n      setLoading(true);\n      await login(data.email, data.password);\n      // Navigatie gebeurt in de App component gebaseerd op AuthContext\n    } catch (err: any) {\n      console.error('Inloggen mislukt:', err);\n      \n      // Betere foutafhandeling met specifieke berichten voor verschillende fouten\n      if (err.code === 'auth/user-not-found' || err.code === 'auth/wrong-password') {\n        setError('Inloggen mislukt. Controleer je e-mail en wachtwoord.');\n      } else if (err.code === 'auth/too-many-requests') {\n        setError('Te veel inlogpogingen. Probeer het later opnieuw of reset je wachtwoord.');\n      } else if (err.code === 'auth/network-request-failed') {\n        setError('Netwerkprobleem. Controleer je internetverbinding en probeer het opnieuw.');\n      } else if (err.code === 'auth/user-disabled') {\n        setError('Dit account is uitgeschakeld. Neem contact op met de beheerder.');\n      } else if (err.code === 'auth/invalid-email') {\n        setError('Ongeldig e-mailadres. Controleer je e-mail en probeer het opnieuw.');\n      } else {\n        setError(`Inloggen mislukt: ${err.message || 'Onbekende fout'}`);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Debug functie om een test gebruiker aan te maken\n  const createTestUser = async () => {\n    try {\n      setError(null);\n      setLoading(true);\n      \n      const testEmail = 'test@example.com';\n      const testPassword = 'test123456';\n      const testDisplayName = 'Test Gebruiker';\n      \n      console.log('Test gebruiker aanmaken:', testEmail);\n      \n      // Maak een test gebruiker aan\n      const userCredential = await createUserWithEmailAndPassword(auth, testEmail, testPassword);\n      const user = userCredential.user;\n      \n      // Update de gebruiker met displayName\n      await updateProfile(user, { displayName: testDisplayName });\n      \n      // Sla het gebruikersprofiel op in Firestore\n      const userDocRef = doc(db, 'users', user.uid);\n      \n      await setDoc(userDocRef, {\n        id: user.uid,\n        email: testEmail,\n        displayName: testDisplayName,\n        role: 'werkzoekende',\n        createdAt: new Date(),\n        updatedAt: new Date(),\n        profile: {\n          skills: []\n        }\n      });\n      \n      console.log('Test gebruiker aangemaakt:', user.uid);\n      \n      // Vul de formulierinvoervelden in\n      setValue('email', testEmail);\n      setValue('password', testPassword);\n      \n      alert('Test gebruiker aangemaakt! Email: test@example.com, Wachtwoord: test123456');\n    } catch (err: any) {\n      console.error('Fout bij aanmaken test gebruiker:', err);\n      if (err.code === 'auth/email-already-in-use') {\n        setError('Deze test gebruiker bestaat al, je kunt proberen in te loggen met email: test@example.com, wachtwoord: test123456');\n      } else {\n        setError('Kon test gebruiker niet aanmaken: ' + err.message);\n      }\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"bg-white p-8 rounded-lg shadow-md max-w-md w-full\">\n      <h2 className=\"text-2xl font-bold text-center mb-6 text-gray-800\">Inloggen</h2>\n      \n      {error && (\n        <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4\" role=\"alert\">\n          <span className=\"block sm:inline\">{error}</span>\n        </div>\n      )}\n      \n      <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-6\">\n        <div>\n          <label htmlFor=\"email\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n            E-mail\n          </label>\n          <input\n            id=\"email\"\n            type=\"email\"\n            {...register('email', { \n              required: 'E-mail is verplicht',\n              pattern: {\n                value: /^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/,\n                message: 'Voer een geldig e-mailadres in'\n              }\n            })}\n            className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${\n              errors.email ? 'border-red-500' : 'border-gray-300'\n            }`}\n          />\n          {errors.email && (\n            <p className=\"mt-1 text-sm text-red-600\">{errors.email.message}</p>\n          )}\n        </div>\n\n        <div>\n          <label htmlFor=\"password\" className=\"block text-sm font-medium text-gray-700 mb-1\">\n            Wachtwoord\n          </label>\n          <input\n            id=\"password\"\n            type=\"password\"\n            {...register('password', { \n              required: 'Wachtwoord is verplicht',\n              minLength: {\n                value: 6,\n                message: 'Wachtwoord moet minimaal 6 tekens bevatten'\n              }\n            })}\n            className={`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${\n              errors.password ? 'border-red-500' : 'border-gray-300'\n            }`}\n          />\n          {errors.password && (\n            <p className=\"mt-1 text-sm text-red-600\">{errors.password.message}</p>\n          )}\n        </div>\n\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center\">\n            <input\n              id=\"remember-me\"\n              name=\"remember-me\"\n              type=\"checkbox\"\n              className=\"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"\n            />\n            <label htmlFor=\"remember-me\" className=\"ml-2 block text-sm text-gray-700\">\n              Onthoud mij\n            </label>\n          </div>\n\n          <div className=\"text-sm\">\n            <Link to=\"/reset-password\" className=\"font-medium text-primary-600 hover:text-primary-500\">\n              Wachtwoord vergeten?\n            </Link>\n          </div>\n        </div>\n\n        <div>\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50\"\n          >\n            {loading ? 'Inloggen...' : 'Inloggen'}\n          </button>\n        </div>\n      </form>\n\n      <div className=\"mt-6 text-center\">\n        <p className=\"text-sm text-gray-600\">\n          Nog geen account?{' '}\n          <Link to=\"/register\" className=\"font-medium text-primary-600 hover:text-primary-500\">\n            Registreer hier\n          </Link>\n        </p>\n      </div>\n\n      {/* Debug mode toggle */}\n      <div className=\"mt-6 text-center\">\n        <button \n          type=\"button\" \n          onClick={() => setDebugMode(!debugMode)}\n          className=\"text-xs text-gray-500 hover:text-gray-700\"\n        >\n          {debugMode ? 'Debug mode verbergen' : 'Debug opties'}\n        </button>\n      </div>\n      \n      {debugMode && (\n        <div className=\"mt-4 p-3 bg-gray-100 rounded-md\">\n          <h3 className=\"font-medium text-sm mb-2\">Debug opties</h3>\n          <button\n            type=\"button\"\n            onClick={createTestUser}\n            disabled={loading}\n            className=\"w-full text-sm py-1 px-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-200\"\n          >\n            Test gebruiker aanmaken\n          </button>\n          <p className=\"text-xs text-gray-500 mt-1\">\n            Dit maakt een test gebruiker aan met email: test@example.com en wachtwoord: test123456\n          </p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default LoginForm; ","import React from 'react';\nimport Layout from '../components/Layout';\nimport LoginForm from '../components/auth/LoginForm';\n\nconst Login: React.FC = () => {\n  return (\n    <Layout>\n      <div className=\"max-w-md mx-auto mt-8 p-6\">\n        <LoginForm />\n      </div>\n    </Layout>\n  );\n};\n\nexport default Login; "],"names":["LoginForm","register","handleSubmit","errors","setValue","useForm","login","useAuth","loading","setLoading","useState","error","setError","debugMode","setDebugMode","onSubmit","data","err","createTestUser","testEmail","testPassword","testDisplayName","user","createUserWithEmailAndPassword","auth","updateProfile","userDocRef","doc","db","setDoc","jsxs","jsx","Link","Login","Layout"],"mappings":"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"}