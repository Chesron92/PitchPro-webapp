import{r as m,j as e,L as x}from"./react-vendor-BJ-6AA60.js";import{u as j,a as k,d as N,L as v}from"./index-CVvBu09D.js";import{u as D}from"./form-vendor-DOrZhWSe.js";import{i as E,w as L}from"./firebase-other-DPey4uCY.js";import"./firebase-app-CzzSlWfx.js";import{doc as A,setDoc as C}from"./firebase-firestore-CCnivBKz.js";const S=()=>{const{register:d,handleSubmit:p,formState:{errors:a},setValue:c}=D(),{login:b}=j(),[n,o]=m.useState(!1),[u,s]=m.useState(null),[l,h]=m.useState(!1),f=async t=>{try{s(null),o(!0),await b(t.email,t.password)}catch(r){console.error("Inloggen mislukt:",r),r.code==="auth/user-not-found"||r.code==="auth/wrong-password"?s("Inloggen mislukt. Controleer je e-mail en wachtwoord."):r.code==="auth/too-many-requests"?s("Te veel inlogpogingen. Probeer het later opnieuw of reset je wachtwoord."):r.code==="auth/network-request-failed"?s("Netwerkprobleem. Controleer je internetverbinding en probeer het opnieuw."):r.code==="auth/user-disabled"?s("Dit account is uitgeschakeld. Neem contact op met de beheerder."):r.code==="auth/invalid-email"?s("Ongeldig e-mailadres. Controleer je e-mail en probeer het opnieuw."):s(`Inloggen mislukt: ${r.message||"Onbekende fout"}`)}finally{o(!1)}},w=async()=>{try{s(null),o(!0);const t="test@example.com",r="test123456",g="Test Gebruiker";console.log("Test gebruiker aanmaken:",t);const i=(await E(k,t,r)).user;await L(i,{displayName:g});const y=A(N,"users",i.uid);await C(y,{id:i.uid,email:t,displayName:g,role:"werkzoekende",createdAt:new Date,updatedAt:new Date,profile:{skills:[]}}),console.log("Test gebruiker aangemaakt:",i.uid),c("email",t),c("password",r),alert("Test gebruiker aangemaakt! Email: test@example.com, Wachtwoord: test123456")}catch(t){console.error("Fout bij aanmaken test gebruiker:",t),t.code==="auth/email-already-in-use"?s("Deze test gebruiker bestaat al, je kunt proberen in te loggen met email: test@example.com, wachtwoord: test123456"):s("Kon test gebruiker niet aanmaken: "+t.message)}finally{o(!1)}};return e.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-md w-full",children:[e.jsx("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-800",children:"Inloggen"}),u&&e.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",role:"alert",children:e.jsx("span",{className:"block sm:inline",children:u})}),e.jsxs("form",{onSubmit:p(f),className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail"}),e.jsx("input",{id:"email",type:"email",...d("email",{required:"E-mail is verplicht",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Voer een geldig e-mailadres in"}}),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${a.email?"border-red-500":"border-gray-300"}`}),a.email&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.email.message})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Wachtwoord"}),e.jsx("input",{id:"password",type:"password",...d("password",{required:"Wachtwoord is verplicht",minLength:{value:6,message:"Wachtwoord moet minimaal 6 tekens bevatten"}}),className:`w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 ${a.password?"border-red-500":"border-gray-300"}`}),a.password&&e.jsx("p",{className:"mt-1 text-sm text-red-600",children:a.password.message})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),e.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Onthoud mij"})]}),e.jsx("div",{className:"text-sm",children:e.jsx(x,{to:"/reset-password",className:"font-medium text-primary-600 hover:text-primary-500",children:"Wachtwoord vergeten?"})})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:n,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:n?"Inloggen...":"Inloggen"})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{className:"text-sm text-gray-600",children:["Nog geen account?"," ",e.jsx(x,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"Registreer hier"})]})}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx("button",{type:"button",onClick:()=>h(!l),className:"text-xs text-gray-500 hover:text-gray-700",children:l?"Debug mode verbergen":"Debug opties"})}),l&&e.jsxs("div",{className:"mt-4 p-3 bg-gray-100 rounded-md",children:[e.jsx("h3",{className:"font-medium text-sm mb-2",children:"Debug opties"}),e.jsx("button",{type:"button",onClick:w,disabled:n,className:"w-full text-sm py-1 px-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-200",children:"Test gebruiker aanmaken"}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Dit maakt een test gebruiker aan met email: test@example.com en wachtwoord: test123456"})]})]})},$=()=>e.jsx(v,{children:e.jsx("div",{className:"max-w-md mx-auto mt-8 p-6",children:e.jsx(S,{})})});export{$ as default};
//# sourceMappingURL=Login-DLWMgZKm.js.map
