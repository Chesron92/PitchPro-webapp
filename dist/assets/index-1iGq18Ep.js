const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/firebase-auth-BmLUc-YY.js","assets/firebase-other-DPey4uCY.js","assets/firebase-app-CzzSlWfx.js","assets/firebase-firestore-CCnivBKz.js","assets/firebase-storage-CqamIgiF.js","assets/Login-C3mHJSBH.js","assets/react-vendor-wqxTS4Az.js","assets/Layout-D14_1KlH.js","assets/Header-Pjeg2nCk.js","assets/Footer-DQrHjGn4.js","assets/Layout-Dc39IF0-.css","assets/form-vendor-Esn1dlm-.js","assets/Register-C6woHjf4.js","assets/ResetPassword-6dTZbg_z.js","assets/Landing-BVs517C1.js","assets/About-dQ3fJg47.js","assets/Candidates-BAWNWSN5.js","assets/CandidateProfile-DAOouvpT.js","assets/Jobs-CSngOLTP.js","assets/JobDetail-CT1j2cBS.js","assets/JobApplication-GYrSCFDv.js","assets/Messages-D0tpFUW7.js","assets/Spinner-CoP5_FFj.js","assets/Conversation--pyoM5Yt.js","assets/ScheduleMeeting-CDcvGHZo.js","assets/Calendar-BnZN21eY.js","assets/ApplicationDetail-DQum06Kt.js","assets/dashboardRoutes-B8hWVExg.js"])))=>i.map(i=>d[i]);
import{r as c,j as e,N as V,O as ce,B as Ie,a as Te,b as h,R as xe,c as Se}from"./react-vendor-wqxTS4Az.js";import{collection as G,query as Q,orderBy as we,where as Y,onSnapshot as be,doc as D,getDoc as X,updateDoc as ee,getDocs as le,addDoc as ve,Timestamp as K,deleteDoc as Fe,setDoc as ze}from"./firebase-firestore-CCnivBKz.js";import"./firebase-app-CzzSlWfx.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))b(l);new MutationObserver(l=>{for(const y of l)if(y.type==="childList")for(const v of y.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&b(v)}).observe(document,{childList:!0,subtree:!0});function d(l){const y={};return l.integrity&&(y.integrity=l.integrity),l.referrerPolicy&&(y.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?y.credentials="include":l.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function b(l){if(l.ep)return;l.ep=!0;const y=d(l);fetch(l.href,y)}})();const Le="modulepreload",Oe=function(n){return"/"+n},je={},w=function(r,d,b){let l=Promise.resolve();if(d&&d.length>0){let v=function(_){return Promise.all(_.map(I=>Promise.resolve(I).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),C=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));l=v(d.map(_=>{if(_=Oe(_),_ in je)return;je[_]=!0;const I=_.endsWith(".css"),T=I?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${_}"]${T}`))return;const k=document.createElement("link");if(k.rel=I?"stylesheet":Le,I||(k.as="script"),k.crossOrigin="",k.href=_,C&&k.setAttribute("nonce",C),document.head.appendChild(k),I)return new Promise((S,U)=>{k.addEventListener("load",S),k.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${_}`)))})}))}function y(v){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=v,window.dispatchEvent(p),!p.defaultPrevented)throw v}return l.then(v=>{for(const p of v||[])p.status==="rejected"&&y(p.reason);return r().catch(y)})};function pe(n){return n?n.role==="werkzoekende"||n.role==="jobseeker":!1}function fe(n){return n?n.role==="recruiter":!1}function Ae(n){return n?pe(n)?"jobseeker":fe(n)?"recruiter":null:null}var O={};const z={apiKey:O.REACT_APP_FIREBASE_API_KEY,authDomain:O.REACT_APP_FIREBASE_AUTH_DOMAIN,projectId:O.REACT_APP_FIREBASE_PROJECT_ID,storageBucket:O.REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:O.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:O.REACT_APP_FIREBASE_APP_ID,measurementId:O.REACT_APP_FIREBASE_MEASUREMENT_ID};console.log("Firebase omgevingsvariabelen status:");console.log("API Key aanwezig:",!!O.REACT_APP_FIREBASE_API_KEY);console.log("Auth Domain aanwezig:",!!O.REACT_APP_FIREBASE_AUTH_DOMAIN);console.log("Project ID aanwezig:",!!O.REACT_APP_FIREBASE_PROJECT_ID);z.apiKey||(console.warn("Firebase configuratie niet gevonden in environment variables. Gebruik van fallback configuratie. Voor productieomgevingen, zorg ervoor dat je .env.local correct is ingesteld."),z.apiKey="AIzaSyAiTY14VexbFUQTf3yKhDPhrCtKjRzhMwQ",z.authDomain="pitchpro-29e90.firebaseapp.com",z.projectId="pitchpro-29e90",z.storageBucket="pitchpro-29e90.firebasestorage.app",z.messagingSenderId="121788535713",z.appId="1:121788535713:web:9c5ddf4ff9af0a0e2ff1e0",z.measurementId="G-QGBR93ZYCM");console.log("Firebase configuratie:",{...z,apiKey:z.apiKey?"AANWEZIG":"ONTBREEKT"});let oe=null,ne=null,se=null,ie=null,ae=null;const re=async()=>{if(!oe){const{initializeApp:n}=await w(async()=>{const{initializeApp:r}=await import("./firebase-app-CzzSlWfx.js").then(d=>d.G);return{initializeApp:r}},[]);oe=n(z)}return oe},$=async()=>{if(!ne){const n=await re(),{getAuth:r}=await w(async()=>{const{getAuth:d}=await import("./firebase-auth-BmLUc-YY.js");return{getAuth:d}},__vite__mapDeps([0,1,2]));ne=r(n)}return ne},de=async()=>{if(!se){const n=await re(),{getFirestore:r}=await w(async()=>{const{getFirestore:d}=await import("./firebase-firestore-CCnivBKz.js");return{getFirestore:d}},__vite__mapDeps([3,2]));se=r(n)}return se},De=async()=>{if(!ie){const n=await re(),{getStorage:r}=await w(async()=>{const{getStorage:d}=await import("./firebase-storage-CqamIgiF.js");return{getStorage:d}},__vite__mapDeps([4,2]));ie=r(n)}return ie},Ne=async()=>{if(!ae&&typeof window<"u"){const n=await re(),{getAnalytics:r}=await w(async()=>{const{getAnalytics:d}=await import("./firebase-other-DPey4uCY.js").then(b=>b.x);return{getAnalytics:d}},__vite__mapDeps([1,2]));ae=r(n)}return ae};let J=null,A=null,Ue=null;const Ge=async()=>{J=await $(),A=await de(),Ue=await De(),typeof window<"u"&&await Ne()};Ge().catch(n=>console.error("Firebase services konden niet worden geÃ¯nitialiseerd:",n));const Pe=c.createContext(void 0),M=()=>{const n=c.useContext(Pe);if(n===void 0)throw new Error("useAuth moet binnen een AuthProvider gebruikt worden");return n},Ve=({children:n})=>{const[r,d]=c.useState(null),[b,l]=c.useState(null),[y,v]=c.useState(!0),[p,C]=c.useState(null);console.log("AuthProvider initialiseren...");const _=(t,i)=>{var g,m,f,u,j,R,N,W,F,B,q,H,Z,he,me,ge;console.log("Normalizing user data for:",i,t);let o=t.role||t.userType||"werkzoekende";o==="jobseeker"&&(o="werkzoekende",console.warn('Converted English role "jobseeker" to Dutch "werkzoekende"'));let a=t.userType||o;a==="jobseeker"&&(a="werkzoekende");const s={id:i,email:t.email||"",displayName:t.displayName||t.name||"",photoURL:t.photoURL||t.avatar||"",bio:t.bio||"",phone:t.phone||"",role:o,userType:a,createdAt:t.createdAt||new Date,updatedAt:t.updatedAt||new Date,profile:t.profile?{...t.profile}:{}};return pe(s)?(s.profile||(s.profile={}),s.profile.skills=t.skills||((g=t.profile)==null?void 0:g.skills)||[],s.profile.education=t.education||((m=t.profile)==null?void 0:m.education)||[],s.profile.experience=t.experience||((f=t.profile)==null?void 0:f.experience)||[],s.profile.cv=t.cv||((u=t.profile)==null?void 0:u.cv)||"",s.profile.portfolio=t.portfolio||((j=t.profile)==null?void 0:j.portfolio)||"",s.profile.linkedin=t.linkedin||((R=t.profile)==null?void 0:R.linkedin)||"",s.profile.address=t.address||((N=t.profile)==null?void 0:N.address)||"",s.profile.city=t.city||((W=t.profile)==null?void 0:W.city)||""):fe(s)&&(s.profile||(s.profile={}),s.profile.companyName=t.companyName||((F=t.profile)==null?void 0:F.companyName)||"",s.profile.companyDescription=t.companyDescription||((B=t.profile)==null?void 0:B.companyDescription)||"",s.profile.kvkNumber=t.kvkNumber||((q=t.profile)==null?void 0:q.kvkNumber)||"",s.profile.website=t.website||((H=t.profile)==null?void 0:H.website)||"",s.profile.companyLogo=t.companyLogo||((Z=t.profile)==null?void 0:Z.companyLogo)||"",s.profile.industry=t.industry||((he=t.profile)==null?void 0:he.industry)||"",s.profile.companySize=t.companySize||((me=t.profile)==null?void 0:me.companySize)||"",s.profile.companyLocation=t.companyLocation||((ge=t.profile)==null?void 0:ge.companyLocation)||""),console.debug("Normalized user data:",{id:s.id,email:s.email,role:s.role,userType:s.userType,hasProfile:!!s.profile&&Object.keys(s.profile).length>0}),s},I=async(t,i,o,a)=>{console.log("Nieuw gebruikersprofiel aanmaken voor",t);const s=A||await de(),{doc:g,setDoc:m}=await w(async()=>{const{doc:R,setDoc:N}=await import("./firebase-firestore-CCnivBKz.js");return{doc:R,setDoc:N}},__vite__mapDeps([3,2])),f=g(s,"users",t),u={id:t,email:i||"",displayName:o,fullName:o,role:a,userType:a,createdAt:new Date,updatedAt:new Date};let j;return a==="werkzoekende"?j={...u,profile:{skills:[],availability:"",cv:"",linkedin:"",portfolio:"",experience:"",education:[]}}:j={...u,profile:{company:"",position:"",companyLogo:"",companyWebsite:"",companyDescription:"",kvkNumber:""}},await m(f,j),console.log("Gebruikersprofiel aangemaakt:",a),j},T=async(t,i,o,a)=>{try{const s=J||await $(),{createUserWithEmailAndPassword:g,updateProfile:m}=await w(async()=>{const{createUserWithEmailAndPassword:R,updateProfile:N}=await import("./firebase-auth-BmLUc-YY.js");return{createUserWithEmailAndPassword:R,updateProfile:N}},__vite__mapDeps([0,1,2])),u=(await g(s,t,i)).user;await m(u,{displayName:o});const j=await I(u.uid,u.email||"",o,a);l(j)}catch(s){throw console.error("Fout bij registratie:",s),s}},k=async(t,i)=>{try{console.log("Inlogpoging voor:",t);const o=J||await $(),{signInWithEmailAndPassword:a}=await w(async()=>{const{signInWithEmailAndPassword:s}=await import("./firebase-auth-BmLUc-YY.js");return{signInWithEmailAndPassword:s}},__vite__mapDeps([0,1,2]));await a(o,t,i),console.log("Inloggen succesvol")}catch(o){throw console.error("Fout bij inloggen:",o),console.error("Fout code:",o.code),console.error("Fout bericht:",o.message),o}},S=async()=>{try{const t=J||await $(),{signOut:i}=await w(async()=>{const{signOut:o}=await import("./firebase-auth-BmLUc-YY.js");return{signOut:o}},__vite__mapDeps([0,1,2]));await i(t)}catch(t){throw console.error("Fout bij uitloggen:",t),t}},U=async t=>{try{const i=J||await $(),{sendPasswordResetEmail:o}=await w(async()=>{const{sendPasswordResetEmail:a}=await import("./firebase-auth-BmLUc-YY.js");return{sendPasswordResetEmail:a}},__vite__mapDeps([0,1,2]));await o(i,t)}catch(i){throw console.error("Fout bij wachtwoord reset:",i),i}},E=async t=>{try{console.log("Bezig met laden van gebruikersprofiel voor",t);const i=A||await de(),{doc:o,getDoc:a,updateDoc:s}=await w(async()=>{const{doc:f,getDoc:u,updateDoc:j}=await import("./firebase-firestore-CCnivBKz.js");return{doc:f,getDoc:u,updateDoc:j}},__vite__mapDeps([3,2])),g=o(i,"users",t),m=await a(g);if(m.exists()){const f=m.data();console.log("Ruwe gebruikersdata uit Firestore:",f),f.email||(console.warn("Gebruikersprofiel heeft geen email - proberen te repareren"),r!=null&&r.email&&(await s(g,{email:r.email}),f.email=r.email));const u={...f,id:t};!u.role&&!u.userType&&(console.warn("Gebruikersprofiel heeft geen rol - proberen te repareren"),u.role="werkzoekende",await s(g,{role:"werkzoekende",userType:"werkzoekende"})),(!u.profile||Object.keys(u.profile||{}).length===0)&&(console.warn("Gebruikersprofiel heeft geen profiel object - proberen te repareren"),u.role==="werkzoekende"||u.userType==="werkzoekende"?(u.profile={skills:[],availability:"",cv:"",linkedin:"",portfolio:"",experience:"",education:[]},await s(g,{profile:u.profile})):(u.role==="recruiter"||u.userType==="recruiter")&&(u.profile={company:"",position:"",companyLogo:"",companyWebsite:"",companyDescription:"",kvkNumber:""},await s(g,{profile:u.profile})));const j=_(u,t);console.log("Genormaliseerde gebruikersdata:",j);const R=Ae(j);R?(console.log("Gebruikersprofiel geladen met rol:",R),l(j)):(console.warn("Gebruikersprofiel heeft geen geldige rol - zetten op null"),l(null))}else console.error("Geen gebruikersprofiel gevonden in Firestore"),l(null)}catch(i){throw console.error("Fout bij laden gebruikersprofiel:",i),l(null),i}},x=async()=>{if(!r)throw new Error("Kan profiel niet verversen: gebruiker niet ingelogd");try{await E(r.uid);return}catch(t){throw console.error("Fout bij verversen gebruikersprofiel:",t),t}},P=async(t,i)=>{if(!r)throw new Error("Je moet ingelogd zijn om een profiel aan te maken");try{const o=await I(r.uid,r.email||"",t||r.displayName||"Gebruiker",i);return l(o),o}catch(o){throw console.error("Fout bij aanmaken/updaten profiel:",o),o}};c.useEffect(()=>{console.log("Auth state verandering monitoren opstarten...");const t=setTimeout(()=>{console.log("VEILIGHEIDSTIMER: loading geforceerd op false na timeout"),v(!1),C(new Error("Het profiel kon niet tijdig worden geladen. Probeer het opnieuw."))},15e3),o=(async()=>{try{const a=J||await $(),{onAuthStateChanged:s}=await w(async()=>{const{onAuthStateChanged:m}=await import("./firebase-auth-BmLUc-YY.js");return{onAuthStateChanged:m}},__vite__mapDeps([0,1,2])),g=s(a,async m=>{try{if(console.log("Auth state verandering gedetecteerd:",m?"Gebruiker aanwezig":"Geen gebruiker"),d(m),m)try{await E(m.uid)}catch(f){console.error("Fout bij laden gebruikersprofiel:",f),l(null),f instanceof Error?C(f):C(new Error("Onbekende fout bij laden gebruikersprofiel"))}else l(null);console.log("Loading status wordt op false gezet"),v(!1),clearTimeout(t)}catch(f){console.error("Onverwachte fout in auth state verandering handler:",f),v(!1),clearTimeout(t),f instanceof Error?C(f):C(new Error("Onverwachte fout in auth state verandering handler"))}});return()=>{g(),clearTimeout(t)}}catch(a){return console.error("Kritieke fout bij initialiseren Firebase Auth:",a),v(!1),clearTimeout(t),a instanceof Error?C(a):C(new Error("Kritieke fout bij initialiseren Firebase Auth")),()=>{}}})();return()=>{o&&typeof o.then=="function"&&o.then(a=>{a&&a()}),clearTimeout(t)}},[]),console.log("AuthProvider rendering met loading status:",y,"authError:",p?"JA":"NEE");const L={currentUser:r,userProfile:b,loading:y,authError:p,register:T,login:k,logout:S,resetPassword:U,createOrUpdateProfile:P,refreshUserProfile:x};return e.jsx(Pe.Provider,{value:L,children:!y&&n})},ke=c.createContext(void 0),wt=()=>{const n=c.useContext(ke);if(n===void 0)throw new Error("useMessages moet binnen een MessageProvider gebruikt worden");return n},Me=({children:n})=>{const{currentUser:r}=M(),[d,b]=c.useState([]),[l,y]=c.useState(null),[v,p]=c.useState([]),[C,_]=c.useState(!0),[I,T]=c.useState(!1),[k,S]=c.useState(null);c.useEffect(()=>{if(!r){b([]),y(null),p([]),_(!1);return}_(!0),S(null);const i=G(A,"chats"),o=Q(i,Y("participants","array-contains",r.uid),we("lastMessageTimestamp","desc")),a=be(o,async s=>{try{const g=s.docs.map(async u=>{var q,H;const j=u.data(),R=j.participants.find(Z=>Z!==r.uid);if(!R)return console.error("Geen andere gebruiker gevonden in chat",j.id),null;const N=D(A,"users",R),W=await X(N);if(!W.exists())return console.error("Gebruiker niet gevonden",R),null;const F=W.data();let B=0;return typeof j.unreadCount=="number"?B=j.unreadCount:typeof j.unreadCount=="object"&&j.unreadCount!==null&&(B=j.unreadCount[r.uid]||0),{...j,id:u.id,otherUser:{id:R,displayName:F.displayName||F.name||"Onbekende gebruiker",photoURL:F.photoURL||F.profileImage||F.profilePhoto||((q=F.profile)==null?void 0:q.profilePhoto)||((H=F.profile)==null?void 0:H.profileImage)||"",role:F.role||F.userType||""},unreadCount:B}}),f=(await Promise.all(g)).filter(u=>u!==null);b(f),_(!1)}catch(g){console.error("Fout bij het ophalen van chats:",g),S("Kon chats niet laden. Probeer het later opnieuw."),_(!1)}},s=>{console.error("Fout bij chat subscription:",s),S("Kon chats niet laden. Probeer het later opnieuw."),_(!1)});return()=>a()},[r]),c.useEffect(()=>{if(!l){p([]);return}T(!0);const i=G(A,"chats",l.id,"messages"),o=Q(i,we("timestamp","asc")),a=be(o,s=>{const g=s.docs.map(m=>({...m.data(),id:m.id}));p(g),T(!1)},s=>{console.error("Fout bij messages subscription:",s),S("Kon berichten niet laden. Probeer het later opnieuw."),T(!1)});return()=>a()},[l]);const U=async(i,o)=>{if(!r)throw new Error("Je moet ingelogd zijn om berichten te sturen");try{const a={senderId:r.uid,text:o,timestamp:K.now(),read:!1};await ve(G(A,"chats",i,"messages"),a);const s=await X(D(A,"chats",i));if(!s.exists())throw new Error("Chat niet gevonden");const g=s.data(),m=g.participants.find(u=>u!==r.uid);if(!m)throw new Error("Kon andere gebruiker in de chat niet vinden");const f={lastMessage:o,lastMessageTimestamp:K.now(),updatedAt:K.now()};typeof g.unreadCount=="number"?f.unreadCount={[r.uid]:0,[m]:(g.unreadCount||0)+1}:f[`unreadCount.${m}`]=(g.unreadCount[m]||0)+1,await ee(D(A,"chats",i),f)}catch(a){throw console.error("Fout bij het verzenden van bericht:",a),new Error("Kon bericht niet verzenden. Probeer het later opnieuw.")}},E=async i=>{if(!r)throw new Error("Je moet ingelogd zijn om een chat te starten");try{const o=Q(G(A,"chats"),Y("participants","array-contains",r.uid)),s=(await le(o)).docs.find(m=>m.data().participants.includes(i));return s?s.id:(await ve(G(A,"chats"),{participants:[r.uid,i],lastMessage:"",lastMessageTimestamp:K.now(),createdAt:K.now(),updatedAt:K.now(),unreadCount:{[r.uid]:0,[i]:0}})).id}catch(o){throw console.error("Fout bij het aanmaken van een nieuwe chat:",o),new Error("Kon geen nieuwe chat starten. Probeer het later opnieuw.")}},x=async i=>{try{const o=d.find(a=>a.id===i);if(o)y(o),await P(i);else{if(!(await X(D(A,"chats",i))).exists())throw new Error("Chat bestaat niet");S("Chat kon niet worden gevonden.")}}catch(o){console.error("Fout bij het instellen van actieve chat:",o),S("Kon de chat niet openen. Probeer het later opnieuw.")}},P=async i=>{if(r)try{const o=await X(D(A,"chats",i));if(!o.exists())return;typeof o.data().unreadCount=="number"?await ee(D(A,"chats",i),{unreadCount:0}):await ee(D(A,"chats",i),{[`unreadCount.${r.uid}`]:0});const s=G(A,"chats",i,"messages"),g=Q(s,Y("senderId","!=",r.uid),Y("read","==",!1)),m=await le(g),f=new Array;m.docs.forEach(u=>{f.push(ee(u.ref,{read:!0}))}),await Promise.all(f)}catch(o){console.error("Fout bij het markeren van berichten als gelezen:",o)}},t={chats:d,activeChat:l,messages:v,loadingChats:C,loadingMessages:I,error:k,sendMessage:U,createNewChat:E,setActiveChatById:x,markChatAsRead:P,getUnreadCount:()=>r?d.reduce((i,o)=>{let a=0;return typeof o.unreadCount=="number"?a=o.unreadCount:typeof o.unreadCount=="object"&&o.unreadCount!==null&&(a=o.unreadCount[r.uid]||0),i+a},0):0};return e.jsx(ke.Provider,{value:t,children:n})},Re=c.createContext(void 0),bt=()=>{const n=c.useContext(Re);if(n===void 0)throw new Error("useFavorites moet binnen een FavoritesProvider gebruikt worden");return n},Be=({children:n})=>{const[r,d]=c.useState([]),[b,l]=c.useState(!1),[y,v]=c.useState(null),{currentUser:p,userProfile:C}=M(),_=async()=>{if(!p){d([]);return}l(!0),v(null);try{const E=G(A,"favorites"),x=Q(E,Y("userId","==",p.uid)),P=await le(x),L=[];P.forEach(t=>{var o;const i=t.data();L.push({id:t.id,jobId:i.jobId,userId:i.userId,createdAt:((o=i.createdAt)==null?void 0:o.toDate())||new Date,job:i.job||void 0})}),console.log(`${L.length} favorieten geladen voor gebruiker ${p.uid}`),d(L)}catch(E){console.error("Fout bij ophalen favorieten:",E),v(E instanceof Error?E:new Error("Onbekende fout bij ophalen favorieten"))}finally{l(!1)}},I=async(E,x)=>{if(!p)throw new Error("Je moet ingelogd zijn om een vacature als favoriet te markeren");l(!0),v(null);try{const P=`${p.uid}_${E}`,L=D(A,"favorites",P),t={jobId:E,userId:p.uid,createdAt:new Date,job:{id:E,title:x.title||"Onbekende functie",company:x.company||"Onbekend bedrijf",location:x.location||"Locatie onbekend",salary:x.salary}},i={id:P,...t};d(o=>o.some(a=>a.jobId===E)?o:[...o,i]),await ze(L,t),console.log(`Favoriet toegevoegd met ID: ${P}`)}catch(P){throw console.error("Fout bij toevoegen favoriet:",P),v(P instanceof Error?P:new Error("Onbekende fout bij toevoegen favoriet")),_(),P}finally{l(!1)}},T=async E=>{if(!p)throw new Error("Je moet ingelogd zijn om een favoriet te verwijderen");l(!0),v(null);try{const x=`${p.uid}_${E}`,P=D(A,"favorites",x);d(L=>L.filter(t=>t.jobId!==E)),await Fe(P),console.log(`Favoriet verwijderd met ID: ${x}`)}catch(x){throw console.error("Fout bij verwijderen favoriet:",x),v(x instanceof Error?x:new Error("Onbekende fout bij verwijderen favoriet")),_(),x}finally{l(!1)}},k=E=>r.some(x=>x.jobId===E),S=async()=>{await _()};c.useEffect(()=>{p?(console.log("Gebruiker aangemeld, favorieten ophalen..."),_()):(console.log("Geen gebruiker, favorieten leegmaken"),d([]))},[p]);const U={favorites:r,loading:b,error:y,addFavorite:I,removeFavorite:T,isFavorite:k,refreshFavorites:S};return e.jsx(Re.Provider,{value:U,children:n})},te=({requiredRole:n})=>{const{currentUser:r,loading:d,userProfile:b}=M();return console.log("ProtectedRoute rendering",{currentUser:r,loading:d,requiredRole:n,userProfile:b}),d?e.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary-600"}),e.jsx("div",{className:"ml-4",children:"Bezig met laden..."})]}):r?b?n&&!(n==="werkzoekende"&&pe(b)||n==="recruiter"&&fe(b))?(console.warn(`Gebruiker heeft niet de juiste rol. Vereist: ${n}, Actueel: ${Ae(b)}`),e.jsx(V,{to:"/dashboard",replace:!0})):e.jsx(ce,{}):n?e.jsx(V,{to:"/dashboard",replace:!0}):e.jsx(ce,{}):e.jsx(V,{to:"/login",replace:!0})},Ke=()=>{const{currentUser:n,loading:r}=M();return console.log("PublicRoute rendering",{loading:r,currentUser:n}),c.useEffect(()=>{console.log("PublicRoute effect",{loading:r,currentUser:n})},[r,n]),r?(console.log("PublicRoute - Toont laadscherm"),e.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary-600"}),e.jsx("div",{className:"ml-4",children:"Bezig met laden..."})]})):n?(console.log("PublicRoute - Doorverwijzen naar home"),e.jsx(V,{to:"/",replace:!0})):(console.log("PublicRoute - Toont publieke content"),e.jsx(ce,{}))},$e=c.lazy(()=>w(()=>import("./Login-C3mHJSBH.js"),__vite__mapDeps([5,6,7,8,9,10,11,1,2,3]))),Je=c.lazy(()=>w(()=>import("./Register-C6woHjf4.js"),__vite__mapDeps([12,6,7,8,9,10,3,2]))),We=c.lazy(()=>w(()=>import("./ResetPassword-6dTZbg_z.js"),__vite__mapDeps([13,6,11,3,2]))),qe=c.lazy(()=>w(()=>import("./Landing-BVs517C1.js"),__vite__mapDeps([14,6,8,9,3,2]))),He=c.lazy(()=>w(()=>import("./About-dQ3fJg47.js"),__vite__mapDeps([15,6,8,9,3,2]))),Qe=c.lazy(()=>w(()=>import("./Candidates-BAWNWSN5.js"),__vite__mapDeps([16,6,3,2,8,9]))),Ye=c.lazy(()=>w(()=>import("./CandidateProfile-DAOouvpT.js"),__vite__mapDeps([17,6,3,2,8,9]))),Ze=c.lazy(()=>w(()=>import("./Jobs-CSngOLTP.js"),__vite__mapDeps([18,6,3,2,8,9,4]))),ye=c.lazy(()=>w(()=>import("./JobDetail-CT1j2cBS.js"),__vite__mapDeps([19,6,3,2,8]))),Xe=c.lazy(()=>w(()=>import("./JobApplication-GYrSCFDv.js"),__vite__mapDeps([20,6,3,2,4,8,11]))),et=c.lazy(()=>w(()=>import("./Messages-D0tpFUW7.js"),__vite__mapDeps([21,6,22,8,3,2]))),tt=c.lazy(()=>w(()=>import("./Conversation--pyoM5Yt.js"),__vite__mapDeps([23,6,22,8,3,2]))),_e=c.lazy(()=>w(()=>import("./ScheduleMeeting-CDcvGHZo.js"),__vite__mapDeps([24,6,3,2,11,8,9]))),Ee=c.lazy(()=>w(()=>import("./Calendar-BnZN21eY.js"),__vite__mapDeps([25,6,3,2,8,9]))),rt=c.lazy(()=>w(()=>import("./ApplicationDetail-DQum06Kt.js"),__vite__mapDeps([26,6,3,2]))),ot=c.lazy(()=>w(()=>import("./dashboardRoutes-B8hWVExg.js"),__vite__mapDeps([27,6,7,8,9,10,3,2]))),nt=()=>e.jsxs("div",{className:"p-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Applications"}),e.jsx("p",{children:"Applications page"})]}),st=()=>e.jsxs("div",{className:"p-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Search Jobs"}),e.jsx("p",{children:"Search jobs page"})]}),it=()=>e.jsxs("div",{className:"p-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Settings"}),e.jsx("p",{children:"Settings page"})]}),ue=()=>e.jsxs("div",{className:"flex justify-center items-center h-screen",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"}),e.jsx("div",{className:"ml-4",children:"Bezig met laden..."})]}),at=()=>(console.log("Rendering SimpleDashboard"),e.jsxs("div",{className:"p-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Dashboard"}),e.jsx("p",{children:"Als je dit kunt zien, werkt de rendering correct."})]})),ct=()=>{const{loading:n,currentUser:r,userProfile:d,authError:b}=M();return console.log("AuthDebugger rendering",{loading:n,currentUser:r,userProfile:d,authError:b}),e.jsxs("div",{className:"fixed bottom-0 right-0 bg-black bg-opacity-75 text-white p-2 text-xs",children:["Loading: ",n?"Ja":"Nee",e.jsx("br",{}),"User: ",r?"Aanwezig":"Geen",e.jsx("br",{}),"Profile: ",d?d.role:"Geen",e.jsx("br",{}),"Error: ",b?b.message:"Geen"]})},lt=()=>{const{currentUser:n,loading:r}=M();return console.log("Redirect component rendering",{loading:r,currentUser:n}),r?e.jsx(ue,{}):n?e.jsx(V,{to:"/dashboard",replace:!0}):e.jsx(V,{to:"/login",replace:!0})},dt=()=>{console.log("AppContent component rendering");const{userProfile:n,currentUser:r}=M();return c.useEffect(()=>{const d=b=>{console.error("Onafgehandelde fout opgevangen:",b.error)};return window.addEventListener("error",d),()=>{window.removeEventListener("error",d)}},[]),e.jsxs(Ie,{basename:"/",children:[e.jsx(c.Suspense,{fallback:e.jsx(ue,{}),children:e.jsxs(Te,{children:[e.jsx(h,{path:"/",element:e.jsx(qe,{})}),e.jsxs(h,{element:e.jsx(Ke,{}),children:[e.jsx(h,{path:"/login",element:e.jsx($e,{})}),e.jsx(h,{path:"/register",element:e.jsx(Je,{})}),e.jsx(h,{path:"/reset-password",element:e.jsx(We,{})})]}),e.jsx(h,{path:"/about",element:e.jsx(He,{})}),e.jsxs(h,{element:e.jsx(te,{requiredRole:"jobseeker"}),children:[e.jsx(h,{path:"/jobs",element:e.jsx(Ze,{})}),e.jsx(h,{path:"/job/:jobId",element:e.jsx(ye,{})})]}),e.jsx(h,{element:e.jsx(te,{}),children:e.jsx(h,{path:"/job-application/:jobId",element:e.jsx(Xe,{})})}),e.jsxs(h,{element:e.jsx(te,{requiredRole:"jobseeker"}),children:[e.jsx(h,{path:"/applications",element:e.jsx(nt,{})}),e.jsx(h,{path:"/search-jobs",element:e.jsx(st,{})})]}),e.jsxs(h,{element:e.jsx(te,{requiredRole:"recruiter"}),children:[e.jsx(h,{path:"/candidates",element:e.jsx(Qe,{})}),e.jsx(h,{path:"/candidate/:id",element:e.jsx(Ye,{})}),e.jsx(h,{path:"/schedule-meeting",element:e.jsx(_e,{})}),e.jsx(h,{path:"/schedule-meeting/:id",element:e.jsx(_e,{})})]}),e.jsx(h,{path:"/messages",element:e.jsx(et,{})}),e.jsx(h,{path:"/messages/:conversationId",element:e.jsx(tt,{})}),e.jsx(h,{path:"/settings",element:e.jsx(it,{})}),e.jsx(h,{path:"/job/:id",element:e.jsx(ye,{})}),e.jsx(h,{path:"/application/:id",element:e.jsx(rt,{})}),e.jsx(h,{path:"/calendar",element:e.jsx(Ee,{})}),e.jsx(h,{path:"/agenda",element:e.jsx(Ee,{})}),e.jsx(h,{path:"/redirect",element:e.jsx(lt,{})}),e.jsx(h,{path:"/simple",element:e.jsx(at,{})}),e.jsx(h,{path:"/dashboard/*",element:e.jsx(c.Suspense,{fallback:e.jsx(ue,{}),children:e.jsx(ot,{userProfile:n,currentUser:r})})}),e.jsx(h,{path:"*",element:e.jsx(V,{to:"/",replace:!0})})]})}),e.jsx(ct,{})]})},ut=()=>(console.log("App component rendering"),e.jsx(Ve,{children:e.jsx(Me,{children:e.jsx(Be,{children:e.jsx(dt,{})})})}));console.log("PitchPro/src/main.jsx initialisatie gestart");const Ce=document.getElementById("root");if(!Ce)throw new Error('Geen "root" element gevonden in de DOM. Controleer je index.html bestand.');class pt extends xe.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,d){console.error("App rendering fout:",r,d)}render(){var r;return this.state.hasError?e.jsxs("div",{className:"p-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-600",children:"Er is iets misgegaan"}),e.jsx("p",{children:"Er is een fout opgetreden bij het renderen van de applicatie:"}),e.jsx("pre",{className:"mt-4 p-4 bg-red-50 text-red-700 rounded overflow-auto",children:((r=this.state.error)==null?void 0:r.message)||"Onbekende fout"})]}):this.props.children}}const ft=Se.createRoot(Ce);try{console.log("App renderen..."),ft.render(e.jsx(xe.StrictMode,{children:e.jsx(pt,{children:e.jsx(ut,{})})})),console.log("App rendering verzonden naar ReactDOM")}catch(n){console.error("Fout bij renderen van App:",n),document.getElementById("root").innerHTML=`
    <div style="padding: 20px; color: red;">
      <h1>Fout bij laden</h1>
      <p>${n.message}</p>
    </div>
  `}export{te as P,w as _,J as a,bt as b,wt as c,A as d,pe as e,fe as i,Ue as s,M as u};
//# sourceMappingURL=index-1iGq18Ep.js.map
