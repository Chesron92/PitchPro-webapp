import{r as c,u as C,j as e}from"./react-vendor-wqxTS4Az.js";import{u as S,d as p}from"./index-CZ_3UTiA.js";import{doc as N,getDoc as u}from"./firebase-firestore-CCnivBKz.js";import"./firebase-app-CzzSlWfx.js";const l=r=>{if(!r)return"Onbekend";try{if(r&&typeof r=="object"&&"seconds"in r)return new Date(r.seconds*1e3).toLocaleDateString("nl-NL",{year:"numeric",month:"long",day:"numeric"});if(r instanceof Date)return r.toLocaleDateString("nl-NL",{year:"numeric",month:"long",day:"numeric"});if(typeof r=="string"){const i=new Date(r);if(!isNaN(i.getTime()))return i.toLocaleDateString("nl-NL",{year:"numeric",month:"long",day:"numeric"})}return String(r)}catch(i){return console.error("Error formatting date:",i),"Onbekend"}},H=()=>{const{userProfile:r,currentUser:i}=S(),[a,o]=c.useState(null),[y,m]=c.useState(!0),[h,d]=c.useState(null),f=C();c.useEffect(()=>{(async()=>{if(!(i!=null&&i.uid)){d("Je moet ingelogd zijn om je CV te bekijken"),m(!1);return}try{m(!0);const n=N(p,"users",i.uid),x=await u(n);if(x.exists()){const t=x.data();if(t.detailedCV)o(t.detailedCV);else{const w=N(p,"users",i.uid,"cv","main"),j=await u(w);j.exists()?o(j.data()):d("Geen CV gegevens gevonden. Maak eerst een CV aan.")}}else d("Gebruikersprofiel niet gevonden")}catch(n){console.error("Fout bij ophalen CV data:",n),d("Er is een fout opgetreden bij het ophalen van je CV gegevens")}finally{m(!1)}})()},[i]);const b=s=>{const n=[];for(let t=1;t<=5;t++)t<=s?n.push(e.jsx("svg",{className:"w-4 h-4 text-yellow-500 fill-current",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},t)):n.push(e.jsx("svg",{className:"w-4 h-4 text-gray-300 fill-current",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},t));return e.jsx("div",{className:"flex",children:n})},g=()=>{f("/profile")};if(y)return e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"}),e.jsx("p",{className:"mt-2 text-gray-600",children:"CV gegevens laden..."})]})});if(h)return e.jsx("div",{className:"min-h-screen bg-gray-50 p-8",children:e.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-md p-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"CV Preview"}),e.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4",children:e.jsx("p",{className:"text-red-700",children:h})}),e.jsx("button",{onClick:g,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:"Terug naar profiel"})]})});const v=(r==null?void 0:r.displayName)||(i==null?void 0:i.displayName)||"Gebruiker";return e.jsx("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6",children:e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsxs("div",{className:"p-6 bg-gradient-to-r from-primary-600 to-primary-800 text-white",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"CV Preview"}),e.jsx("button",{onClick:g,className:"px-4 py-2 bg-white text-primary-700 rounded-md hover:bg-gray-100",children:"Terug naar profiel"})]}),e.jsx("p",{className:"mt-2 text-primary-100",children:"Dit is hoe je CV eruit zal zien voor recruiters"})]}),e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-10",children:[e.jsx("h2",{className:"text-2xl font-bold text-primary-700 border-b-2 border-primary-200 pb-2 mb-4",children:v}),(r==null?void 0:r.email)&&e.jsxs("p",{className:"text-gray-600 mb-1",children:[e.jsx("span",{className:"font-medium",children:"Email:"})," ",r.email]}),(r==null?void 0:r.phoneNumber)&&e.jsxs("p",{className:"text-gray-600 mb-1",children:[e.jsx("span",{className:"font-medium",children:"Telefoon:"})," ",r.phoneNumber]}),(r==null?void 0:r.address)&&e.jsxs("p",{className:"text-gray-600 mb-1",children:[e.jsx("span",{className:"font-medium",children:"Adres:"})," ",[r.address.street,r.address.houseNumber,r.address.postalCode,r.address.city,r.address.country].filter(Boolean).join(", ")]})]}),(a==null?void 0:a.overMij)&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Over mij"}),e.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:a.overMij})]}),(a==null?void 0:a.werkervaring)&&a.werkervaring.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Werkervaring"}),e.jsx("div",{className:"space-y-6",children:a.werkervaring.map(s=>e.jsxs("div",{className:"pl-4 border-l-2 border-primary-200",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("h3",{className:"font-medium text-lg text-gray-800",children:s.functie}),e.jsxs("span",{className:"text-gray-500 text-sm",children:[l(s.startDatum)," - ",s.isHuidigeFunctie?"Heden":l(s.eindDatum)]})]}),e.jsx("p",{className:"text-primary-600 font-medium mb-2",children:s.bedrijf}),s.beschrijving&&e.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:s.beschrijving})]},s.id))})]}),(a==null?void 0:a.opleiding)&&a.opleiding.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Opleiding"}),e.jsx("div",{className:"space-y-6",children:a.opleiding.map(s=>e.jsxs("div",{className:"pl-4 border-l-2 border-primary-200",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("h3",{className:"font-medium text-lg text-gray-800",children:s.opleiding}),e.jsxs("span",{className:"text-gray-500 text-sm",children:[l(s.startDatum)," - ",s.isHuidigeOpleiding?"Heden":l(s.eindDatum)]})]}),e.jsx("p",{className:"text-primary-600 font-medium mb-2",children:s.instituut}),s.beschrijving&&e.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:s.beschrijving})]},s.id))})]}),(a==null?void 0:a.stages)&&a.stages.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Stages"}),e.jsx("div",{className:"space-y-6",children:a.stages.map(s=>e.jsxs("div",{className:"pl-4 border-l-2 border-primary-200",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("h3",{className:"font-medium text-lg text-gray-800",children:s.functie}),e.jsxs("span",{className:"text-gray-500 text-sm",children:[l(s.startDatum)," - ",s.isHuidigeStage?"Heden":l(s.eindDatum)]})]}),e.jsx("p",{className:"text-primary-600 font-medium mb-2",children:s.bedrijf}),s.beschrijving&&e.jsx("p",{className:"text-gray-700 whitespace-pre-line",children:s.beschrijving})]},s.id))})]}),(a==null?void 0:a.vaardigheden)&&a.vaardigheden.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Vaardigheden"}),a.vaardigheden.some(s=>s.type==="soft")&&e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"font-medium text-primary-600 mb-2",children:"Soft Skills"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.vaardigheden.filter(s=>s.type==="soft").map(s=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-700",children:s.naam}),b(s.niveau)]},s.id))})]}),a.vaardigheden.some(s=>s.type==="hard")&&e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-primary-600 mb-2",children:"Hard Skills"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.vaardigheden.filter(s=>s.type==="hard").map(s=>e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"text-gray-700",children:s.naam}),b(s.niveau)]},s.id))})]})]}),(a==null?void 0:a.certificaten)&&a.certificaten.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Certificaten"}),e.jsx("div",{className:"space-y-4",children:a.certificaten.map(s=>e.jsxs("div",{className:"pl-4 border-l-2 border-primary-200",children:[e.jsxs("div",{className:"flex justify-between mb-1",children:[e.jsx("h3",{className:"font-medium text-gray-800",children:s.naam}),e.jsx("span",{className:"text-gray-500 text-sm",children:l(s.datum)})]}),e.jsx("p",{className:"text-primary-600 font-medium mb-1",children:s.uitgever}),s.beschrijving&&e.jsx("p",{className:"text-gray-700 text-sm",children:s.beschrijving})]},s.id))})]}),(a==null?void 0:a.talen)&&a.talen.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Talen"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.talen.map(s=>e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-700",children:s.taal}),e.jsx("span",{className:"text-primary-600 font-medium",children:s.niveau})]},s.id))})]}),(a==null?void 0:a.hobbys)&&a.hobbys.length>0&&e.jsxs("div",{className:"mb-8",children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Hobby's en interesses"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.hobbys.map(s=>e.jsx("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full",children:s.naam},s.id))})]})]}),e.jsx("div",{className:"bg-gray-50 px-8 py-4 border-t border-gray-200",children:e.jsxs("p",{className:"text-gray-500 text-center",children:["Dit is een preview van je CV zoals het zichtbaar is voor recruiters.",e.jsx("br",{}),"Ga terug naar het profiel om wijzigingen aan te brengen."]})})]})})})};export{H as default};
//# sourceMappingURL=CVPreview-DKDRV9Am.js.map
