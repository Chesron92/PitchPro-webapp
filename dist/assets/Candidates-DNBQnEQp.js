import{r as l,u as W,j as e}from"./react-vendor-wqxTS4Az.js";import{query as C,collection as L,where as B,getDocs as T}from"./firebase-firestore-CCnivBKz.js";import{d as $}from"./index-CZ_3UTiA.js";import{H as o}from"./Header-DRYO9ubW.js";import{F as n}from"./Footer-DQrHjGn4.js";import"./firebase-app-CzzSlWfx.js";const S=()=>{const[d,w]=l.useState([]),[F,c]=l.useState(!0),[m,A]=l.useState(null),E=W();return l.useEffect(()=>{(async()=>{try{const s=C(L($,"users"),B("userType","in",["jobseeker","werkzoekende"])),i=await T(s),t=[];i.forEach(x=>{var h,p,b,g,j,f,u,v,y,N,k;const r=x.data();console.log("Candidate data:",r),console.log(`Beschikbaarheid voor ${r.displayName||r.name||"onbekend"}:`,{"isAvailableForWork (root)":r.isAvailableForWork,"profile.isAvailableForWork":(h=r.profile)==null?void 0:h.isAvailableForWork,"Wordt getoond (data.profile?.isAvailableForWork === true)":((p=r.profile)==null?void 0:p.isAvailableForWork)===!0}),(((b=r.profile)==null?void 0:b.isAvailableForWork)===!0||r.isAvailableForWork===!0)&&t.push({id:x.id,name:r.displayName||r.name||"Onbekende naam",role:((g=r.professionalDetails)==null?void 0:g.jobTitle)||((j=r.profile)==null?void 0:j.jobTitle)||r.jobTitle||"Geen functie opgegeven",experience:(f=r.professionalDetails)!=null&&f.yearsOfExperience?`${r.professionalDetails.yearsOfExperience} jaar`:((u=r.profile)==null?void 0:u.experience)||r.experience||"Ervaring onbekend",skills:((v=r.professionalDetails)==null?void 0:v.skills)||((y=r.profile)==null?void 0:y.skills)||r.skills||[],location:r.location||r.city||"Locatie onbekend",available:((N=r.profile)==null?void 0:N.isAvailableForWork)===!0||r.isAvailableForWork===!0,profileImage:r.profilePhoto||r.profileImageURL||r.photoURL||((k=r.profile)==null?void 0:k.profilePhoto)||void 0})}),w(t),c(!1)}catch(s){console.error("Error fetching candidates:",s),A("Er is een fout opgetreden bij het laden van de kandidaten."),c(!1)}})()},[]),F?e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(o,{}),e.jsx("div",{className:"w-full bg-gradient-to-r from-primary-600 to-primary-800 text-white py-32 mb-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("h1",{className:"text-4xl font-bold mb-6 text-center",children:"Kandidaten"}),e.jsx("div",{className:"h-4 bg-primary-300 bg-opacity-30 rounded w-2/3 mx-auto mb-8"})]})}),e.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4 mx-auto mb-6"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-2/3 mx-auto mb-8"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map(a=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-6"}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:[1,2,3,4].map(s=>e.jsx("div",{className:"h-6 bg-gray-200 rounded w-16"},s))})]}),e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100",children:e.jsx("div",{className:"h-10 bg-gray-200 rounded"})})]},a))})]})}),e.jsx(n,{})]}):m?e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(o,{}),e.jsx("div",{className:"w-full bg-gradient-to-r from-primary-600 to-primary-800 text-white py-32 mb-8",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("h1",{className:"text-4xl font-bold mb-6 text-center",children:"Kandidaten"})})}),e.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("svg",{className:"w-16 h-16 text-red-500 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),e.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Probleem bij het laden"}),e.jsx("p",{className:"text-gray-600 mb-6",children:m}),e.jsx("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"Probeer opnieuw"})]})}),e.jsx(n,{})]}):d.length===0?e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(o,{}),e.jsx("div",{className:"w-full bg-gradient-to-r from-primary-600 to-primary-800 text-white py-32 mb-8",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("h1",{className:"text-4xl font-bold mb-6 text-center",children:"Kandidaten"})})}),e.jsx("div",{className:"container mx-auto px-4 py-12 text-center",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("svg",{className:"w-16 h-16 text-primary-600 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),e.jsx("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Geen kandidaten gevonden"}),e.jsx("p",{className:"text-gray-600",children:"Er zijn momenteel geen kandidaten beschikbaar in het systeem. Kom later terug om nieuwe profielen te bekijken."})]})}),e.jsx(n,{})]}):e.jsxs("div",{className:"min-h-screen bg-white",children:[e.jsx(o,{}),e.jsx("div",{className:"w-full bg-gradient-to-r from-primary-600 to-primary-800 text-white py-32 mb-8",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsx("h1",{className:"text-4xl font-bold mb-6 text-center",children:"Kandidaten"}),e.jsx("p",{className:"text-xl text-center max-w-3xl mx-auto",children:"Bekijk onze hoogwaardige kandidaten die klaar zijn voor hun volgende uitdaging. Neem contact op om meer te weten te komen."})]})}),e.jsx("div",{className:"container mx-auto px-4 py-12",children:e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(a=>e.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[e.jsxs("div",{className:"p-6",children:[e.jsx("div",{className:"flex justify-center mb-4",children:a.profileImage?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:a.profileImage,alt:`Profielfoto van ${a.name}`,className:"w-24 h-24 rounded-full object-cover border-2 border-primary-200",onError:s=>{console.error(`Fout bij laden profielfoto voor ${a.name}:`,a.profileImage),s.currentTarget.style.display="none";const i=s.currentTarget.parentElement;if(i){const t=i.querySelector(".fallback-avatar");t&&t.classList.remove("hidden")}}}),e.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 text-2xl border-2 border-gray-300 hidden fallback-avatar",children:a.name.charAt(0).toUpperCase()})]}):e.jsx("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 text-2xl border-2 border-gray-300",children:a.name.charAt(0).toUpperCase()})}),e.jsx("h2",{className:"text-xl font-semibold mb-2 text-center",children:a.name}),e.jsx("p",{className:"text-primary-600 font-medium mb-2",children:a.role}),e.jsxs("p",{className:"text-gray-600 mb-4",children:[a.location," â€¢ ",a.experience]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Vaardigheden:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:a.skills.map((s,i)=>e.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:s},i))})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("span",{className:`inline-block w-3 h-3 rounded-full mr-2 ${a.available?"bg-green-500":"bg-red-500"}`}),e.jsx("span",{className:"text-sm text-gray-600",children:a.available?"Beschikbaar":"Niet beschikbaar"})]})]}),e.jsx("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100",children:e.jsx("button",{onClick:()=>E(`/candidate/${a.id}`),className:"w-full py-2 px-4 bg-primary-600 hover:bg-primary-700 text-white rounded-md transition-colors",children:"Bekijk profiel"})})]},a.id))})}),e.jsx(n,{})]})};export{S as default};
//# sourceMappingURL=Candidates-DNBQnEQp.js.map
