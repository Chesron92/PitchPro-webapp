const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/firebase-auth-BmLUc-YY.js","assets/firebase-other-DPey4uCY.js","assets/firebase-app-CzzSlWfx.js","assets/firebase-firestore-CCnivBKz.js","assets/firebase-storage-CqamIgiF.js","assets/Login-DNUE-4i9.js","assets/react-vendor-wqxTS4Az.js","assets/Layout-2QDISjuq.js","assets/form-vendor-Esn1dlm-.js","assets/Register-DOCAj5wl.js","assets/ResetPassword-CZw7mGzC.js","assets/ProfilePage-yBUi2Y1o.js","assets/ProfilePage-YrRyk3Fo.css","assets/date-vendor-CMY8WBAt.css","assets/Landing-B5ev09TB.js","assets/Header-DRYO9ubW.js","assets/Footer-DQrHjGn4.js","assets/About-Bmh5EEfe.js","assets/Candidates-DNBQnEQp.js","assets/CandidateProfile-QGwc61Ka.js","assets/Jobs-leRyDb63.js","assets/JobDetail-WP09aOqa.js","assets/JobApplication-GZoLSdrY.js","assets/Messages-Bt-RZS4d.js","assets/CVPreview-DKDRV9Am.js","assets/CreateJob-yy3Ja5A6.js","assets/EditJob-BDLyXCVW.js","assets/ScheduleMeeting-Br6x8YKk.js","assets/Calendar-BXI9fzFN.js","assets/ApplicationDetail-SqXpS98y.js","assets/dashboardRoutes-CiFHQEWQ.js"])))=>i.map(i=>d[i]);
import{r as a,j as e,N as V,O as ce,B as Ie,a as Te,b as g,R as xe,c as Se}from"./react-vendor-wqxTS4Az.js";import{collection as G,query as Q,orderBy as we,where as Y,onSnapshot as be,doc as D,getDoc as X,updateDoc as ee,getDocs as le,addDoc as ve,Timestamp as K,deleteDoc as ze,setDoc as Fe}from"./firebase-firestore-CCnivBKz.js";import"./firebase-app-CzzSlWfx.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))b(l);new MutationObserver(l=>{for(const y of l)if(y.type==="childList")for(const v of y.addedNodes)v.tagName==="LINK"&&v.rel==="modulepreload"&&b(v)}).observe(document,{childList:!0,subtree:!0});function d(l){const y={};return l.integrity&&(y.integrity=l.integrity),l.referrerPolicy&&(y.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?y.credentials="include":l.crossOrigin==="anonymous"?y.credentials="omit":y.credentials="same-origin",y}function b(l){if(l.ep)return;l.ep=!0;const y=d(l);fetch(l.href,y)}})();const Le="modulepreload",Oe=function(n){return"/"+n},_e={},f=function(r,d,b){let l=Promise.resolve();if(d&&d.length>0){let v=function(j){return Promise.all(j.map(I=>Promise.resolve(I).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const p=document.querySelector("meta[property=csp-nonce]"),C=(p==null?void 0:p.nonce)||(p==null?void 0:p.getAttribute("nonce"));l=v(d.map(j=>{if(j=Oe(j),j in _e)return;_e[j]=!0;const I=j.endsWith(".css"),T=I?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${j}"]${T}`))return;const k=document.createElement("link");if(k.rel=I?"stylesheet":Le,I||(k.as="script"),k.crossOrigin="",k.href=j,C&&k.setAttribute("nonce",C),document.head.appendChild(k),I)return new Promise((S,U)=>{k.addEventListener("load",S),k.addEventListener("error",()=>U(new Error(`Unable to preload CSS for ${j}`)))})}))}function y(v){const p=new Event("vite:preloadError",{cancelable:!0});if(p.payload=v,window.dispatchEvent(p),!p.defaultPrevented)throw v}return l.then(v=>{for(const p of v||[])p.status==="rejected"&&y(p.reason);return r().catch(y)})};function pe(n){return n?n.role==="werkzoekende"||n.role==="jobseeker":!1}function fe(n){return n?n.role==="recruiter":!1}function Ae(n){return n?pe(n)?"jobseeker":fe(n)?"recruiter":null:null}var O={};const F={apiKey:O.REACT_APP_FIREBASE_API_KEY,authDomain:O.REACT_APP_FIREBASE_AUTH_DOMAIN,projectId:O.REACT_APP_FIREBASE_PROJECT_ID,storageBucket:O.REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:O.REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:O.REACT_APP_FIREBASE_APP_ID,measurementId:O.REACT_APP_FIREBASE_MEASUREMENT_ID};console.log("Firebase omgevingsvariabelen status:");console.log("API Key aanwezig:",!!O.REACT_APP_FIREBASE_API_KEY);console.log("Auth Domain aanwezig:",!!O.REACT_APP_FIREBASE_AUTH_DOMAIN);console.log("Project ID aanwezig:",!!O.REACT_APP_FIREBASE_PROJECT_ID);F.apiKey||(console.warn("Firebase configuratie niet gevonden in environment variables. Gebruik van fallback configuratie. Voor productieomgevingen, zorg ervoor dat je .env.local correct is ingesteld."),F.apiKey="AIzaSyAiTY14VexbFUQTf3yKhDPhrCtKjRzhMwQ",F.authDomain="pitchpro-29e90.firebaseapp.com",F.projectId="pitchpro-29e90",F.storageBucket="pitchpro-29e90.firebasestorage.app",F.messagingSenderId="121788535713",F.appId="1:121788535713:web:9c5ddf4ff9af0a0e2ff1e0",F.measurementId="G-QGBR93ZYCM");console.log("Firebase configuratie:",{...F,apiKey:F.apiKey?"AANWEZIG":"ONTBREEKT"});let re=null,oe=null,ne=null,se=null,ie=null;const te=async()=>{if(!re){const{initializeApp:n}=await f(async()=>{const{initializeApp:r}=await import("./firebase-app-CzzSlWfx.js").then(d=>d.G);return{initializeApp:r}},[]);re=n(F)}return re},$=async()=>{if(!oe){const n=await te(),{getAuth:r}=await f(async()=>{const{getAuth:d}=await import("./firebase-auth-BmLUc-YY.js");return{getAuth:d}},__vite__mapDeps([0,1,2]));oe=r(n)}return oe},de=async()=>{if(!ne){const n=await te(),{getFirestore:r}=await f(async()=>{const{getFirestore:d}=await import("./firebase-firestore-CCnivBKz.js");return{getFirestore:d}},__vite__mapDeps([3,2]));ne=r(n)}return ne},De=async()=>{if(!se){const n=await te(),{getStorage:r}=await f(async()=>{const{getStorage:d}=await import("./firebase-storage-CqamIgiF.js");return{getStorage:d}},__vite__mapDeps([4,2]));se=r(n)}return se},Ne=async()=>{if(!ie&&typeof window<"u"){const n=await te(),{getAnalytics:r}=await f(async()=>{const{getAnalytics:d}=await import("./firebase-other-DPey4uCY.js").then(b=>b.x);return{getAnalytics:d}},__vite__mapDeps([1,2]));ie=r(n)}return ie};let J=null,A=null,Ue=null;const Ge=async()=>{J=await $(),A=await de(),Ue=await De(),typeof window<"u"&&await Ne()};Ge().catch(n=>console.error("Firebase services konden niet worden geÃ¯nitialiseerd:",n));const Pe=a.createContext(void 0),M=()=>{const n=a.useContext(Pe);if(n===void 0)throw new Error("useAuth moet binnen een AuthProvider gebruikt worden");return n},Ve=({children:n})=>{const[r,d]=a.useState(null),[b,l]=a.useState(null),[y,v]=a.useState(!0),[p,C]=a.useState(null);console.log("AuthProvider initialiseren...");const j=(t,i)=>{var w,m,h,u,_,R,N,W,z,B,q,H,Z,he,me,ge;console.log("Normalizing user data for:",i,t);let o=t.role||t.userType||"werkzoekende";o==="jobseeker"&&(o="werkzoekende",console.warn('Converted English role "jobseeker" to Dutch "werkzoekende"'));let c=t.userType||o;c==="jobseeker"&&(c="werkzoekende");const s={id:i,email:t.email||"",displayName:t.displayName||t.name||"",photoURL:t.photoURL||t.avatar||"",bio:t.bio||"",phone:t.phone||"",role:o,userType:c,createdAt:t.createdAt||new Date,updatedAt:t.updatedAt||new Date,profile:t.profile?{...t.profile}:{}};return pe(s)?(s.profile||(s.profile={}),s.profile.skills=t.skills||((w=t.profile)==null?void 0:w.skills)||[],s.profile.education=t.education||((m=t.profile)==null?void 0:m.education)||[],s.profile.experience=t.experience||((h=t.profile)==null?void 0:h.experience)||[],s.profile.cv=t.cv||((u=t.profile)==null?void 0:u.cv)||"",s.profile.portfolio=t.portfolio||((_=t.profile)==null?void 0:_.portfolio)||"",s.profile.linkedin=t.linkedin||((R=t.profile)==null?void 0:R.linkedin)||"",s.profile.address=t.address||((N=t.profile)==null?void 0:N.address)||"",s.profile.city=t.city||((W=t.profile)==null?void 0:W.city)||""):fe(s)&&(s.profile||(s.profile={}),s.profile.companyName=t.companyName||((z=t.profile)==null?void 0:z.companyName)||"",s.profile.companyDescription=t.companyDescription||((B=t.profile)==null?void 0:B.companyDescription)||"",s.profile.kvkNumber=t.kvkNumber||((q=t.profile)==null?void 0:q.kvkNumber)||"",s.profile.website=t.website||((H=t.profile)==null?void 0:H.website)||"",s.profile.companyLogo=t.companyLogo||((Z=t.profile)==null?void 0:Z.companyLogo)||"",s.profile.industry=t.industry||((he=t.profile)==null?void 0:he.industry)||"",s.profile.companySize=t.companySize||((me=t.profile)==null?void 0:me.companySize)||"",s.profile.companyLocation=t.companyLocation||((ge=t.profile)==null?void 0:ge.companyLocation)||""),console.debug("Normalized user data:",{id:s.id,email:s.email,role:s.role,userType:s.userType,hasProfile:!!s.profile&&Object.keys(s.profile).length>0}),s},I=async(t,i,o,c)=>{console.log("Nieuw gebruikersprofiel aanmaken voor",t);const s=A||await de(),{doc:w,setDoc:m}=await f(async()=>{const{doc:R,setDoc:N}=await import("./firebase-firestore-CCnivBKz.js");return{doc:R,setDoc:N}},__vite__mapDeps([3,2])),h=w(s,"users",t),u={id:t,email:i||"",displayName:o,fullName:o,role:c,userType:c,createdAt:new Date,updatedAt:new Date};let _;return c==="werkzoekende"?_={...u,profile:{skills:[],availability:"",cv:"",linkedin:"",portfolio:"",experience:"",education:[]}}:_={...u,profile:{company:"",position:"",companyLogo:"",companyWebsite:"",companyDescription:"",kvkNumber:""}},await m(h,_),console.log("Gebruikersprofiel aangemaakt:",c),_},T=async(t,i,o,c)=>{try{const s=J||await $(),{createUserWithEmailAndPassword:w,updateProfile:m}=await f(async()=>{const{createUserWithEmailAndPassword:R,updateProfile:N}=await import("./firebase-auth-BmLUc-YY.js");return{createUserWithEmailAndPassword:R,updateProfile:N}},__vite__mapDeps([0,1,2])),u=(await w(s,t,i)).user;await m(u,{displayName:o});const _=await I(u.uid,u.email||"",o,c);l(_)}catch(s){throw console.error("Fout bij registratie:",s),s}},k=async(t,i)=>{try{console.log("Inlogpoging voor:",t);const o=J||await $(),{signInWithEmailAndPassword:c}=await f(async()=>{const{signInWithEmailAndPassword:s}=await import("./firebase-auth-BmLUc-YY.js");return{signInWithEmailAndPassword:s}},__vite__mapDeps([0,1,2]));await c(o,t,i),console.log("Inloggen succesvol")}catch(o){throw console.error("Fout bij inloggen:",o),console.error("Fout code:",o.code),console.error("Fout bericht:",o.message),o}},S=async()=>{try{const t=J||await $(),{signOut:i}=await f(async()=>{const{signOut:o}=await import("./firebase-auth-BmLUc-YY.js");return{signOut:o}},__vite__mapDeps([0,1,2]));await i(t)}catch(t){throw console.error("Fout bij uitloggen:",t),t}},U=async t=>{try{const i=J||await $(),{sendPasswordResetEmail:o}=await f(async()=>{const{sendPasswordResetEmail:c}=await import("./firebase-auth-BmLUc-YY.js");return{sendPasswordResetEmail:c}},__vite__mapDeps([0,1,2]));await o(i,t)}catch(i){throw console.error("Fout bij wachtwoord reset:",i),i}},E=async t=>{try{console.log("Bezig met laden van gebruikersprofiel voor",t);const i=A||await de(),{doc:o,getDoc:c,updateDoc:s}=await f(async()=>{const{doc:h,getDoc:u,updateDoc:_}=await import("./firebase-firestore-CCnivBKz.js");return{doc:h,getDoc:u,updateDoc:_}},__vite__mapDeps([3,2])),w=o(i,"users",t),m=await c(w);if(m.exists()){const h=m.data();console.log("Ruwe gebruikersdata uit Firestore:",h),h.email||(console.warn("Gebruikersprofiel heeft geen email - proberen te repareren"),r!=null&&r.email&&(await s(w,{email:r.email}),h.email=r.email));const u={...h,id:t};!u.role&&!u.userType&&(console.warn("Gebruikersprofiel heeft geen rol - proberen te repareren"),u.role="werkzoekende",await s(w,{role:"werkzoekende",userType:"werkzoekende"})),(!u.profile||Object.keys(u.profile||{}).length===0)&&(console.warn("Gebruikersprofiel heeft geen profiel object - proberen te repareren"),u.role==="werkzoekende"||u.userType==="werkzoekende"?(u.profile={skills:[],availability:"",cv:"",linkedin:"",portfolio:"",experience:"",education:[]},await s(w,{profile:u.profile})):(u.role==="recruiter"||u.userType==="recruiter")&&(u.profile={company:"",position:"",companyLogo:"",companyWebsite:"",companyDescription:"",kvkNumber:""},await s(w,{profile:u.profile})));const _=j(u,t);console.log("Genormaliseerde gebruikersdata:",_);const R=Ae(_);R?(console.log("Gebruikersprofiel geladen met rol:",R),l(_)):(console.warn("Gebruikersprofiel heeft geen geldige rol - zetten op null"),l(null))}else console.error("Geen gebruikersprofiel gevonden in Firestore"),l(null)}catch(i){throw console.error("Fout bij laden gebruikersprofiel:",i),l(null),i}},x=async()=>{if(!r)throw new Error("Kan profiel niet verversen: gebruiker niet ingelogd");try{await E(r.uid);return}catch(t){throw console.error("Fout bij verversen gebruikersprofiel:",t),t}},P=async(t,i)=>{if(!r)throw new Error("Je moet ingelogd zijn om een profiel aan te maken");try{const o=await I(r.uid,r.email||"",t||r.displayName||"Gebruiker",i);return l(o),o}catch(o){throw console.error("Fout bij aanmaken/updaten profiel:",o),o}};a.useEffect(()=>{console.log("Auth state verandering monitoren opstarten...");const t=setTimeout(()=>{console.log("VEILIGHEIDSTIMER: loading geforceerd op false na timeout"),v(!1),C(new Error("Het profiel kon niet tijdig worden geladen. Probeer het opnieuw."))},15e3),o=(async()=>{try{const c=J||await $(),{onAuthStateChanged:s}=await f(async()=>{const{onAuthStateChanged:m}=await import("./firebase-auth-BmLUc-YY.js");return{onAuthStateChanged:m}},__vite__mapDeps([0,1,2])),w=s(c,async m=>{try{if(console.log("Auth state verandering gedetecteerd:",m?"Gebruiker aanwezig":"Geen gebruiker"),d(m),m)try{await E(m.uid)}catch(h){console.error("Fout bij laden gebruikersprofiel:",h),l(null),h instanceof Error?C(h):C(new Error("Onbekende fout bij laden gebruikersprofiel"))}else l(null);console.log("Loading status wordt op false gezet"),v(!1),clearTimeout(t)}catch(h){console.error("Onverwachte fout in auth state verandering handler:",h),v(!1),clearTimeout(t),h instanceof Error?C(h):C(new Error("Onverwachte fout in auth state verandering handler"))}});return()=>{w(),clearTimeout(t)}}catch(c){return console.error("Kritieke fout bij initialiseren Firebase Auth:",c),v(!1),clearTimeout(t),c instanceof Error?C(c):C(new Error("Kritieke fout bij initialiseren Firebase Auth")),()=>{}}})();return()=>{o&&typeof o.then=="function"&&o.then(c=>{c&&c()}),clearTimeout(t)}},[]),console.log("AuthProvider rendering met loading status:",y,"authError:",p?"JA":"NEE");const L={currentUser:r,userProfile:b,loading:y,authError:p,register:T,login:k,logout:S,resetPassword:U,createOrUpdateProfile:P,refreshUserProfile:x};return e.jsx(Pe.Provider,{value:L,children:!y&&n})},ke=a.createContext(void 0),gt=()=>{const n=a.useContext(ke);if(n===void 0)throw new Error("useMessages moet binnen een MessageProvider gebruikt worden");return n},Me=({children:n})=>{const{currentUser:r}=M(),[d,b]=a.useState([]),[l,y]=a.useState(null),[v,p]=a.useState([]),[C,j]=a.useState(!0),[I,T]=a.useState(!1),[k,S]=a.useState(null);a.useEffect(()=>{if(!r){b([]),y(null),p([]),j(!1);return}j(!0),S(null);const i=G(A,"chats"),o=Q(i,Y("participants","array-contains",r.uid),we("lastMessageTimestamp","desc")),c=be(o,async s=>{try{const w=s.docs.map(async u=>{var q,H;const _=u.data(),R=_.participants.find(Z=>Z!==r.uid);if(!R)return console.error("Geen andere gebruiker gevonden in chat",_.id),null;const N=D(A,"users",R),W=await X(N);if(!W.exists())return console.error("Gebruiker niet gevonden",R),null;const z=W.data();let B=0;return typeof _.unreadCount=="number"?B=_.unreadCount:typeof _.unreadCount=="object"&&_.unreadCount!==null&&(B=_.unreadCount[r.uid]||0),{..._,id:u.id,otherUser:{id:R,displayName:z.displayName||z.name||"Onbekende gebruiker",photoURL:z.photoURL||z.profileImage||z.profilePhoto||((q=z.profile)==null?void 0:q.profilePhoto)||((H=z.profile)==null?void 0:H.profileImage)||"",role:z.role||z.userType||""},unreadCount:B}}),h=(await Promise.all(w)).filter(u=>u!==null);b(h),j(!1)}catch(w){console.error("Fout bij het ophalen van chats:",w),S("Kon chats niet laden. Probeer het later opnieuw."),j(!1)}},s=>{console.error("Fout bij chat subscription:",s),S("Kon chats niet laden. Probeer het later opnieuw."),j(!1)});return()=>c()},[r]),a.useEffect(()=>{if(!l){p([]);return}T(!0);const i=G(A,"chats",l.id,"messages"),o=Q(i,we("timestamp","asc")),c=be(o,s=>{const w=s.docs.map(m=>({...m.data(),id:m.id}));p(w),T(!1)},s=>{console.error("Fout bij messages subscription:",s),S("Kon berichten niet laden. Probeer het later opnieuw."),T(!1)});return()=>c()},[l]);const U=async(i,o)=>{if(!r)throw new Error("Je moet ingelogd zijn om berichten te sturen");try{const c={senderId:r.uid,text:o,timestamp:K.now(),read:!1};await ve(G(A,"chats",i,"messages"),c);const s=await X(D(A,"chats",i));if(!s.exists())throw new Error("Chat niet gevonden");const w=s.data(),m=w.participants.find(u=>u!==r.uid);if(!m)throw new Error("Kon andere gebruiker in de chat niet vinden");const h={lastMessage:o,lastMessageTimestamp:K.now(),updatedAt:K.now()};typeof w.unreadCount=="number"?h.unreadCount={[r.uid]:0,[m]:(w.unreadCount||0)+1}:h[`unreadCount.${m}`]=(w.unreadCount[m]||0)+1,await ee(D(A,"chats",i),h)}catch(c){throw console.error("Fout bij het verzenden van bericht:",c),new Error("Kon bericht niet verzenden. Probeer het later opnieuw.")}},E=async i=>{if(!r)throw new Error("Je moet ingelogd zijn om een chat te starten");try{const o=Q(G(A,"chats"),Y("participants","array-contains",r.uid)),s=(await le(o)).docs.find(m=>m.data().participants.includes(i));return s?s.id:(await ve(G(A,"chats"),{participants:[r.uid,i],lastMessage:"",lastMessageTimestamp:K.now(),createdAt:K.now(),updatedAt:K.now(),unreadCount:{[r.uid]:0,[i]:0}})).id}catch(o){throw console.error("Fout bij het aanmaken van een nieuwe chat:",o),new Error("Kon geen nieuwe chat starten. Probeer het later opnieuw.")}},x=async i=>{try{const o=d.find(c=>c.id===i);if(o)y(o),await P(i);else{if(!(await X(D(A,"chats",i))).exists())throw new Error("Chat bestaat niet");S("Chat kon niet worden gevonden.")}}catch(o){console.error("Fout bij het instellen van actieve chat:",o),S("Kon de chat niet openen. Probeer het later opnieuw.")}},P=async i=>{if(r)try{const o=await X(D(A,"chats",i));if(!o.exists())return;typeof o.data().unreadCount=="number"?await ee(D(A,"chats",i),{unreadCount:0}):await ee(D(A,"chats",i),{[`unreadCount.${r.uid}`]:0});const s=G(A,"chats",i,"messages"),w=Q(s,Y("senderId","!=",r.uid),Y("read","==",!1)),m=await le(w),h=new Array;m.docs.forEach(u=>{h.push(ee(u.ref,{read:!0}))}),await Promise.all(h)}catch(o){console.error("Fout bij het markeren van berichten als gelezen:",o)}},t={chats:d,activeChat:l,messages:v,loadingChats:C,loadingMessages:I,error:k,sendMessage:U,createNewChat:E,setActiveChatById:x,markChatAsRead:P,getUnreadCount:()=>r?d.reduce((i,o)=>{let c=0;return typeof o.unreadCount=="number"?c=o.unreadCount:typeof o.unreadCount=="object"&&o.unreadCount!==null&&(c=o.unreadCount[r.uid]||0),i+c},0):0};return e.jsx(ke.Provider,{value:t,children:n})},Re=a.createContext(void 0),wt=()=>{const n=a.useContext(Re);if(n===void 0)throw new Error("useFavorites moet binnen een FavoritesProvider gebruikt worden");return n},Be=({children:n})=>{const[r,d]=a.useState([]),[b,l]=a.useState(!1),[y,v]=a.useState(null),{currentUser:p,userProfile:C}=M(),j=async()=>{if(!p){d([]);return}l(!0),v(null);try{const E=G(A,"favorites"),x=Q(E,Y("userId","==",p.uid)),P=await le(x),L=[];P.forEach(t=>{var o;const i=t.data();L.push({id:t.id,jobId:i.jobId,userId:i.userId,createdAt:((o=i.createdAt)==null?void 0:o.toDate())||new Date,job:i.job||void 0})}),console.log(`${L.length} favorieten geladen voor gebruiker ${p.uid}`),d(L)}catch(E){console.error("Fout bij ophalen favorieten:",E),v(E instanceof Error?E:new Error("Onbekende fout bij ophalen favorieten"))}finally{l(!1)}},I=async(E,x)=>{if(!p)throw new Error("Je moet ingelogd zijn om een vacature als favoriet te markeren");l(!0),v(null);try{const P=`${p.uid}_${E}`,L=D(A,"favorites",P),t={jobId:E,userId:p.uid,createdAt:new Date,job:{id:E,title:x.title||"Onbekende functie",company:x.company||"Onbekend bedrijf",location:x.location||"Locatie onbekend",salary:x.salary}},i={id:P,...t};d(o=>o.some(c=>c.jobId===E)?o:[...o,i]),await Fe(L,t),console.log(`Favoriet toegevoegd met ID: ${P}`)}catch(P){throw console.error("Fout bij toevoegen favoriet:",P),v(P instanceof Error?P:new Error("Onbekende fout bij toevoegen favoriet")),j(),P}finally{l(!1)}},T=async E=>{if(!p)throw new Error("Je moet ingelogd zijn om een favoriet te verwijderen");l(!0),v(null);try{const x=`${p.uid}_${E}`,P=D(A,"favorites",x);d(L=>L.filter(t=>t.jobId!==E)),await ze(P),console.log(`Favoriet verwijderd met ID: ${x}`)}catch(x){throw console.error("Fout bij verwijderen favoriet:",x),v(x instanceof Error?x:new Error("Onbekende fout bij verwijderen favoriet")),j(),x}finally{l(!1)}},k=E=>r.some(x=>x.jobId===E),S=async()=>{await j()};a.useEffect(()=>{p?(console.log("Gebruiker aangemeld, favorieten ophalen..."),j()):(console.log("Geen gebruiker, favorieten leegmaken"),d([]))},[p]);const U={favorites:r,loading:b,error:y,addFavorite:I,removeFavorite:T,isFavorite:k,refreshFavorites:S};return e.jsx(Re.Provider,{value:U,children:n})},ae=({requiredRole:n})=>{const{currentUser:r,loading:d,userProfile:b}=M();return console.log("ProtectedRoute rendering",{currentUser:r,loading:d,requiredRole:n,userProfile:b}),d?e.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary-600"}),e.jsx("div",{className:"ml-4",children:"Bezig met laden..."})]}):r?b?n&&!(n==="werkzoekende"&&pe(b)||n==="recruiter"&&fe(b))?(console.warn(`Gebruiker heeft niet de juiste rol. Vereist: ${n}, Actueel: ${Ae(b)}`),e.jsx(V,{to:"/dashboard",replace:!0})):e.jsx(ce,{}):n?e.jsx(V,{to:"/dashboard",replace:!0}):e.jsx(ce,{}):e.jsx(V,{to:"/login",replace:!0})},Ke=()=>{const{currentUser:n,loading:r}=M();return console.log("PublicRoute rendering",{loading:r,currentUser:n}),a.useEffect(()=>{console.log("PublicRoute effect",{loading:r,currentUser:n})},[r,n]),r?(console.log("PublicRoute - Toont laadscherm"),e.jsxs("div",{className:"min-h-screen flex items-center justify-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary-600"}),e.jsx("div",{className:"ml-4",children:"Bezig met laden..."})]})):n?(console.log("PublicRoute - Doorverwijzen naar home"),e.jsx(V,{to:"/",replace:!0})):(console.log("PublicRoute - Toont publieke content"),e.jsx(ce,{}))},$e=a.lazy(()=>f(()=>import("./Login-DNUE-4i9.js"),__vite__mapDeps([5,6,7,8,1,2,3]))),Je=a.lazy(()=>f(()=>import("./Register-DOCAj5wl.js"),__vite__mapDeps([9,6,7,3,2]))),We=a.lazy(()=>f(()=>import("./ResetPassword-CZw7mGzC.js"),__vite__mapDeps([10,6,8,3,2])));a.lazy(()=>f(()=>import("./ProfilePage-yBUi2Y1o.js"),__vite__mapDeps([11,6,8,3,2,4,12,13])));const qe=a.lazy(()=>f(()=>import("./Landing-B5ev09TB.js"),__vite__mapDeps([14,6,15,16,3,2]))),He=a.lazy(()=>f(()=>import("./About-Bmh5EEfe.js"),__vite__mapDeps([17,6,15,16,3,2]))),Qe=a.lazy(()=>f(()=>import("./Candidates-DNBQnEQp.js"),__vite__mapDeps([18,6,3,2,15,16]))),Ye=a.lazy(()=>f(()=>import("./CandidateProfile-QGwc61Ka.js"),__vite__mapDeps([19,6,3,2,15,16]))),Ze=a.lazy(()=>f(()=>import("./Jobs-leRyDb63.js"),__vite__mapDeps([20,6,3,2,15,16,4]))),ye=a.lazy(()=>f(()=>import("./JobDetail-WP09aOqa.js"),__vite__mapDeps([21,6,3,2,15]))),Xe=a.lazy(()=>f(()=>import("./JobApplication-GZoLSdrY.js"),__vite__mapDeps([22,6,3,2,4,15,8]))),et=a.lazy(()=>f(()=>import("./Messages-Bt-RZS4d.js"),__vite__mapDeps([23,6,3,2])));a.lazy(()=>f(()=>import("./CVPreview-DKDRV9Am.js"),__vite__mapDeps([24,6,3,2])));a.lazy(()=>f(()=>import("./CreateJob-yy3Ja5A6.js"),__vite__mapDeps([25,6,3,2,15,8])));a.lazy(()=>f(()=>import("./EditJob-BDLyXCVW.js"),__vite__mapDeps([26,6,3,2,15,8])));const je=a.lazy(()=>f(()=>import("./ScheduleMeeting-Br6x8YKk.js"),__vite__mapDeps([27,6,3,2,8,15,16]))),Ee=a.lazy(()=>f(()=>import("./Calendar-BXI9fzFN.js"),__vite__mapDeps([28,6,3,2,16]))),tt=a.lazy(()=>f(()=>import("./ApplicationDetail-SqXpS98y.js"),__vite__mapDeps([29,6,3,2]))),rt=a.lazy(()=>f(()=>import("./dashboardRoutes-CiFHQEWQ.js"),__vite__mapDeps([30,6,7,3,2]))),ot=()=>e.jsxs("div",{className:"p-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Applications"}),e.jsx("p",{children:"Applications page"})]}),nt=()=>e.jsxs("div",{className:"p-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Search Jobs"}),e.jsx("p",{children:"Search jobs page"})]}),st=()=>e.jsxs("div",{className:"p-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Conversation"}),e.jsx("p",{children:"Conversation page"})]}),it=()=>e.jsxs("div",{className:"p-4",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Settings"}),e.jsx("p",{children:"Settings page"})]}),ue=()=>e.jsxs("div",{className:"flex justify-center items-center h-screen",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"}),e.jsx("div",{className:"ml-4",children:"Bezig met laden..."})]}),at=()=>(console.log("Rendering SimpleDashboard"),e.jsxs("div",{className:"p-8",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Dashboard"}),e.jsx("p",{children:"Als je dit kunt zien, werkt de rendering correct."})]})),ct=()=>{const{loading:n,currentUser:r,userProfile:d,authError:b}=M();return console.log("AuthDebugger rendering",{loading:n,currentUser:r,userProfile:d,authError:b}),e.jsxs("div",{className:"fixed bottom-0 right-0 bg-black bg-opacity-75 text-white p-2 text-xs",children:["Loading: ",n?"Ja":"Nee",e.jsx("br",{}),"User: ",r?"Aanwezig":"Geen",e.jsx("br",{}),"Profile: ",d?d.role:"Geen",e.jsx("br",{}),"Error: ",b?b.message:"Geen"]})},lt=()=>{const{currentUser:n,loading:r}=M();return console.log("Redirect component rendering",{loading:r,currentUser:n}),r?e.jsx(ue,{}):n?e.jsx(V,{to:"/dashboard",replace:!0}):e.jsx(V,{to:"/login",replace:!0})},dt=()=>{console.log("App component rendering");const{userProfile:n,currentUser:r}=M();return a.useEffect(()=>{const d=b=>{console.error("Onafgehandelde fout opgevangen:",b.error)};return window.addEventListener("error",d),()=>{window.removeEventListener("error",d)}},[]),e.jsx(Ve,{children:e.jsx(Me,{children:e.jsx(Be,{children:e.jsxs(Ie,{basename:"/",children:[e.jsx(a.Suspense,{fallback:e.jsx(ue,{}),children:e.jsxs(Te,{children:[e.jsx(g,{path:"/",element:e.jsx(qe,{})}),e.jsxs(g,{element:e.jsx(Ke,{}),children:[e.jsx(g,{path:"/login",element:e.jsx($e,{})}),e.jsx(g,{path:"/register",element:e.jsx(Je,{})}),e.jsx(g,{path:"/reset-password",element:e.jsx(We,{})})]}),e.jsx(g,{path:"/about",element:e.jsx(He,{})}),e.jsx(g,{path:"/jobs",element:e.jsx(Ze,{})}),e.jsx(g,{path:"/job/:jobId",element:e.jsx(ye,{})}),e.jsx(g,{element:e.jsx(ae,{}),children:e.jsx(g,{path:"/job-application/:jobId",element:e.jsx(Xe,{})})}),e.jsxs(g,{element:e.jsx(ae,{requiredRole:"jobseeker"}),children:[e.jsx(g,{path:"/applications",element:e.jsx(ot,{})}),e.jsx(g,{path:"/search-jobs",element:e.jsx(nt,{})})]}),e.jsxs(g,{element:e.jsx(ae,{requiredRole:"recruiter"}),children:[e.jsx(g,{path:"/candidates",element:e.jsx(Qe,{})}),e.jsx(g,{path:"/candidate/:id",element:e.jsx(Ye,{})}),e.jsx(g,{path:"/schedule-meeting",element:e.jsx(je,{})}),e.jsx(g,{path:"/schedule-meeting/:id",element:e.jsx(je,{})}),e.jsx(g,{path:"/calendar",element:e.jsx(Ee,{})}),e.jsx(g,{path:"/agenda",element:e.jsx(Ee,{})})]}),e.jsx(g,{path:"/messages",element:e.jsx(et,{})}),e.jsx(g,{path:"/messages/:conversationId",element:e.jsx(st,{})}),e.jsx(g,{path:"/settings",element:e.jsx(it,{})}),e.jsx(g,{path:"/job/:id",element:e.jsx(ye,{})}),e.jsx(g,{path:"/application/:id",element:e.jsx(tt,{})}),e.jsx(g,{path:"/redirect",element:e.jsx(lt,{})}),e.jsx(g,{path:"/simple",element:e.jsx(at,{})}),e.jsx(g,{path:"/dashboard/*",element:e.jsx(a.Suspense,{fallback:e.jsx(ue,{}),children:e.jsx(rt,{userProfile:n,currentUser:r})})}),e.jsx(g,{path:"*",element:e.jsx(V,{to:"/",replace:!0})})]})}),e.jsx(ct,{})]})})})})};console.log("PitchPro/src/main.jsx initialisatie gestart");const Ce=document.getElementById("root");if(!Ce)throw new Error('Geen "root" element gevonden in de DOM. Controleer je index.html bestand.');class ut extends xe.Component{constructor(r){super(r),this.state={hasError:!1,error:null}}static getDerivedStateFromError(r){return{hasError:!0,error:r}}componentDidCatch(r,d){console.error("App rendering fout:",r,d)}render(){var r;return this.state.hasError?e.jsxs("div",{className:"p-8",children:[e.jsx("h1",{className:"text-2xl font-bold text-red-600",children:"Er is iets misgegaan"}),e.jsx("p",{children:"Er is een fout opgetreden bij het renderen van de applicatie:"}),e.jsx("pre",{className:"mt-4 p-4 bg-red-50 text-red-700 rounded overflow-auto",children:((r=this.state.error)==null?void 0:r.message)||"Onbekende fout"})]}):this.props.children}}const pt=Se.createRoot(Ce);try{console.log("App renderen..."),pt.render(e.jsx(xe.StrictMode,{children:e.jsx(ut,{children:e.jsx(dt,{})})})),console.log("App rendering verzonden naar ReactDOM")}catch(n){console.error("Fout bij renderen van App:",n),document.getElementById("root").innerHTML=`
    <div style="padding: 20px; color: red;">
      <h1>Fout bij laden</h1>
      <p>${n.message}</p>
    </div>
  `}export{ae as P,f as _,J as a,fe as b,wt as c,A as d,gt as e,pe as i,Ue as s,M as u};
//# sourceMappingURL=index-CZ_3UTiA.js.map
