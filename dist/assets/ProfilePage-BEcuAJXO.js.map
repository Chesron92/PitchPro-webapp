{"version":3,"file":"ProfilePage-BEcuAJXO.js","sources":["../../src/components/profile/CVUploadSection.tsx","../../src/components/profile/CVPreviewSection.tsx","../../src/components/profile/DetailedCVForm.tsx","../../src/components/profile/JobSeekerProfileForm.tsx","../../src/components/profile/RecruiterProfileForm.tsx","../../src/components/ProfileRecoveryComponent.tsx","../../src/pages/ProfilePage.tsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\nimport { ref, uploadBytes, getDownloadURL } from 'firebase/storage';\nimport { storage } from '../../firebase/config';\n\ninterface CVUploadSectionProps {\n  currentCvUrl: string | undefined;\n  userId: string | undefined;\n  onUploadSuccess: (url: string) => void;\n  onUploadError: (error: string) => void;\n}\n\nconst CVUploadSection: React.FC<CVUploadSectionProps> = ({\n  currentCvUrl,\n  userId,\n  onUploadSuccess,\n  onUploadError\n}) => {\n  const [uploading, setUploading] = useState(false);\n  const [progress, setProgress] = useState(0);\n  const [selectedFile, setSelectedFile] = useState<File | null>(null);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n\n  // Functie om de bestandsnaam te tonen uit een URL\n  const getFileNameFromUrl = (url: string): string => {\n    try {\n      const urlParts = url.split('/');\n      const fileNameWithParams = urlParts[urlParts.length - 1];\n      // Verwijder query parameters als die er zijn\n      return fileNameWithParams.split('?')[0];\n    } catch (error) {\n      return 'cv-bestand';\n    }\n  };\n\n  // Functie om het geselecteerde bestand te verwerken\n  const handleFileChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n    if (event.target.files && event.target.files.length > 0) {\n      setSelectedFile(event.target.files[0]);\n    }\n  };\n\n  // Functie om het bestand te uploaden naar Firebase Storage\n  const handleUpload = async () => {\n    if (!selectedFile || !userId) {\n      onUploadError('Geen bestand geselecteerd of gebruiker niet ingelogd');\n      return;\n    }\n\n    try {\n      setUploading(true);\n      setProgress(0);\n\n      // Bestandsnaam genereren met unieke timestamp\n      const fileExtension = selectedFile.name.split('.').pop() || 'pdf';\n      const fileName = `cv_${userId}_${Date.now()}.${fileExtension}`;\n      const cvRef = ref(storage, `cv/${fileName}`);\n\n      // Upload het bestand\n      await uploadBytes(cvRef, selectedFile);\n      setProgress(100);\n\n      // Haal de download URL op\n      const downloadUrl = await getDownloadURL(cvRef);\n      \n      // Geef de URL door aan de parent component\n      onUploadSuccess(downloadUrl);\n      \n      // Reset de file input\n      if (fileInputRef.current) {\n        fileInputRef.current.value = '';\n      }\n      setSelectedFile(null);\n    } catch (error) {\n      console.error('Fout bij uploaden van CV:', error);\n      onUploadError('Er is een fout opgetreden bij het uploaden van je CV. Probeer het opnieuw.');\n    } finally {\n      setUploading(false);\n    }\n  };\n\n  return (\n    <div className=\"mt-8 p-6 bg-gray-50 rounded-lg\">\n      <h2 className=\"text-lg font-medium mb-4\">CV Uploaden</h2>\n      \n      {currentCvUrl && (\n        <div className=\"mb-4 p-3 bg-white rounded border border-gray-300\">\n          <p className=\"text-sm font-medium text-gray-700\">Huidige CV:</p>\n          <div className=\"flex items-center justify-between mt-1\">\n            <a \n              href={currentCvUrl} \n              target=\"_blank\" \n              rel=\"noopener noreferrer\"\n              className=\"text-primary-600 hover:underline flex items-center\"\n            >\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-1\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                <path fillRule=\"evenodd\" d=\"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z\" clipRule=\"evenodd\" />\n              </svg>\n              {getFileNameFromUrl(currentCvUrl)}\n            </a>\n          </div>\n        </div>\n      )}\n\n      <div className=\"mt-4\">\n        <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n          Upload een nieuw CV bestand\n        </label>\n        <input\n          ref={fileInputRef}\n          type=\"file\"\n          onChange={handleFileChange}\n          className=\"block w-full text-sm text-gray-500\n            file:mr-4 file:py-2 file:px-4\n            file:rounded-md file:border-0\n            file:text-sm file:font-medium\n            file:bg-primary-50 file:text-primary-700\n            hover:file:bg-primary-100\"\n          accept=\".pdf,.doc,.docx\"\n          disabled={uploading}\n        />\n        <p className=\"mt-1 text-sm text-gray-500\">\n          Ondersteunde formaten: PDF, DOC, DOCX (max. 5MB)\n        </p>\n      </div>\n\n      {selectedFile && (\n        <div className=\"mt-4\">\n          <p className=\"text-sm text-gray-700\">\n            Geselecteerd bestand: <span className=\"font-medium\">{selectedFile.name}</span> ({Math.round(selectedFile.size / 1024)} KB)\n          </p>\n          \n          <div className=\"mt-3 flex items-center\">\n            <button\n              onClick={handleUpload}\n              disabled={uploading}\n              className=\"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50\"\n            >\n              {uploading ? 'Bezig met uploaden...' : 'CV uploaden'}\n            </button>\n            \n            {uploading && (\n              <div className=\"ml-4 w-full max-w-xs\">\n                <div className=\"h-2 rounded-full bg-gray-200\">\n                  <div\n                    className=\"h-2 rounded-full bg-primary-600\"\n                    style={{ width: `${progress}%` }}\n                  ></div>\n                </div>\n              </div>\n            )}\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default CVUploadSection; ","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\ninterface CVPreviewSectionProps {\n  cvUrl: string | undefined;\n}\n\nconst CVPreviewSection: React.FC<CVPreviewSectionProps> = ({ cvUrl }) => {\n  const [isExpanded, setIsExpanded] = useState(false);\n\n  if (!cvUrl) {\n    return (\n      <div className=\"mt-8 p-6 bg-gray-50 rounded-lg\">\n        <h2 className=\"text-lg font-medium mb-4\">CV Bekijken</h2>\n        \n        {/* CV Preview knop altijd tonen */}\n        <div>\n          <Link \n            to=\"/dashboard/cv-preview\"\n            className=\"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\"\n          >\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-1\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n              <path d=\"M10 12a2 2 0 100-4 2 2 0 000 4z\" />\n              <path fillRule=\"evenodd\" d=\"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z\" clipRule=\"evenodd\" />\n            </svg>\n            Bekijk Gedetailleerd CV\n          </Link>\n        </div>\n      </div>\n    );\n  }\n\n  // Bepaal de bestandsextensie om te weten of het een PDF is\n  const fileExtension = cvUrl.split('.').pop()?.toLowerCase();\n  const isPdf = fileExtension === 'pdf';\n\n  return (\n    <div className=\"mt-8 p-6 bg-gray-50 rounded-lg\">\n      <div className=\"flex justify-between items-center mb-4\">\n        <h2 className=\"text-lg font-medium\">CV Bekijken</h2>\n        <button \n          onClick={() => setIsExpanded(!isExpanded)}\n          className=\"text-primary-600 hover:text-primary-800 text-sm font-medium\"\n        >\n          {isExpanded ? 'Verkleinen' : 'Vergroten'}\n        </button>\n      </div>\n\n      {isPdf ? (\n        <div className={`w-full ${isExpanded ? 'h-screen' : 'h-96'} border border-gray-300 rounded-md overflow-hidden bg-white`}>\n          <iframe \n            src={`${cvUrl}#toolbar=0`} \n            className=\"w-full h-full\" \n            title=\"CV Preview\"\n          />\n        </div>\n      ) : (\n        <div className=\"p-4 bg-white rounded-md border border-gray-300\">\n          <p className=\"mb-3\">\n            Dit document kan niet in de browser worden weergegeven. Klik op de knop hieronder om het te downloaden.\n          </p>\n          <a \n            href={cvUrl} \n            target=\"_blank\" \n            rel=\"noopener noreferrer\"\n            className=\"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700\"\n          >\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-1\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n              <path fillRule=\"evenodd\" d=\"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z\" clipRule=\"evenodd\" />\n            </svg>\n            Download CV\n          </a>\n        </div>\n      )}\n\n      <div className=\"mt-4 flex justify-between\">\n        <Link \n          to=\"/dashboard/cv-preview\"\n          className=\"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700\"\n        >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-1\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n            <path d=\"M10 12a2 2 0 100-4 2 2 0 000 4z\" />\n            <path fillRule=\"evenodd\" d=\"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z\" clipRule=\"evenodd\" />\n          </svg>\n          Bekijk Gedetailleerd CV\n        </Link>\n        \n        <a \n          href={cvUrl} \n          target=\"_blank\" \n          rel=\"noopener noreferrer\"\n          className=\"text-primary-600 hover:text-primary-800 text-sm font-medium flex items-center\"\n        >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-1\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n            <path d=\"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z\" />\n            <path d=\"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z\" />\n          </svg>\n          Openen in nieuw venster\n        </a>\n      </div>\n    </div>\n  );\n};\n\nexport default CVPreviewSection; ","import React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport { useForm, useFieldArray, SubmitHandler, Controller } from 'react-hook-form';\nimport { collection, doc, setDoc, getDoc, Timestamp } from 'firebase/firestore';\nimport { db } from '../../firebase/config';\nimport { BaseUser } from '../../types/user';\nimport type { DetailedCV, WorkExperience, Education, Internship, Certificate, Language, Hobby, Skill, CVSection } from '../../types/cv';\nimport { Button, TextField, Typography, Box, Grid, IconButton, FormControl, FormControlLabel, Checkbox, MenuItem, Select, InputLabel, Slider } from '@mui/material';\nimport DeleteIcon from '@mui/icons-material/Delete';\nimport AddIcon from '@mui/icons-material/Add';\nimport DatePicker from 'react-datepicker';\nimport 'react-datepicker/dist/react-datepicker.css';\nimport { format, isValid, parse } from 'date-fns';\nimport { parseISO } from 'date-fns/parseISO';\nimport { nl } from 'date-fns/locale/nl';\nimport './datepicker-custom.css';\n\n// Helper functie om te zorgen dat er geen objecten direct worden gerenderd\nconst stringToReactNode = (value: any): string | number | null => {\n  if (value === null || value === undefined) return null;\n  if (typeof value === 'string' || typeof value === 'number') return value;\n  if (value instanceof Date) return value.toLocaleDateString();\n  // Check if the value is a React element\n  if (value && typeof value === 'object' && '$$typeof' in value) {\n    console.error('React element cannot be rendered directly as text', value);\n    return null; // Don't try to render React elements as strings\n  }\n  if (typeof value === 'object') return JSON.stringify(value);\n  return String(value);\n};\n\n// Interface voor Firebase Timestamp\ninterface FirebaseTimestamp {\n  seconds: number;\n  nanoseconds: number;\n}\n\n// Type guard functie om te controleren of een object een Firebase Timestamp is\nfunction isFirebaseTimestamp(obj: any): obj is FirebaseTimestamp {\n  return obj && typeof obj === 'object' && 'seconds' in obj && 'nanoseconds' in obj;\n}\n\n// Interface voor adresgegevens\ninterface Address {\n  street: string;\n  houseNumber: string;\n  postalCode: string;\n  city: string;\n  country: string;\n}\n\n// Interface voor persoonlijke gegevens sectie\ninterface PersonalDetails {\n  displayName: string;\n  email: string;\n  phoneNumber: string;\n  address: Address;\n  profileImageURL?: string;\n}\n\ninterface DetailedCVFormProps {\n  user: BaseUser;\n  onSuccess: () => void;\n  onError: (message: string) => void;\n  setLoading: (loading: boolean) => void;\n}\n\ntype DateToTimestamp<T> = {\n  [K in keyof T]: T[K] extends Timestamp | null\n    ? Date | null\n    : T[K] extends object\n    ? DateToTimestamp<T[K]>\n    : T[K];\n};\n\n// Interface aanpassing om de vaardigheden toe te voegen\n// Gebruik alleen de meest volledige interface definitie met alle velden en optionele beschrijvingen\ninterface DetailedCVFormInputs {\n  overMij: string;\n  werkervaring: {\n    id: string;\n    functie: string;\n    bedrijf: string;\n    startDatum: Date | null;\n    eindDatum: Date | null;\n    beschrijving: string;\n    isHuidigeFunctie: boolean;\n  }[];\n  opleiding: {\n    id: string;\n    opleiding: string;\n    instituut: string;\n    startDatum: Date | null;\n    eindDatum: Date | null;\n    beschrijving: string;\n    isHuidigeOpleiding: boolean;\n  }[];\n  stages: {\n    id: string;\n    functie: string;\n    bedrijf: string;\n    startDatum: Date | null;\n    eindDatum: Date | null;\n    beschrijving: string;\n    isHuidigeStage: boolean;\n  }[];\n  certificaten: {\n    id: string;\n    naam: string;\n    uitgever: string;\n    datum: Date | null;\n    beschrijving: string;\n  }[];\n  talen: {\n    id: string;\n    taal: string;\n    niveau: string;\n    beschrijving?: string;\n  }[];\n  hobbys: {\n    id: string;\n    naam: string;\n    beschrijving?: string;\n  }[];\n  vaardigheden: {\n    id: string;\n    naam: string;\n    type: 'soft' | 'hard';\n    niveau: number;\n    beschrijving?: string;\n  }[];\n}\n\n// Helper function om een uniek ID te genereren\nconst generateUniqueId = (): string => {\n  return Math.random().toString(36).substring(2, 15) + \n         Math.random().toString(36).substring(2, 15);\n};\n\n// Functie om Firestore Timestamp om te zetten naar Date\nconst convertToDate = (timeStamp: FirebaseTimestamp | Date | null): Date | null => {\n  if (!timeStamp) return null;\n  \n  if (timeStamp instanceof Date) return timeStamp;\n  \n  // Check of het een object is met een seconds property\n  if (typeof timeStamp === 'object' && 'seconds' in timeStamp) {\n    return new Date(timeStamp.seconds * 1000);\n  }\n  \n  // Als het een numerieke waarde is\n  if (typeof timeStamp === 'number') {\n    return new Date(timeStamp);\n  }\n  \n  // Als het een string is die een datum voorstelt\n  if (typeof timeStamp === 'string') {\n    const date = new Date(timeStamp);\n    return isNaN(date.getTime()) ? null : date;\n  }\n  \n  return null;\n};\n\n// Helper functie om een datum naar een string te formatteren voor invoervelden\nconst formatDateForInput = (date: Date | FirebaseTimestamp | null | undefined): string => {\n  if (!date) return '';\n  \n  // Converteer eerst naar Date object\n  const dateObj = convertToDate(date);\n  if (!dateObj) return '';\n  \n  // Format als YYYY-MM-DD voor input type=\"date\"\n  const year = dateObj.getFullYear();\n  const month = String(dateObj.getMonth() + 1).padStart(2, '0');\n  const day = String(dateObj.getDate()).padStart(2, '0');\n  \n  return `${year}-${month}-${day}`;\n};\n\n// Helper functie om een string naar Timestamp te converteren\nconst stringToTimestamp = (dateString: string | null): Timestamp | null => {\n  if (!dateString) return null;\n  \n  const date = new Date(dateString);\n  return Timestamp.fromDate(date);\n};\n\n// Custom DatePicker component voor hergebruik\ninterface CustomDatePickerProps {\n  name: string;\n  control: any; // Control uit react-hook-form\n  label: string;\n  errors: any; // Pass errors object\n  placeholder?: string;\n  isDisabled?: boolean;\n  maxDate?: Date | null;\n  minDate?: Date | null;\n}\n\nconst CustomDatePicker: React.FC<CustomDatePickerProps> = ({\n  name,\n  control,\n  label,\n  errors,\n  isDisabled = false,\n  placeholder = \"Selecteer een datum\",\n  minDate,\n  maxDate\n}) => {\n  return (\n    <div>\n      {label && <label className=\"block text-sm font-medium text-gray-700 mb-1\">{label}</label>}\n      <Controller\n        name={name}\n        control={control}\n        rules={{ required: `${label || 'Datum'} is verplicht` }}\n        render={({ field: { onChange, onBlur, value, ref } }) => {\n          // Converteer value naar een Date object als het niet null is en geen Date object\n          let dateValue: Date | null = null;\n          \n          if (value) {\n            try {\n              if (value instanceof Date) {\n                dateValue = value;\n              } else if (typeof value === 'object' && value !== null && 'seconds' in value) {\n                // FirebaseTimestamp\n                dateValue = new Date(value.seconds * 1000);\n              } else if (typeof value === 'string') {\n                // Probeer string te converteren naar Date\n                const parsedDate = new Date(value);\n                dateValue = !isNaN(parsedDate.getTime()) ? parsedDate : null;\n              } else if (typeof value === 'number') {\n                // Timestamp in milliseconden\n                dateValue = new Date(value);\n              }\n            } catch (error) {\n              console.error(`Error converting date for ${name}:`, error);\n              dateValue = null;\n            }\n          }\n          \n          return (\n            <input\n              type=\"date\"\n              onChange={(e) => {\n                const date = e.target.value ? new Date(e.target.value) : null;\n                onChange(date);\n              }}\n              onBlur={onBlur}\n              disabled={isDisabled}\n              value={dateValue ? dateValue.toISOString().split('T')[0] : ''}\n              className={`w-full px-3 py-2 border ${errors && errors[name.split('.')[0]] ? 'border-red-500' : 'border-gray-300'} rounded-md`}\n              aria-invalid={errors && errors[name.split('.')[0]] ? \"true\" : \"false\"}\n            />\n          );\n        }}\n      />\n      {/* Render error message if exists */}\n      {errors && errors[name.split('.')[0]] && (\n        <p className=\"mt-1 text-sm text-red-600\" role=\"alert\">\n          Vul een geldige datum in\n        </p>\n      )}\n    </div>\n  );\n};\n\nconst DetailedCVForm: React.FC<DetailedCVFormProps> = ({ \n  user, \n  onSuccess, \n  onError, \n  setLoading \n}) => {\n  const [isLoading, setIsLoading] = useState(true);\n  const [cvData, setCvData] = useState<DetailedCV | null>(null);\n  const [activeSection, setActiveSection] = useState<CVSection>('overMij');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  \n  // Verplaats useMemo naar binnen de component\n  const defaultValues = useMemo(() => ({\n    overMij: '',\n    werkervaring: [],\n    opleiding: [],\n    stages: [],\n    certificaten: [],\n    talen: [],\n    hobbys: [],\n    vaardigheden: [],\n  }), []);\n  \n  const { register, control, handleSubmit, reset, formState: { errors }, getValues, watch } = useForm<DetailedCVFormInputs>({\n    defaultValues\n  });\n  \n  // Field arrays voor elk onderdeel van het CV\n  const { \n    fields: certificatenFields, \n    append: appendCertificaat, \n    remove: removeCertificaat \n  } = useFieldArray({\n    control,\n    name: 'certificaten'\n  });\n\n  const { \n    fields: opleidingFields, \n    append: appendOpleiding, \n    remove: removeOpleiding \n  } = useFieldArray({\n    control,\n    name: 'opleiding'\n  });\n\n  const { \n    fields: stagesFields, \n    append: appendStage, \n    remove: removeStage \n  } = useFieldArray({\n    control,\n    name: 'stages'\n  });\n\n  const { \n    fields: werkervaringFields, \n    append: appendWerkervaring, \n    remove: removeWerkervaring \n  } = useFieldArray({\n    control,\n    name: 'werkervaring'\n  });\n\n  // Field array voor talen\n  const { \n    fields: talenFields, \n    append: appendTaal, \n    remove: removeTaal \n  } = useFieldArray({\n    control,\n    name: 'talen'\n  });\n\n  // Field array voor hobby's\n  const { \n    fields: hobbysFields, \n    append: appendHobby, \n    remove: removeHobby \n  } = useFieldArray({\n    control,\n    name: 'hobbys'\n  });\n\n  // Field array voor vaardigheden\n  const { \n    fields: vaardighedenFields, \n    append: appendVaardigheid, \n    remove: removeVaardigheid \n  } = useFieldArray({\n    control,\n    name: 'vaardigheden'\n  });\n\n  // Haal de CV-gegevens en gebruikersgegevens op bij het laden van de component\n  useEffect(() => {\n    const fetchData = async () => {\n      if (!user.id) {\n        setIsLoading(false);\n        return;\n      }\n\n      try {\n        // 1. Haal de gebruikersgegevens op\n        const userDocRef = doc(db, 'users', user.id);\n        const userDocSnap = await getDoc(userDocRef);\n        \n        // 2. Haal de cv subcollectie gegevens op\n        const cvDocRef = doc(db, 'users', user.id, 'cv', 'main');\n        const cvDocSnap = await getDoc(cvDocRef);\n\n        // Bereid de formulierdata voor\n        let formData: Partial<DetailedCVFormInputs> = {\n          // Standaardwaarden voor persoonlijke gegevens\n          werkervaring: [],\n          opleiding: [],\n          stages: [],\n          certificaten: [],\n          talen: [],\n          hobbys: [],\n          vaardigheden: []\n        };\n\n        // Verwerk gebruikersgegevens als die bestaan\n        if (userDocSnap.exists()) {\n          const userData = userDocSnap.data();\n          \n          // Controleer of er een detailedCV veld is in userData\n          if (userData.detailedCV) {\n            const detailedCV = userData.detailedCV;\n            \n            // CV data toevoegen aan formulierdata\n            formData = {\n              ...formData,\n              overMij: detailedCV.overMij || '',\n              werkervaring: (detailedCV.werkervaring || []).map((werk: any) => ({\n                ...werk,\n                startDatum: werk.startDatum ? convertToDate(werk.startDatum) : null,\n                eindDatum: werk.eindDatum ? convertToDate(werk.eindDatum) : null,\n                isHuidigeFunctie: Boolean(werk.isHuidigeFunctie)\n              })),\n              opleiding: (detailedCV.opleiding || []).map((opl: any) => ({\n                ...opl,\n                startDatum: opl.startDatum ? convertToDate(opl.startDatum) : null,\n                eindDatum: opl.eindDatum ? convertToDate(opl.eindDatum) : null,\n                isHuidigeOpleiding: Boolean(opl.isHuidigeOpleiding)\n              })),\n              stages: (detailedCV.stages || []).map((stage: any) => ({\n                ...stage,\n                startDatum: stage.startDatum ? convertToDate(stage.startDatum) : null,\n                eindDatum: stage.eindDatum ? convertToDate(stage.eindDatum) : null,\n                isHuidigeStage: Boolean(stage.isHuidigeStage)\n              })),\n              certificaten: (detailedCV.certificaten || []).map((cert: any) => ({\n                id: cert.id || generateUniqueId(),\n                naam: cert.naam || '',\n                uitgever: cert.uitgever || '',\n                datum: cert.datum ? convertToDate(cert.datum) : null,\n                beschrijving: cert.beschrijving || ''\n              })),\n              talen: Array.isArray(detailedCV.talen) ? detailedCV.talen.map((taal: any) => ({\n                ...taal,\n                niveau: taal.niveau || 'Basis',\n                beschrijving: taal.beschrijving || ''\n              })) : [],\n              hobbys: Array.isArray(detailedCV.hobbys) ? detailedCV.hobbys.map((hobby: any) => ({\n                ...hobby,\n                naam: hobby.naam || '',\n                beschrijving: hobby.beschrijving || ''\n              })) : [],\n              vaardigheden: Array.isArray(detailedCV.vaardigheden) ? detailedCV.vaardigheden.map((vaardigheid: any) => ({\n                ...vaardigheid,\n                type: vaardigheid.type === 'soft' || vaardigheid.type === 'hard' ? vaardigheid.type : 'soft',\n                niveau: typeof vaardigheid.niveau === 'number' ? vaardigheid.niveau : 1,\n                beschrijving: vaardigheid.beschrijving || ''\n              })) : []\n            };\n          } else {\n            // Als er geen detailedCV is, gebruik de normale gebruikersgegevens\n            formData = {\n              ...formData,\n              werkervaring: (userData.werkervaring || []).map((werk: any) => ({\n                ...werk,\n                startDatum: werk.startDatum ? convertToDate(werk.startDatum) : null,\n                eindDatum: werk.eindDatum ? convertToDate(werk.eindDatum) : null\n              })),\n              opleiding: (userData.opleiding || []).map((opl: any) => ({\n                ...opl,\n                startDatum: opl.startDatum ? convertToDate(opl.startDatum) : null,\n                eindDatum: opl.eindDatum ? convertToDate(opl.eindDatum) : null\n              })),\n              stages: (userData.stages || []).map((stage: any) => ({\n                ...stage,\n                startDatum: stage.startDatum ? convertToDate(stage.startDatum) : null,\n                eindDatum: stage.eindDatum ? convertToDate(stage.eindDatum) : null\n              })),\n              talen: userData.talen || [],\n              hobbys: Array.isArray(userData.hobbys) ? userData.hobbys : [],\n              vaardigheden: userData.vaardigheden || []\n            };\n          }\n        }\n\n        // Verwerk CV-gegevens uit subcollectie als die bestaan\n        if (cvDocSnap.exists()) {\n          const data = cvDocSnap.data() as DetailedCV;\n          setCvData(data);\n          \n          // CV data toevoegen aan formulierdata alleen als er geen detailedCV in userData was\n          if (!userDocSnap.exists() || !userDocSnap.data().detailedCV) {\n            formData = {\n              ...formData,\n              overMij: data.overMij || '',\n              werkervaring: (data.werkervaring || []).map((werk: any) => ({\n                ...werk,\n                startDatum: werk.startDatum ? convertToDate(werk.startDatum) : null,\n                eindDatum: werk.eindDatum ? convertToDate(werk.eindDatum) : null,\n                isHuidigeFunctie: Boolean(werk.isHuidigeFunctie)\n              })),\n              opleiding: (data.opleiding || []).map((opl: any) => ({\n                ...opl,\n                startDatum: opl.startDatum ? convertToDate(opl.startDatum) : null,\n                eindDatum: opl.eindDatum ? convertToDate(opl.eindDatum) : null,\n                isHuidigeOpleiding: Boolean(opl.isHuidigeOpleiding)\n              })),\n              stages: (data.stages || []).map((stage: any) => ({\n                ...stage,\n                startDatum: stage.startDatum ? convertToDate(stage.startDatum) : null,\n                eindDatum: stage.eindDatum ? convertToDate(stage.eindDatum) : null,\n                isHuidigeStage: Boolean(stage.isHuidigeStage)\n              })),\n              certificaten: (data.certificaten || []).map((cert: any) => ({\n                id: cert.id || generateUniqueId(),\n                naam: cert.naam || '',\n                uitgever: cert.uitgever || '',\n                datum: cert.datum ? convertToDate(cert.datum) : null,\n                beschrijving: cert.beschrijving || ''\n              })),\n              talen: Array.isArray(data.talen) ? data.talen.map((taal: any) => ({\n                ...taal,\n                niveau: taal.niveau || 'Basis',\n                beschrijving: taal.beschrijving || ''\n              })) : [],\n              hobbys: Array.isArray(data.hobbys) ? data.hobbys.map((hobby: any) => ({\n                ...hobby,\n                naam: hobby.naam || '',\n                beschrijving: hobby.beschrijving || ''\n              })) : [],\n              vaardigheden: Array.isArray(data.vaardigheden) ? data.vaardigheden.map((vaardigheid: any) => ({\n                ...vaardigheid,\n                type: vaardigheid.type === 'soft' || vaardigheid.type === 'hard' ? vaardigheid.type : 'soft',\n                niveau: typeof vaardigheid.niveau === 'number' ? vaardigheid.niveau : 1,\n                beschrijving: vaardigheid.beschrijving || ''\n              })) : []\n            };\n          }\n        }\n\n        // Reset het formulier met de gecombineerde gegevens\n        reset(formData as DetailedCVFormInputs);\n      } catch (error) {\n        console.error('Fout bij ophalen gegevens:', error);\n        onError('Er is een fout opgetreden bij het ophalen van je gegevens');\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchData();\n  }, [user.id, reset, onError]);\n\n  // Handle form submission\n  const onSubmit = async (data: DetailedCVFormInputs) => {\n    if (!user.id) {\n      onError('Gebruiker ID is niet beschikbaar');\n      return;\n    }\n\n    try {\n      setLoading(true);\n      setIsSubmitting(true);\n\n      console.log('Form data being saved:', data);\n\n      // Zorg ervoor dat alle velden een geldige waarde hebben (geen undefined)\n      const cvData: DetailedCV = {\n        overMij: data.overMij || '', // Vervang undefined door lege string\n        werkervaring: data.werkervaring.map((werk: DateToTimestamp<WorkExperience>) => ({\n          id: werk.id || generateUniqueId(),\n          functie: werk.functie || '',\n          bedrijf: werk.bedrijf || '',\n          startDatum: werk.startDatum ? Timestamp.fromDate(werk.startDatum) : null,\n          eindDatum: werk.eindDatum ? Timestamp.fromDate(werk.eindDatum) : null,\n          beschrijving: werk.beschrijving || '',\n          isHuidigeFunctie: Boolean(werk.isHuidigeFunctie)\n        })),\n        opleiding: data.opleiding.map((opl: DateToTimestamp<Education>) => ({\n          id: opl.id || generateUniqueId(),\n          opleiding: opl.opleiding || '',\n          instituut: opl.instituut || '',\n          startDatum: opl.startDatum ? Timestamp.fromDate(opl.startDatum) : null,\n          eindDatum: opl.eindDatum ? Timestamp.fromDate(opl.eindDatum) : null,\n          beschrijving: opl.beschrijving || '',\n          isHuidigeOpleiding: Boolean(opl.isHuidigeOpleiding)\n        })),\n        stages: data.stages.map((stage: DateToTimestamp<Internship>) => ({\n          id: stage.id || generateUniqueId(),\n          functie: stage.functie || '',\n          bedrijf: stage.bedrijf || '',\n          startDatum: stage.startDatum ? Timestamp.fromDate(stage.startDatum) : null,\n          eindDatum: stage.eindDatum ? Timestamp.fromDate(stage.eindDatum) : null,\n          beschrijving: stage.beschrijving || '',\n          isHuidigeStage: Boolean(stage.isHuidigeStage)\n        })),\n        certificaten: data.certificaten.map((cert: any) => ({\n          id: cert.id || generateUniqueId(),\n          naam: cert.naam || '',\n          uitgever: cert.uitgever || '',\n          datum: cert.datum ? Timestamp.fromDate(cert.datum) : null,\n          beschrijving: cert.beschrijving || '',\n        })),\n        talen: data.talen.map(taal => ({\n          id: taal.id || generateUniqueId(),\n          taal: taal.taal || '',\n          niveau: taal.niveau || 'Basis',\n          beschrijving: taal.beschrijving || ''\n        })),\n        hobbys: data.hobbys.map(hobby => ({\n          id: hobby.id || generateUniqueId(),\n          naam: hobby.naam || '',\n          beschrijving: hobby.beschrijving || ''\n        })),\n        vaardigheden: data.vaardigheden.map(vaardigheid => ({\n          id: vaardigheid.id || generateUniqueId(),\n          naam: vaardigheid.naam || '',\n          type: vaardigheid.type === 'soft' ? 'soft' : 'hard',\n          niveau: typeof vaardigheid.niveau === 'number' ? vaardigheid.niveau : 1,\n          beschrijving: vaardigheid.beschrijving || ''\n        }))\n      };\n\n      console.log('Saving CV data to Firestore:', cvData);\n\n      const userRef = doc(db, 'users', user.id);\n      await setDoc(userRef, {\n        detailedCV: cvData,\n        updatedAt: new Date()\n      }, { merge: true });\n\n      console.log('CV data saved successfully');\n      onSuccess();\n    } catch (error) {\n      console.error('Fout bij opslaan gegevens:', error);\n      onError('Er is een fout opgetreden bij het opslaan van je gegevens');\n    } finally {\n      setLoading(false);\n      setIsSubmitting(false);\n    }\n  };\n\n  // Helper functie voor het toevoegen van certificaten\n  const addCertificaat = useCallback(() => {\n    setTimeout(() => {\n      appendCertificaat({\n        id: String(Date.now()),\n        naam: '',\n        uitgever: '',\n        datum: null,\n        beschrijving: ''\n      });\n    }, 0);\n  }, [appendCertificaat]);\n\n  // Helper functie voor het toevoegen van een opleiding\n  const addOpleiding = useCallback(() => {\n    setTimeout(() => {\n      appendOpleiding({\n        id: String(Date.now()),\n        opleiding: '',\n        instituut: '',\n        beschrijving: '',\n        startDatum: null,\n        eindDatum: null,\n        isHuidigeOpleiding: false\n      });\n    }, 0);\n  }, [appendOpleiding]);\n\n  // Helper functie voor het toevoegen van een stage\n  const addStage = useCallback(() => {\n    setTimeout(() => {\n      appendStage({\n        id: String(Date.now()),\n        bedrijf: '',\n        functie: '',\n        beschrijving: '',\n        startDatum: null,\n        eindDatum: null,\n        isHuidigeStage: false\n      });\n    }, 0);\n  }, [appendStage]);\n\n  // Helper functie voor het toevoegen van een werkervaring\n  const addWerkervaring = useCallback(() => {\n    setTimeout(() => {\n      appendWerkervaring({\n        id: String(Date.now()),\n        functie: '',\n        bedrijf: '',\n        startDatum: null,\n        eindDatum: null,\n        beschrijving: '',\n        isHuidigeFunctie: false\n      });\n    }, 0);\n  }, [appendWerkervaring]);\n\n  // Helper functie voor het toevoegen van een taal\n  const addTaal = useCallback(() => {\n    setTimeout(() => {\n      appendTaal({\n        id: String(Date.now()),\n        taal: '',\n        niveau: 'Basis'\n      });\n    }, 0);\n  }, [appendTaal]);\n\n  // Helper functie voor het toevoegen van een hobby\n  const addHobby = useCallback(() => {\n    setTimeout(() => {\n      appendHobby({\n        id: String(Date.now()),\n        naam: ''\n      });\n    }, 0);\n  }, [appendHobby]);\n\n  // Helper functie voor het toevoegen van een vaardigheid\n  const addVaardigheid = useCallback((type: 'soft' | 'hard') => {\n    setTimeout(() => {\n      appendVaardigheid({\n        id: String(Date.now()),\n        naam: '',\n        type: type,\n        niveau: 1\n      });\n    }, 0);\n  }, [appendVaardigheid]);\n\n  // Pas de sections array aan om vaardigheden toe te voegen\n  const sections: CVSection[] = ['overMij', 'werkervaring', 'opleiding', 'stages', 'certificaten', 'talen', 'hobbys', 'vaardigheden'];\n\n  // Vertaal de sectienamen voor weergave\n  const getSectionName = (section: CVSection): string => {\n    switch(section) {\n      case 'overMij': return 'Over mij';\n      case 'werkervaring': return 'Werkervaring';\n      case 'opleiding': return 'Opleiding';\n      case 'stages': return 'Stages';\n      case 'certificaten': return 'Certificaten';\n      case 'talen': return 'Talen';\n      case 'hobbys': return 'Hobby\\'s';\n      case 'vaardigheden': return 'Vaardigheden';\n      default: return section;\n    }\n  };\n\n  // Renderlogica\n  if (isLoading) {\n    return (\n      <div className=\"flex justify-center items-center h-64\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600\"></div>\n        <div className=\"ml-4\">CV gegevens laden...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-8\">\n      <form onSubmit={handleSubmit(onSubmit)}>\n        {/* Over mij sectie */}\n        <div className=\"bg-white p-6 rounded-lg shadow-sm mb-6\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{getSectionName('overMij')}</h3>\n          <div className=\"bg-white rounded-lg\">\n            <textarea\n              {...register('overMij')}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n              rows={5}\n              placeholder=\"Vertel iets over jezelf, je motivie en ambities\"\n            />\n          </div>\n        </div>\n\n        {/* Werkervaring sectie */}\n        <div className=\"bg-white p-6 rounded-lg shadow-sm mb-6\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{getSectionName('werkervaring')}</h3>\n          <div className=\"bg-white rounded-lg\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <button\n                type=\"button\"\n                onClick={addWerkervaring}\n                className=\"ml-auto px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md\"\n              >\n                + Toevoegen\n              </button>\n            </div>\n\n            {werkervaringFields.length === 0 && (\n              <p className=\"text-gray-500 italic mb-4\">Nog geen werkervaring toegevoegd.</p>\n            )}\n\n            {werkervaringFields.map((field, index) => (\n              <div key={field.id} className=\"mb-6 p-4 border border-gray-200 rounded-lg\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Functie</label>\n                    <input\n                      {...register(`werkervaring.${index}.functie` as const, { required: 'Functie is verplicht' })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                      aria-invalid={errors.werkervaring?.[index]?.functie ? \"true\" : \"false\"}\n                    />\n                    {errors.werkervaring?.[index]?.functie && (\n                      <p className=\"mt-1 text-sm text-red-600\" role=\"alert\">\n                        {typeof errors.werkervaring[index]?.functie?.message === 'string' \n                          ? errors.werkervaring[index]?.functie?.message \n                          : 'Functie is verplicht'}\n                      </p>\n                    )}\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Bedrijf</label>\n                    <input\n                      {...register(`werkervaring.${index}.bedrijf` as const, { required: 'Bedrijf is verplicht' })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                      aria-invalid={errors.werkervaring?.[index]?.bedrijf ? \"true\" : \"false\"}\n                    />\n                     {errors.werkervaring?.[index]?.bedrijf && (\n                      <p className=\"mt-1 text-sm text-red-600\" role=\"alert\">\n                        {typeof errors.werkervaring[index]?.bedrijf?.message === 'string' \n                          ? errors.werkervaring[index]?.bedrijf?.message \n                          : 'Bedrijf is verplicht'}\n                      </p>\n                    )}\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                  <div>\n                    <CustomDatePicker\n                      name={`werkervaring.${index}.startDatum` as const}\n                      control={control}\n                      label=\"Startdatum\"\n                      errors={errors}\n                    />\n                  </div>\n                  <div>\n                    <div className=\"flex items-center mb-1\">\n                      <label className=\"block text-sm font-medium text-gray-700\">Einddatum</label>\n                      <div className=\"ml-4\">\n                        <input\n                          type=\"checkbox\"\n                          {...register(`werkervaring.${index}.isHuidigeFunctie` as const)}\n                          className=\"mr-2\"\n                        />\n                        <span className=\"text-sm text-gray-600\">Huidige functie</span>\n                      </div>\n                    </div>\n                    <CustomDatePicker\n                      name={`werkervaring.${index}.eindDatum` as const}\n                      control={control}\n                      label=\"\"\n                      errors={errors}\n                      isDisabled={Boolean(watch(`werkervaring.${index}.isHuidigeFunctie`))}\n                    />\n                  </div>\n                </div>\n\n                <div className=\"mb-4\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Beschrijving</label>\n                  <textarea\n                    {...register(`werkervaring.${index}.beschrijving` as const)}\n                    rows={3}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                    placeholder=\"Beschrijf je taken en verantwoordelijkheden\"\n                  />\n                </div>\n\n                <div className=\"flex justify-end\">\n                  <button\n                    type=\"button\"\n                    onClick={() => removeWerkervaring(index)}\n                    className=\"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-md\"\n                  >\n                    Verwijderen\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Opleiding sectie */}\n        <div className=\"bg-white p-6 rounded-lg shadow-sm mb-6\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{getSectionName('opleiding')}</h3>\n          <div className=\"bg-white rounded-lg\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <button\n                type=\"button\"\n                onClick={addOpleiding}\n                className=\"ml-auto px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md\"\n              >\n                + Toevoegen\n              </button>\n            </div>\n\n            {opleidingFields.length === 0 && (\n              <p className=\"text-gray-500 italic mb-4\">Nog geen opleidingen toegevoegd.</p>\n            )}\n\n            {opleidingFields.map((field, index) => (\n              <div key={field.id} className=\"mb-6 p-4 border border-gray-200 rounded-lg\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Opleidingsnaam</label>\n                    <input\n                      {...register(`opleiding.${index}.opleiding` as const, { required: 'Opleidingsnaam is verplicht' })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                      aria-invalid={errors.opleiding?.[index]?.opleiding ? \"true\" : \"false\"}\n                    />\n                     {errors.opleiding?.[index]?.opleiding && (\n                      <p className=\"mt-1 text-sm text-red-600\" role=\"alert\">{errors.opleiding[index]?.opleiding?.message}</p>\n                    )}\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Onderwijsinstelling</label>\n                    <input\n                      {...register(`opleiding.${index}.instituut` as const, { required: 'Onderwijsinstelling is verplicht' })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                      aria-invalid={errors.opleiding?.[index]?.instituut ? \"true\" : \"false\"}\n                    />\n                    {errors.opleiding?.[index]?.instituut && (\n                      <p className=\"mt-1 text-sm text-red-600\" role=\"alert\">{errors.opleiding[index]?.instituut?.message}</p>\n                    )}\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                  <div>\n                    <CustomDatePicker\n                      name={`opleiding.${index}.startDatum` as const}\n                      control={control}\n                      label=\"Startdatum\"\n                      errors={errors}\n                    />\n                  </div>\n                  <div>\n                    <div className=\"flex items-center mb-1\">\n                      <label className=\"block text-sm font-medium text-gray-700\">Einddatum</label>\n                      <div className=\"ml-4\">\n                        <input\n                          type=\"checkbox\"\n                          {...register(`opleiding.${index}.isHuidigeOpleiding` as const)}\n                          className=\"mr-2\"\n                        />\n                        <span className=\"text-sm text-gray-600\">Huidige opleiding</span>\n                      </div>\n                    </div>\n                    <CustomDatePicker\n                      name={`opleiding.${index}.eindDatum` as const}\n                      control={control}\n                      label=\"\"\n                      errors={errors}\n                      isDisabled={Boolean(watch(`opleiding.${index}.isHuidigeOpleiding`))}\n                    />\n                  </div>\n                </div>\n\n                <div className=\"mb-4\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Beschrijving</label>\n                  <textarea\n                    {...register(`opleiding.${index}.beschrijving` as const)}\n                    rows={3}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                    placeholder=\"Beschrijf de opleiding en relevante informatie\"\n                  />\n                </div>\n\n                <div className=\"flex justify-end\">\n                  <button\n                    type=\"button\"\n                    onClick={() => removeOpleiding(index)}\n                    className=\"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-md\"\n                  >\n                    Verwijderen\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Stages sectie */}\n        <div className=\"bg-white p-6 rounded-lg shadow-sm mb-6\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{getSectionName('stages')}</h3>\n          <div className=\"bg-white rounded-lg\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <button\n                type=\"button\"\n                onClick={addStage}\n                className=\"ml-auto px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md\"\n              >\n                + Toevoegen\n              </button>\n            </div>\n\n            {stagesFields.length === 0 && (\n              <p className=\"text-gray-500 italic mb-4\">Nog geen stages toegevoegd.</p>\n            )}\n\n            {stagesFields.map((field, index) => (\n              <div key={field.id} className=\"mb-6 p-4 border border-gray-200 rounded-lg\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Functie</label>\n                    <input\n                      {...register(`stages.${index}.functie` as const, { required: 'Functie is verplicht' })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                      aria-invalid={errors.stages?.[index]?.functie ? \"true\" : \"false\"}\n                    />\n                     {errors.stages?.[index]?.functie && (\n                      <p className=\"mt-1 text-sm text-red-600\" role=\"alert\">{errors.stages[index]?.functie?.message}</p>\n                    )}\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Bedrijf</label>\n                    <input\n                      {...register(`stages.${index}.bedrijf` as const, { required: 'Bedrijf is verplicht' })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                      aria-invalid={errors.stages?.[index]?.bedrijf ? \"true\" : \"false\"}\n                    />\n                    {errors.stages?.[index]?.bedrijf && (\n                      <p className=\"mt-1 text-sm text-red-600\" role=\"alert\">{errors.stages[index]?.bedrijf?.message}</p>\n                    )}\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                  <div>\n                    <CustomDatePicker\n                      name={`stages.${index}.startDatum` as const}\n                      control={control}\n                      label=\"Startdatum\"\n                      errors={errors}\n                    />\n                  </div>\n                  <div>\n                    <CustomDatePicker\n                      name={`stages.${index}.eindDatum` as const}\n                      control={control}\n                      label=\"Einddatum\"\n                      errors={errors}\n                    />\n                  </div>\n                </div>\n\n                <div className=\"mb-4\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Beschrijving</label>\n                  <textarea\n                    {...register(`stages.${index}.beschrijving` as const)}\n                    rows={3}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                    placeholder=\"Beschrijf je stage en verantwoordelijkheden\"\n                  />\n                </div>\n\n                <div className=\"flex justify-end\">\n                  <button\n                    type=\"button\"\n                    onClick={() => removeStage(index)}\n                    className=\"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-md\"\n                  >\n                    Verwijderen\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Certificaten sectie */}\n        <div className=\"bg-white p-6 rounded-lg shadow-sm mb-6\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{getSectionName('certificaten')}</h3>\n          <div className=\"bg-white rounded-lg\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <button\n                type=\"button\"\n                onClick={addCertificaat}\n                className=\"ml-auto px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md\"\n              >\n                + Toevoegen\n              </button>\n            </div>\n\n            {certificatenFields.length === 0 && (\n              <p className=\"text-gray-500 italic mb-4\">Nog geen certificaten toegevoegd.</p>\n            )}\n\n            {certificatenFields.map((field, index) => (\n              <div key={field.id} className=\"mb-6 p-4 border border-gray-200 rounded-lg\">\n                <div className=\"flex justify-between mb-4\">\n                  <h3 className=\"font-medium\">Certificaat {index + 1}</h3>\n                  <button\n                    type=\"button\"\n                    onClick={() => removeCertificaat(index)}\n                    className=\"text-red-500 px-2 py-1 rounded hover:bg-red-100\"\n                  >\n                    X\n                  </button>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Naam certificaat</label>\n                    <input\n                      {...register(`certificaten.${index}.naam` as const, { required: 'Naam certificaat is verplicht' })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                      aria-invalid={errors.certificaten?.[index]?.naam ? \"true\" : \"false\"}\n                    />\n                    {errors.certificaten?.[index]?.naam && (\n                      <p className=\"mt-1 text-sm text-red-600\" role=\"alert\">\n                        {typeof errors.certificaten[index]?.naam?.message === 'string' \n                          ? errors.certificaten[index]?.naam?.message \n                          : 'Naam certificaat is verplicht'}\n                      </p>\n                    )}\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Uitgever</label>\n                    <input\n                      {...register(`certificaten.${index}.uitgever` as const, { required: 'Uitgever is verplicht' })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                      aria-invalid={errors.certificaten?.[index]?.uitgever ? \"true\" : \"false\"}\n                    />\n                    {errors.certificaten?.[index]?.uitgever && (\n                      <p className=\"mt-1 text-sm text-red-600\" role=\"alert\">\n                        {typeof errors.certificaten[index]?.uitgever?.message === 'string' \n                          ? errors.certificaten[index]?.uitgever?.message \n                          : 'Uitgever is verplicht'}\n                      </p>\n                    )}\n                  </div>\n                </div>\n\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                  <div>\n                    <CustomDatePicker\n                      name={`certificaten.${index}.datum` as const}\n                      control={control}\n                      label=\"Datum\"\n                      errors={errors}\n                    />\n                  </div>\n                </div>\n\n                <div className=\"mb-4\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Beschrijving</label>\n                  <textarea\n                    {...register(`certificaten.${index}.beschrijving` as const)}\n                    rows={3}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                    placeholder=\"Beschrijf het certificaat en relevante informatie\"\n                  />\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Talen sectie */}\n        <div className=\"bg-white p-6 rounded-lg shadow-sm mb-6\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{getSectionName('talen')}</h3>\n          <div className=\"bg-white rounded-lg\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <button\n                type=\"button\"\n                onClick={addTaal}\n                className=\"ml-auto px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md\"\n              >\n                + Toevoegen\n              </button>\n            </div>\n\n            {talenFields.length === 0 && (\n              <p className=\"text-gray-500 italic mb-4\">Nog geen talen toegevoegd.</p>\n            )}\n\n            {talenFields.map((field, index) => (\n              <div key={field.id} className=\"mb-6 p-4 border border-gray-200 rounded-lg\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Taal</label>\n                    <input\n                      {...register(`talen.${index}.taal` as const, { required: 'Taal is verplicht' })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                      aria-invalid={errors.talen?.[index]?.taal ? \"true\" : \"false\"}\n                    />\n                    {errors.talen?.[index]?.taal && (\n                      <p className=\"mt-1 text-sm text-red-600\" role=\"alert\">{errors.talen[index]?.taal?.message}</p>\n                    )}\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Niveau</label>\n                    <select\n                      {...register(`talen.${index}.niveau` as const)}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                    >\n                      <option value=\"Basis\">Basis</option>\n                      <option value=\"Gemiddeld\">Gemiddeld</option>\n                      <option value=\"Goed\">Goed</option>\n                      <option value=\"Vloeiend\">Vloeiend</option>\n                      <option value=\"Moedertaal\">Moedertaal</option>\n                    </select>\n                  </div>\n                </div>\n\n                <div className=\"flex justify-end\">\n                  <button\n                    type=\"button\"\n                    onClick={() => removeTaal(index)}\n                    className=\"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-md\"\n                  >\n                    Verwijderen\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Hobbys sectie */}\n        <div className=\"bg-white p-6 rounded-lg shadow-sm mb-6\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{getSectionName('hobbys')}</h3>\n          <div className=\"bg-white rounded-lg\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <button\n                type=\"button\"\n                onClick={addHobby}\n                className=\"ml-auto px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md\"\n              >\n                + Toevoegen\n              </button>\n            </div>\n\n            {hobbysFields.length === 0 && (\n              <p className=\"text-gray-500 italic mb-4\">Nog geen hobby's toegevoegd.</p>\n            )}\n\n            {hobbysFields.map((field, index) => (\n              <div key={field.id} className=\"mb-6 p-4 border border-gray-200 rounded-lg\">\n                <div className=\"grid grid-cols-1 md:grid-cols-1 gap-4 mb-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Naam</label>\n                    <input\n                      {...register(`hobbys.${index}.naam` as const, { required: 'Naam is verplicht' })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                      aria-invalid={errors.hobbys?.[index]?.naam ? \"true\" : \"false\"}\n                    />\n                    {errors.hobbys?.[index]?.naam && (\n                      <p className=\"mt-1 text-sm text-red-600\" role=\"alert\">{errors.hobbys[index]?.naam?.message}</p>\n                    )}\n                  </div>\n                </div>\n\n                <div className=\"flex justify-end\">\n                  <button\n                    type=\"button\"\n                    onClick={() => removeHobby(index)}\n                    className=\"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-md\"\n                  >\n                    Verwijderen\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        {/* Vaardigheden sectie */}\n        <div className=\"bg-white p-6 rounded-lg shadow-sm mb-6\">\n          <h3 className=\"text-lg font-medium text-gray-900 mb-4\">{getSectionName('vaardigheden')}</h3>\n          <div className=\"bg-white rounded-lg\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <div>\n                <button\n                  type=\"button\"\n                  onClick={() => addVaardigheid('soft')}\n                  className=\"mr-2 px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md\"\n                >\n                  Soft Skills\n                </button>\n                <button\n                  type=\"button\"\n                  onClick={() => addVaardigheid('hard')}\n                  className=\"px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md\"\n                >\n                  Hard Skills\n                </button>\n              </div>\n            </div>\n\n            {vaardighedenFields.length === 0 && (\n              <p className=\"text-gray-500 italic mb-4\">Nog geen vaardigheden toegevoegd.</p>\n            )}\n\n            {vaardighedenFields.map((field, index) => (\n              <div key={field.id} className=\"mb-6 p-4 border border-gray-200 rounded-lg\">\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Naam</label>\n                    <input\n                      {...register(`vaardigheden.${index}.naam` as const, { required: 'Naam is verplicht' })}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                      aria-invalid={errors.vaardigheden?.[index]?.naam ? \"true\" : \"false\"}\n                    />\n                    {errors.vaardigheden?.[index]?.naam && (\n                      <p className=\"mt-1 text-sm text-red-600\" role=\"alert\">{errors.vaardigheden[index]?.naam?.message}</p>\n                    )}\n                  </div>\n                  <div>\n                    <label className=\"block text-sm font-medium text-gray-700 mb-1\">Type</label>\n                    <select\n                      {...register(`vaardigheden.${index}.type` as const)}\n                      className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                    >\n                      <option value=\"soft\">Soft Skill</option>\n                      <option value=\"hard\">Hard Skill</option>\n                    </select>\n                  </div>\n                </div>\n\n                <div className=\"mb-4\">\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Niveau</label>\n                  <input\n                    {...register(`vaardigheden.${index}.niveau` as const, {\n                      setValueAs: (value) => typeof value === 'string' ? parseInt(value, 10) || 0 : value\n                    })}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                    type=\"number\"\n                    min=\"1\"\n                    max=\"5\"\n                  />\n                </div>\n\n                <div className=\"flex justify-end\">\n                  <button\n                    type=\"button\"\n                    onClick={() => removeVaardigheid(index)}\n                    className=\"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-md\"\n                  >\n                    Verwijderen\n                  </button>\n                </div>\n              </div>\n            ))}\n          </div>\n        </div>\n\n        <div className=\"mt-6\">\n          <button\n            type=\"submit\"\n            disabled={isSubmitting}\n            className=\"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-md\"\n          >\n            {isSubmitting ? 'Opslaan...' : 'Opslaan'}\n          </button>\n        </div>\n      </form>\n\n      {/* Link om een nieuwe afspraak toe te voegen, alleen tonen voor recruiters */}\n      {user.role === 'recruiter' && (\n        <div className=\"flex justify-end\">\n          <a \n            href=\"/schedule-meeting\" \n            className=\"inline-flex items-center px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-md\"\n          >\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-5 w-5 mr-2\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n              <path fillRule=\"evenodd\" d=\"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z\" clipRule=\"evenodd\" />\n            </svg>\n            Nieuwe afspraak plannen\n          </a>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default DetailedCVForm;","import React, { useState, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { doc, updateDoc, serverTimestamp } from 'firebase/firestore';\nimport { db } from '../../firebase/config';\nimport { JobSeeker, BaseUser } from '../../types/user';\nimport CVUploadSection from './CVUploadSection';\nimport CVPreviewSection from './CVPreviewSection';\nimport DetailedCVForm from './DetailedCVForm';\nimport { getStorage, ref, uploadBytes, getDownloadURL } from 'firebase/storage';\nimport { auth } from '../../firebase/config';\n\ninterface JobSeekerProfileFormProps {\n  user: BaseUser;\n  onSuccess: () => void;\n  onError: (message: string) => void;\n  setLoading: (loading: boolean) => void;\n}\n\ninterface JobSeekerFormInputs {\n  displayName: string;\n  phoneNumber: string;\n  street: string;\n  houseNumber: string;\n  postalCode: string;\n  city: string;\n  country: string;\n  skills: string;\n  availability: string;\n  cv: string;\n  linkedin: string;\n  portfolio: string;\n  experience: string;\n  education: string;\n  profilePhoto: string;\n  isAvailableForWork?: boolean;\n  pitchVideo?: string;\n}\n\nconst JobSeekerProfileForm: React.FC<JobSeekerProfileFormProps> = ({ \n  user, \n  onSuccess, \n  onError, \n  setLoading \n}) => {\n  const { register, handleSubmit, reset, setValue, watch, formState: { errors } } = useForm<JobSeekerFormInputs>();\n  const [cvUrl, setCvUrl] = useState<string | undefined>(\n    user.profile?.cv || user.cv || ''\n  );\n  const [profilePhotoUrl, setProfilePhotoUrl] = useState<string | undefined>(\n    user.profile?.profilePhoto || user.profilePhoto || ''\n  );\n  const [pitchVideoUrl, setPitchVideoUrl] = useState<string | undefined>(\n    user.profile?.pitchVideo || user.pitchVideo || ''\n  );\n  const [isToggleActive, setIsToggleActive] = useState<boolean>(false);\n  \n  // Watch voor checkbox veranderingen\n  const isAvailableForWorkValue = watch('isAvailableForWork');\n  \n  // Update toggle wanneer de checkbox waarde verandert\n  useEffect(() => {\n    setIsToggleActive(!!isAvailableForWorkValue);\n  }, [isAvailableForWorkValue]);\n  \n  // Bepaal de initile waarden voor het formulier\n  useEffect(() => {\n    console.log(\"User profiel bijgewerkt, formulier resetten\", JSON.stringify(user, null, 2));\n    \n    // Begin met lege waardes, om te voorkomen dat oude waardes achterblijven\n    const initialValues: Partial<JobSeekerFormInputs> = {\n      displayName: '',\n      phoneNumber: '',\n      street: '',\n      houseNumber: '',\n      postalCode: '',\n      city: '',\n      country: '',\n      skills: '',\n      availability: '',\n      cv: '',\n      linkedin: '',\n      portfolio: '',\n      experience: '',\n      education: '',\n      profilePhoto: '',\n      isAvailableForWork: false,\n      pitchVideo: ''\n    };\n    \n    // Vul persoonlijke gegevens in vanaf verschillende mogelijke locaties\n    initialValues.displayName = user.displayName || '';\n    initialValues.phoneNumber = user.phoneNumber || user.phone || '';\n    \n    // Controleer eerst root niveau adresgegevens\n    initialValues.street = user.street || '';\n    initialValues.houseNumber = user.houseNumber || '';\n    initialValues.postalCode = user.postalCode || '';\n    initialValues.city = user.city || '';\n    initialValues.country = user.country || '';\n    \n    // Controleer adresgegevens in user.address object indien beschikbaar\n    if (user.address && typeof user.address === 'object') {\n      const address = user.address as Record<string, any>;\n      if (!initialValues.street) initialValues.street = address.street || '';\n      if (!initialValues.houseNumber) initialValues.houseNumber = address.houseNumber || '';\n      if (!initialValues.postalCode) initialValues.postalCode = address.postalCode || '';\n      if (!initialValues.city) initialValues.city = address.city || '';\n      if (!initialValues.country) initialValues.country = address.country || '';\n    }\n    \n    // Controleer de profile gegevens\n    if (user.profile) {\n      console.log(\"Profielgegevens gevonden:\", JSON.stringify(user.profile, null, 2));\n      \n      // Controleer adresgegevens in user.profile.address object indien beschikbaar\n      if (user.profile.address && typeof user.profile.address === 'object') {\n        const profileAddress = user.profile.address as Record<string, any>;\n        if (!initialValues.street) initialValues.street = profileAddress.street || '';\n        if (!initialValues.houseNumber) initialValues.houseNumber = profileAddress.houseNumber || '';\n        if (!initialValues.postalCode) initialValues.postalCode = profileAddress.postalCode || '';\n        if (!initialValues.city) initialValues.city = profileAddress.city || '';\n        if (!initialValues.country) initialValues.country = profileAddress.country || '';\n      }\n      \n      // Controleer specifieke profielvelden\n      const profile = user.profile as Record<string, any>;\n      \n      // Vaardigheden kunnen een array of string zijn\n      if (profile.skills) {\n        initialValues.skills = Array.isArray(profile.skills) \n          ? profile.skills.join(', ') \n          : (typeof profile.skills === 'string' ? profile.skills : '');\n      }\n      \n      // Beschikbaarheid direct uit profiel\n      initialValues.availability = profile.availability || '';\n      \n      // Beschikbaarheid voor werk\n      initialValues.isAvailableForWork = profile.isAvailableForWork === true;\n      \n      // Update ook de toggle status\n      setIsToggleActive(profile.isAvailableForWork === true);\n      \n      // CV, LinkedIn, Portfolio\n      initialValues.cv = profile.cv || '';\n      initialValues.linkedin = profile.linkedin || '';\n      initialValues.portfolio = profile.portfolio || '';\n      \n      // Ervaring kan een array of string zijn\n      if (profile.experience) {\n        initialValues.experience = typeof profile.experience === 'string' \n          ? profile.experience \n          : (Array.isArray(profile.experience) ? JSON.stringify(profile.experience) : '');\n      }\n      \n      // Opleiding kan een array of string zijn\n      if (profile.education) {\n        initialValues.education = Array.isArray(profile.education) \n          ? profile.education.join(', ') \n          : (typeof profile.education === 'string' ? profile.education : '');\n      }\n      \n      // Profielfoto\n      if (profile.profilePhoto) {\n        setProfilePhotoUrl(profile.profilePhoto);\n        initialValues.profilePhoto = profile.profilePhoto;\n      }\n      \n      // Pitch video\n      if (profile.pitchVideo) {\n        setPitchVideoUrl(profile.pitchVideo);\n        initialValues.pitchVideo = profile.pitchVideo;\n      }\n    }\n    \n    // Update profile photo URL uit verschillende mogelijke bronnen\n    const photoURL = user.profilePhoto || user.photoURL || \n                    (user.profile && user.profile.profilePhoto ? user.profile.profilePhoto : '');\n    \n    if (photoURL) {\n      console.log(\"Profielfoto URL gevonden:\", photoURL);\n      setProfilePhotoUrl(photoURL);\n      initialValues.profilePhoto = photoURL;\n    }\n    \n    // Update CV URL vanuit verschillende mogelijke bronnen\n    const cvURLToSet = user.cv || (user.profile && user.profile.cv ? user.profile.cv : '');\n    if (cvURLToSet) {\n      setCvUrl(cvURLToSet);\n      initialValues.cv = cvURLToSet;\n    }\n    \n    // Pitch video URL uit verschillende mogelijke bronnen\n    const videoURLToSet = user.pitchVideo || (user.profile && user.profile.pitchVideo ? user.profile.pitchVideo : '');\n    if (videoURLToSet) {\n      setPitchVideoUrl(videoURLToSet);\n      initialValues.pitchVideo = videoURLToSet;\n    }\n    \n    // Reset het formulier met de nieuwe waarden\n    console.log(\"Formulier reset met waarden:\", initialValues);\n    reset(initialValues as JobSeekerFormInputs);\n  }, [user, reset]);\n  \n  // Handler voor als de CV upload succesvol is\n  const handleCvUploadSuccess = (url: string) => {\n    setCvUrl(url);\n    setValue('cv', url);\n  };\n  \n  const handleProfilePhotoUpload = async (file: File) => {\n    try {\n      setLoading(true);\n      const storage = getStorage();\n      const user = auth.currentUser;\n      \n      if (!user) {\n        throw new Error(\"Je bent niet ingelogd. Log opnieuw in om je profielfoto te uploaden.\");\n      }\n      \n      // Maak een unieke bestandsnaam met timestamp\n      const timestamp = new Date().getTime();\n      const fileName = `profile-${timestamp}-${file.name}`;\n      const storageRef = ref(storage, `profile-photos/${user.uid}/${fileName}`);\n      \n      console.log(\"Profielfoto uploaden naar:\", `profile-photos/${user.uid}/${fileName}`);\n      \n      // Upload het bestand\n      await uploadBytes(storageRef, file);\n      console.log(\"Profielfoto gepload, nu de download URL ophalen\");\n      \n      // Haal de download URL op\n      const downloadURL = await getDownloadURL(storageRef);\n      console.log(\"Profielfoto URL ontvangen:\", downloadURL);\n      \n      // Update de state en form value\n      setProfilePhotoUrl(downloadURL);\n      setValue('profilePhoto', downloadURL);\n      \n      // Direct de profielfoto bijwerken in Firestore\n      const userDocRef = doc(db, \"users\", user.uid);\n      await updateDoc(userDocRef, {\n        profilePhoto: downloadURL,\n        photoURL: downloadURL,\n        \"profile.profilePhoto\": downloadURL,\n        updatedAt: serverTimestamp()\n      });\n      \n      console.log(\"Profielfoto succesvol bijgewerkt in profiel\");\n      return downloadURL;\n    } catch (err) {\n      console.error('Fout bij uploaden profielfoto:', err);\n      onError('Er is een fout opgetreden bij het uploaden van je profielfoto. Probeer het later opnieuw.');\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  const handleVideoUpload = async (file: File) => {\n    try {\n      setLoading(true);\n      const storage = getStorage();\n      const user = auth.currentUser;\n      \n      if (!file) {\n        throw new Error(\"Geen bestand geselecteerd.\");\n      }\n      \n      if (!user) {\n        throw new Error(\"Je bent niet ingelogd. Log opnieuw in om je video te uploaden.\");\n      }\n      \n      // Controle op bestandsgrootte (max 100MB)\n      const MAX_SIZE_MB = 100;\n      const MAX_SIZE_BYTES = MAX_SIZE_MB * 1024 * 1024;\n      if (file.size > MAX_SIZE_BYTES) {\n        throw new Error(`Video is te groot. Maximale grootte is ${MAX_SIZE_MB}MB.`);\n      }\n      \n      // Maak een unieke bestandsnaam met timestamp\n      const timestamp = new Date().getTime();\n      const fileName = `pitch-${timestamp}-${file.name}`;\n      const storageRef = ref(storage, `pitch-videos/${user.uid}/${fileName}`);\n      \n      console.log(\"Video uploaden naar:\", `pitch-videos/${user.uid}/${fileName}`);\n      \n      // Upload het bestand\n      await uploadBytes(storageRef, file);\n      console.log(\"Video gepload, nu de download URL ophalen\");\n      \n      // Haal de download URL op\n      const downloadURL = await getDownloadURL(storageRef);\n      console.log(\"Video URL ontvangen:\", downloadURL);\n      \n      // Update de state en form value\n      setPitchVideoUrl(downloadURL);\n      setValue('pitchVideo', downloadURL);\n      \n      // Direct de video URL bijwerken in Firestore\n      const userDocRef = doc(db, \"users\", user.uid);\n      await updateDoc(userDocRef, {\n        pitchVideo: downloadURL,\n        \"profile.pitchVideo\": downloadURL,\n        updatedAt: serverTimestamp()\n      });\n      \n      console.log(\"Video succesvol bijgewerkt in profiel\");\n      return downloadURL;\n    } catch (err) {\n      console.error('Fout bij uploaden video:', err);\n      onError('Er is een fout opgetreden bij het uploaden van je video. Probeer het later opnieuw.');\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  const onSubmit = async (data: JobSeekerFormInputs) => {\n    if (!auth.currentUser) {\n      onError(\"Je bent niet ingelogd. Log opnieuw in om je profiel op te slaan.\");\n      return;\n    }\n    \n    console.log(\"Profielgegevens worden opgeslagen:\", data);\n    setLoading(true);\n\n    try {\n      const userId = auth.currentUser.uid;\n      const userDocRef = doc(db, \"users\", userId);\n      \n      // Voorbereiden van adresgegevens\n      const address = {\n        street: data.street || '',\n        houseNumber: data.houseNumber || '',\n        postalCode: data.postalCode || '',\n        city: data.city || '',\n        country: data.country || ''\n      };\n\n      // Voorbereiden van profielgegevens\n      const profile = {\n        address: address,\n        skills: data.skills ? data.skills.split(',').map(skill => skill.trim()) : [],\n        availability: data.availability || '',\n        isAvailableForWork: data.isAvailableForWork === true,\n        cv: cvUrl || data.cv || '',\n        linkedin: data.linkedin || '',\n        portfolio: data.portfolio || '',\n        experience: data.experience || '',\n        education: data.education ? data.education.split(',').map(edu => edu.trim()) : [],\n        profilePhoto: profilePhotoUrl || data.profilePhoto || '',\n        pitchVideo: pitchVideoUrl || data.pitchVideo || ''\n      };\n\n      // Voorbereiden van bijgewerkte gebruikersgegevens\n      const updatedUser = {\n        displayName: data.displayName || '',\n        phoneNumber: data.phoneNumber || '',\n        phone: data.phoneNumber || '', // Duplicaat voor compatibiliteit\n        photoURL: profile.profilePhoto, // Duplicaat voor compatibiliteit\n        // Ook rechtstreeks adresgegevens opslaan op root niveau voor compatibiliteit\n        street: address.street,\n        houseNumber: address.houseNumber,\n        postalCode: address.postalCode,\n        city: address.city,\n        country: address.country,\n        // Adres object voor structuur\n        address: address,\n        // Profiel en aanvullende info\n        profile: profile,\n        profilePhoto: profile.profilePhoto, // Duplicaat op root niveau voor compatibiliteit\n        cv: profile.cv, // Duplicaat op root niveau voor compatibiliteit\n        pitchVideo: profile.pitchVideo, // Duplicaat op root niveau voor compatibiliteit\n        updatedAt: serverTimestamp(),\n      };\n\n      console.log(\"Bijgewerkte gebruikersgegevens die worden opgeslagen:\", JSON.stringify(updatedUser, null, 2));\n      \n      // Gebruikersgegevens bijwerken in Firestore\n      await updateDoc(userDocRef, updatedUser);\n      \n      console.log(\"Profiel succesvol bijgewerkt\");\n      setLoading(false);\n      \n      // Belangrijk: NIET het formulier resetten na succesvolle verzending\n      // We behouden de ingevoerde gegevens, zodat de gebruiker ze niet opnieuw hoeft in te voeren\n      \n      // Direct de waarden opnieuw instellen om te voorkomen dat ze verdwijnen\n      setValue('street', data.street || '');\n      setValue('houseNumber', data.houseNumber || '');\n      setValue('postalCode', data.postalCode || '');\n      setValue('city', data.city || '');\n      setValue('country', data.country || '');\n      setValue('phoneNumber', data.phoneNumber || '');\n      \n      onSuccess();\n    } catch (error) {\n      console.error(\"Fout bij het bijwerken van profiel:\", error);\n      setLoading(false);\n      onError(error instanceof Error ? error.message : \"Er is een onbekende fout opgetreden\");\n    }\n  };\n  \n  return (\n    <div>\n      <div className=\"space-y-8\">\n        {/* Basis profiel informatie */}\n        <form onSubmit={handleSubmit(onSubmit)}>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8\">\n            {/* Persoonlijke gegevens */}\n            <div>\n              <h2 className=\"text-lg font-medium mb-4\">Persoonlijke gegevens</h2>\n              \n              {/* Profielfoto upload sectie */}\n              <div className=\"mb-6\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-2\">Profielfoto</label>\n                <div className=\"flex items-center space-x-4\">\n                  {profilePhotoUrl ? (\n                    <div className=\"relative\">\n                      <img \n                        src={profilePhotoUrl} \n                        alt=\"Profielfoto\" \n                        className=\"w-20 h-20 rounded-full object-cover border-2 border-primary-500\"\n                        onError={(e) => {\n                          console.error(\"Fout bij laden profielfoto:\", e);\n                          (e.target as HTMLImageElement).src = 'https://via.placeholder.com/80?text=Foto';\n                        }}\n                      />\n                      <div \n                        className=\"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center cursor-pointer\"\n                        onClick={() => {\n                          setProfilePhotoUrl('');\n                          setValue('profilePhoto', '');\n                        }}\n                      >\n                        \n                      </div>\n                    </div>\n                  ) : (\n                    <div className=\"w-20 h-20 rounded-full bg-gray-200 flex items-center justify-center\">\n                      <svg className=\"w-10 h-10 text-gray-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                        <path fillRule=\"evenodd\" d=\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\" clipRule=\"evenodd\" />\n                      </svg>\n                    </div>\n                  )}\n                  <div>\n                    <input\n                      type=\"file\"\n                      accept=\"image/*\"\n                      onChange={(e) => {\n                        const file = e.target.files?.[0];\n                        if (file) {\n                          handleProfilePhotoUpload(file)\n                            .then(() => console.log(\"Profielfoto succesvol bijgewerkt\"))\n                            .catch(err => console.error(\"Fout bij uploaden:\", err));\n                        }\n                      }}\n                      className=\"hidden\"\n                      id=\"profilePhoto\"\n                    />\n                    <label\n                      htmlFor=\"profilePhoto\"\n                      className=\"cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n                    >\n                      <svg className=\"-ml-1 mr-2 h-5 w-5 text-gray-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                        <path fillRule=\"evenodd\" d=\"M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z\" clipRule=\"evenodd\" />\n                      </svg>\n                      Foto uploaden\n                    </label>\n                    {profilePhotoUrl && (\n                      <p className=\"mt-1 text-xs text-gray-500\">\n                        Profielfoto succesvol geladen\n                      </p>\n                    )}\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"mb-4\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Naam</label>\n                <input\n                  type=\"text\"\n                  {...register('displayName', { required: 'Naam is verplicht' })}\n                  className={`w-full px-3 py-2 border rounded-md ${errors.displayName ? 'border-red-500' : 'border-gray-300'}`}\n                />\n                {errors.displayName && <p className=\"mt-1 text-sm text-red-600\">{errors.displayName.message}</p>}\n              </div>\n              \n              <div className=\"mb-4\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Telefoonnummer</label>\n                <input\n                  type=\"tel\"\n                  {...register('phoneNumber')}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                />\n              </div>\n            </div>\n            \n            {/* Adresgegevens */}\n            <div>\n              <h2 className=\"text-lg font-medium mb-4\">Adresgegevens</h2>\n              \n              <div className=\"grid grid-cols-2 gap-3 mb-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Straat</label>\n                  <input\n                    type=\"text\"\n                    {...register('street')}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                  />\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Huisnummer</label>\n                  <input\n                    type=\"text\"\n                    {...register('houseNumber')}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                  />\n                </div>\n              </div>\n              \n              <div className=\"grid grid-cols-2 gap-3 mb-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Postcode</label>\n                  <input\n                    type=\"text\"\n                    {...register('postalCode')}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                  />\n                </div>\n                \n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-1\">Plaats</label>\n                  <input\n                    type=\"text\"\n                    {...register('city')}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                  />\n                </div>\n              </div>\n              \n              <div className=\"mb-4\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Land</label>\n                <input\n                  type=\"text\"\n                  {...register('country')}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                />\n              </div>\n            </div>\n          </div>\n          \n          {/* CV Upload sectie */}\n          <div className=\"mt-8 mb-8\">\n            <h2 className=\"text-xl font-medium mb-4\">Curriculum Vitae Document</h2>\n            <p className=\"text-gray-600 mb-6\">\n              Hieronder kun je een CV-document uploaden dat recruiters kunnen downloaden. Ondersteunde formaten zijn PDF, DOC en DOCX.\n            </p>\n            \n            <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\n              {/* Linker kolom - Upload */}\n              <div>\n                <CVUploadSection\n                  currentCvUrl={cvUrl}\n                  userId={user.id}\n                  onUploadSuccess={handleCvUploadSuccess}\n                  onUploadError={(msg) => onError(msg)}\n                />\n                \n                {/* CV URL (hidden field, wordt bijgewerkt door de CV Upload component) */}\n                <input type=\"hidden\" {...register('cv')} />\n              </div>\n              \n              {/* Rechter kolom - Preview */}\n              <div>\n                <CVPreviewSection cvUrl={cvUrl} />\n              </div>\n            </div>\n          </div>\n          \n          {/* Professionele informatie */}\n          <div className=\"mt-8 mb-8\">\n            <h2 className=\"text-lg font-medium mb-4\">Professionele informatie</h2>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div className=\"mb-4\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Beschikbaarheid</label>\n                <select\n                  {...register('availability')}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                >\n                  <option value=\"\">Selecteer beschikbaarheid</option>\n                  <option value=\"Fulltime\">Fulltime</option>\n                  <option value=\"Parttime\">Parttime</option>\n                  <option value=\"Freelance\">Freelance</option>\n                  <option value=\"Stage\">Stage</option>\n                </select>\n              </div>\n              \n              <div className=\"mb-4\">\n                <div className=\"flex items-center space-x-3 mt-4\">\n                  <label \n                    htmlFor=\"isAvailableForWork\" \n                    className=\"block text-sm font-medium text-gray-700 cursor-pointer\"\n                    onClick={() => {\n                      const newValue = !isToggleActive;\n                      setIsToggleActive(newValue);\n                      setValue('isAvailableForWork', newValue);\n                    }}\n                  >\n                    Beschikbaar voor werk\n                  </label>\n                  <div className=\"relative inline-block w-14 mr-2 align-middle select-none\">\n                    <input\n                      type=\"checkbox\"\n                      id=\"isAvailableForWork\"\n                      {...register('isAvailableForWork')}\n                      className=\"sr-only\"\n                      onChange={(e) => {\n                        setValue('isAvailableForWork', e.target.checked);\n                        setIsToggleActive(e.target.checked);\n                      }}\n                    />\n                    <div \n                      className={`toggle-bg block h-8 rounded-full cursor-pointer w-14 transition-colors duration-200 ease-in-out ${isToggleActive ? 'bg-primary-600' : 'bg-gray-200'}`}\n                      onClick={() => {\n                        const newValue = !isToggleActive;\n                        setIsToggleActive(newValue);\n                        setValue('isAvailableForWork', newValue);\n                      }}\n                    ></div>\n                    <div \n                      className={`dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full shadow transition-transform duration-200 ease-in-out ${isToggleActive ? 'transform translate-x-6' : ''}`}\n                    ></div>\n                  </div>\n                  <span \n                    className=\"text-sm text-gray-500 cursor-pointer\"\n                    onClick={() => {\n                      const newValue = !isToggleActive;\n                      setIsToggleActive(newValue);\n                      setValue('isAvailableForWork', newValue);\n                    }}\n                  >\n                    Recruiters kunnen je profiel zien als dit is ingeschakeld\n                  </span>\n                </div>\n              </div>\n            </div>\n            \n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n              <div className=\"mb-4\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">LinkedIn</label>\n                <input\n                  type=\"url\"\n                  {...register('linkedin')}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                  placeholder=\"https://linkedin.com/in/jouwprofiel\"\n                />\n              </div>\n              \n              <div className=\"mb-4\">\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">Portfolio URL</label>\n                <input\n                  type=\"url\"\n                  {...register('portfolio')}\n                  className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                  placeholder=\"https://jouwportfolio.com\"\n                />\n              </div>\n            </div>\n          </div>\n          \n          {/* Na de Professionele informatie sectie, voeg de Video Pitch sectie toe */}\n          <div className=\"mt-8 mb-8\">\n            <h2 className=\"text-lg font-medium mb-4\">Video Pitch</h2>\n            <p className=\"text-gray-600 mb-4\">\n              Upload een korte video (max. 1,5 minuut) waarin je jezelf voorstelt aan recruiters. \n              Vertel iets over je ervaring, motivatie en waarom je geschikt bent voor je droombaan.\n            </p>\n            \n            <div className=\"bg-gray-50 border border-gray-200 rounded-lg p-6\">\n              {/* Video upload sectie */}\n              <div className=\"flex flex-col md:flex-row gap-6\">\n                {/* Upload zone */}\n                <div className=\"md:w-1/2\">\n                  <div className=\"mb-4\">\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                      Selecteer een videobestand (max. 1,5 minuut)\n                    </label>\n                    <input\n                      type=\"file\"\n                      accept=\"video/*\"\n                      onChange={(e) => {\n                        const file = e.target.files?.[0];\n                        if (file) {\n                          handleVideoUpload(file)\n                            .then(() => console.log(\"Video succesvol gepload\"))\n                            .catch(err => console.error(\"Fout bij uploaden:\", err));\n                        }\n                      }}\n                      className=\"hidden\"\n                      id=\"pitchVideo\"\n                    />\n                    <label\n                      htmlFor=\"pitchVideo\"\n                      className=\"cursor-pointer flex items-center justify-center p-6 border-2 border-dashed border-gray-300 rounded-lg hover:border-primary-500 transition-colors duration-200\"\n                    >\n                      <div className=\"text-center\">\n                        <svg \n                          className=\"mx-auto h-12 w-12 text-gray-400\" \n                          xmlns=\"http://www.w3.org/2000/svg\" \n                          fill=\"none\" \n                          viewBox=\"0 0 24 24\" \n                          stroke=\"currentColor\"\n                        >\n                          <path \n                            strokeLinecap=\"round\" \n                            strokeLinejoin=\"round\" \n                            strokeWidth={2} \n                            d=\"M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z\" \n                          />\n                        </svg>\n                        <p className=\"mt-2 text-sm font-medium text-primary-600\">Sleep je video hierheen of klik om te selecteren</p>\n                        <p className=\"mt-1 text-xs text-gray-500\">MP4, MOV, WEBM of AVI (max. 100MB)</p>\n                      </div>\n                    </label>\n                  </div>\n                  {/* Hidden input for the video URL */}\n                  <input type=\"hidden\" {...register('pitchVideo')} />\n                </div>\n                \n                {/* Video preview */}\n                <div className=\"md:w-1/2\">\n                  {pitchVideoUrl ? (\n                    <div className=\"rounded-lg overflow-hidden\">\n                      <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                        Video preview\n                      </label>\n                      <video \n                        controls \n                        className=\"w-full h-auto border border-gray-200 rounded-lg shadow-sm\"\n                        src={pitchVideoUrl} \n                      >\n                        Je browser ondersteunt geen video weergave.\n                      </video>\n                      <div className=\"flex justify-between mt-2\">\n                        <p className=\"text-sm text-gray-500\">\n                          Video succesvol gepload!\n                        </p>\n                        <button\n                          type=\"button\"\n                          onClick={() => {\n                            setPitchVideoUrl('');\n                            setValue('pitchVideo', '');\n                          }}\n                          className=\"text-sm text-red-600 hover:text-red-800\"\n                        >\n                          Verwijderen\n                        </button>\n                      </div>\n                    </div>\n                  ) : (\n                    <div className=\"flex items-center justify-center h-full border border-gray-200 rounded-lg bg-white p-6\">\n                      <div className=\"text-center text-gray-500\">\n                        <svg \n                          className=\"mx-auto h-12 w-12 text-gray-400\" \n                          xmlns=\"http://www.w3.org/2000/svg\" \n                          fill=\"none\" \n                          viewBox=\"0 0 24 24\" \n                          stroke=\"currentColor\"\n                        >\n                          <path \n                            strokeLinecap=\"round\" \n                            strokeLinejoin=\"round\" \n                            strokeWidth={2} \n                            d=\"M15 10l4.553-2.276A1 1 0 0121 8.618v6.764a1 1 0 01-1.447.894L15 14M5 18h8a2 2 0 002-2V8a2 2 0 00-2-2H5a2 2 0 00-2 2v8a2 2 0 002 2z\" \n                          />\n                        </svg>\n                        <p className=\"mt-2\">Nog geen video gepload.</p>\n                        <p className=\"mt-1 text-xs\">Upload een video om deze hier te bekijken.</p>\n                      </div>\n                    </div>\n                  )}\n                </div>\n              </div>\n              \n              <div className=\"mt-4 pt-3 border-t border-gray-200\">\n                <div className=\"flex items-start\">\n                  <div className=\"flex-shrink-0\">\n                    <svg className=\"h-5 w-5 text-gray-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                      <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clipRule=\"evenodd\" />\n                    </svg>\n                  </div>\n                  <div className=\"ml-3\">\n                    <p className=\"text-sm text-gray-500\">\n                      Je video pitch is een krachtige manier om jezelf te presenteren. Houd je video kort (max. 1,5 minuut) \n                      en vertel iets over je ervaring, persoonlijkheid en wat je uniek maakt. Zorg voor een rustige omgeving \n                      en goede belichting voor de beste indruk.\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          <div className=\"mt-6 mb-10\">\n            <button\n              type=\"submit\"\n              className=\"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2\"\n            >\n              Basisprofiel opslaan\n            </button>\n          </div>\n        </form>\n        \n        {/* Scheidingslijn tussen basis en uitgebreid profiel */}\n        <div className=\"border-t border-gray-200 pt-8 mb-6\">\n          <div className=\"flex items-center mb-6\">\n            <h2 className=\"text-xl font-semibold text-gray-900\">Uitgebreid CV</h2>\n            <div className=\"ml-4 flex-1 border-t border-gray-200\"></div>\n          </div>\n          \n          <div className=\"bg-blue-50 border-l-4 border-blue-400 p-4 mb-8\">\n            <div className=\"flex\">\n              <div className=\"flex-shrink-0\">\n                <svg className=\"h-5 w-5 text-blue-400\" viewBox=\"0 0 20 20\" fill=\"currentColor\">\n                  <path fillRule=\"evenodd\" d=\"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z\" clipRule=\"evenodd\" />\n                </svg>\n              </div>\n              <div className=\"ml-3\">\n                <p className=\"text-sm text-blue-700\">\n                  Hieronder kun je een gedetailleerd CV maken met specifieke informatie over je werkervaring,\n                  opleidingen, stages, certificaten, talen en hobby's. Deze informatie wordt opgeslagen in je profiel en is zichtbaar voor recruiters.\n                </p>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        {/* Uitgebreid CV formulier */}\n        <DetailedCVForm\n          user={user}\n          onSuccess={onSuccess}\n          onError={onError}\n          setLoading={setLoading}\n        />\n      </div>\n    </div>\n  );\n};\n\nexport default JobSeekerProfileForm; ","import React, { useEffect, useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { doc, updateDoc, serverTimestamp } from 'firebase/firestore';\nimport { db } from '../../firebase/config';\nimport { BaseUser } from '../../types/user';\nimport { getStorage, ref, uploadBytes, getDownloadURL } from 'firebase/storage';\nimport { auth } from '../../firebase/config';\n\ninterface RecruiterProfileFormProps {\n  user: BaseUser;\n  onSuccess: () => void;\n  onError: (message: string) => void;\n  setLoading: (loading: boolean) => void;\n}\n\ninterface RecruiterFormInputs {\n  displayName: string;\n  phoneNumber: string;\n  \n  // Bedrijfsgegevens\n  companyName: string;\n  position: string;\n  companyLogo: string;\n  companyWebsite: string;\n  companyDescription: string;\n  \n  // Adresgegevens\n  companyStreet: string;\n  companyHouseNumber: string;\n  companyPostalCode: string;\n  companyCity: string;\n  kvkNumber: string;\n  \n  // Profielfoto\n  profilePhoto: string;\n}\n\n// Gebruik localStorage om waarden permanent op te slaan\nconst getStoredFormData = (userId: string): Partial<RecruiterFormInputs> => {\n  try {\n    const storedData = localStorage.getItem(`recruiterForm_${userId}`);\n    return storedData ? JSON.parse(storedData) : {};\n  } catch (e) {\n    console.error('Fout bij ophalen formuliergegevens uit localStorage:', e);\n    return {};\n  }\n};\n\nconst saveFormData = (userId: string, data: Partial<RecruiterFormInputs>) => {\n  try {\n    localStorage.setItem(`recruiterForm_${userId}`, JSON.stringify(data));\n  } catch (e) {\n    console.error('Fout bij opslaan formuliergegevens in localStorage:', e);\n  }\n};\n\n// Maak een formulierwaarden cache buiten de component\n// om waardes tussen re-renders te behouden\nconst formCache: Partial<RecruiterFormInputs> = {};\n\nconst RecruiterProfileForm: React.FC<RecruiterProfileFormProps> = ({ \n  user, \n  onSuccess, \n  onError, \n  setLoading \n}) => {\n  const [initialFormValues, setInitialFormValues] = useState<Partial<RecruiterFormInputs>>({});\n  const [isFormSubmitted, setIsFormSubmitted] = useState(false);\n  const [profilePhotoUrl, setProfilePhotoUrl] = useState<string>('');\n  \n  // Gebruik shouldUnregister: false om te voorkomen dat velden worden gereset\n  const { register, handleSubmit, reset, formState: { errors }, setValue, getValues } = useForm<RecruiterFormInputs>({\n    shouldUnregister: false,\n    defaultValues: initialFormValues,\n    mode: 'onChange'\n  });\n  \n  // Update de cache wanneer een veld verandert\n  const updateFieldCache = (field: keyof RecruiterFormInputs, value: string) => {\n    formCache[field] = value;\n    \n    // Sla ook op in localStorage als de gebruiker een ID heeft\n    if (user.id) {\n      const currentData = getStoredFormData(user.id);\n      saveFormData(user.id, { ...currentData, [field]: value });\n    }\n  };\n  \n  // Bepaal de initile waarden voor het formulier\n  useEffect(() => {\n    if (!user || !user.id) return;\n    \n    const profile = user.profile as Record<string, any> || {};\n    const storedData = user.id ? getStoredFormData(user.id) : {};\n    \n    // Als het formulier nog niet is verzonden, gebruik dan eerst de opgeslagen data\n    const dataSource = isFormSubmitted ? {} : storedData;\n    \n    const initialValues: Partial<RecruiterFormInputs> = {\n      // Gebruik eerst de cache of opgeslagen data, dan de user gegevens\n      displayName: dataSource.displayName || formCache.displayName || user.displayName || '',\n      phoneNumber: dataSource.phoneNumber || formCache.phoneNumber || user.phoneNumber || '',\n      \n      // Bedrijfsgegevens (kunnen op verschillende plaatsen staan)\n      companyName: dataSource.companyName || formCache.companyName || user.companyName || profile.company || '',\n      position: dataSource.position || formCache.position || profile.position || '',\n      companyLogo: dataSource.companyLogo || formCache.companyLogo || profile.companyLogo || '',\n      companyWebsite: dataSource.companyWebsite || formCache.companyWebsite || profile.companyWebsite || '',\n      companyDescription: dataSource.companyDescription || formCache.companyDescription || profile.companyDescription || '',\n      \n      // Adresgegevens - gebruik eerst de cache, dan de user gegevens\n      companyStreet: dataSource.companyStreet || formCache.companyStreet || user.companyStreet || '',\n      companyHouseNumber: dataSource.companyHouseNumber || formCache.companyHouseNumber || user.companyHouseNumber || '',\n      companyPostalCode: dataSource.companyPostalCode || formCache.companyPostalCode || user.companyPostalCode || '',\n      companyCity: dataSource.companyCity || formCache.companyCity || user.companyCity || '',\n      kvkNumber: dataSource.kvkNumber || formCache.kvkNumber || user.kvkNumber || profile.kvkNumber || '',\n      \n      // Profielfoto\n      profilePhoto: dataSource.profilePhoto || formCache.profilePhoto || user.profilePhoto || profile.profilePhoto || '',\n    };\n    \n    // Haal profielfoto op\n    const photoURL = user.profilePhoto || user.photoURL || \n                    (user.profile && user.profile.profilePhoto ? user.profile.profilePhoto : '');\n    \n    if (photoURL) {\n      console.log(\"Profielfoto URL gevonden:\", photoURL);\n      setProfilePhotoUrl(photoURL);\n      initialValues.profilePhoto = photoURL;\n    }\n    \n    // Update de initile formulierwaarden\n    setInitialFormValues(initialValues);\n    \n    // Reset het formulier met de nieuwe waarden\n    reset(initialValues as RecruiterFormInputs);\n    \n    // Handmatig waarden instellen om er zeker van te zijn dat ze worden getoond\n    Object.entries(initialValues).forEach(([key, value]) => {\n      if (value) {\n        setValue(key as keyof RecruiterFormInputs, value);\n      }\n    });\n    \n    // Als het formulier is verzonden, zet dit terug naar false na het resetten\n    if (isFormSubmitted) {\n      setIsFormSubmitted(false);\n    }\n    \n    console.log('Formulier reset met waarden:', initialValues);\n  }, [user, reset, setValue, isFormSubmitted]);\n  \n  const handleProfilePhotoUpload = async (file: File) => {\n    try {\n      setLoading(true);\n      const storage = getStorage();\n      const user = auth.currentUser;\n      \n      if (!user) {\n        throw new Error(\"Je bent niet ingelogd. Log opnieuw in om je profielfoto te uploaden.\");\n      }\n      \n      // Maak een unieke bestandsnaam met timestamp\n      const timestamp = new Date().getTime();\n      const fileName = `profile-${timestamp}-${file.name}`;\n      const storageRef = ref(storage, `profile-photos/${user.uid}/${fileName}`);\n      \n      console.log(\"Profielfoto uploaden naar:\", `profile-photos/${user.uid}/${fileName}`);\n      \n      // Upload het bestand\n      await uploadBytes(storageRef, file);\n      console.log(\"Profielfoto gepload, nu de download URL ophalen\");\n      \n      // Haal de download URL op\n      const downloadURL = await getDownloadURL(storageRef);\n      console.log(\"Profielfoto URL ontvangen:\", downloadURL);\n      \n      // Update de state en form value\n      setProfilePhotoUrl(downloadURL);\n      setValue('profilePhoto', downloadURL);\n      \n      // Direct de profielfoto bijwerken in Firestore\n      const userDocRef = doc(db, \"users\", user.uid);\n      await updateDoc(userDocRef, {\n        profilePhoto: downloadURL,\n        photoURL: downloadURL,\n        \"profile.profilePhoto\": downloadURL,\n        updatedAt: serverTimestamp()\n      });\n      \n      console.log(\"Profielfoto succesvol bijgewerkt in profiel\");\n      return downloadURL;\n    } catch (err) {\n      console.error('Fout bij uploaden profielfoto:', err);\n      onError('Er is een fout opgetreden bij het uploaden van je profielfoto. Probeer het later opnieuw.');\n      throw err;\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  const onSubmit = async (data: RecruiterFormInputs) => {\n    try {\n      setLoading(true);\n      \n      // Update de form cache met de huidige waarden\n      Object.keys(data).forEach(key => {\n        updateFieldCache(key as keyof RecruiterFormInputs, data[key as keyof RecruiterFormInputs]);\n      });\n      \n      // Sla de volledige formuliergegevens op in localStorage\n      if (user.id) {\n        saveFormData(user.id, data);\n      }\n      \n      // Creer het gepdatete gebruikersobject\n      const updatedUser = {\n        ...user,\n        displayName: data.displayName,\n        phoneNumber: data.phoneNumber,\n        phone: data.phoneNumber, // Duplicaat voor compatibiliteit\n        \n        // Profielfoto\n        profilePhoto: profilePhotoUrl || data.profilePhoto || '',\n        photoURL: profilePhotoUrl || data.profilePhoto || '',\n        \n        // Bedrijfsgegevens op het hoofdobject voor backwards compatibiliteit\n        companyName: data.companyName,\n        companyStreet: data.companyStreet,\n        companyHouseNumber: data.companyHouseNumber,\n        companyPostalCode: data.companyPostalCode,\n        companyCity: data.companyCity,\n        kvkNumber: data.kvkNumber,\n        \n        // Adres als object - voor compatibiliteit\n        address: {\n          street: data.companyStreet,\n          houseNumber: data.companyHouseNumber,\n          postalCode: data.companyPostalCode,\n          city: data.companyCity\n        },\n        \n        // Update het profiel object\n        profile: {\n          ...(user.profile || {}),\n          company: data.companyName,\n          position: data.position,\n          companyLogo: data.companyLogo,\n          companyWebsite: data.companyWebsite,\n          companyDescription: data.companyDescription,\n          kvkNumber: data.kvkNumber,\n          phoneNumber: data.phoneNumber, // Voeg ook toe aan het profile object\n          phone: data.phoneNumber, // Voor compatibiliteit\n          profilePhoto: profilePhotoUrl || data.profilePhoto || '',\n          \n          // Adresgegevens ook in het profile object\n          address: {\n            street: data.companyStreet,\n            houseNumber: data.companyHouseNumber,\n            postalCode: data.companyPostalCode,\n            city: data.companyCity\n          },\n          \n          // Directe adresvelden in het profile object\n          companyStreet: data.companyStreet,\n          companyHouseNumber: data.companyHouseNumber,\n          companyPostalCode: data.companyPostalCode,\n          companyCity: data.companyCity\n        },\n        \n        updatedAt: serverTimestamp(),\n      };\n      \n      // Sla op in Firestore\n      if (!user.id) {\n        throw new Error('Gebruiker ID is niet beschikbaar');\n      }\n      \n      // Log wat er opgeslagen gaat worden voor debugging\n      console.log('Gebruikersdata die wordt opgeslagen:', JSON.stringify(updatedUser, null, 2));\n      \n      const userRef = doc(db, 'users', user.id);\n      await updateDoc(userRef, updatedUser);\n      \n      // Markeer het formulier als verzonden\n      setIsFormSubmitted(true);\n      \n      // Reset niet het formulier na verzenden - laat het intact\n      // Maar handmatig alle waarden nog eens instellen na korte vertraging\n      // voor het geval ze door andere processen worden gereset\n      setTimeout(() => {\n        Object.entries(data).forEach(([key, value]) => {\n          setValue(key as keyof RecruiterFormInputs, value);\n        });\n      }, 200);\n      \n      onSuccess();\n    } catch (err) {\n      console.error('Fout bij bijwerken profiel:', err);\n      onError('Er is een fout opgetreden bij het opslaan van je profiel. Probeer het later opnieuw.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  // Wanneer een veld verandert, update de cache\n  const handleFieldChange = (field: keyof RecruiterFormInputs) => (e: React.ChangeEvent<HTMLInputElement | HTMLTextAreaElement>) => {\n    updateFieldCache(field, e.target.value);\n  };\n  \n  return (\n    <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-8\">\n      {/* Persoonlijke gegevens */}\n      <div>\n        <h2 className=\"text-lg font-medium mb-4\">Persoonlijke gegevens</h2>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          {/* Naam */}\n          <div className=\"mb-4\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Naam</label>\n            <input\n              type=\"text\"\n              {...register('displayName', { required: \"Naam is verplicht\" })}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n              onChange={e => updateFieldCache('displayName', e.target.value)}\n            />\n            {errors.displayName && <p className=\"mt-1 text-sm text-red-600\">{errors.displayName.message}</p>}\n          </div>\n          \n          {/* Telefoonnummer */}\n          <div className=\"mb-4\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Telefoonnummer</label>\n            <input\n              type=\"tel\"\n              {...register('phoneNumber')}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n              placeholder=\"+31 6 12345678\"\n              onChange={e => updateFieldCache('phoneNumber', e.target.value)}\n            />\n          </div>\n          \n          {/* Profielfoto upload sectie */}\n          <div className=\"mb-6 col-span-2\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-2\">Profielfoto</label>\n            <div className=\"flex items-center space-x-4\">\n              {profilePhotoUrl ? (\n                <div className=\"relative\">\n                  <img \n                    src={profilePhotoUrl} \n                    alt=\"Profielfoto\" \n                    className=\"w-20 h-20 rounded-full object-cover border-2 border-primary-500\"\n                    onError={(e) => {\n                      console.error(\"Fout bij laden profielfoto:\", e);\n                      (e.target as HTMLImageElement).src = 'https://via.placeholder.com/80?text=Foto';\n                    }}\n                  />\n                  <div \n                    className=\"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center cursor-pointer\"\n                    onClick={() => {\n                      setProfilePhotoUrl('');\n                      setValue('profilePhoto', '');\n                    }}\n                  >\n                    \n                  </div>\n                </div>\n              ) : (\n                <div className=\"w-20 h-20 rounded-full bg-gray-200 flex items-center justify-center\">\n                  <svg className=\"w-10 h-10 text-gray-400\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path fillRule=\"evenodd\" d=\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\" clipRule=\"evenodd\" />\n                  </svg>\n                </div>\n              )}\n              <div>\n                <input\n                  type=\"file\"\n                  accept=\"image/*\"\n                  onChange={(e) => {\n                    const file = e.target.files?.[0];\n                    if (file) {\n                      handleProfilePhotoUpload(file)\n                        .then(() => console.log(\"Profielfoto succesvol bijgewerkt\"))\n                        .catch(err => console.error(\"Fout bij uploaden:\", err));\n                    }\n                  }}\n                  className=\"hidden\"\n                  id=\"profilePhoto\"\n                />\n                <label\n                  htmlFor=\"profilePhoto\"\n                  className=\"cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n                >\n                  <svg className=\"-ml-1 mr-2 h-5 w-5 text-gray-500\" fill=\"currentColor\" viewBox=\"0 0 20 20\">\n                    <path fillRule=\"evenodd\" d=\"M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z\" clipRule=\"evenodd\" />\n                  </svg>\n                  Foto uploaden\n                </label>\n                {profilePhotoUrl && (\n                  <p className=\"mt-1 text-xs text-gray-500\">\n                    Profielfoto succesvol geladen\n                  </p>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      {/* Bedrijfsgegevens */}\n      <div className=\"mt-8\">\n        <h2 className=\"text-lg font-medium mb-4\">Bedrijfsgegevens</h2>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div className=\"mb-4\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Bedrijfsnaam</label>\n            <input\n              type=\"text\"\n              {...register('companyName', { required: 'Bedrijfsnaam is verplicht' })}\n              className={`w-full px-3 py-2 border rounded-md ${errors.companyName ? 'border-red-500' : 'border-gray-300'}`}\n              onChange={e => updateFieldCache('companyName', e.target.value)}\n            />\n            {errors.companyName && <p className=\"mt-1 text-sm text-red-600\">{errors.companyName.message}</p>}\n          </div>\n          \n          <div className=\"mb-4\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">Website</label>\n            <input\n              type=\"url\"\n              {...register('companyWebsite')}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n              placeholder=\"https://bedrijf.nl\"\n              onChange={e => updateFieldCache('companyWebsite', e.target.value)}\n            />\n          </div>\n          \n          <div className=\"mb-4\">\n            <label className=\"block text-sm font-medium text-gray-700 mb-1\">KVK-nummer</label>\n            <input\n              type=\"text\"\n              {...register('kvkNumber')}\n              className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n              onChange={e => updateFieldCache('kvkNumber', e.target.value)}\n            />\n          </div>\n        </div>\n      </div>\n      \n      {/* Bedrijfsadres */}\n      <div className=\"mt-8\">\n        <h2 className=\"text-lg font-medium mb-4\">Bedrijfsadres</h2>\n        \n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n          <div className=\"grid grid-cols-2 gap-3\">\n            <div className=\"mb-4\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Straat</label>\n              <input\n                type=\"text\"\n                {...register('companyStreet')}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                onChange={e => updateFieldCache('companyStreet', e.target.value)}\n              />\n            </div>\n            \n            <div className=\"mb-4\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Huisnummer</label>\n              <input\n                type=\"text\"\n                {...register('companyHouseNumber')}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                onChange={e => updateFieldCache('companyHouseNumber', e.target.value)}\n              />\n            </div>\n          </div>\n          \n          <div className=\"grid grid-cols-2 gap-3\">\n            <div className=\"mb-4\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Postcode</label>\n              <input\n                type=\"text\"\n                {...register('companyPostalCode')}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                onChange={e => updateFieldCache('companyPostalCode', e.target.value)}\n              />\n            </div>\n            \n            <div className=\"mb-4\">\n              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Plaats</label>\n              <input\n                type=\"text\"\n                {...register('companyCity')}\n                className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n                onChange={e => updateFieldCache('companyCity', e.target.value)}\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      {/* Bedrijfsinformatie */}\n      <div className=\"mt-8\">\n        <h2 className=\"text-lg font-medium mb-4\">Over het bedrijf</h2>\n        \n        <div className=\"mb-4\">\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Logo URL</label>\n          <input\n            type=\"url\"\n            {...register('companyLogo')}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n            placeholder=\"https://bedrijf.nl/logo.png\"\n            onChange={e => updateFieldCache('companyLogo', e.target.value)}\n          />\n          <p className=\"mt-1 text-xs text-gray-500\">URL naar het bedrijfslogo voor op vacatures</p>\n        </div>\n        \n        <div className=\"mb-4\">\n          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Bedrijfsomschrijving</label>\n          <textarea\n            {...register('companyDescription')}\n            rows={5}\n            className=\"w-full px-3 py-2 border border-gray-300 rounded-md\"\n            placeholder=\"Vertel kandidaten meer over je bedrijf...\"\n            onChange={e => updateFieldCache('companyDescription', e.target.value)}\n          />\n        </div>\n      </div>\n      \n      <div className=\"mt-6\">\n        <button\n          type=\"submit\"\n          className=\"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2\"\n        >\n          Profiel opslaan\n        </button>\n      </div>\n    </form>\n  );\n};\n\nexport default RecruiterProfileForm; ","import React, { useState } from 'react';\nimport { useAuth } from '../contexts/AuthContext';\nimport { UserRole } from '../types/user';\n\nconst ProfileRecoveryComponent: React.FC = () => {\n  const { currentUser, createOrUpdateProfile } = useAuth();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState(false);\n  const [selectedRole, setSelectedRole] = useState<UserRole>('werkzoekende');\n  const [displayName, setDisplayName] = useState(currentUser?.displayName || '');\n  \n  const handleCreateProfile = async () => {\n    if (!currentUser) {\n      setError('Je moet ingelogd zijn om je profiel te herstellen');\n      return;\n    }\n    \n    if (!displayName.trim()) {\n      setError('Voer een naam in');\n      return;\n    }\n    \n    try {\n      setLoading(true);\n      setError(null);\n      \n      // Maak een nieuw profiel aan met behulp van de AuthContext functie\n      const profile = await createOrUpdateProfile(displayName, selectedRole);\n      \n      console.log('Profiel succesvol hersteld:', profile);\n      setSuccess(true);\n      \n      // Ververs de pagina na 2 seconden zodat het nieuwe profiel wordt geladen\n      setTimeout(() => {\n        window.location.reload();\n      }, 2000);\n    } catch (err) {\n      console.error('Fout bij het herstellen van profiel:', err);\n      setError('Er is een fout opgetreden bij het herstellen van je profiel. Probeer het opnieuw.');\n    } finally {\n      setLoading(false);\n    }\n  };\n  \n  return (\n    <div className=\"bg-white p-6 rounded-lg border border-gray-200 mt-4\">\n      <h2 className=\"text-xl font-semibold mb-4\">Profiel herstellen</h2>\n      \n      {error && (\n        <div className=\"bg-red-100 border-l-4 border-red-500 p-4 mb-4\">\n          <p className=\"text-red-700\">{error}</p>\n        </div>\n      )}\n      \n      {success && (\n        <div className=\"bg-green-100 border-l-4 border-green-500 p-4 mb-4\">\n          <p className=\"text-green-700\">Profiel succesvol hersteld! De pagina wordt opnieuw geladen...</p>\n        </div>\n      )}\n      \n      <div className=\"mb-4\">\n        <label className=\"block text-gray-700 font-medium mb-2\">Je naam</label>\n        <input\n          type=\"text\"\n          value={displayName}\n          onChange={(e) => setDisplayName(e.target.value)}\n          disabled={loading || success}\n          className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary-500\"\n          placeholder=\"Vul je naam in\"\n        />\n      </div>\n      \n      <div className=\"mb-6\">\n        <label className=\"block text-gray-700 font-medium mb-2\">Gebruikerstype</label>\n        <div className=\"flex space-x-6\">\n          <label className=\"inline-flex items-center\">\n            <input\n              type=\"radio\"\n              value=\"werkzoekende\"\n              checked={selectedRole === 'werkzoekende'}\n              onChange={() => setSelectedRole('werkzoekende')}\n              disabled={loading || success}\n              className=\"h-4 w-4 text-primary-600 focus:ring-primary-500\"\n            />\n            <span className=\"ml-2\">Werkzoekende</span>\n          </label>\n          \n          <label className=\"inline-flex items-center\">\n            <input\n              type=\"radio\"\n              value=\"recruiter\"\n              checked={selectedRole === 'recruiter'}\n              onChange={() => setSelectedRole('recruiter')}\n              disabled={loading || success}\n              className=\"h-4 w-4 text-primary-600 focus:ring-primary-500\"\n            />\n            <span className=\"ml-2\">Recruiter</span>\n          </label>\n        </div>\n      </div>\n      \n      <div className=\"flex justify-end\">\n        <button\n          onClick={handleCreateProfile}\n          disabled={loading || success}\n          className=\"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50\"\n        >\n          {loading ? 'Bezig...' : success ? 'Profiel Hersteld' : 'Profiel Herstellen'}\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfileRecoveryComponent; ","import React, { useState } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { useAuth } from '../contexts/AuthContext';\nimport { isJobSeeker, isRecruiter } from '../types/user';\nimport JobSeekerProfileForm from '../components/profile/JobSeekerProfileForm';\nimport RecruiterProfileForm from '../components/profile/RecruiterProfileForm';\nimport ProfileRecoveryComponent from '../components/ProfileRecoveryComponent';\n\nconst ProfilePage: React.FC = () => {\n  const { userProfile, currentUser, loading, refreshUserProfile, createOrUpdateProfile } = useAuth();\n  const [formLoading, setFormLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  const [success, setSuccess] = useState(false);\n  const [isDebugging, setIsDebugging] = useState(false);\n  const navigate = useNavigate();\n  \n  // Als het nog aan het laden is, toon een laadscherm\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center h-screen\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600\"></div>\n        <div className=\"ml-4\">Profiel laden...</div>\n      </div>\n    );\n  }\n  \n  // Als er geen gebruiker is of geen profiel, toon de herstelcomponent\n  if (!currentUser || !userProfile) {\n    return (\n      <div className=\"max-w-4xl mx-auto px-4 py-8\">\n        <h1 className=\"text-2xl font-bold mb-6\">Profiel niet gevonden</h1>\n        <p className=\"mb-6\">Het lijkt erop dat je profiel niet beschikbaar is. Je kunt het opnieuw aanmaken hieronder.</p>\n        <ProfileRecoveryComponent />\n      </div>\n    );\n  }\n  \n  // Functie om het profiel te repareren voor werkzoekende\n  const repairJobSeekerProfile = async () => {\n    try {\n      setFormLoading(true);\n      setError(null);\n      \n      // Maak het profiel opnieuw aan als werkzoekende\n      await createOrUpdateProfile(userProfile.displayName || 'Gebruiker', 'werkzoekende');\n      setSuccess(true);\n      setTimeout(() => setSuccess(false), 3000);\n    } catch (err) {\n      console.error(\"Fout bij repareren profiel:\", err);\n      setError(\"Kon profiel niet repareren. Probeer later opnieuw.\");\n    } finally {\n      setFormLoading(false);\n    }\n  };\n  \n  // Functie om het profiel te verversen\n  const handleRefreshProfile = async () => {\n    try {\n      setFormLoading(true);\n      setError(null);\n      await refreshUserProfile();\n      setSuccess(true);\n      // Reset success status na 3 seconden\n      setTimeout(() => setSuccess(false), 3000);\n    } catch (err) {\n      console.error(\"Fout bij verversen profiel:\", err);\n      setError(\"Kon profiel niet verversen. Probeer later opnieuw.\");\n    } finally {\n      setFormLoading(false);\n    }\n  };\n  \n  // Bepaal welk profielformulier getoond moet worden op basis van gebruikersrol\n  const renderProfileForm = () => {\n    // Extra robuuste controle voor werkzoekende rol\n    if (isJobSeeker(userProfile) || \n        userProfile?.role === 'werkzoekende' || \n        userProfile?.userType === 'werkzoekende') {\n      return (\n        <JobSeekerProfileForm \n          user={userProfile} \n          onSuccess={() => {\n            // Ververs het profiel na succesvolle opslag\n            refreshUserProfile()\n              .then(() => {\n                setSuccess(true);\n                setTimeout(() => setSuccess(false), 3000);\n              })\n              .catch(err => {\n                console.error(\"Fout bij verversen profiel na opslaan:\", err);\n              });\n          }} \n          onError={(msg: string) => setError(msg)}\n          setLoading={setFormLoading}\n        />\n      );\n    }\n    \n    // Extra robuuste controle voor recruiter rol\n    if (isRecruiter(userProfile) || \n        userProfile?.role === 'recruiter' || \n        userProfile?.userType === 'recruiter') {\n      return (\n        <RecruiterProfileForm \n          user={userProfile}\n          onSuccess={() => {\n            // Ververs het profiel na succesvolle opslag, maar met vertraging\n            // Dit zorgt ervoor dat de gegevens eerst in het formulier worden bewaard\n            setSuccess(true);\n            setTimeout(() => {\n              refreshUserProfile()\n                .then(() => {\n                  console.log(\"Profiel succesvol ververst na vertraging\");\n                  setTimeout(() => setSuccess(false), 3000);\n                })\n                .catch(err => {\n                  console.error(\"Fout bij verversen profiel na opslaan:\", err);\n                });\n            }, 500); // Wacht 500ms voordat het profiel wordt ververst\n          }}\n          onError={(msg: string) => setError(msg)}\n          setLoading={setFormLoading}\n        />\n      );\n    }\n    \n    // Als de rol niet duidelijk is, toon een foutmelding\n    return (\n      <div className=\"bg-yellow-100 border-l-4 border-yellow-500 p-4 mb-6\">\n        <p className=\"font-bold\">Profieltype niet herkend</p>\n        <p>We kunnen niet bepalen welk type profiel je hebt. Maak je profiel opnieuw aan om dit op te lossen.</p>\n        <div className=\"mt-4\">\n          <ProfileRecoveryComponent />\n        </div>\n      </div>\n    );\n  };\n  \n  return (\n    <div className=\"max-w-4xl mx-auto px-4 py-8\">\n      <div className=\"mb-6 flex justify-between items-center\">\n        <h1 className=\"text-2xl font-bold\">Mijn Profiel</h1>\n        <button \n          onClick={() => navigate('/dashboard')}\n          className=\"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300\"\n        >\n          Terug naar dashboard\n        </button>\n      </div>\n      \n      {error && (\n        <div className=\"bg-red-100 border-l-4 border-red-500 p-4 mb-6\">\n          <p className=\"text-red-700\">{error}</p>\n        </div>\n      )}\n      \n      {success && (\n        <div className=\"bg-green-100 border-l-4 border-green-500 p-4 mb-6\">\n          <p className=\"text-green-700\">Profiel succesvol bijgewerkt!</p>\n        </div>\n      )}\n      \n      {userProfile && !userProfile.profile && (\n        <div className=\"bg-yellow-100 border-l-4 border-yellow-500 p-4 mb-6\">\n          <p className=\"font-bold\">Profiel onvolledig</p>\n          <p>Je profiel lijkt onvolledig of beschadigd te zijn. Klik op 'Profiel repareren' om dit probleem op te lossen.</p>\n          <div className=\"mt-4\">\n            <button\n              onClick={repairJobSeekerProfile}\n              disabled={formLoading}\n              className=\"px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 disabled:opacity-50\"\n            >\n              {formLoading ? 'Bezig...' : 'Profiel repareren als werkzoekende'}\n            </button>\n          </div>\n        </div>\n      )}\n      \n      <div className=\"bg-white rounded-lg shadow-md p-6\">\n        {renderProfileForm()}\n        \n        <div className=\"mt-8 pt-6 border-t\">\n          <div className=\"flex justify-end items-center\">\n            <button\n              onClick={() => navigate('/dashboard')}\n              className=\"px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700\"\n            >\n              Opslaan en terug\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ProfilePage; "],"names":["CVUploadSection","currentCvUrl","userId","onUploadSuccess","onUploadError","uploading","setUploading","useState","progress","setProgress","selectedFile","setSelectedFile","fileInputRef","useRef","getFileNameFromUrl","url","urlParts","handleFileChange","event","handleUpload","fileExtension","fileName","cvRef","ref","storage","uploadBytes","downloadUrl","getDownloadURL","error","jsxs","jsx","CVPreviewSection","cvUrl","isExpanded","setIsExpanded","Link","isPdf","_a","generateUniqueId","convertToDate","timeStamp","date","CustomDatePicker","name","control","label","errors","isDisabled","placeholder","minDate","maxDate","Controller","onChange","onBlur","value","dateValue","parsedDate","e","DetailedCVForm","user","onSuccess","onError","setLoading","isLoading","setIsLoading","cvData","setCvData","activeSection","setActiveSection","isSubmitting","setIsSubmitting","defaultValues","useMemo","register","handleSubmit","reset","getValues","watch","useForm","certificatenFields","appendCertificaat","removeCertificaat","useFieldArray","opleidingFields","appendOpleiding","removeOpleiding","stagesFields","appendStage","removeStage","werkervaringFields","appendWerkervaring","removeWerkervaring","talenFields","appendTaal","removeTaal","hobbysFields","appendHobby","removeHobby","vaardighedenFields","appendVaardigheid","removeVaardigheid","useEffect","userDocRef","doc","db","userDocSnap","getDoc","cvDocRef","cvDocSnap","formData","userData","detailedCV","werk","opl","stage","cert","taal","hobby","vaardigheid","data","onSubmit","Timestamp","userRef","setDoc","addCertificaat","useCallback","addOpleiding","addStage","addWerkervaring","addTaal","addHobby","addVaardigheid","type","getSectionName","section","field","index","_b","_d","_c","_f","_e","_h","_g","_j","_i","_l","_k","_n","_m","_p","_o","JobSeekerProfileForm","setValue","setCvUrl","profilePhotoUrl","setProfilePhotoUrl","pitchVideoUrl","setPitchVideoUrl","isToggleActive","setIsToggleActive","isAvailableForWorkValue","initialValues","address","profileAddress","profile","photoURL","cvURLToSet","videoURLToSet","handleCvUploadSuccess","handleProfilePhotoUpload","file","getStorage","auth","storageRef","downloadURL","updateDoc","serverTimestamp","err","handleVideoUpload","MAX_SIZE_MB","MAX_SIZE_BYTES","skill","edu","updatedUser","msg","newValue","getStoredFormData","storedData","saveFormData","formCache","RecruiterProfileForm","initialFormValues","setInitialFormValues","isFormSubmitted","setIsFormSubmitted","updateFieldCache","currentData","dataSource","key","ProfileRecoveryComponent","currentUser","createOrUpdateProfile","useAuth","loading","setError","success","setSuccess","selectedRole","setSelectedRole","displayName","setDisplayName","handleCreateProfile","ProfilePage","userProfile","refreshUserProfile","formLoading","setFormLoading","isDebugging","setIsDebugging","navigate","useNavigate","repairJobSeekerProfile","renderProfileForm","isJobSeeker","isRecruiter"],"mappings":"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"}