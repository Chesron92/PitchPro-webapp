import{r as o,u as N,j as e}from"./react-vendor-wqxTS4Az.js";import{b as w,d as k}from"./index-1iGq18Ep.js";import{query as F,collection as D,where as A,orderBy as C,getDocs as I}from"./firebase-firestore-CCnivBKz.js";import"./firebase-app-CzzSlWfx.js";const R=({user:t})=>{const[S,z]=o.useState(!1),{favorites:d,loading:p,removeFavorite:h}=w(),c=N(),[m,j]=o.useState([]),[b,x]=o.useState(!0),g=async s=>{try{await h(s)}catch(a){console.error("Fout bij verwijderen favoriet:",a)}},u=s=>{c(`/job/${s}`)},f=s=>{c(`/applications/${s}`)};(()=>{let s=0,a=0;const n=["displayName","email","phoneNumber"];s+=n.length,n.forEach(l=>{t[l]&&a++});const i=["street","houseNumber","postalCode","city","country"];if(s+=i.length,i.forEach(l=>{(t[l]||t.address&&typeof t.address=="object"&&t.address[l])&&a++}),t.profile){const l=["skills","availability","cv","linkedin","portfolio","experience","education"];s+=l.length,l.forEach(r=>{t.profile&&t.profile[r]&&(Array.isArray(t.profile[r])?t.profile[r].length>0&&a++:a++)})}return Math.round(a/s*100)})(),o.useEffect(()=>{(async()=>{if(t.id)try{x(!0);const a=F(D(k,"sollicitaties"),A("userId","==",t.id),C("applicationDate","desc")),n=await I(a),i=[];n.forEach(l=>{const r=l.data();i.push({id:l.id,jobId:r.jobId,jobTitle:r.jobTitle||"Onbekende functie",companyName:r.companyName||"Onbekend bedrijf",status:r.status||"pending",applicationDate:r.applicationDate})}),j(i)}catch(a){console.error("Fout bij ophalen sollicitaties:",a)}finally{x(!1)}})()},[t.id]);const v=s=>s?s.toDate().toLocaleDateString("nl-NL",{day:"numeric",month:"long",year:"numeric"}):"Onbekende datum",y=s=>{switch(s){case"pending":return{color:"blue",bg:"blue-100",text:"Nieuw"};case"reviewing":return{color:"yellow",bg:"yellow-100",text:"In behandeling"};case"interview":return{color:"green",bg:"green-100",text:"Gesprek ingepland"};case"rejected":return{color:"red",bg:"red-100",text:"Afgewezen"};case"accepted":return{color:"emerald",bg:"emerald-100",text:"Aangenomen"};default:return{color:"gray",bg:"gray-100",text:"Onbekend"}}};return e.jsx("div",{className:"max-w-6xl mx-auto px-4 py-8",children:e.jsxs("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[e.jsxs("div",{className:"p-6 bg-gradient-to-r from-primary-700 to-primary-900 text-white",children:[e.jsxs("h1",{className:"text-3xl font-bold",children:["Welkom, ",t.displayName||"Werkzoekende"]}),e.jsx("p",{className:"mt-2 text-primary-100",children:"Vind je droombaan en beheer je sollicitaties op één plek"})]}),e.jsx("div",{className:"p-6 border-b",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Mijn profiel"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Zorg dat je profiel compleet is om je kansen op een baan te vergroten"})]}),e.jsx("a",{href:"/profile",className:"mt-4 md:mt-0 inline-block px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-md",children:"Profiel bekijken"})]})}),e.jsxs("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"bg-white border rounded-lg shadow-sm p-5",children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Verstuurde sollicitaties"}),e.jsx("div",{className:"space-y-3",children:b?e.jsx("div",{className:"flex justify-center py-4",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-primary-600"})}):m.length>0?e.jsx("div",{className:"space-y-3",children:m.map(s=>{const a=y(s.status);return e.jsxs("div",{className:`border-l-4 border-${a.color}-500 pl-3 py-2 hover:bg-gray-50 cursor-pointer transition-colors duration-200`,onClick:()=>f(s.id),children:[e.jsxs("p",{className:"font-medium",children:[s.jobTitle," bij ",s.companyName]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("p",{className:"text-sm text-gray-600",children:["Ingediend op ",v(s.applicationDate)]}),e.jsx("span",{className:`text-xs font-medium bg-${a.bg} text-${a.color}-800 px-2 py-1 rounded-full`,children:a.text})]})]},s.id)})}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-gray-500 text-sm italic",children:"Je hebt nog geen sollicitaties verstuurd."}),e.jsx("a",{href:"/jobs",className:"block text-primary-600 hover:text-primary-800 font-medium",children:"Zoek vacatures om te solliciteren"})]})})]}),e.jsxs("div",{className:"bg-white border rounded-lg shadow-sm p-5",children:[e.jsx("h3",{className:"font-semibold text-lg mb-4",children:"Favoriete vacatures"}),e.jsx("div",{className:"space-y-3",children:p?e.jsx("div",{className:"flex justify-center py-4",children:e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-primary-600"})}):d.length>0?e.jsx("div",{className:"space-y-3",children:d.map(s=>{var a,n,i,l;return e.jsxs("div",{className:"border rounded-md p-3 hover:bg-gray-50",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("p",{className:"font-medium",children:((a=s.job)==null?void 0:a.title)||"Onbekende functie"}),e.jsx("button",{onClick:()=>g(s.jobId),className:"text-yellow-500 hover:text-yellow-600","aria-label":"Verwijder uit favorieten",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})})]}),e.jsxs("p",{className:"text-sm text-gray-600",children:[((n=s.job)==null?void 0:n.company)||"Onbekend bedrijf",", ",((i=s.job)==null?void 0:i.location)||"Onbekende locatie"]}),e.jsxs("div",{className:"mt-2 flex justify-between items-center",children:[((l=s.job)==null?void 0:l.salary)&&e.jsxs("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:["€",s.job.salary]}),e.jsx("button",{onClick:()=>u(s.jobId),className:"text-primary-600 hover:text-primary-800 text-sm",children:"Bekijken →"})]})]},s.id)})}):e.jsxs(e.Fragment,{children:[e.jsx("p",{className:"text-gray-500 text-sm italic",children:"Je hebt nog geen vacatures als favoriet gemarkeerd."}),e.jsx("a",{href:"/jobs",className:"block text-primary-600 hover:text-primary-800 font-medium",children:"Ontdek interessante vacatures"})]})})]}),e.jsxs("div",{className:"bg-white border rounded-lg shadow-sm p-5 col-span-1 md:col-span-2",children:[e.jsx("div",{className:"flex justify-between items-center mb-4",children:e.jsx("h3",{className:"font-semibold text-lg",children:"Mijn Agenda"})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("p",{className:"text-gray-500 text-sm italic",children:"Je hebt geen geplande sollicitatiegesprekken of afspraken."}),e.jsx("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-3 rounded",children:e.jsxs("p",{className:"text-sm text-blue-700",children:[e.jsx("span",{className:"font-medium",children:"Info:"})," Als werkzoekende kun je alleen afspraken ontvangen van recruiters. Je kunt zelf geen afspraken plannen."]})}),e.jsx("div",{className:"hidden",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx("div",{className:"border-l-4 border-blue-500 pl-3 py-2",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-3 text-blue-700",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Sollicitatiegesprek bij TechCorp"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Morgen, 10:00 - 11:00"})]})]})}),e.jsx("div",{className:"border-l-4 border-green-500 pl-3 py-2",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"mr-3 text-green-700",children:e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Telefonische screening InnovateCo"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Woensdag, 14:30 - 15:00"})]})]})})]})})]})]})]})]})})};export{R as default};
//# sourceMappingURL=JobSeekerDashboard-qy_fsH6i.js.map
