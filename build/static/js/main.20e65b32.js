/*! For license information please see main.20e65b32.js.LICENSE.txt */
(()=>{"use strict";var e={19:(e,t,n)=>{var r=n(917),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},393:(e,t,n)=>{e.exports=n(19)},484:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},p=Object.assign,g={};function v(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,p(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)j.call(t,i)&&!k.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:N.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+C(l,0):s,w(a)?(i="",null!=e&&(i=e.replace(S,"$&/")+"/"),T(a,t,i,"",(function(e){return e}))):null!=a&&(E(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(S,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+C(o=e[c],c);l+=T(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=m&&e[m]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=T(o=o.value,t,i,u=s+C(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function I(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function A(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var D={current:null},R={transition:null},P={ReactCurrentDispatcher:D,ReactCurrentBatchConfig:R,ReactCurrentOwner:N};t.Children={map:I,forEach:function(e,t,n){I(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return I(e,(function(){t++})),t},toArray:function(e){return I(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=P,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=p({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=N.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!k.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=R.transition;R.transition={};try{e()}finally{R.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return D.current.useCallback(e,t)},t.useContext=function(e){return D.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return D.current.useDeferredValue(e)},t.useEffect=function(e,t){return D.current.useEffect(e,t)},t.useId=function(){return D.current.useId()},t.useImperativeHandle=function(e,t,n){return D.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return D.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return D.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return D.current.useMemo(e,t)},t.useReducer=function(e,t,n){return D.current.useReducer(e,t,n)},t.useRef=function(e){return D.current.useRef(e)},t.useState=function(e){return D.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return D.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return D.current.useTransition()},t.version="18.2.0"},533:(e,t,n)=>{var r=n(540);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},540:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(772)},547:(e,t,n)=>{e.exports=n(556)},556:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],d=1,h=null,m=3,f=!1,p=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!p)if(null!==r(c))p=!0,R(j);else{var t=r(u);null!==t&&P(w,t.startTime-e)}}function j(e,n){p=!1,g&&(g=!1,y(E),E=-1),f=!0;var s=m;try{for(x(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!T());){var a=h.callback;if("function"===typeof a){h.callback=null,m=h.priorityLevel;var o=a(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&i(c),x(n)}else i(c);h=r(c)}if(null!==h)var l=!0;else{var d=r(u);null!==d&&P(w,d.startTime-n),l=!1}return l}finally{h=null,m=s,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,_=null,E=-1,S=5,C=-1;function T(){return!(t.unstable_now()-C<S)}function I(){if(null!==_){var e=t.unstable_now();C=e;var n=!0;try{n=_(!0,e)}finally{n?N():(k=!1,_=null)}}else k=!1}if("function"===typeof b)N=function(){b(I)};else if("undefined"!==typeof MessageChannel){var A=new MessageChannel,D=A.port2;A.port1.onmessage=I,N=function(){D.postMessage(null)}}else N=function(){v(I,0)};function R(e){_=e,k||(k=!0,N())}function P(e,n){E=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){p||f||(p=!0,R(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(m){case 1:case 2:case 3:var t=3;break;default:t=m}var n=m;m=t;try{return e()}finally{m=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=m;m=e;try{return t()}finally{m=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:d++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(y(E),E=-1):g=!0,P(w,s-a))):(e.sortIndex=o,n(c,e),p||f||(p=!0,R(j))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=m;return function(){var n=m;m=t;try{return e.apply(this,arguments)}finally{m=n}}}},772:(e,t,n)=>{var r=n(917),i=n(547);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},f={};function p(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new p(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new p(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new p(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new p(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new p(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new p(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new p(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new p(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new p(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=g.hasOwnProperty(t)?g[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(f,e)||!d.call(m,e)&&(h.test(e)?f[e]=!0:(m[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new p(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new p(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new p(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new p("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new p(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),S=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),D=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var R=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var P=Symbol.iterator;function O(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=P&&e[P]||e["@@iterator"])?e:null}var L,F=Object.assign;function M(e){if(void 0===L)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);L=t&&t[1]||""}return"\n"+L+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M(e):""}function z(e){switch(e.tag){case 5:return M(e.type);case 16:return M("Lazy");case 13:return M("Suspense");case 19:return M("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case j:return"Portal";case _:return"Profiler";case k:return"StrictMode";case T:return"Suspense";case I:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case A:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case D:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function $(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function G(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function K(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(xa){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function X(e,t){Y(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&K(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var me={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||me.hasOwnProperty(e)&&me[e]?(""+t).trim():t+"px"}function ge(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=pe(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(me).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),me[t]=me[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xe=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Ne=null,ke=null;function _e(e){if(e=bi(e)){if("function"!==typeof je)throw Error(s(280));var t=e.stateNode;t&&(t=wi(t),je(e.stateNode,e.type,t))}}function Ee(e){Ne?ke?ke.push(e):ke=[e]:Ne=e}function Se(){if(Ne){var e=Ne,t=ke;if(ke=Ne=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ce(e,t){return e(t)}function Te(){}var Ie=!1;function Ae(e,t,n){if(Ie)return e(t,n);Ie=!0;try{return Ce(e,t,n)}finally{Ie=!1,(null!==Ne||null!==ke)&&(Te(),Se())}}function De(e,t){var n=e.stateNode;if(null===n)return null;var r=wi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Re=!1;if(u)try{var Pe={};Object.defineProperty(Pe,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Pe,Pe),window.removeEventListener("test",Pe,Pe)}catch(ue){Re=!1}function Oe(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Le=!1,Fe=null,Me=!1,Ue=null,Ve={onError:function(e){Le=!0,Fe=e}};function ze(e,t,n,r,i,s,a,o,l){Le=!1,Fe=null,Oe.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function $e(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Be(e)!==e)throw Error(s(188))}function qe(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ge=i.unstable_scheduleCallback,Ke=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Je=i.unstable_requestPaint,Ye=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=dt(o):0!==(s&=a)&&(r=dt(s))}else 0!==(a=n&~i)?r=dt(a):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function mt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function pt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function gt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function xt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,Nt,kt,_t,Et=!1,St=[],Ct=null,Tt=null,It=null,At=new Map,Dt=new Map,Rt=[],Pt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ot(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":It=null;break;case"pointerover":case"pointerout":At.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dt.delete(t.pointerId)}}function Lt(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&jt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=$e(n)))return e.blockedOn=t,void _t(e.priority,(function(){Nt(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Mt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&jt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);xe=r,n.target.dispatchEvent(r),xe=null,t.shift()}return!0}function Ut(e,t,n){Mt(e)&&n.delete(t)}function Vt(){Et=!1,null!==Ct&&Mt(Ct)&&(Ct=null),null!==Tt&&Mt(Tt)&&(Tt=null),null!==It&&Mt(It)&&(It=null),At.forEach(Ut),Dt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<St.length){zt(St[0],e);for(var n=1;n<St.length;n++){var r=St[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Tt&&zt(Tt,e),null!==It&&zt(It,e),At.forEach(t),Dt.forEach(t),n=0;n<Rt.length;n++)(r=Rt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Rt.length&&null===(n=Rt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Rt.shift()}var $t=x.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,n,r){var i=bt,s=$t.transition;$t.transition=null;try{bt=1,Gt(e,t,n,r)}finally{bt=i,$t.transition=s}}function Wt(e,t,n,r){var i=bt,s=$t.transition;$t.transition=null;try{bt=4,Gt(e,t,n,r)}finally{bt=i,$t.transition=s}}function Gt(e,t,n,r){if(Ht){var i=Qt(e,t,n,r);if(null===i)Hr(e,t,r,Kt,n),Ot(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Lt(Ct,e,t,n,r,i),!0;case"dragenter":return Tt=Lt(Tt,e,t,n,r,i),!0;case"mouseover":return It=Lt(It,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return At.set(s,Lt(At.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Dt.set(s,Lt(Dt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Ot(e,r),4&t&&-1<Pt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&wt(s),null===(s=Qt(e,t,n,r))&&Hr(e,t,r,Kt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Kt=null;function Qt(e,t,n,r){if(Kt=null,null!==(e=yi(e=we(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=$e(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Kt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Yt?Yt.value:Yt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),dn=F({},cn,{view:0,detail:0}),hn=sn(dn),mn=F({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),fn=sn(mn),pn=sn(F({},mn,{dataTransfer:0})),gn=sn(F({},dn,{relatedTarget:0})),vn=sn(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),xn=sn(F({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function _n(){return kn}var En=F({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=sn(En),Cn=sn(F({},mn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=sn(F({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),In=sn(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=F({},mn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(An),Rn=[9,13,27,32],Pn=u&&"CompositionEvent"in window,On=null;u&&"documentMode"in document&&(On=document.documentMode);var Ln=u&&"TextEvent"in window&&!On,Fn=u&&(!Pn||On&&8<On&&11>=On),Mn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==Rn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var $n={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!$n[e.type]:"textarea"===t}function qn(e,t,n,r){Ee(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Gn=null;function Kn(e){Mr(e,0)}function Qn(e){if(G(xi(e)))return e}function Jn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Xn;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Yn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Gn=Wn=null)}function nr(e){if("value"===e.propertyName&&Qn(Gn)){var t=[];qn(t,Gn,e,we(e)),Ae(Kn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Gn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Gn)}function sr(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!d.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=K();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=K((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&mr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var pr=u&&"documentMode"in document&&11>=document.documentMode,gr=null,vr=null,yr=null,br=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==gr||gr!==K(r)||("selectionStart"in(r=gr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Wr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Nr={},kr={};function _r(e){if(Nr[e])return Nr[e];if(!jr[e])return e;var t,n=jr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Nr[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);var Er=_r("animationend"),Sr=_r("animationiteration"),Cr=_r("animationstart"),Tr=_r("transitionend"),Ir=new Map,Ar="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Dr(e,t){Ir.set(e,t),l(t,[e])}for(var Rr=0;Rr<Ar.length;Rr++){var Pr=Ar[Rr];Dr(Pr.toLowerCase(),"on"+(Pr[0].toUpperCase()+Pr.slice(1)))}Dr(Er,"onAnimationEnd"),Dr(Sr,"onAnimationIteration"),Dr(Cr,"onAnimationStart"),Dr("dblclick","onDoubleClick"),Dr("focusin","onFocus"),Dr("focusout","onBlur"),Dr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Or="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Or));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(ze.apply(this,arguments),Le){if(!Le)throw Error(s(198));var u=Fe;Le=!1,Fe=null,Me||(Me=!0,Ue=u)}}(r,t,void 0,e),e.currentTarget=null}function Mr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,o,c),s=l}}}if(Me)throw e=Ue,Me=!1,Ue=null,e}function Ur(e,t){var n=t[pi];void 0===n&&(n=t[pi]=new Set);var r=e+"__bubble";n.has(r)||($r(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),$r(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Lr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function $r(e,t,n,r){switch(Jt(t)){case 1:var i=qt;break;case 4:i=Wt;break;default:i=Gt}n=i.bind(null,t,n,e),i=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Ae((function(){var r=s,i=we(n),a=[];e:{var o=Ir.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Sn;break;case"focusin":c="focus",l=gn;break;case"focusout":c="blur",l=gn;break;case"beforeblur":case"afterblur":l=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Tn;break;case Er:case Sr:case Cr:l=vn;break;case Tr:l=In;break;case"scroll":l=hn;break;case"wheel":l=Dn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==o?o+"Capture":null:o;u=[];for(var m,f=r;null!==f;){var p=(m=f).stateNode;if(5===m.tag&&null!==p&&(m=p,null!==h&&(null!=(p=De(f,h))&&u.push(qr(f,p,m)))),d)break;f=f.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===xe||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[fi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,p="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,p="onPointerLeave",h="onPointerEnter",f="pointer"),d=null==l?o:xi(l),m=null==c?o:xi(c),(o=new u(p,f+"leave",l,n,i)).target=d,o.relatedTarget=m,p=null,yi(i)===r&&((u=new u(h,f+"enter",c,n,i)).target=m,u.relatedTarget=d,p=u),d=p,l&&c)e:{for(h=c,f=0,m=u=l;m;m=Gr(m))f++;for(m=0,p=h;p;p=Gr(p))m++;for(;0<f-m;)u=Gr(u),f--;for(;0<m-f;)h=Gr(h),m--;for(;f--;){if(u===h||null!==h&&u===h.alternate)break e;u=Gr(u),h=Gr(h)}u=null}else u=null;null!==l&&Kr(a,o,l,u,!1),null!==c&&null!==d&&Kr(a,d,c,u,!0)}if("select"===(l=(o=r?xi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var g=Jn;else if(Hn(o))if(Yn)g=ar;else{g=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(g=sr);switch(g&&(g=g(e,r))?qn(a,g,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?xi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(gr=v,vr=r,yr=null);break;case"focusout":yr=vr=gr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,xr(a,n,i);break;case"selectionchange":if(pr)break;case"keydown":case"keyup":xr(a,n,i)}var y;if(Pn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Bn?Vn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Bn&&(y=en()):(Xt="value"in(Yt=i)?Yt.value:Yt.textContent,Bn=!0)),0<(v=Wr(r,b)).length&&(b=new xn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=zn(n))&&(b.data=y))),(y=Ln?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,Mn);case"textInput":return(e=t.data)===Mn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Pn&&Vn(e,t)?(e=en(),Zt=Xt=Yt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}Mr(a,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=De(e,n))&&r.unshift(qr(e,s,i)),null!=(s=De(e,t))&&r.push(qr(e,s,i))),e=e.return}return r}function Gr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Kr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=De(n,s))&&a.unshift(qr(n,l,o)):i||null!=(l=De(n,s))&&a.push(qr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Jr,"")}function Xr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var di=Math.random().toString(36).slice(2),hi="__reactFiber$"+di,mi="__reactProps$"+di,fi="__reactContainer$"+di,pi="__reactEvents$"+di,gi="__reactListeners$"+di,vi="__reactHandles$"+di;function yi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[hi])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[hi]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function xi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wi(e){return e[mi]||null}var ji=[],Ni=-1;function ki(e){return{current:e}}function _i(e){0>Ni||(e.current=ji[Ni],ji[Ni]=null,Ni--)}function Ei(e,t){Ni++,ji[Ni]=e.current,e.current=t}var Si={},Ci=ki(Si),Ti=ki(!1),Ii=Si;function Ai(e,t){var n=e.type.contextTypes;if(!n)return Si;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Di(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ri(){_i(Ti),_i(Ci)}function Pi(e,t,n){if(Ci.current!==Si)throw Error(s(168));Ei(Ci,t),Ei(Ti,n)}function Oi(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,$(e)||"Unknown",i));return F({},n,r)}function Li(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Si,Ii=Ci.current,Ei(Ci,e),Ei(Ti,Ti.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Oi(e,t,Ii),r.__reactInternalMemoizedMergedChildContext=e,_i(Ti),_i(Ci),Ei(Ci,e)):_i(Ti),Ei(Ti,n)}var Mi=null,Ui=!1,Vi=!1;function zi(e){null===Mi?Mi=[e]:Mi.push(e)}function Bi(){if(!Vi&&null!==Mi){Vi=!0;var e=0,t=bt;try{var n=Mi;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Mi=null,Ui=!1}catch(i){throw null!==Mi&&(Mi=Mi.slice(e+1)),Ge(Ze,Bi),i}finally{bt=t,Vi=!1}}return null}var $i=[],Hi=0,qi=null,Wi=0,Gi=[],Ki=0,Qi=null,Ji=1,Yi="";function Xi(e,t){$i[Hi++]=Wi,$i[Hi++]=qi,qi=e,Wi=t}function Zi(e,t,n){Gi[Ki++]=Ji,Gi[Ki++]=Yi,Gi[Ki++]=Qi,Qi=e;var r=Ji;e=Yi;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Ji=1<<32-at(t)+i|n<<i|r,Yi=s+e}else Ji=1<<s|n<<i|r,Yi=e}function es(e){null!==e.return&&(Xi(e,1),Zi(e,1,0))}function ts(e){for(;e===qi;)qi=$i[--Hi],$i[Hi]=null,Wi=$i[--Hi],$i[Hi]=null;for(;e===Qi;)Qi=Gi[--Ki],Gi[Ki]=null,Yi=Gi[--Ki],Gi[Ki]=null,Ji=Gi[--Ki],Gi[Ki]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Rc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Ji,overflow:Yi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Rc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw hs(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function hs(){for(var e=rs;e;)e=ci(e.nextSibling)}function ms(){rs=ns=null,is=!1}function fs(e){null===ss?ss=[e]:ss.push(e)}var ps=x.ReactCurrentBatchConfig;function gs(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var vs=ki(null),ys=null,bs=null,xs=null;function ws(){xs=bs=ys=null}function js(e){var t=vs.current;_i(vs),e._currentValue=t}function Ns(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ks(e,t){ys=e,xs=bs=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wo=!0),e.firstContext=null)}function _s(e){var t=e._currentValue;if(xs!==e)if(e={context:e,memoizedValue:t,next:null},null===bs){if(null===ys)throw Error(s(308));bs=e,ys.dependencies={lanes:0,firstContext:e}}else bs=bs.next=e;return t}var Es=null;function Ss(e){null===Es?Es=[e]:Es.push(e)}function Cs(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ss(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ts(e,r)}function Ts(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Is=!1;function As(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ds(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Rs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ps(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ts(e,n)}return null===(i=r.interleaved)?(t.next=t,Ss(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ts(e,n)}function Os(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Ls(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fs(e,t,n,r){var i=e.updateQueue;Is=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=i.baseState;for(a=0,u=c=l=null,o=s;;){var h=o.lane,m=o.eventTime;if((r&h)===h){null!==u&&(u=u.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,p=o;switch(h=t,m=n,p.tag){case 1:if("function"===typeof(f=p.payload)){d=f.call(m,d,h);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=p.payload)?f.call(m,d,h):f)||void 0===h)break e;d=F({},d,h);break e;case 2:Is=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=m,l=d):u=u.next=m,a|=h;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(h=o).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===u&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ml|=a,e.lanes=a,e.memoizedState=d}}function Ms(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Us=(new r.Component).refs;function Vs(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var zs={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=nc(),i=rc(e),s=Rs(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ps(e,s,i))&&(ic(t,e,i,r),Os(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=nc(),i=rc(e),s=Rs(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ps(e,s,i))&&(ic(t,e,i,r),Os(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=nc(),r=rc(e),i=Rs(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Ps(e,i,r))&&(ic(t,e,r,n),Os(t,e,r))}};function Bs(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function $s(e,t,n){var r=!1,i=Si,s=t.contextType;return"object"===typeof s&&null!==s?s=_s(s):(i=Di(t)?Ii:Ci.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ai(e,i):Si),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=zs,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Hs(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&zs.enqueueReplaceState(t,t.state,null)}function qs(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=Us,As(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=_s(s):(s=Di(t)?Ii:Ci.current,i.context=Ai(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(Vs(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&zs.enqueueReplaceState(i,i.state,null),Fs(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function Ws(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;t===Us&&(t=i.refs={}),null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ks(e){return(0,e._init)(e._payload)}function Qs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Oc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Uc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===N?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===D&&Ks(s)===t.type)?((r=i(t,n.props)).ref=Ws(e,t,n),r.return=e,r):((r=Lc(n.type,n.key,n.props,null,e.mode,r)).ref=Ws(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Vc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Fc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Uc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Lc(t.type,t.key,t.props,null,e.mode,n)).ref=Ws(e,null,t),n.return=e,n;case j:return(t=Vc(t,e.mode,n)).return=e,t;case D:return h(e,(0,t._init)(t._payload),n)}if(te(t)||O(t))return(t=Fc(t,e.mode,n,null)).return=e,t;Gs(e,t)}return null}function m(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===i?c(e,t,n,r):null;case j:return n.key===i?u(e,t,n,r):null;case D:return m(e,t,(i=n._init)(n._payload),r)}if(te(n)||O(n))return null!==i?null:d(e,t,n,r,null);Gs(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case j:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case D:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||O(r))return d(t,e=e.get(n)||null,r,i,null);Gs(t,r)}return null}function p(i,s,o,l){for(var c=null,u=null,d=s,p=s=0,g=null;null!==d&&p<o.length;p++){d.index>p?(g=d,d=null):g=d.sibling;var v=m(i,d,o[p],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(i,d),s=a(v,s,p),null===u?c=v:u.sibling=v,u=v,d=g}if(p===o.length)return n(i,d),is&&Xi(i,p),c;if(null===d){for(;p<o.length;p++)null!==(d=h(i,o[p],l))&&(s=a(d,s,p),null===u?c=d:u.sibling=d,u=d);return is&&Xi(i,p),c}for(d=r(i,d);p<o.length;p++)null!==(g=f(d,i,p,o[p],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?p:g.key),s=a(g,s,p),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(i,e)})),is&&Xi(i,p),c}function g(i,o,l,c){var u=O(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,p=o,g=o=0,v=null,y=l.next();null!==p&&!y.done;g++,y=l.next()){p.index>g?(v=p,p=null):v=p.sibling;var b=m(i,p,y.value,c);if(null===b){null===p&&(p=v);break}e&&p&&null===b.alternate&&t(i,p),o=a(b,o,g),null===d?u=b:d.sibling=b,d=b,p=v}if(y.done)return n(i,p),is&&Xi(i,g),u;if(null===p){for(;!y.done;g++,y=l.next())null!==(y=h(i,y.value,c))&&(o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return is&&Xi(i,g),u}for(p=r(i,p);!y.done;g++,y=l.next())null!==(y=f(p,i,g,y.value,c))&&(e&&null!==y.alternate&&p.delete(null===y.key?g:y.key),o=a(y,o,g),null===d?u=y:d.sibling=y,d=y);return e&&p.forEach((function(e){return t(i,e)})),is&&Xi(i,g),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===N&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case w:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===N){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===D&&Ks(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=Ws(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===N?((s=Fc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Lc(a.type,a.key,a.props,null,r.mode,l)).ref=Ws(r,s,a),l.return=r,r=l)}return o(r);case j:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Vc(a,r.mode,l)).return=r,r=s}return o(r);case D:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return p(r,s,a,l);if(O(a))return g(r,s,a,l);Gs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=Uc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var Js=Qs(!0),Ys=Qs(!1),Xs={},Zs=ki(Xs),ea=ki(Xs),ta=ki(Xs);function na(e){if(e===Xs)throw Error(s(174));return e}function ra(e,t){switch(Ei(ta,t),Ei(ea,e),Ei(Zs,Xs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_i(Zs),Ei(Zs,t)}function ia(){_i(Zs),_i(ea),_i(ta)}function sa(e){na(ta.current);var t=na(Zs.current),n=le(t,e.type);t!==n&&(Ei(ea,e),Ei(Zs,n))}function aa(e){ea.current===e&&(_i(Zs),_i(ea))}var oa=ki(0);function la(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ca=[];function ua(){for(var e=0;e<ca.length;e++)ca[e]._workInProgressVersionPrimary=null;ca.length=0}var da=x.ReactCurrentDispatcher,ha=x.ReactCurrentBatchConfig,ma=0,fa=null,pa=null,ga=null,va=!1,ya=!1,ba=0,wa=0;function ja(){throw Error(s(321))}function Na(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ka(e,t,n,r,i,a){if(ma=a,fa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,da.current=null===e||null===e.memoizedState?oo:lo,e=n(r,i),ya){a=0;do{if(ya=!1,ba=0,25<=a)throw Error(s(301));a+=1,ga=pa=null,t.updateQueue=null,da.current=co,e=n(r,i)}while(ya)}if(da.current=ao,t=null!==pa&&null!==pa.next,ma=0,ga=pa=fa=null,va=!1,t)throw Error(s(300));return e}function _a(){var e=0!==ba;return ba=0,e}function Ea(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ga?fa.memoizedState=ga=e:ga=ga.next=e,ga}function Sa(){if(null===pa){var e=fa.alternate;e=null!==e?e.memoizedState:null}else e=pa.next;var t=null===ga?fa.memoizedState:ga.next;if(null!==t)ga=t,pa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(pa=e).memoizedState,baseState:pa.baseState,baseQueue:pa.baseQueue,queue:pa.queue,next:null},null===ga?fa.memoizedState=ga=e:ga=ga.next=e}return ga}function Ca(e,t){return"function"===typeof t?t(e):t}function Ta(e){var t=Sa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=pa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var d=u.lane;if((ma&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,fa.lanes|=d,Ml|=d}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(wo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,fa.lanes|=a,Ml|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Ia(e){var t=Sa(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(wo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Aa(){}function Da(e,t){var n=fa,r=Sa(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,wo=!0),r=r.queue,Ha(Oa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==ga&&1&ga.memoizedState.tag){if(n.flags|=2048,Ua(9,Pa.bind(null,n,r,i,t),void 0,null),null===Al)throw Error(s(349));0!==(30&ma)||Ra(n,t,i)}return i}function Ra(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=fa.updateQueue)?(t={lastEffect:null,stores:null},fa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Pa(e,t,n,r){t.value=n,t.getSnapshot=r,La(t)&&Fa(e)}function Oa(e,t,n){return n((function(){La(t)&&Fa(e)}))}function La(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Fa(e){var t=Ts(e,1);null!==t&&ic(t,e,1,-1)}function Ma(e){var t=Ea();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ca,lastRenderedState:e},t.queue=e,e=e.dispatch=no.bind(null,fa,e),[t.memoizedState,e]}function Ua(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=fa.updateQueue)?(t={lastEffect:null,stores:null},fa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Va(){return Sa().memoizedState}function za(e,t,n,r){var i=Ea();fa.flags|=e,i.memoizedState=Ua(1|t,n,void 0,void 0===r?null:r)}function Ba(e,t,n,r){var i=Sa();r=void 0===r?null:r;var s=void 0;if(null!==pa){var a=pa.memoizedState;if(s=a.destroy,null!==r&&Na(r,a.deps))return void(i.memoizedState=Ua(t,n,s,r))}fa.flags|=e,i.memoizedState=Ua(1|t,n,s,r)}function $a(e,t){return za(8390656,8,e,t)}function Ha(e,t){return Ba(2048,8,e,t)}function qa(e,t){return Ba(4,2,e,t)}function Wa(e,t){return Ba(4,4,e,t)}function Ga(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ka(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Ba(4,4,Ga.bind(null,t,e),n)}function Qa(){}function Ja(e,t){var n=Sa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Na(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ya(e,t){var n=Sa();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&Na(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Xa(e,t,n){return 0===(21&ma)?(e.baseState&&(e.baseState=!1,wo=!0),e.memoizedState=n):(or(n,t)||(n=pt(),fa.lanes|=n,Ml|=n,e.baseState=!0),t)}function Za(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ha.transition;ha.transition={};try{e(!1),t()}finally{bt=n,ha.transition=r}}function eo(){return Sa().memoizedState}function to(e,t,n){var r=rc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ro(e))io(t,n);else if(null!==(n=Cs(e,t,n,r))){ic(n,e,r,nc()),so(n,t,r)}}function no(e,t,n){var r=rc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ro(e))io(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ss(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Cs(e,t,i,r))&&(ic(n,e,r,i=nc()),so(n,t,r))}}function ro(e){var t=e.alternate;return e===fa||null!==t&&t===fa}function io(e,t){ya=va=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function so(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var ao={readContext:_s,useCallback:ja,useContext:ja,useEffect:ja,useImperativeHandle:ja,useInsertionEffect:ja,useLayoutEffect:ja,useMemo:ja,useReducer:ja,useRef:ja,useState:ja,useDebugValue:ja,useDeferredValue:ja,useTransition:ja,useMutableSource:ja,useSyncExternalStore:ja,useId:ja,unstable_isNewReconciler:!1},oo={readContext:_s,useCallback:function(e,t){return Ea().memoizedState=[e,void 0===t?null:t],e},useContext:_s,useEffect:$a,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,za(4194308,4,Ga.bind(null,t,e),n)},useLayoutEffect:function(e,t){return za(4194308,4,e,t)},useInsertionEffect:function(e,t){return za(4,2,e,t)},useMemo:function(e,t){var n=Ea();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ea();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=to.bind(null,fa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ea().memoizedState=e},useState:Ma,useDebugValue:Qa,useDeferredValue:function(e){return Ea().memoizedState=e},useTransition:function(){var e=Ma(!1),t=e[0];return e=Za.bind(null,e[1]),Ea().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=fa,i=Ea();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Al)throw Error(s(349));0!==(30&ma)||Ra(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,$a(Oa.bind(null,r,a,e),[e]),r.flags|=2048,Ua(9,Pa.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ea(),t=Al.identifierPrefix;if(is){var n=Yi;t=":"+t+"R"+(n=(Ji&~(1<<32-at(Ji)-1)).toString(32)+n),0<(n=ba++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=wa++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},lo={readContext:_s,useCallback:Ja,useContext:_s,useEffect:Ha,useImperativeHandle:Ka,useInsertionEffect:qa,useLayoutEffect:Wa,useMemo:Ya,useReducer:Ta,useRef:Va,useState:function(){return Ta(Ca)},useDebugValue:Qa,useDeferredValue:function(e){return Xa(Sa(),pa.memoizedState,e)},useTransition:function(){return[Ta(Ca)[0],Sa().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Da,useId:eo,unstable_isNewReconciler:!1},co={readContext:_s,useCallback:Ja,useContext:_s,useEffect:Ha,useImperativeHandle:Ka,useInsertionEffect:qa,useLayoutEffect:Wa,useMemo:Ya,useReducer:Ia,useRef:Va,useState:function(){return Ia(Ca)},useDebugValue:Qa,useDeferredValue:function(e){var t=Sa();return null===pa?t.memoizedState=e:Xa(t,pa.memoizedState,e)},useTransition:function(){return[Ia(Ca)[0],Sa().memoizedState]},useMutableSource:Aa,useSyncExternalStore:Da,useId:eo,unstable_isNewReconciler:!1};function uo(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function ho(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function mo(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var fo="function"===typeof WeakMap?WeakMap:Map;function po(e,t,n){(n=Rs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wl||(Wl=!0,Gl=r),mo(0,t)},n}function go(e,t,n){(n=Rs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){mo(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){mo(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function vo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fo;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function yo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function bo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Rs(-1,1)).tag=2,Ps(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var xo=x.ReactCurrentOwner,wo=!1;function jo(e,t,n,r){t.child=null===e?Ys(t,null,n,r):Js(t,e.child,n,r)}function No(e,t,n,r,i){n=n.render;var s=t.ref;return ks(t,i),r=ka(e,t,n,r,s,i),n=_a(),null===e||wo?(is&&n&&es(t),t.flags|=1,jo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function ko(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Pc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Lc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,_o(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return Wo(e,t,i)}return t.flags|=1,(e=Oc(s,r)).ref=t.ref,e.return=t,t.child=e}function _o(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(wo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,Wo(e,t,i);0!==(131072&e.flags)&&(wo=!0)}}return Co(e,t,n,r,i)}function Eo(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(Ol,Pl),Pl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(Ol,Pl),Pl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,Ei(Ol,Pl),Pl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,Ei(Ol,Pl),Pl|=r;return jo(e,t,i,n),t.child}function So(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,r,i){var s=Di(n)?Ii:Ci.current;return s=Ai(t,s),ks(t,i),n=ka(e,t,n,r,s,i),r=_a(),null===e||wo?(is&&r&&es(t),t.flags|=1,jo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wo(e,t,i))}function To(e,t,n,r,i){if(Di(n)){var s=!0;Li(t)}else s=!1;if(ks(t,i),null===t.stateNode)qo(e,t),$s(t,n,r),qs(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=_s(c):c=Ai(t,c=Di(n)?Ii:Ci.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;d||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&Hs(t,a,r,c),Is=!1;var h=t.memoizedState;a.state=h,Fs(t,r,a,i),l=t.memoizedState,o!==r||h!==l||Ti.current||Is?("function"===typeof u&&(Vs(t,n,u,r),l=t.memoizedState),(o=Is||Bs(t,n,o,r,h,l,c))?(d||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Ds(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:gs(t.type,o),a.props=c,d=t.pendingProps,h=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=_s(l):l=Ai(t,l=Di(n)?Ii:Ci.current);var m=n.getDerivedStateFromProps;(u="function"===typeof m||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==d||h!==l)&&Hs(t,a,r,l),Is=!1,h=t.memoizedState,a.state=h,Fs(t,r,a,i);var f=t.memoizedState;o!==d||h!==f||Ti.current||Is?("function"===typeof m&&(Vs(t,n,m,r),f=t.memoizedState),(c=Is||Bs(t,n,c,r,h,f,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Io(e,t,n,r,s,i)}function Io(e,t,n,r,i,s){So(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Fi(t,n,!1),Wo(e,t,s);r=t.stateNode,xo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=Js(t,e.child,null,s),t.child=Js(t,null,o,s)):jo(e,t,o,s),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ao(e){var t=e.stateNode;t.pendingContext?Pi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Pi(0,t.context,!1),ra(e,t.containerInfo)}function Do(e,t,n,r,i){return ms(),fs(i),t.flags|=256,jo(e,t,n,r),t.child}var Ro,Po,Oo,Lo,Fo={dehydrated:null,treeContext:null,retryLane:0};function Mo(e){return{baseLanes:e,cachePool:null,transitions:null}}function Uo(e,t,n){var r,i=t.pendingProps,a=oa.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),Ei(oa,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Mc(l,i,0,null),e=Fc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Mo(n),t.memoizedState=Fo,e):Vo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,zo(e,t,o,r=ho(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Mc({mode:"visible",children:r.children},i,0,null),(a=Fc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&Js(t,e.child,null,o),t.child.memoizedState=Mo(o),t.memoizedState=Fo,a);if(0===(1&t.mode))return zo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,zo(e,t,o,r=ho(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),wo||l){if(null!==(r=Al)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ts(e,i),ic(r,e,i,-1))}return vc(),zo(e,t,o,r=ho(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Gi[Ki++]=Ji,Gi[Ki++]=Yi,Gi[Ki++]=Qi,Ji=e.id,Yi=e.overflow,Qi=t),t=Vo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Oc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Oc(r,o):(o=Fc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Mo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Fo,i}return e=(o=e.child).sibling,i=Oc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Vo(e,t){return(t=Mc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zo(e,t,n,r){return null!==r&&fs(r),Js(t,e.child,null,n),(e=Vo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Bo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ns(e.return,t,n)}function $o(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ho(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(jo(e,t,r.children,n),0!==(2&(r=oa.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Bo(e,n,t);else if(19===e.tag)Bo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(oa,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===la(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),$o(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===la(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}$o(t,!0,n,null,s);break;case"together":$o(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qo(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ml|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Oc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Oc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Go(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ko(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Qo(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ko(t),null;case 1:case 17:return Di(t.type)&&Ri(),Ko(t),null;case 3:return r=t.stateNode,ia(),_i(Ti),_i(Ci),ua(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(lc(ss),ss=null))),Po(e,t),Ko(t),null;case 5:aa(t);var i=na(ta.current);if(n=t.type,null!==e&&null!=t.stateNode)Oo(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ko(t),null}if(e=na(Zs.current),ds(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[hi]=t,r[mi]=a,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":J(r,a),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Ur("invalid",r);break;case"textarea":ie(r,a),Ur("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":W(r),Z(r,a,!0);break;case"textarea":W(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hi]=t,e[mi]=r,Ro(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Or.length;i++)Ur(Or[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":J(e,r),i=Q(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?ge(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&he(e,u):"number"===typeof u&&he(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Ur("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":W(e),Z(e,r,!1);break;case"textarea":W(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ko(t),null;case 6:if(e&&null!=t.stateNode)Lo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=na(ta.current),na(Zs.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return Ko(t),null;case 13:if(_i(oa),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))hs(),ms(),t.flags|=98560,a=!1;else if(a=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[hi]=t}else ms(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ko(t),a=!1}else null!==ss&&(lc(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&oa.current)?0===Ll&&(Ll=3):vc())),null!==t.updateQueue&&(t.flags|=4),Ko(t),null);case 4:return ia(),Po(e,t),null===e&&Br(t.stateNode.containerInfo),Ko(t),null;case 10:return js(t.type._context),Ko(t),null;case 19:if(_i(oa),null===(a=t.memoizedState))return Ko(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Go(a,!1);else{if(0!==Ll||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=la(e))){for(t.flags|=128,Go(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(oa,1&oa.current|2),t.child}e=e.sibling}null!==a.tail&&Ye()>Hl&&(t.flags|=128,r=!0,Go(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=la(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Go(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Ko(t),null}else 2*Ye()-a.renderingStartTime>Hl&&1073741824!==n&&(t.flags|=128,r=!0,Go(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Ye(),t.sibling=null,n=oa.current,Ei(oa,r?1&n|2:1&n),t):(Ko(t),null);case 22:case 23:return mc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Pl)&&(Ko(t),6&t.subtreeFlags&&(t.flags|=8192)):Ko(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Jo(e,t){switch(ts(t),t.tag){case 1:return Di(t.type)&&Ri(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return ia(),_i(Ti),_i(Ci),ua(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return aa(t),null;case 13:if(_i(oa),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ms()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _i(oa),null;case 4:return ia(),null;case 10:return js(t.type._context),null;case 22:case 23:return mc(),null;default:return null}}Ro=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Po=function(){},Oo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,na(Zs.current);var s,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Ur("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Lo=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yo=!1,Xo=!1,Zo="function"===typeof WeakSet?WeakSet:Set,el=null;function tl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Ec(e,t,r)}else n.current=null}function nl(e,t,n){try{n()}catch(r){Ec(e,t,r)}}var rl=!1;function il(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&nl(t,n,s)}i=i.next}while(i!==r)}}function sl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function al(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ol(e){var t=e.alternate;null!==t&&(e.alternate=null,ol(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[mi],delete t[pi],delete t[gi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ll(e){return 5===e.tag||3===e.tag||4===e.tag}function cl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ll(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}function dl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(dl(e,t,n),e=e.sibling;null!==e;)dl(e,t,n),e=e.sibling}var hl=null,ml=!1;function fl(e,t,n){for(n=n.child;null!==n;)pl(e,t,n),n=n.sibling}function pl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Xo||tl(n,t);case 6:var r=hl,i=ml;hl=null,fl(e,t,n),ml=i,null!==(hl=r)&&(ml?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(ml?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Bt(e)):li(hl,n.stateNode));break;case 4:r=hl,i=ml,hl=n.stateNode.containerInfo,ml=!0,fl(e,t,n),hl=r,ml=i;break;case 0:case 11:case 14:case 15:if(!Xo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&nl(n,t,a),i=i.next}while(i!==r)}fl(e,t,n);break;case 1:if(!Xo&&(tl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Ec(n,t,o)}fl(e,t,n);break;case 21:fl(e,t,n);break;case 22:1&n.mode?(Xo=(r=Xo)||null!==n.memoizedState,fl(e,t,n),Xo=r):fl(e,t,n);break;default:fl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Zo),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function vl(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,ml=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,ml=!0;break e}l=l.return}if(null===hl)throw Error(s(160));pl(a,o,i),hl=null,ml=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){Ec(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)yl(t,e),t=t.sibling}function yl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vl(t,e),bl(e),4&r){try{il(3,e,e.return),sl(3,e)}catch(g){Ec(e,e.return,g)}try{il(5,e,e.return)}catch(g){Ec(e,e.return,g)}}break;case 1:vl(t,e),bl(e),512&r&&null!==n&&tl(n,n.return);break;case 5:if(vl(t,e),bl(e),512&r&&null!==n&&tl(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(g){Ec(e,e.return,g)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&Y(i,a),be(l,o);var u=be(l,a);for(o=0;o<c.length;o+=2){var d=c[o],h=c[o+1];"style"===d?ge(i,h):"dangerouslySetInnerHTML"===d?de(i,h):"children"===d?he(i,h):b(i,d,h,u)}switch(l){case"input":X(i,a);break;case"textarea":se(i,a);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(i,!!a.multiple,f,!1):m!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[mi]=a}catch(g){Ec(e,e.return,g)}}break;case 6:if(vl(t,e),bl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(g){Ec(e,e.return,g)}}break;case 3:if(vl(t,e),bl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(g){Ec(e,e.return,g)}break;case 4:default:vl(t,e),bl(e);break;case 13:vl(t,e),bl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||($l=Ye())),4&r&&gl(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Xo=(u=Xo)||d,vl(t,e),Xo=u):vl(t,e),bl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(el=e,d=e.child;null!==d;){for(h=el=d;null!==el;){switch(f=(m=el).child,m.tag){case 0:case 11:case 14:case 15:il(4,m,m.return);break;case 1:tl(m,m.return);var p=m.stateNode;if("function"===typeof p.componentWillUnmount){r=m,n=m.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(g){Ec(r,n,g)}}break;case 5:tl(m,m.return);break;case 22:if(null!==m.memoizedState){Nl(h);continue}}null!==f?(f.return=m,el=f):Nl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{i=h.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",o))}catch(g){Ec(e,e.return,g)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(g){Ec(e,e.return,g)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:vl(t,e),bl(e),4&r&&gl(e);case 21:}}function bl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ll(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),dl(e,cl(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;ul(e,cl(e),a);break;default:throw Error(s(161))}}catch(o){Ec(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,n){el=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==el;){var i=el,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Yo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Xo;o=Yo;var c=Xo;if(Yo=a,(Xo=l)&&!c)for(el=i;null!==el;)l=(a=el).child,22===a.tag&&null!==a.memoizedState?kl(i):null!==l?(l.return=a,el=l):kl(i);for(;null!==s;)el=s,wl(s,t,n),s=s.sibling;el=i,Yo=o,Xo=c}jl(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,el=s):jl(e)}}function jl(e){for(;null!==el;){var t=el;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Xo||sl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Xo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:gs(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Ms(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ms(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(s(163))}Xo||512&t.flags&&al(t)}catch(m){Ec(t,t.return,m)}}if(t===e){el=null;break}if(null!==(n=t.sibling)){n.return=t.return,el=n;break}el=t.return}}function Nl(e){for(;null!==el;){var t=el;if(t===e){el=null;break}var n=t.sibling;if(null!==n){n.return=t.return,el=n;break}el=t.return}}function kl(e){for(;null!==el;){var t=el;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{sl(4,t)}catch(l){Ec(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){Ec(t,i,l)}}var s=t.return;try{al(t)}catch(l){Ec(t,s,l)}break;case 5:var a=t.return;try{al(t)}catch(l){Ec(t,a,l)}}}catch(l){Ec(t,t.return,l)}if(t===e){el=null;break}var o=t.sibling;if(null!==o){o.return=t.return,el=o;break}el=t.return}}var _l,El=Math.ceil,Sl=x.ReactCurrentDispatcher,Cl=x.ReactCurrentOwner,Tl=x.ReactCurrentBatchConfig,Il=0,Al=null,Dl=null,Rl=0,Pl=0,Ol=ki(0),Ll=0,Fl=null,Ml=0,Ul=0,Vl=0,zl=null,Bl=null,$l=0,Hl=1/0,ql=null,Wl=!1,Gl=null,Kl=null,Ql=!1,Jl=null,Yl=0,Xl=0,Zl=null,ec=-1,tc=0;function nc(){return 0!==(6&Il)?Ye():-1!==ec?ec:ec=Ye()}function rc(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Rl?Rl&-Rl:null!==ps.transition?(0===tc&&(tc=pt()),tc):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function ic(e,t,n,r){if(50<Xl)throw Xl=0,Zl=null,Error(s(185));vt(e,n,r),0!==(2&Il)&&e===Al||(e===Al&&(0===(2&Il)&&(Ul|=n),4===Ll&&cc(e,Rl)),sc(e,r),1===n&&0===Il&&0===(1&t.mode)&&(Hl=Ye()+500,Ui&&Bi()))}function sc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=mt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=ht(e,e===Al?Rl:0);if(0===r)null!==n&&Ke(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ke(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(uc.bind(null,e)):zi(uc.bind(null,e)),ai((function(){0===(6&Il)&&Bi()})),n=null;else{switch(xt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Ac(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(ec=-1,tc=0,0!==(6&Il))throw Error(s(327));var n=e.callbackNode;if(kc()&&e.callbackNode!==n)return null;var r=ht(e,e===Al?Rl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=yc(e,r);else{t=r;var i=Il;Il|=2;var a=gc();for(Al===e&&Rl===t||(ql=null,Hl=Ye()+500,fc(e,t));;)try{xc();break}catch(l){pc(e,l)}ws(),Sl.current=a,Il=i,null!==Dl?t=0:(Al=null,Rl=0,t=Ll)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=oc(e,i))),1===t)throw n=Fl,fc(e,0),cc(e,r),sc(e,Ye()),n;if(6===t)cc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=yc(e,r))&&(0!==(a=ft(e))&&(r=a,t=oc(e,a))),1===t))throw n=Fl,fc(e,0),cc(e,r),sc(e,Ye()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Nc(e,Bl,ql);break;case 3:if(cc(e,r),(130023424&r)===r&&10<(t=$l+500-Ye())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){nc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Nc.bind(null,e,Bl,ql),t);break}Nc(e,Bl,ql);break;case 4:if(cc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*El(r/1960))-r)){e.timeoutHandle=ri(Nc.bind(null,e,Bl,ql),r);break}Nc(e,Bl,ql);break;default:throw Error(s(329))}}}return sc(e,Ye()),e.callbackNode===n?ac.bind(null,e):null}function oc(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=yc(e,t))&&(t=Bl,Bl=n,null!==t&&lc(t)),e}function lc(e){null===Bl?Bl=e:Bl.push.apply(Bl,e)}function cc(e,t){for(t&=~Vl,t&=~Ul,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Il))throw Error(s(327));kc();var t=ht(e,0);if(0===(1&t))return sc(e,Ye()),null;var n=yc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=oc(e,r))}if(1===n)throw n=Fl,fc(e,0),cc(e,t),sc(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Nc(e,Bl,ql),sc(e,Ye()),null}function dc(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(Hl=Ye()+500,Ui&&Bi())}}function hc(e){null!==Jl&&0===Jl.tag&&0===(6&Il)&&kc();var t=Il;Il|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(Il=t))&&Bi()}}function mc(){Pl=Ol.current,_i(Ol)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Dl)for(n=Dl.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ri();break;case 3:ia(),_i(Ti),_i(Ci),ua();break;case 5:aa(r);break;case 4:ia();break;case 13:case 19:_i(oa);break;case 10:js(r.type._context);break;case 22:case 23:mc()}n=n.return}if(Al=e,Dl=e=Oc(e.current,null),Rl=Pl=t,Ll=0,Fl=null,Vl=Ul=Ml=0,Bl=zl=null,null!==Es){for(t=0;t<Es.length;t++)if(null!==(r=(n=Es[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Es=null}return e}function pc(e,t){for(;;){var n=Dl;try{if(ws(),da.current=ao,va){for(var r=fa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}va=!1}if(ma=0,ga=pa=fa=null,ya=!1,ba=0,Cl.current=null,null===n||null===n.return){Ll=1,Fl=t,Dl=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Rl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=yo(o);if(null!==f){f.flags&=-257,bo(f,o,l,0,t),1&f.mode&&vo(a,u,t),c=u;var p=(t=f).updateQueue;if(null===p){var g=new Set;g.add(c),t.updateQueue=g}else p.add(c);break e}if(0===(1&t)){vo(a,u,t),vc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=yo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),bo(v,o,l,0,t),fs(uo(c,l));break e}}a=c=uo(c,l),4!==Ll&&(Ll=2),null===zl?zl=[a]:zl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Ls(a,po(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Ls(a,go(a,l,t));break e}}a=a.return}while(null!==a)}jc(n)}catch(x){t=x,Dl===n&&null!==n&&(Dl=n=n.return);continue}break}}function gc(){var e=Sl.current;return Sl.current=ao,null===e?ao:e}function vc(){0!==Ll&&3!==Ll&&2!==Ll||(Ll=4),null===Al||0===(268435455&Ml)&&0===(268435455&Ul)||cc(Al,Rl)}function yc(e,t){var n=Il;Il|=2;var r=gc();for(Al===e&&Rl===t||(ql=null,fc(e,t));;)try{bc();break}catch(i){pc(e,i)}if(ws(),Il=n,Sl.current=r,null!==Dl)throw Error(s(261));return Al=null,Rl=0,Ll}function bc(){for(;null!==Dl;)wc(Dl)}function xc(){for(;null!==Dl&&!Qe();)wc(Dl)}function wc(e){var t=_l(e.alternate,e,Pl);e.memoizedProps=e.pendingProps,null===t?jc(e):Dl=t,Cl.current=null}function jc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Qo(n,t,Pl)))return void(Dl=n)}else{if(null!==(n=Jo(n,t)))return n.flags&=32767,void(Dl=n);if(null===e)return Ll=6,void(Dl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Dl=t);Dl=t=e}while(null!==t);0===Ll&&(Ll=5)}function Nc(e,t,n){var r=bt,i=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{kc()}while(null!==Jl);if(0!==(6&Il))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Al&&(Dl=Al=null,Rl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ql||(Ql=!0,Ac(tt,(function(){return kc(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Tl.transition,Tl.transition=null;var o=bt;bt=1;var l=Il;Il|=4,Cl.current=null,function(e,t){if(ei=Ht,mr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(w){n=null;break e}var o=0,l=-1,c=-1,u=0,d=0,h=e,m=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(l=o+i),h!==a||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)m=h,h=f;for(;;){if(h===e)break t;if(m===n&&++u===i&&(l=o),m===a&&++d===r&&(c=o),null!==(f=h.nextSibling))break;m=(h=m).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,el=t;null!==el;)if(e=(t=el).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,el=e;else for(;null!==el;){t=el;try{var p=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==p){var g=p.memoizedProps,v=p.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:gs(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(s(163))}}catch(w){Ec(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,el=e;break}el=t.return}p=rl,rl=!1}(e,n),yl(n,e),fr(ti),Ht=!!ei,ti=ei=null,e.current=n,xl(n,e,i),Je(),Il=l,bt=o,Tl.transition=a}else e.current=n;if(Ql&&(Ql=!1,Jl=e,Yl=i),a=e.pendingLanes,0===a&&(Kl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),sc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Wl)throw Wl=!1,e=Gl,Gl=null,e;0!==(1&Yl)&&0!==e.tag&&kc(),a=e.pendingLanes,0!==(1&a)?e===Zl?Xl++:(Xl=0,Zl=e):Xl=0,Bi()}(e,t,n,r)}finally{Tl.transition=i,bt=r}return null}function kc(){if(null!==Jl){var e=xt(Yl),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Jl)var r=!1;else{if(e=Jl,Jl=null,Yl=0,0!==(6&Il))throw Error(s(331));var i=Il;for(Il|=4,el=e.current;null!==el;){var a=el,o=a.child;if(0!==(16&el.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(el=u;null!==el;){var d=el;switch(d.tag){case 0:case 11:case 15:il(8,d,a)}var h=d.child;if(null!==h)h.return=d,el=h;else for(;null!==el;){var m=(d=el).sibling,f=d.return;if(ol(d),d===u){el=null;break}if(null!==m){m.return=f,el=m;break}el=f}}}var p=a.alternate;if(null!==p){var g=p.child;if(null!==g){p.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}el=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,el=o;else e:for(;null!==el;){if(0!==(2048&(a=el).flags))switch(a.tag){case 0:case 11:case 15:il(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,el=y;break e}el=a.return}}var b=e.current;for(el=b;null!==el;){var x=(o=el).child;if(0!==(2064&o.subtreeFlags)&&null!==x)x.return=o,el=x;else e:for(o=b;null!==el;){if(0!==(2048&(l=el).flags))try{switch(l.tag){case 0:case 11:case 15:sl(9,l)}}catch(j){Ec(l,l.return,j)}if(l===o){el=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,el=w;break e}el=l.return}}if(Il=i,Bi(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(j){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function _c(e,t,n){e=Ps(e,t=po(0,t=uo(n,t),1),1),t=nc(),null!==e&&(vt(e,1,t),sc(e,t))}function Ec(e,t,n){if(3===e.tag)_c(e,e,n);else for(;null!==t;){if(3===t.tag){_c(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Ps(t,e=go(t,e=uo(n,e),1),1),e=nc(),null!==t&&(vt(t,1,e),sc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=nc(),e.pingedLanes|=e.suspendedLanes&n,Al===e&&(Rl&n)===n&&(4===Ll||3===Ll&&(130023424&Rl)===Rl&&500>Ye()-$l?fc(e,0):Vl|=n),sc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=nc();null!==(e=Ts(e,t))&&(vt(e,t,n),sc(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cc(e,n)}function Ac(e,t){return Ge(e,t)}function Dc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Rc(e,t,n,r){return new Dc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Oc(e,t){var n=e.alternate;return null===n?((n=Rc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Lc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Pc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case N:return Fc(n.children,i,a,t);case k:o=8,i|=8;break;case _:return(e=Rc(12,n,t,2|i)).elementType=_,e.lanes=a,e;case T:return(e=Rc(13,n,t,i)).elementType=T,e.lanes=a,e;case I:return(e=Rc(19,n,t,i)).elementType=I,e.lanes=a,e;case R:return Mc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:o=10;break e;case S:o=9;break e;case C:o=11;break e;case A:o=14;break e;case D:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Rc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Fc(e,t,n,r){return(e=Rc(7,e,r,t)).lanes=n,e}function Mc(e,t,n,r){return(e=Rc(22,e,r,t)).elementType=R,e.lanes=n,e.stateNode={isHidden:!1},e}function Uc(e,t,n){return(e=Rc(6,e,null,t)).lanes=n,e}function Vc(e,t,n){return(t=Rc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=gt(0),this.expirationTimes=gt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Bc(e,t,n,r,i,s,a,o,l){return e=new zc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Rc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},As(s),e}function $c(e){if(!e)return Si;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Di(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Di(n))return Oi(e,n,t)}return t}function Hc(e,t,n,r,i,s,a,o,l){return(e=Bc(n,r,!0,e,0,s,0,o,l)).context=$c(null),n=e.current,(s=Rs(r=nc(),i=rc(n))).callback=void 0!==t&&null!==t?t:null,Ps(n,s,i),e.current.lanes=i,vt(e,i,r),sc(e,r),e}function qc(e,t,n,r){var i=t.current,s=nc(),a=rc(i);return n=$c(n),null===t.context?t.context=n:t.pendingContext=n,(t=Rs(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ps(i,t,a))&&(ic(e,i,a,s),Os(e,i,a)),a}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}_l=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ti.current)wo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wo=!1,function(e,t,n){switch(t.tag){case 3:Ao(t),ms();break;case 5:sa(t);break;case 1:Di(t.type)&&Li(t);break;case 4:ra(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(vs,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(oa,1&oa.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Uo(e,t,n):(Ei(oa,1&oa.current),null!==(e=Wo(e,t,n))?e.sibling:null);Ei(oa,1&oa.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Ho(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(oa,oa.current),r)break;return null;case 22:case 23:return t.lanes=0,Eo(e,t,n)}return Wo(e,t,n)}(e,t,n);wo=0!==(131072&e.flags)}else wo=!1,is&&0!==(1048576&t.flags)&&Zi(t,Wi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;qo(e,t),e=t.pendingProps;var i=Ai(t,Ci.current);ks(t,n),i=ka(null,t,r,e,i,n);var a=_a();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Di(r)?(a=!0,Li(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,As(t),i.updater=zs,t.stateNode=i,i._reactInternals=t,qs(t,r,e,n),t=Io(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),jo(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(qo(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===A)return 14}return 2}(r),e=gs(r,e),i){case 0:t=Co(null,t,r,e,n);break e;case 1:t=To(null,t,r,e,n);break e;case 11:t=No(null,t,r,e,n);break e;case 14:t=ko(null,t,r,gs(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 1:return r=t.type,i=t.pendingProps,To(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 3:e:{if(Ao(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Ds(e,t),Fs(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Do(e,t,r,n,i=uo(Error(s(423)),t));break e}if(r!==i){t=Do(e,t,r,n,i=uo(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=Ys(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ms(),r===i){t=Wo(e,t,n);break e}jo(e,t,r,n)}t=t.child}return t;case 5:return sa(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),So(e,t),jo(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Uo(e,t,n);case 4:return ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Js(t,null,r,n):jo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,No(e,t,r,i=t.elementType===r?i:gs(r,i),n);case 7:return jo(e,t,t.pendingProps,n),t.child;case 8:case 12:return jo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,Ei(vs,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ti.current){t=Wo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=Rs(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ns(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ns(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}jo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,ks(t,n),r=r(i=_s(i)),t.flags|=1,jo(e,t,r,n),t.child;case 14:return i=gs(r=t.type,t.pendingProps),ko(e,t,r,i=gs(r.type,i),n);case 15:return _o(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:gs(r,i),qo(e,t),t.tag=1,Di(r)?(e=!0,Li(t)):e=!1,ks(t,n),$s(t,r,i),qs(t,r,i,n),Io(null,t,r,!0,e,n);case 19:return Ho(e,t,n);case 22:return Eo(e,t,n)}throw Error(s(156,t.tag))};var Qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Jc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Zc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function eu(){}function tu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=Wc(a);o.call(e)}}qc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=Wc(a);s.call(e)}}var a=Hc(t,r,e,0,null,!1,0,"",eu);return e._reactRootContainer=a,e[fi]=a.current,Br(8===e.nodeType?e.parentNode:e),hc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=Wc(l);o.call(e)}}var l=Bc(e,0,!1,null,0,!1,0,"",eu);return e._reactRootContainer=l,e[fi]=l.current,Br(8===e.nodeType?e.parentNode:e),hc((function(){qc(t,l,n,r)})),l}(n,t,e,i,r);return Wc(a)}Yc.prototype.render=Jc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));qc(e,t,null,null)},Yc.prototype.unmount=Jc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){qc(null,e,null,null)})),t[fi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Rt.length&&0!==t&&t<Rt[n].priority;n++);Rt.splice(n,0,e),0===n&&Ft(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(yt(t,1|n),sc(t,Ye()),0===(6&Il)&&(Hl=Ye()+500,Bi()))}break;case 13:hc((function(){var t=Ts(e,1);if(null!==t){var n=nc();ic(t,e,1,n)}})),Kc(e,1)}},jt=function(e){if(13===e.tag){var t=Ts(e,134217728);if(null!==t)ic(t,e,134217728,nc());Kc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=rc(e),n=Ts(e,t);if(null!==n)ic(n,e,t,nc());Kc(e,t)}},kt=function(){return bt},_t=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},je=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=wi(r);if(!i)throw Error(s(90));G(r),X(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=dc,Te=hc;var nu={usingClientEntryPoint:!1,Events:[bi,xi,wi,Ee,Se,dc]},ru={findFiberByHostInstance:yi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},iu={bundleType:ru.bundleType,version:ru.version,rendererPackageName:ru.rendererPackageName,rendererConfig:ru.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:ru.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var su=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!su.isDisabled&&su.supportsFiber)try{it=su.inject(iu),st=su}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Xc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Xc(e))throw Error(s(299));var n=!1,r="",i=Qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Bc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Jc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!Zc(t))throw Error(s(200));return tu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Xc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Hc(t,null,e,1,null!=n?n:null,i,0,a,o),e[fi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!Zc(t))throw Error(s(200));return tu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Zc(e))throw Error(s(40));return!!e._reactRootContainer&&(hc((function(){tu(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=dc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Zc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return tu(e,t,n,!1,r)},t.version="18.2.0-next-9e3b772b8-20220608"},917:(e,t,n)=>{e.exports=n(484)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r,i=n(917),s=n.t(i,2),a=n(533);function o(){return o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(r||(r={}));const l="popstate";function c(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function u(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function d(e,t){return{usr:e.state,key:e.key,idx:t}}function h(e,t,n,r){return void 0===n&&(n=null),o({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?f(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function f(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function p(e,t,n,i){void 0===i&&(i={});let{window:s=document.defaultView,v5Compat:a=!1}=i,u=s.history,f=r.Pop,p=null,g=v();function v(){return(u.state||{idx:null}).idx}function y(){f=r.Pop;let e=v(),t=null==e?null:e-g;g=e,p&&p({action:f,location:x.location,delta:t})}function b(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),c(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==g&&(g=0,u.replaceState(o({},u.state,{idx:g}),""));let x={get action(){return f},get location(){return e(s,u)},listen(e){if(p)throw new Error("A history only accepts one active listener");return s.addEventListener(l,y),p=e,()=>{s.removeEventListener(l,y),p=null}},createHref:e=>t(s,e),createURL:b,encodeLocation(e){let t=b(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){f=r.Push;let i=h(x.location,e,t);n&&n(i,e),g=v()+1;let o=d(i,g),l=x.createHref(i);try{u.pushState(o,"",l)}catch(c){if(c instanceof DOMException&&"DataCloneError"===c.name)throw c;s.location.assign(l)}a&&p&&p({action:f,location:x.location,delta:1})},replace:function(e,t){f=r.Replace;let i=h(x.location,e,t);n&&n(i,e),g=v();let s=d(i,g),o=x.createHref(i);u.replaceState(s,"",o),a&&p&&p({action:f,location:x.location,delta:0})},go:e=>u.go(e)};return x}var g;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(g||(g={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function v(e,t,n){return void 0===n&&(n="/"),y(e,t,n,!1)}function y(e,t,n,r){let i=D(("string"===typeof t?f(t):t).pathname||"/",n);if(null==i)return null;let s=b(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=A(i);a=T(s[o],e,r)}return a}function b(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(c(a.relativePath.startsWith(r),'Absolute route path "'+a.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),a.relativePath=a.relativePath.slice(r.length));let o=F([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(c(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+o+'".'),b(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:C(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of x(e.path))i(e,t,r);else i(e,t)})),t}function x(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=x(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}const w=/^:[\w-]+$/,j=3,N=2,k=1,_=10,E=-2,S=e=>"*"===e;function C(e,t){let n=e.split("/"),r=n.length;return n.some(S)&&(r+=E),t&&(r+=N),n.filter((e=>!S(e))).reduce(((e,t)=>e+(w.test(t)?j:""===t?k:_)),r)}function T(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=I({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:F([s,u.pathname]),pathnameBase:M(F([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=F([s,u.pathnameBase]))}return a}function I(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);u("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:a,pattern:e}}function A(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return u(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function D(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function R(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function P(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function O(e,t){let n=P(e);return t?n.map(((e,t)=>t===n.length-1?e.pathname:e.pathnameBase)):n.map((e=>e.pathnameBase))}function L(e,t,n,r){let i;void 0===r&&(r=!1),"string"===typeof e?i=f(e):(i=o({},e),c(!i.pathname||!i.pathname.includes("?"),R("?","pathname","search",i)),c(!i.pathname||!i.pathname.includes("#"),R("#","pathname","hash",i)),c(!i.search||!i.search.includes("#"),R("#","search","hash",i)));let s,a=""===e||""===i.pathname,l=a?"/":i.pathname;if(null==l)s=n;else{let e=t.length-1;if(!r&&l.startsWith("..")){let t=l.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"===typeof e?f(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:U(r),hash:V(i)}}(i,s),d=l&&"/"!==l&&l.endsWith("/"),h=(a||"."===l)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!h||(u.pathname+="/"),u}const F=e=>e.join("/").replace(/\/\/+/g,"/"),M=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),U=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",V=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function z(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],$=(new Set(B),["get",...B]);new Set($),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}const q=i.createContext(null);const W=i.createContext(null);const G=i.createContext(null);const K=i.createContext(null);const Q=i.createContext({outlet:null,matches:[],isDataRoute:!1});const J=i.createContext(null);function Y(){return null!=i.useContext(K)}function X(){return Y()||c(!1),i.useContext(K).location}function Z(e){i.useContext(G).static||i.useLayoutEffect(e)}function ee(){let{isDataRoute:e}=i.useContext(Q);return e?function(){let{router:e}=he(ue.UseNavigateStable),t=fe(de.UseNavigateStable),n=i.useRef(!1);return Z((()=>{n.current=!0})),i.useCallback((function(r,i){void 0===i&&(i={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,H({fromRouteId:t},i)))}),[e,t])}():function(){Y()||c(!1);let e=i.useContext(q),{basename:t,future:n,navigator:r}=i.useContext(G),{matches:s}=i.useContext(Q),{pathname:a}=X(),o=JSON.stringify(O(s,n.v7_relativeSplatPath)),l=i.useRef(!1);return Z((()=>{l.current=!0})),i.useCallback((function(n,i){if(void 0===i&&(i={}),!l.current)return;if("number"===typeof n)return void r.go(n);let s=L(n,JSON.parse(o),a,"path"===i.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:F([t,s.pathname])),(i.replace?r.replace:r.push)(s,i.state,i)}),[t,r,o,a,e])}()}const te=i.createContext(null);function ne(){let{matches:e}=i.useContext(Q),t=e[e.length-1];return t?t.params:{}}function re(e,t){let{relative:n}=void 0===t?{}:t,{future:r}=i.useContext(G),{matches:s}=i.useContext(Q),{pathname:a}=X(),o=JSON.stringify(O(s,r.v7_relativeSplatPath));return i.useMemo((()=>L(e,JSON.parse(o),a,"path"===n)),[e,o,a,n])}function ie(e,t,n,s){Y()||c(!1);let{navigator:a,static:o}=i.useContext(G),{matches:l}=i.useContext(Q),u=l[l.length-1],d=u?u.params:{},h=(u&&u.pathname,u?u.pathnameBase:"/");u&&u.route;let m,p=X();if(t){var g;let e="string"===typeof t?f(t):t;"/"===h||(null==(g=e.pathname)?void 0:g.startsWith(h))||c(!1),m=e}else m=p;let y=m.pathname||"/",b=y;if("/"!==h){let e=h.replace(/^\//,"").split("/");b="/"+y.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=!o&&n&&n.matches&&n.matches.length>0?n.matches:v(e,{pathname:b});let w=ce(x&&x.map((e=>Object.assign({},e,{params:Object.assign({},d,e.params),pathname:F([h,a.encodeLocation?a.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:F([h,a.encodeLocation?a.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),l,n,s);return t&&w?i.createElement(K.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:r.Pop}},w):w}function se(){let e=function(){var e;let t=i.useContext(J),n=me(de.UseRouteError),r=fe(de.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[r]}(),t=z(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r};return i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,null)}const ae=i.createElement(se,null);class oe extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(Q.Provider,{value:this.props.routeContext},i.createElement(J.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function le(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(q);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(Q.Provider,{value:t},r)}function ce(e,t,n,r){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===r&&(r=null),null==e){var a;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(a=r)&&a.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let o=e,l=null==(s=n)?void 0:s.errors;if(null!=l){let e=o.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||c(!1),o=o.slice(0,Math.min(o.length,e+1))}let u=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let i=0;i<o.length;i++){let e=o[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=i),e.route.id){let{loaderData:t,errors:r}=n,i=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||i){u=!0,o=d>=0?o.slice(0,d+1):[o[0]];break}}}return o.reduceRight(((e,r,s)=>{let a,c=!1,h=null,m=null;var f;n&&(a=l&&r.route.id?l[r.route.id]:void 0,h=r.route.errorElement||ae,u&&(d<0&&0===s?(f="route-fallback",!1||pe[f]||(pe[f]=!0),c=!0,m=null):d===s&&(c=!0,m=r.route.hydrateFallbackElement||null)));let p=t.concat(o.slice(0,s+1)),g=()=>{let t;return t=a?h:c?m:r.route.Component?i.createElement(r.route.Component,null):r.route.element?r.route.element:e,i.createElement(le,{match:r,routeContext:{outlet:e,matches:p,isDataRoute:null!=n},children:t})};return n&&(r.route.ErrorBoundary||r.route.errorElement||0===s)?i.createElement(oe,{location:n.location,revalidation:n.revalidation,component:h,error:a,children:g(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):g()}),null)}var ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(ue||{}),de=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(de||{});function he(e){let t=i.useContext(q);return t||c(!1),t}function me(e){let t=i.useContext(W);return t||c(!1),t}function fe(e){let t=function(){let e=i.useContext(Q);return e||c(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||c(!1),n.route.id}const pe={};function ge(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function ve(e){let{to:t,replace:n,state:r,relative:s}=e;Y()||c(!1);let{future:a,static:o}=i.useContext(G),{matches:l}=i.useContext(Q),{pathname:u}=X(),d=ee(),h=L(t,O(l,a.v7_relativeSplatPath),u,"path"===s),m=JSON.stringify(h);return i.useEffect((()=>d(JSON.parse(m),{replace:n,state:r,relative:s})),[d,m,s,n,r]),null}function ye(e){return function(e){let t=i.useContext(Q).outlet;return t?i.createElement(te.Provider,{value:e},t):t}(e.context)}function be(e){c(!1)}function xe(e){let{basename:t="/",children:n=null,location:s,navigationType:a=r.Pop,navigator:o,static:l=!1,future:u}=e;Y()&&c(!1);let d=t.replace(/^\/*/,"/"),h=i.useMemo((()=>({basename:d,navigator:o,static:l,future:H({v7_relativeSplatPath:!1},u)})),[d,u,o,l]);"string"===typeof s&&(s=f(s));let{pathname:m="/",search:p="",hash:g="",state:v=null,key:y="default"}=s,b=i.useMemo((()=>{let e=D(m,d);return null==e?null:{location:{pathname:e,search:p,hash:g,state:v,key:y},navigationType:a}}),[d,m,p,g,v,y,a]);return null==b?null:i.createElement(G.Provider,{value:h},i.createElement(K.Provider,{children:n,value:b}))}function we(e){let{children:t,location:n}=e;return ie(je(t),n)}new Promise((()=>{}));i.Component;function je(e,t){void 0===t&&(t=[]);let n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,je(e.props.children,s));e.type!==be&&c(!1),e.props.index&&e.props.children&&c(!1);let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=je(e.props.children,s)),n.push(a)})),n}var Ne=n(540),ke=n.t(Ne,2);function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(this,arguments)}function Ee(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Se=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Ox){}new Map;const Ce=s.startTransition;ke.flushSync,s.useId;function Te(e){let{basename:t,children:n,future:r,window:s}=e,a=i.useRef();var o;null==a.current&&(a.current=(void 0===(o={window:s,v5Compat:!0})&&(o={}),p((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return h("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:m(t)}),null,o)));let l=a.current,[c,u]=i.useState({action:l.action,location:l.location}),{v7_startTransition:d}=r||{},f=i.useCallback((e=>{d&&Ce?Ce((()=>u(e))):u(e)}),[u,d]);return i.useLayoutEffect((()=>l.listen(f)),[l,f]),i.useEffect((()=>ge(r)),[r]),i.createElement(xe,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:l,future:r})}const Ie="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ae=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,De=i.forwardRef((function(e,t){let n,{onClick:r,relative:s,reloadDocument:a,replace:o,state:l,target:u,to:d,preventScrollReset:h,viewTransition:f}=e,p=Ee(e,Se),{basename:g}=i.useContext(G),v=!1;if("string"===typeof d&&Ae.test(d)&&(n=d,Ie))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=D(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:v=!0}catch(Ox){}let y=function(e,t){let{relative:n}=void 0===t?{}:t;Y()||c(!1);let{basename:r,navigator:s}=i.useContext(G),{hash:a,pathname:o,search:l}=re(e,{relative:n}),u=o;return"/"!==r&&(u="/"===o?r:F([r,o])),s.createHref({pathname:u,search:l,hash:a})}(d,{relative:s}),b=function(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:o,viewTransition:l}=void 0===t?{}:t,c=ee(),u=X(),d=re(e,{relative:o});return i.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:m(u)===m(d);c(e,{replace:n,state:s,preventScrollReset:a,relative:o,viewTransition:l})}}),[u,c,d,r,s,n,e,a,o,l])}(d,{replace:o,state:l,target:u,preventScrollReset:h,relative:s,viewTransition:f});return i.createElement("a",_e({},p,{href:n||y,onClick:v||a?r:function(e){r&&r(e),e.defaultPrevented||b(e)},ref:t,target:u}))}));var Re,Pe;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Re||(Re={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(Pe||(Pe={}));const Oe=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Le={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let d=(15&a)<<2|l>>6,h=63&l;o||(h=64,s||(d=64)),r.push(n[c],n[u],n[d],n[h])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Oe(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new Fe;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Fe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Me=function(e){return function(e){const t=Oe(e);return Le.encodeByteArray(t,!0)}(e).replace(/\./g,"")},Ue=function(e){try{return Le.decodeString(e,!0)}catch(Ox){console.error("base64Decode failed: ",Ox)}return null};const Ve=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,ze=()=>{try{return Ve()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_FIREBASE_API_KEY:"AIzaSyAiTY14VexbFUQTf3yKhDPhrCtKjRzhMwQ",REACT_APP_FIREBASE_AUTH_DOMAIN:"pitchpro-29e90.firebaseapp.com",REACT_APP_FIREBASE_PROJECT_ID:"pitchpro-29e90",REACT_APP_FIREBASE_STORAGE_BUCKET:"pitchpro-29e90.firebasestorage.app",REACT_APP_FIREBASE_MESSAGING_SENDER_ID:"121788535713",REACT_APP_FIREBASE_APP_ID:"1:121788535713:web:9c5ddf4ff9af0a0e2ff1e0",REACT_APP_FIREBASE_MEASUREMENT_ID:"G-QGBR93ZYCM"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(Ox){return}const t=e&&Ue(e[1]);return t&&JSON.parse(t)})()}catch(Ox){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${Ox}`)}},Be=e=>{var t,n;return null===(n=null===(t=ze())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},$e=e=>{const t=Be(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},He=()=>{var e;return null===(e=ze())||void 0===e?void 0:e.config},qe=e=>{var t;return null===(t=ze())||void 0===t?void 0:t[`_${e}`]};class We{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Ge(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Me(JSON.stringify({alg:"none",type:"JWT"})),Me(JSON.stringify(s)),""].join(".")}function Ke(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Qe(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Je(){return!function(){var e;const t=null===(e=ze())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(Ox){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ye(){try{return"object"===typeof indexedDB}catch(Ox){return!1}}function Xe(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}}))}class Ze extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ze.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,et.prototype.create)}}class et{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(tt,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new Ze(n,s,t)}}const tt=/\{\$([^}]+)}/g;function nt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(rt(n)&&rt(s)){if(!nt(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function rt(e){return null!==e&&"object"===typeof e}function it(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function st(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function at(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class ot{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=lt),void 0===r.error&&(r.error=lt),void 0===r.complete&&(r.complete=lt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(Ox){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(Ox){"undefined"!==typeof console&&console.error&&console.error(Ox)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function lt(){}function ct(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function ut(e){return e&&e._delegate?e._delegate:e}class dt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const ht="[DEFAULT]";class mt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new We;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(Ox){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(Ox){if(r)return null;throw Ox}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:ht})}catch(Ox){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(Ox){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===ht?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht;return this.component?this.component.multipleInstances?e:ht:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ft{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const pt=[];var gt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(gt||(gt={}));const vt={debug:gt.DEBUG,verbose:gt.VERBOSE,info:gt.INFO,warn:gt.WARN,error:gt.ERROR,silent:gt.SILENT},yt=gt.INFO,bt={[gt.DEBUG]:"log",[gt.VERBOSE]:"log",[gt.INFO]:"info",[gt.WARN]:"warn",[gt.ERROR]:"error"},xt=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=bt[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r](`[${n}]  ${e.name}:`,...s)};class wt{constructor(e){this.name=e,this._logLevel=yt,this._logHandler=xt,this._userLogHandler=null,pt.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in gt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?vt[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,gt.DEBUG,...t),this._logHandler(this,gt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,gt.VERBOSE,...t),this._logHandler(this,gt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,gt.INFO,...t),this._logHandler(this,gt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,gt.WARN,...t),this._logHandler(this,gt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,gt.ERROR,...t),this._logHandler(this,gt.ERROR,...t)}}let jt,Nt;const kt=new WeakMap,_t=new WeakMap,Et=new WeakMap,St=new WeakMap,Ct=new WeakMap;let Tt={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return _t.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Et.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Dt(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function It(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Nt||(Nt=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Rt(this),n),Dt(kt.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Dt(e.apply(Rt(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(Rt(this),t,...r);return Et.set(s,t.sort?t.sort():[t]),Dt(s)}}function At(e){return"function"===typeof e?It(e):(e instanceof IDBTransaction&&function(e){if(_t.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));_t.set(e,t)}(e),t=e,(jt||(jt=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Tt):e);var t}function Dt(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Dt(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&kt.set(t,e)})).catch((()=>{})),Ct.set(t,e),t}(e);if(St.has(e))return St.get(e);const t=At(e);return t!==e&&(St.set(e,t),Ct.set(t,e)),t}const Rt=e=>Ct.get(e);function Pt(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=Dt(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(Dt(a.result),e.oldVersion,e.newVersion,Dt(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}const Ot=["get","getKey","getAll","getAllKeys","count"],Lt=["put","add","delete","clear"],Ft=new Map;function Mt(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(Ft.get(t))return Ft.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=Lt.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ot.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return Ft.set(t,s),s}Tt=(e=>({...e,get:(t,n,r)=>Mt(t,n)||e.get(t,n,r),has:(t,n)=>!!Mt(t,n)||e.has(t,n)}))(Tt);class Ut{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const Vt="@firebase/app",zt="0.10.13",Bt=new wt("@firebase/app"),$t="@firebase/app-compat",Ht="@firebase/analytics-compat",qt="@firebase/analytics",Wt="@firebase/app-check-compat",Gt="@firebase/app-check",Kt="@firebase/auth",Qt="@firebase/auth-compat",Jt="@firebase/database",Yt="@firebase/data-connect",Xt="@firebase/database-compat",Zt="@firebase/functions",en="@firebase/functions-compat",tn="@firebase/installations",nn="@firebase/installations-compat",rn="@firebase/messaging",sn="@firebase/messaging-compat",an="@firebase/performance",on="@firebase/performance-compat",ln="@firebase/remote-config",cn="@firebase/remote-config-compat",un="@firebase/storage",dn="@firebase/storage-compat",hn="@firebase/firestore",mn="@firebase/vertexai-preview",fn="@firebase/firestore-compat",pn="firebase",gn="[DEFAULT]",vn={[Vt]:"fire-core",[$t]:"fire-core-compat",[qt]:"fire-analytics",[Ht]:"fire-analytics-compat",[Gt]:"fire-app-check",[Wt]:"fire-app-check-compat",[Kt]:"fire-auth",[Qt]:"fire-auth-compat",[Jt]:"fire-rtdb",[Yt]:"fire-data-connect",[Xt]:"fire-rtdb-compat",[Zt]:"fire-fn",[en]:"fire-fn-compat",[tn]:"fire-iid",[nn]:"fire-iid-compat",[rn]:"fire-fcm",[sn]:"fire-fcm-compat",[an]:"fire-perf",[on]:"fire-perf-compat",[ln]:"fire-rc",[cn]:"fire-rc-compat",[un]:"fire-gcs",[dn]:"fire-gcs-compat",[hn]:"fire-fst",[fn]:"fire-fst-compat",[mn]:"fire-vertex","fire-js":"fire-js",[pn]:"fire-js-all"},yn=new Map,bn=new Map,xn=new Map;function wn(e,t){try{e.container.addComponent(t)}catch(Ox){Bt.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,Ox)}}function jn(e){const t=e.name;if(xn.has(t))return Bt.debug(`There were multiple attempts to register component ${t}.`),!1;xn.set(t,e);for(const n of yn.values())wn(n,e);for(const n of bn.values())wn(n,e);return!0}function Nn(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function kn(e){return void 0!==e.settings}const _n=new et("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class En{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new dt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw _n.create("app-deleted",{appName:this._name})}}const Sn="10.14.1";function Cn(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:gn,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw _n.create("bad-app-name",{appName:String(i)});if(n||(n=He()),!n)throw _n.create("no-options");const s=yn.get(i);if(s){if(nt(n,s.options)&&nt(r,s.config))return s;throw _n.create("duplicate-app",{appName:i})}const a=new ft(i);for(const l of xn.values())a.addComponent(l);const o=new En(n,r,a);return yn.set(i,o),o}function Tn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gn;const t=yn.get(e);if(!t&&e===gn&&He())return Cn();if(!t)throw _n.create("no-app",{appName:e});return t}function In(e,t,n){var r;let i=null!==(r=vn[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Bt.warn(e.join(" "))}jn(new dt(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const An="firebase-heartbeat-store";let Dn=null;function Rn(){return Dn||(Dn=Pt("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(An)}catch(Ox){console.warn(Ox)}}}).catch((e=>{throw _n.create("idb-open",{originalErrorMessage:e.message})}))),Dn}async function Pn(e,t){try{const n=(await Rn()).transaction(An,"readwrite"),r=n.objectStore(An);await r.put(t,On(e)),await n.done}catch(Ox){if(Ox instanceof Ze)Bt.warn(Ox.message);else{const t=_n.create("idb-set",{originalErrorMessage:null===Ox||void 0===Ox?void 0:Ox.message});Bt.warn(t.message)}}}function On(e){return`${e.name}!${e.options.appId}`}class Ln{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new Mn(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Fn();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(Ox){Bt.warn(Ox)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=Fn(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Un(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Un(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=Me(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(Ox){return Bt.warn(Ox),""}}}function Fn(){return(new Date).toISOString().substring(0,10)}class Mn{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Ye()&&Xe().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await Rn()).transaction(An),n=await t.objectStore(An).get(On(e));return await t.done,n}catch(Ox){if(Ox instanceof Ze)Bt.warn(Ox.message);else{const t=_n.create("idb-get",{originalErrorMessage:null===Ox||void 0===Ox?void 0:Ox.message});Bt.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Pn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return Pn(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Un(e){return Me(JSON.stringify({version:2,heartbeats:e})).length}var Vn;Vn="",jn(new dt("platform-logger",(e=>new Ut(e)),"PRIVATE")),jn(new dt("heartbeat",(e=>new Ln(e)),"PRIVATE")),In(Vt,zt,Vn),In(Vt,zt,"esm2017"),In("fire-js","");function zn(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Bn(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const $n=Bn,Hn=new et("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),qn=new wt("@firebase/auth");function Wn(e){if(qn.logLevel<=gt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];qn.error(`Auth (${Sn}): ${e}`,...n)}}function Gn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Yn(e,...n)}function Kn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Yn(e,...n)}function Qn(e,t,n){const r=Object.assign(Object.assign({},$n()),{[t]:n});return new et("auth","Firebase",r).create(t,{appName:e.name})}function Jn(e){return Qn(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Yn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return Hn.create(e,...n)}function Xn(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Yn(t,...r)}}function Zn(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Wn(t),new Error(t)}function er(e,t){e||Zn(t)}function tr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function nr(){return"http:"===rr()||"https:"===rr()}function rr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class ir{constructor(e,t){this.shortDelay=e,this.longDelay=t,er(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(nr()||Qe()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function sr(e,t){er(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class ar{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Zn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Zn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Zn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const or={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},lr=new ir(3e4,6e4);function cr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function ur(e,t,n,r){return dr(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=it(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),ar.fetch()(mr(e,e.config.apiHost,n,a),l)}))}async function dr(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},or),t);try{const t=new pr(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw gr(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw gr(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw gr(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw gr(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Qn(e,o,a);Gn(e,o)}}catch(Ox){if(Ox instanceof Ze)throw Ox;Gn(e,"network-request-failed",{message:String(Ox)})}}async function hr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await ur(e,t,n,r,i);return"mfaPendingCredential"in s&&Gn(e,"multi-factor-auth-required",{_serverResponse:s}),s}function mr(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?sr(e.config,i):`${e.config.apiScheme}://${i}`}function fr(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class pr{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Kn(this.auth,"network-request-failed"))),lr.get())}))}clearNetworkTimeout(){clearTimeout(this.timer)}}function gr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Kn(e,t,r);return i.customData._tokenResponse=n,i}function vr(e){return void 0!==e&&void 0!==e.enterprise}class yr{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return fr(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}async function br(e,t){return ur(e,"GET","/v2/recaptchaConfig",cr(e,t))}async function xr(e,t){return ur(e,"POST","/v1/accounts:lookup",t)}function wr(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(Ox){}}function jr(e){return 1e3*Number(e)}function Nr(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Wn("JWT malformed, contained fewer than 3 sections"),null;try{const e=Ue(n);return e?JSON.parse(e):(Wn("Failed to decode base64 JWT payload"),null)}catch(Ox){return Wn("Caught error parsing JWT payload as JSON",null===Ox||void 0===Ox?void 0:Ox.toString()),null}}function kr(e){const t=Nr(e);return Xn(t,"internal-error"),Xn("undefined"!==typeof t.exp,"internal-error"),Xn("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function _r(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(Ox){throw Ox instanceof Ze&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(Ox)&&e.auth.currentUser===e&&await e.auth.signOut(),Ox}}class Er{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(Ox){return void("auth/network-request-failed"===(null===Ox||void 0===Ox?void 0:Ox.code)&&this.schedule(!0))}this.schedule()}}class Sr{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=wr(this.lastLoginAt),this.creationTime=wr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Cr(e){var t;const n=e.auth,r=await e.getIdToken(),i=await _r(e,xr(n,{idToken:r}));Xn(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?Tr(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,d=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),h=!!u&&d,m={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Sr(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(e,m)}function Tr(e){return e.map((e=>{var{providerId:t}=e,n=zn(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class Ir{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Xn(e.idToken,"internal-error"),Xn("undefined"!==typeof e.idToken,"internal-error"),Xn("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):kr(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Xn(0!==e.length,"internal-error");const t=kr(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Xn(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await dr(e,{},(async()=>{const n=it({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=mr(e,r,"/v1/token",`key=${i}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",ar.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new Ir;return n&&(Xn("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Xn("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Xn("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ir,this.toJSON())}_performRefresh(){return Zn("not implemented")}}function Ar(e,t){Xn("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class Dr{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=zn(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Er(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Sr(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await _r(this,this.stsTokenManager.getToken(this.auth,e));return Xn(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=ut(e),r=await n.getIdToken(t),i=Nr(r);Xn(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:wr(jr(i.auth_time)),issuedAtTime:wr(jr(i.iat)),expirationTime:wr(jr(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=ut(e);await Cr(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Xn(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Dr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Xn(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await Cr(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(Jn(this.auth));const e=await this.getIdToken();return await _r(this,async function(e,t){return ur(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,d=null!==(r=t.email)&&void 0!==r?r:void 0,h=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,m=null!==(s=t.photoURL)&&void 0!==s?s:void 0,f=null!==(a=t.tenantId)&&void 0!==a?a:void 0,p=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:x,providerData:w,stsTokenManager:j}=t;Xn(y&&j,e,"internal-error");const N=Ir.fromJSON(this.name,j);Xn("string"===typeof y,e,"internal-error"),Ar(u,e.name),Ar(d,e.name),Xn("boolean"===typeof b,e,"internal-error"),Xn("boolean"===typeof x,e,"internal-error"),Ar(h,e.name),Ar(m,e.name),Ar(f,e.name),Ar(p,e.name),Ar(g,e.name),Ar(v,e.name);const k=new Dr({uid:y,auth:e,email:d,emailVerified:b,displayName:u,isAnonymous:x,photoURL:m,phoneNumber:h,tenantId:f,stsTokenManager:N,createdAt:g,lastLoginAt:v});return w&&Array.isArray(w)&&(k.providerData=w.map((e=>Object.assign({},e)))),p&&(k._redirectEventId=p),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new Ir;r.updateFromServerResponse(t);const i=new Dr({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await Cr(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Xn(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?Tr(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new Ir;a.updateFromIdToken(n);const o=new Dr({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new Sr(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const Rr=new Map;function Pr(e){er(e instanceof Function,"Expected a class definition");let t=Rr.get(e);return t?(er(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Rr.set(e,t),t)}class Or{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Or.type="NONE";const Lr=Or;function Fr(e,t,n){return`firebase:${e}:${t}:${n}`}class Mr{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=Fr(this.userKey,r.apiKey,i),this.fullPersistenceKey=Fr("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Dr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new Mr(Pr(Lr),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||Pr(Lr);const s=Fr(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=Dr._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new Mr(i,e,n)):new Mr(i,e,n)}}function Ur(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if($r(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Vr(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(qr(t))return"Blackberry";if(Wr(t))return"Webos";if(zr(t))return"Safari";if((t.includes("chrome/")||Br(t))&&!t.includes("edge/"))return"Chrome";if(Hr(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Vr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke();return/firefox\//i.test(e)}function zr(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Br(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke();return/crios\//i.test(e)}function $r(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke();return/iemobile/i.test(e)}function Hr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke();return/android/i.test(e)}function qr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke();return/blackberry/i.test(e)}function Wr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke();return/webos/i.test(e)}function Gr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Kr(){return function(){const e=Ke();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Qr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke();return Gr(e)||Hr(e)||Wr(e)||qr(e)||/windows phone/i.test(e)||$r(e)}function Jr(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Ur(Ke());break;case"Worker":t=`${Ur(Ke())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${Sn}/${r}`}class Yr{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(Ox){r(Ox)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(Ox){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===Ox||void 0===Ox?void 0:Ox.message})}}}class Xr{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Zr{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ti(this),this.idTokenSubscription=new ti(this),this.beforeStateQueue=new Yr(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Hn,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Pr(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await Mr.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(Ox){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await xr(this,{idToken:e}),n=await Dr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(kn(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(Ox){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(Ox)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Xn(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(Ox){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Cr(e)}catch(Ox){if("auth/network-request-failed"!==(null===Ox||void 0===Ox?void 0:Ox.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(kn(this.app))return Promise.reject(Jn(this));const t=e?ut(e):null;return t&&Xn(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Xn(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return kn(this.app)?Promise.reject(Jn(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return kn(this.app)?Promise.reject(Jn(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(Pr(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return ur(e,"GET","/v2/passwordPolicy",cr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Xr(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new et("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return ur(e,"POST","/v2/accounts:revokeToken",cr(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Pr(e)||this._popupRedirectResolver;Xn(t,this,"argument-error"),this.redirectPersistenceManager=await Mr.create(this,[Pr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Xn(a,this,"internal-error"),a.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Xn(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Jr(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(qn.logLevel<=gt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];qn.warn(`Auth (${Sn}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function ei(e){return ut(e)}class ti{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new ot(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Xn(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ni={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ri(e){return ni.loadJS(e)}function ii(e){return`__${e}${Math.floor(1e6*Math.random())}`}class si{constructor(e){this.type="recaptcha-enterprise",this.auth=ei(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;vr(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n("NO_RECAPTCHA")}))})):r(Error("No reCAPTCHA enterprise script loaded."))}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{br(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new yr(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&vr(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=ni.recaptchaEnterpriseScript;0!==t.length&&(t+=i),ri(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function ai(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=new si(e);let s;try{s=await i.verify(n)}catch(o){s=await i.verify(n,!0)}const a=Object.assign({},t);return r?Object.assign(a,{captchaResp:s}):Object.assign(a,{captchaResponse:s}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function oi(e,t,n,r){var i;if(null===(i=e._getRecaptchaConfig())||void 0===i?void 0:i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await ai(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await ai(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}function li(e,t,n){const r=ei(e);Xn(r._canInitEmulator,r,"emulator-config-failed"),Xn(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=ci(t),{host:a,port:o}=function(e){const t=ci(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:ui(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:ui(t)}}}(t),l=null===o?"":`:${o}`;r.config.emulator={url:`${s}//${a}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function ci(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function ui(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class di{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Zn("not implemented")}_getIdTokenResponse(e){return Zn("not implemented")}_linkToIdToken(e,t){return Zn("not implemented")}_getReauthenticationResolver(e){return Zn("not implemented")}}async function hi(e,t){return ur(e,"POST","/v1/accounts:signUp",t)}async function mi(e,t){return hr(e,"POST","/v1/accounts:signInWithPassword",cr(e,t))}async function fi(e,t){return ur(e,"POST","/v1/accounts:sendOobCode",cr(e,t))}async function pi(e,t){return fi(e,t)}class gi extends di{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new gi(e,t,"password")}static _fromEmailAndCode(e,t){return new gi(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return oi(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",mi);case"emailLink":return async function(e,t){return hr(e,"POST","/v1/accounts:signInWithEmailLink",cr(e,t))}(e,{email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return oi(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hi);case"emailLink":return async function(e,t){return hr(e,"POST","/v1/accounts:signInWithEmailLink",cr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Gn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function vi(e,t){return hr(e,"POST","/v1/accounts:signInWithIdp",cr(e,t))}class yi extends di{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new yi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Gn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=zn(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new yi(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return vi(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,vi(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,vi(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=it(t)}return e}}const bi={USER_NOT_FOUND:"user-not-found"};class xi extends di{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new xi({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new xi({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return hr(e,"POST","/v1/accounts:signInWithPhoneNumber",cr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await hr(e,"POST","/v1/accounts:signInWithPhoneNumber",cr(e,t));if(n.temporaryProof)throw gr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return hr(e,"POST","/v1/accounts:signInWithPhoneNumber",cr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),bi)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new xi({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class wi{constructor(e){var t,n,r,i,s,a;const o=st(at(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Xn(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=st(at(e)).link,n=t?st(at(t)).deep_link_id:null,r=st(at(e)).deep_link_id;return(r?st(at(r)).link:null)||r||n||t||e}(e);try{return new wi(t)}catch(n){return null}}}class ji{constructor(){this.providerId=ji.PROVIDER_ID}static credential(e,t){return gi._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=wi.parseLink(t);return Xn(n,"argument-error"),gi._fromEmailAndCode(e,n.code,n.tenantId)}}ji.PROVIDER_ID="password",ji.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ji.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class Ni{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ki extends Ni{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class _i extends ki{constructor(){super("facebook.com")}static credential(e){return yi._fromParams({providerId:_i.PROVIDER_ID,signInMethod:_i.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _i.credentialFromTaggedObject(e)}static credentialFromError(e){return _i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return _i.credential(t.oauthAccessToken)}catch(n){return null}}}_i.FACEBOOK_SIGN_IN_METHOD="facebook.com",_i.PROVIDER_ID="facebook.com";class Ei extends ki{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return yi._fromParams({providerId:Ei.PROVIDER_ID,signInMethod:Ei.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Ei.credentialFromTaggedObject(e)}static credentialFromError(e){return Ei.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return Ei.credential(n,r)}catch(i){return null}}}Ei.GOOGLE_SIGN_IN_METHOD="google.com",Ei.PROVIDER_ID="google.com";class Si extends ki{constructor(){super("github.com")}static credential(e){return yi._fromParams({providerId:Si.PROVIDER_ID,signInMethod:Si.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Si.credentialFromTaggedObject(e)}static credentialFromError(e){return Si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return Si.credential(t.oauthAccessToken)}catch(n){return null}}}Si.GITHUB_SIGN_IN_METHOD="github.com",Si.PROVIDER_ID="github.com";class Ci extends ki{constructor(){super("twitter.com")}static credential(e,t){return yi._fromParams({providerId:Ci.PROVIDER_ID,signInMethod:Ci.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ci.credentialFromTaggedObject(e)}static credentialFromError(e){return Ci.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return Ci.credential(n,r)}catch(i){return null}}}async function Ti(e,t){return hr(e,"POST","/v1/accounts:signUp",cr(e,t))}Ci.TWITTER_SIGN_IN_METHOD="twitter.com",Ci.PROVIDER_ID="twitter.com";class Ii{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await Dr._fromIdTokenResponse(e,n,r),s=Ai(n);return new Ii({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=Ai(n);return new Ii({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function Ai(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class Di extends Ze{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Di.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Di(e,t,n,r)}}function Ri(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw Di._fromErrorAndOperation(e,n,t,r);throw n}))}async function Pi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await _r(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return Ii._forOperation(e,"link",r)}async function Oi(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(kn(r.app))return Promise.reject(Jn(r));const i="reauthenticate";try{const s=await _r(e,Ri(r,i,t,e),n);Xn(s.idToken,r,"internal-error");const a=Nr(s.idToken);Xn(a,r,"internal-error");const{sub:o}=a;return Xn(e.uid===o,r,"user-mismatch"),Ii._forOperation(e,i,s)}catch(Ox){throw"auth/user-not-found"===(null===Ox||void 0===Ox?void 0:Ox.code)&&Gn(r,"user-mismatch"),Ox}}async function Li(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(kn(e.app))return Promise.reject(Jn(e));const r="signIn",i=await Ri(e,r,t),s=await Ii._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Fi(e,t){return Li(ei(e),t)}function Mi(e,t,n){var r;Xn((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Xn("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Xn(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Xn(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}async function Ui(e){const t=ei(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function Vi(e,t,n){if(kn(e.app))return Promise.reject(Jn(e));const r=ei(e),i=oi(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Ti),s=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Ui(e),t})),a=await Ii._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}async function zi(e,t){let{displayName:n,photoURL:r}=t;if(void 0===n&&void 0===r)return;const i=ut(e),s={idToken:await i.getIdToken(),displayName:n,photoUrl:r,returnSecureToken:!0},a=await _r(i,async function(e,t){return ur(e,"POST","/v1/accounts:update",t)}(i.auth,s));i.displayName=a.displayName||null,i.photoURL=a.photoUrl||null;const o=i.providerData.find((e=>{let{providerId:t}=e;return"password"===t}));o&&(o.displayName=i.displayName,o.photoURL=i.photoURL),await i._updateTokensIfNecessary(a)}new WeakMap;const Bi="__sak";class $i{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Bi,"1"),this.storage.removeItem(Bi),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Hi extends $i{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Qr(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Kr()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Hi.type="LOCAL";const qi=Hi;class Wi extends $i{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Wi.type="SESSION";const Gi=Wi;class Ki{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Ki(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Qi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ki.receivers=[];class Ji{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=Qi("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Yi(){return window}function Xi(){return"undefined"!==typeof Yi().WorkerGlobalScope&&"function"===typeof Yi().importScripts}const Zi="firebaseLocalStorageDb",es="firebaseLocalStorage",ts="fbase_key";class ns{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function rs(e,t){return e.transaction([es],t?"readwrite":"readonly").objectStore(es)}function is(){const e=indexedDB.open(Zi,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(es,{keyPath:ts})}catch(Ox){n(Ox)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(es)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Zi);return new ns(e).toPromise()}(),t(await is()))}))}))}async function ss(e,t,n){const r=rs(e,!0).put({[ts]:t,value:n});return new ns(r).toPromise()}function as(e,t){const n=rs(e,!0).delete(t);return new ns(n).toPromise()}class os{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await is()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(Ox){if(t++>3)throw Ox;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Xi()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ki._getInstance(Xi()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ji(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await is();return await ss(e,Bi,"1"),await as(e,Bi),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>ss(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=rs(e,!1).get(t),r=await new ns(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>as(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=rs(e,!1).getAll();return new ns(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}os.type="LOCAL";const ls=os;ii("rcb"),new ir(3e4,6e4);const cs="recaptcha";async function us(e,t,n){var r;const i=await n.verify();try{let s;if(Xn("string"===typeof i,e,"argument-error"),Xn(n.type===cs,e,"argument-error"),s="string"===typeof t?{phoneNumber:t}:t,"session"in s){const t=s.session;if("phoneNumber"in s){Xn("enroll"===t.type,e,"internal-error");const n=await function(e,t){return ur(e,"POST","/v2/accounts/mfaEnrollment:start",cr(e,t))}(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:s.phoneNumber,recaptchaToken:i}});return n.phoneSessionInfo.sessionInfo}{Xn("signin"===t.type,e,"internal-error");const n=(null===(r=s.multiFactorHint)||void 0===r?void 0:r.uid)||s.multiFactorUid;Xn(n,e,"missing-multi-factor-info");const a=await function(e,t){return ur(e,"POST","/v2/accounts/mfaSignIn:start",cr(e,t))}(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}});return a.phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=await async function(e,t){return ur(e,"POST","/v1/accounts:sendVerificationCode",cr(e,t))}(e,{phoneNumber:s.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}}class ds{constructor(e){this.providerId=ds.PROVIDER_ID,this.auth=ei(e)}verifyPhoneNumber(e,t){return us(this.auth,e,ut(t))}static credential(e,t){return xi._fromVerification(e,t)}static credentialFromResult(e){const t=e;return ds.credentialFromTaggedObject(t)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?xi._fromTokenResponse(n,r):null}}function hs(e,t){return t?Pr(t):(Xn(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}ds.PROVIDER_ID="phone",ds.PHONE_SIGN_IN_METHOD="phone";class ms extends di{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return vi(e,this._buildIdpRequest())}_linkToIdToken(e,t){return vi(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return vi(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function fs(e){return Li(e.auth,new ms(e),e.bypassAuthState)}function ps(e){const{auth:t,user:n}=e;return Xn(n,t,"internal-error"),Oi(n,new ms(e),e.bypassAuthState)}async function gs(e){const{auth:t,user:n}=e;return Xn(n,t,"internal-error"),Pi(n,new ms(e),e.bypassAuthState)}class vs{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(Ox){this.reject(Ox)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(Ox){this.reject(Ox)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return fs;case"linkViaPopup":case"linkViaRedirect":return gs;case"reauthViaPopup":case"reauthViaRedirect":return ps;default:Gn(this.auth,"internal-error")}}resolve(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ys=new ir(2e3,1e4);class bs extends vs{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,bs.currentPopupAction&&bs.currentPopupAction.cancel(),bs.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Xn(e,this.auth,"internal-error"),e}async onExecution(){er(1===this.filter.length,"Popup operations only handle one event");const e=Qi();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Kn(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Kn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,bs.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Kn(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,ys.get())};e()}}bs.currentPopupAction=null;const xs=new Map;class ws extends vs{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=xs.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ks(t),r=Ns(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(Ox){e=()=>Promise.reject(Ox)}xs.set(this.auth._key(),e)}return this.bypassAuthState||xs.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function js(e,t){xs.set(e._key(),t)}function Ns(e){return Pr(e._redirectPersistence)}function ks(e){return Fr("pendingRedirect",e.config.apiKey,e.name)}async function _s(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(kn(e.app))return Promise.reject(Jn(e));const r=ei(e),i=hs(r,t),s=new ws(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class Es{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Cs(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Cs(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Kn(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ss(e))}saveEventToCache(e){this.cachedEventUids.add(Ss(e)),this.lastProcessedEventTime=Date.now()}}function Ss(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function Cs(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const Ts=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Is=/^https?/;async function As(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return ur(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(Ds(r))return}catch(n){}Gn(e,"unauthorized-domain")}function Ds(e){const t=tr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Is.test(n))return!1;if(Ts.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Rs=new ir(3e4,6e4);function Ps(){const e=Yi().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function Os(e){return new Promise(((t,n)=>{var r,i,s;function a(){Ps(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Ps(),n(Kn(e,"network-request-failed"))},timeout:Rs.get()})}if(null===(i=null===(r=Yi().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Yi().gapi)||void 0===s?void 0:s.load)){const t=ii("iframefcb");return Yi()[t]=()=>{gapi.load?a():n(Kn(e,"network-request-failed"))},ri(`${ni.gapiScript}?onload=${t}`).catch((e=>n(e)))}a()}})).catch((e=>{throw Ls=null,e}))}let Ls=null;const Fs=new ir(5e3,15e3),Ms={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Us=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Vs(e){const t=e.config;Xn(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?sr(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Sn},i=Us.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${it(r).slice(1)}`}async function zs(e){const t=await function(e){return Ls=Ls||Os(e),Ls}(e),n=Yi().gapi;return Xn(n,e,"internal-error"),t.open({where:document.body,url:Vs(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ms,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Kn(e,"network-request-failed"),s=Yi().setTimeout((()=>{r(i)}),Fs.get());function a(){Yi().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const Bs={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $s{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(Ox){}}}function Hs(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Bs),{width:r.toString(),height:i.toString(),top:s,left:a}),c=Ke().toLowerCase();n&&(o=Br(c)?"_blank":n),Vr(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return Gr(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new $s(null);const d=window.open(t||"",o,u);Xn(d,e,"popup-blocked");try{d.focus()}catch(Ox){}return new $s(d)}const qs="__/auth/handler",Ws="emulator/auth/handler",Gs=encodeURIComponent("fac");async function Ks(e,t,n,r,i,s){Xn(e.config.authDomain,e,"auth-domain-config-required"),Xn(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Sn,eventId:i};if(t instanceof Ni){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof ki){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?`#${Gs}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${qs}`;return sr(t,Ws)}(e)}?${it(o).slice(1)}${c}`}const Qs="webStorageSupport";const Js=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Gi,this._completeRedirectFn=_s,this._overrideRedirectResult=js}async _openPopup(e,t,n,r){var i;er(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Hs(e,await Ks(e,t,n,tr(),r),Qi())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Yi().location.href=e}(await Ks(e,t,n,tr(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(er(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await zs(e),n=new Es(e);return t.register("authEvent",(t=>{Xn(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Qs,{type:Qs},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Qs];void 0!==i&&t(!!i),Gn(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=As(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Qr()||zr()||Gr()}};var Ys="@firebase/auth",Xs="1.7.9";class Zs{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Xn(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ea=qe("authIdTokenMaxAge")||300;let ta=null;var na;ni={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Kn("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},na="Browser",jn(new dt("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Xn(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:na,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Jr(na)},c=new Zr(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Pr);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),jn(new dt("auth-internal",(e=>(e=>new Zs(e))(ei(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),In(Ys,Xs,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(na)),In(Ys,Xs,"esm2017");var ra,ia,sa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},aa={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return h(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function d(e){return-1==e.h}function h(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function m(e,t){return e.add(h(t))}function f(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function p(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new p(o,o);if(d(e))return t=g(h(e),t),new p(h(t.g),h(t.h));if(d(t))return t=g(e,h(t)),new p(h(t.g),t.h);if(30<e.g.length){if(d(e)||d(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=y(r,1),n=y(n,1)}return t=m(e,i.j(t)),new p(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);d(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=m(e,c)}return new p(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(d(this))return-h(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(d(this))return"-"+h(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=m(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return d(e=m(this,e))?-1:u(e)?0:1},e.abs=function(){return d(this)?h(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(d(this))return d(e)?h(this).j(h(e)):h(h(this).j(e));if(d(e))return h(this.j(h(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,m=65535&this.i(i),p=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=m*g,f(n,2*i+2*s),n[2*i+2*s+1]+=l*g,f(n,2*i+2*s+1),n[2*i+2*s+1]+=m*p,f(n,2*i+2*s+1),n[2*i+2*s+2]+=l*p,f(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,ia=aa.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return h(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},ra=aa.Integer=r}).apply("undefined"!==typeof sa?sa:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var oa,la,ca,ua,da,ha,ma,fa,pa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},ga={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof pa&&pa];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function d(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function h(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function m(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function f(e){return/^[\s\xa0]*$/.test(e)}function p(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var v=-1!=p().indexOf("Gecko")&&!(-1!=p().toLowerCase().indexOf("webkit")&&-1==p().indexOf("Edge"))&&!(-1!=p().indexOf("Trident")||-1!=p().indexOf("MSIE"))&&-1==p().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const x="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function w(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<x.length;t++)n=x[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function j(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function N(e){i.setTimeout((()=>{throw e}),0)}function k(){var e=T;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var _=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new E),(e=>e.reset()));class E{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let S,C=!1,T=new class{constructor(){this.h=this.g=null}add(e,t){const n=_.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},I=()=>{const e=i.Promise.resolve(void 0);S=()=>{e.then(A)}};var A=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(n){N(n)}var t=_;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}C=!1};function D(){this.s=this.s,this.C=this.C}function R(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}D.prototype.s=!1,D.prototype.ma=function(){this.s||(this.s=!0,this.N())},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},R.prototype.h=function(){this.defaultPrevented=!0};var P=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function O(e,t){if(R.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&O.aa.h.call(this)}}d(O,R);var L={2:"touch",3:"pen",4:"mouse"};O.prototype.h=function(){O.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),M=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++M,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function B(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function $(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=$(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new U(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),q={};function W(e,t,n,r,i){if(r&&r.once)return K(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)W(e,t[s],n,r,i);return null}return n=te(n),e&&e[F]?e.K(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!1,r,i)}function G(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[H]=l=new z(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)P||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Y(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function K(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);return null}return n=te(n),e&&e[F]?e.L(t,n,a(r)?!!r.capture:!!r,i):G(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[F]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=$(s=e.g[t],n,r,i))&&(V(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=$(t,n,r,i)),(n=-1<e?t[e]:null)&&J(n))}function J(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])B(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Y(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(B(n,e),0==n.h&&(n.src=null,t[H]=null)):V(e)}}}function Y(e){return e in q?q[e]:q[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new O(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&J(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){D.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new R(t,e);else if(t instanceof R)t.target=t.target||e;else{var i=t;w(t=new R(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(a=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&B(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}d(ne,D),ne.prototype[F]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends D{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){D.call(this),this.h=e,this.g={}}d(le,D);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&J(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var de=i.JSON.stringify,he=i.JSON.parse,me=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function fe(){}function pe(e){return e.h||(e.h=e.i())}function ge(){}fe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){R.call(this,"d")}function be(){R.call(this,"c")}d(ye,R),d(be,R);var xe={},we=null;function je(){return we=we||new ne}function Ne(e){R.call(this,xe.La,e)}function ke(e){const t=je();re(t,new Ne(t))}function _e(e,t){R.call(this,xe.STAT_EVENT,e),this.stat=t}function Ee(e){const t=je();re(t,new _e(t,e))}function Se(e,t){R.call(this,xe.Ma,e),this.size=t}function Ce(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Te(){this.g=!0}function Ie(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return de(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}xe.La="serverreachability",d(Ne,R),xe.STAT_EVENT="statevent",d(_e,R),xe.Ma="timingevent",d(Se,R),Te.prototype.xa=function(){this.g=!1},Te.prototype.info=function(){};var Ae,De={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Re={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Pe(){}function Oe(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}d(Pe,fe),Pe.prototype.g=function(){return new XMLHttpRequest},Pe.prototype.i=function(){return{}},Ae=new Pe;var Fe={},Me={};function Ue(e,t,n){e.L=1,e.v=dt(at(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),$e(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),_t(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=mn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var a=W(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");a=2<=d.length&&"type"==d[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Be(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Me:(n=Number(t.substring(n,r)),isNaN(n)?Fe:(r+=1)+n>t.length?Me:(t=t.slice(r,r+n),e.C=r+n,t))}function $e(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ce(c(e.ba,e),t)}function qe(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||ln(e.j,e)}function Ge(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ke(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Jt(n)}rn(n),Ee(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ce(c(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!f(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const d=e.g;if(d){const e=d.g?d.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=d.g?d.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=hn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(qe(o),$e(o)),r.g=a}else nn(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}ke()}catch(u){}}Oe.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},Oe.prototype.Y=function(e){try{if(e==this.g)e:{const h=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>h)&&(3!=h||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=h||7==t||ke(),qe(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Wt(this.g);e="";var s=r.length,a=4==qt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ge(this),We(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.i,this.u,this.A,this.l,this.R,h,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!f(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Ee(12),Ge(this),We(this);break e}Ie(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ke(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Be(this,o),e==Me){4==h&&(this.s=4,Ee(14),n=!1),Ie(this.i,this.l,null,"[Incomplete Response]");break}if(e==Fe){this.s=4,Ee(15),Ie(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Ie(this.i,this.l,e,null),Ke(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=h||0!=o.length||this.h.h||(this.s=1,Ee(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var d=this.j;d.g==this&&d.ba&&!d.M&&(d.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),sn(d),d.M=!0,Ee(11))}}else Ie(this.i,this.l,o,"[Invalid Chunked Response]"),Ge(this),We(this)}else Ie(this.i,this.l,o,null),Ke(this,o);4==h&&Ge(this),this.o&&!this.J&&(4==h?ln(this.j,this):(this.o=!1,$e(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(f(e[r]))continue;var n=j(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,Ee(12)):(this.s=0,Ee(13)),Ge(this),We(this)}}}catch(va){}},Oe.prototype.cancel=function(){this.J=!0,Ge(this)},Oe.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(ke(),Ee(17)),Ge(this),this.s=2,We(this)):He(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Je(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ye(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return h(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Je.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new wt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,ot(this,t[1]||"",!0),this.o=ht(t[2]||""),this.g=ht(t[3]||"",!0),lt(this,t[4]),this.l=ht(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=ht(t[7]||"")):(this.h=!1,this.i=new wt(null,this.h))}function at(e){return new st(e)}function ot(e,t,n){e.j=n?ht(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof wt?(e.i=t,function(e,t){t&&!e.j&&(jt(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Nt(this,t),_t(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=mt(t,bt)),e.i=new wt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function dt(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function ht(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function mt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ft(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(mt(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(mt(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(mt(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",mt(n,xt)),e.join("")};var pt,gt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,xt=/#/g;function wt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function jt(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Nt(e,t){jt(e),t=Et(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kt(e,t){return jt(e),t=Et(e,t),e.g.has(t)}function _t(e,t,n){Nt(e,t),0<n.length&&(e.i=null,e.g.set(Et(e,t),h(n)),e.h+=n.length)}function Et(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function St(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Ct(){this.g=new me}function Tt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;a(e)&&(i=de(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(Ox){throw t.push(r+"type="+encodeURIComponent("_badmap")),Ox}}function It(e){this.l=e.Ub||null,this.j=e.eb||!1}function At(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Dt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Rt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Pt(e)}function Pt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Ot(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Ot(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Ft(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=wt.prototype).add=function(e,t){jt(this),this.i=null,e=Et(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){jt(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){jt(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){jt(this);let t=[];if("string"===typeof e)kt(this,e)&&(t=t.concat(this.g.get(Et(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return jt(this),this.i=null,kt(this,e=Et(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},d(It,fe),It.prototype.g=function(){return new At(this.l,this.j)},It.prototype.i=(pt={},function(){return pt}),d(At,ne),(e=At.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Pt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Rt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Pt(this)),this.g&&(this.readyState=3,Pt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Rt(this):Pt(this),3==this.readyState&&Dt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Rt(this))},e.Qa=function(e){this.g&&(this.response=e,Rt(this))},e.ga=function(){this.g&&Rt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(At.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),d(Ft,ne);var Mt=/^https?$/i,Ut=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),$t(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Bt(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==qt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!Mt.test(a?a.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<qt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",zt(e)}}finally{$t(e)}}}function $t(e,t){if(e.g){Ht(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(Ox){}}}function Ht(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(xa){return null}}function Gt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new Te,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Gt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Gt("baseRetryDelayMs",5e3,e),this.cb=Gt("retryDelaySeedMs",1e4,e),this.Wa=Gt("forwardChannelMaxRetries",2,e),this.wa=Gt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Je(e&&e.concurrentRequestLimit),this.Da=new Ct,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Yt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Oe(e,e.j,t)).L=2,t.v=dt(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=mn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),$e(t)}dn(e)}function Jt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Yt(e){Jt(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Ye(e.h)&&!e.s){e.s=!0;var t=e.Ga;S||I(),C||(S(),C=!0),T.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new Oe(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function en(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{Tt(o,e,"req"+n+"_")}catch(va){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;S||I(),C||(S(),C=!0),T.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ce(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new Oe(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=dt(at(t)),n.m=null,n.P=!0,Ve(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=je(),new Se(r,n)),Xt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ce(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),dt(r),t?function(e,t){const n=new Te;if(i.Image){const r=new Image;r.onload=u(St,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(St,n,"TestLoadImage: error",!1,t,r),r.onabort=u(St,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(St,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Te;const n=new AbortController,r=setTimeout((()=>{n.abort(),St(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?St(0,0,!0,t):St(0,0,!1,t)})).catch((()=>{clearTimeout(r),St(0,0,!1,t)}))}(r.toString(),n)}else Ee(2);e.G=0,e.l&&e.l.sa(t),dn(e),Yt(e)}function dn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(m(e.ka,t),m(e.ka,e.i),e.h.i.length=0,h(e.i),e.i.length=0),e.l.ra()}}function hn(e,t,n){var r=n instanceof st?at(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new st(null);r&&ot(a,r),t&&(a.g=t),s&&lt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function mn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ft(new It({eb:n})):new Ft(e.pa)).Ha(e.J),t}function fn(){}function pn(){}function gn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!f(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!f(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Ft.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Ae.g(),this.v=this.o?pe(this.o):pe(Ae),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void Vt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){Vt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),$t(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),$t(this,!0)),Ft.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Bt(this):this.bb())},e.bb=function(){Bt(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(pt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(pt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),he(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Ee(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=hn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Oe(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),w(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Ot(s)))+"&"+t:this.m&&Lt(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Ye(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ce(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ee(10),Jt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Jt(this),rn(this),Ee(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Ee(2)):(this.j.info("Failed to ping google.com"),Ee(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},pn.prototype.g=function(e,t){return new gn(e,t)},d(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Qt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=de(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&Xt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,gn.aa.N.call(this)},d(vn,ye),d(yn,be),d(bn,fn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new vn(e))},bn.prototype.sa=function(e){re(this.g,new yn)},bn.prototype.ra=function(){re(this.g,"b")},pn.prototype.createWebChannel=pn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,fa=ga.createWebChannelTransport=function(){return new pn},ma=ga.getStatEventTarget=function(){return je()},ha=ga.Event=xe,da=ga.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},De.NO_ERROR=0,De.TIMEOUT=8,De.HTTP_ERROR=6,ua=ga.ErrorCode=De,Re.COMPLETE="complete",ca=ga.EventType=Re,ge.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,la=ga.WebChannel=ge,ga.FetchXmlHttpFactory=It,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,oa=ga.XhrIo=Ft}).apply("undefined"!==typeof pa?pa:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const va="@firebase/firestore";class ya{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ya.UNAUTHENTICATED=new ya(null),ya.GOOGLE_CREDENTIALS=new ya("google-credentials-uid"),ya.FIRST_PARTY=new ya("first-party-uid"),ya.MOCK_USER=new ya("mock-user");let ba="10.14.0";const xa=new wt("@firebase/firestore");function wa(){return xa.logLevel}function ja(e){if(xa.logLevel<=gt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(_a);xa.debug(`Firestore (${ba}): ${e}`,...i)}}function Na(e){if(xa.logLevel<=gt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(_a);xa.error(`Firestore (${ba}): ${e}`,...i)}}function ka(e){if(xa.logLevel<=gt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(_a);xa.warn(`Firestore (${ba}): ${e}`,...i)}}function _a(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function Ea(){const e=`FIRESTORE (${ba}) INTERNAL ASSERTION FAILED: `+(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state");throw Na(e),new Error(e)}function Sa(e,t){e||Ea()}function Ca(e,t){return e}const Ta={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Ia extends Ze{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Aa{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class Da{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ra{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ya.UNAUTHENTICATED)))}shutdown(){}}class Pa{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class Oa{constructor(e){this.t=e,this.currentUser=ya.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Sa(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Aa;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Aa,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{ja("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(ja("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Aa)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(ja("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Sa("string"==typeof t.accessToken),new Da(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Sa(null===e||"string"==typeof e),new ya(e)}}class La{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=ya.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Fa{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new La(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(ya.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ma{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ua{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Sa(void 0===this.o);const n=e=>{null!=e.error&&ja("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,ja("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{ja("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):ja("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(Sa("string"==typeof e.token),this.R=e.token,new Ma(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function Va(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class za{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=Va(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function Ba(e,t){return e<t?-1:e>t?1:0}function $a(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Ha{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Ia(Ta.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Ia(Ta.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Ia(Ta.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Ia(Ta.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ha.fromMillis(Date.now())}static fromDate(e){return Ha.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ha(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ba(this.nanoseconds,e.nanoseconds):Ba(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class qa{constructor(e){this.timestamp=e}static fromTimestamp(e){return new qa(e)}static min(){return new qa(new Ha(0,0))}static max(){return new qa(new Ha(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Wa{constructor(e,t,n){void 0===t?t=0:t>e.length&&Ea(),void 0===n?n=e.length-t:n>e.length-t&&Ea(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Wa.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Wa?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ga extends Wa{construct(e,t,n){return new Ga(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new Ia(Ta.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new Ga(e)}static emptyPath(){return new Ga([])}}const Ka=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qa extends Wa{construct(e,t,n){return new Qa(e,t,n)}static isValidIdentifier(e){return Ka.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qa.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Qa(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Ia(Ta.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Ia(Ta.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Ia(Ta.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new Ia(Ta.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qa(t)}static emptyPath(){return new Qa([])}}class Ja{constructor(e){this.path=e}static fromPath(e){return new Ja(Ga.fromString(e))}static fromName(e){return new Ja(Ga.fromString(e).popFirst(5))}static empty(){return new Ja(Ga.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ga.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ga.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ja(new Ga(e.slice()))}}class Ya{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Ya.UNKNOWN_ID=-1;function Xa(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=qa.fromTimestamp(1e9===r?new Ha(n+1,0):new Ha(n,r));return new eo(i,Ja.empty(),t)}function Za(e){return new eo(e.readTime,e.key,-1)}class eo{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new eo(qa.min(),Ja.empty(),-1)}static max(){return new eo(qa.max(),Ja.empty(),-1)}}function to(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Ja.comparator(e.documentKey,t.documentKey),0!==n?n:Ba(e.largestBatchId,t.largestBatchId))}const no="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ro{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function io(e){if(e.code!==Ta.FAILED_PRECONDITION||e.message!==no)throw e;ja("LocalStore","Unexpectedly lost primary lease")}class so{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ea(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new so(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof so?t:so.resolve(t)}catch(e){return so.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):so.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):so.reject(t)}static resolve(e){return new so(((t,n)=>{t(e)}))}static reject(e){return new so(((t,n)=>{n(e)}))}static waitFor(e){return new so(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=so.resolve(!1);for(const n of e)t=t.next((e=>e?so.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new so(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new so(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function ao(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function oo(e){return"IndexedDbTransactionError"===e.name}class lo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function co(e){return null==e}function uo(e){return 0===e&&1/e==-1/0}function ho(e){return"number"==typeof e&&Number.isInteger(e)&&!uo(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}lo.oe=-1;const mo=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],fo=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],po=fo,go=[...po,"indexConfiguration","indexState","indexEntries"];function vo(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function yo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function bo(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class xo{constructor(e,t){this.comparator=e,this.root=t||jo.EMPTY}insert(e,t){return new xo(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,jo.BLACK,null,null))}remove(e){return new xo(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jo.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wo(this.root,e,this.comparator,!1)}getReverseIterator(){return new wo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wo(this.root,e,this.comparator,!0)}}class wo{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jo{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:jo.RED,this.left=null!=r?r:jo.EMPTY,this.right=null!=i?i:jo.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new jo(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return jo.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return jo.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jo.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jo.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ea();if(this.right.isRed())throw Ea();const e=this.left.check();if(e!==this.right.check())throw Ea();return e+(this.isRed()?0:1)}}jo.EMPTY=null,jo.RED=!0,jo.BLACK=!1,jo.EMPTY=new class{constructor(){this.size=0}get key(){throw Ea()}get value(){throw Ea()}get color(){throw Ea()}get left(){throw Ea()}get right(){throw Ea()}copy(e,t,n,r,i){return this}insert(e,t,n){return new jo(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class No{constructor(e){this.comparator=e,this.data=new xo(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new ko(this.data.getIterator())}getIteratorFrom(e){return new ko(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof No))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new No(this.comparator);return t.data=e,t}}class ko{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class _o{constructor(e){this.fields=e,e.sort(Qa.comparator)}static empty(){return new _o([])}unionWith(e){let t=new No(Qa.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new _o(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return $a(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class Eo extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class So{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new Eo("Invalid base64 string: "+e):e}}(e);return new So(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new So(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ba(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}So.EMPTY_BYTE_STRING=new So("");const Co=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function To(e){if(Sa(!!e),"string"==typeof e){let t=0;const n=Co.exec(e);if(Sa(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Io(e.seconds),nanos:Io(e.nanos)}}function Io(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Ao(e){return"string"==typeof e?So.fromBase64String(e):So.fromUint8Array(e)}function Do(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Ro(e){const t=e.mapValue.fields.__previous_value__;return Do(t)?Ro(t):t}function Po(e){const t=To(e.mapValue.fields.__local_write_time__.timestampValue);return new Ha(t.seconds,t.nanos)}class Oo{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class Lo{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Lo("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Lo&&e.projectId===this.projectId&&e.database===this.database}}const Fo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Mo(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Do(e)?4:el(e)?9007199254740991:Xo(e)?10:11:Ea()}function Uo(e,t){if(e===t)return!0;const n=Mo(e);if(n!==Mo(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Po(e).isEqual(Po(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=To(e.timestampValue),r=To(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Ao(e.bytesValue).isEqual(Ao(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Io(e.geoPointValue.latitude)===Io(t.geoPointValue.latitude)&&Io(e.geoPointValue.longitude)===Io(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Io(e.integerValue)===Io(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Io(e.doubleValue),r=Io(t.doubleValue);return n===r?uo(n)===uo(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return $a(e.arrayValue.values||[],t.arrayValue.values||[],Uo);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(vo(n)!==vo(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Uo(n[i],r[i])))return!1;return!0}(e,t);default:return Ea()}}function Vo(e,t){return void 0!==(e.values||[]).find((e=>Uo(e,t)))}function zo(e,t){if(e===t)return 0;const n=Mo(e),r=Mo(t);if(n!==r)return Ba(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ba(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Io(e.integerValue||e.doubleValue),r=Io(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Bo(e.timestampValue,t.timestampValue);case 4:return Bo(Po(e),Po(t));case 5:return Ba(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Ao(e),r=Ao(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Ba(n[i],r[i]);if(0!==e)return e}return Ba(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Ba(Io(e.latitude),Io(t.latitude));return 0!==n?n:Ba(Io(e.longitude),Io(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return $o(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=o.value)||void 0===r?void 0:r.arrayValue,u=Ba((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:$o(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Fo.mapValue&&t===Fo.mapValue)return 0;if(e===Fo.mapValue)return 1;if(t===Fo.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=Ba(r[a],s[a]);if(0!==e)return e;const t=zo(n[r[a]],i[s[a]]);if(0!==t)return t}return Ba(r.length,s.length)}(e.mapValue,t.mapValue);default:throw Ea()}}function Bo(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Ba(e,t);const n=To(e),r=To(t),i=Ba(n.seconds,r.seconds);return 0!==i?i:Ba(n.nanos,r.nanos)}function $o(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=zo(n[i],r[i]);if(e)return e}return Ba(n.length,r.length)}function Ho(e){return qo(e)}function qo(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=To(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return Ao(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Ja.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=qo(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${qo(e.fields[i])}`;return n+"}"}(e.mapValue):Ea()}function Wo(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Go(e){return!!e&&"integerValue"in e}function Ko(e){return!!e&&"arrayValue"in e}function Qo(e){return!!e&&"nullValue"in e}function Jo(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Yo(e){return!!e&&"mapValue"in e}function Xo(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Zo(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return yo(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Zo(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Zo(e.arrayValue.values[n]);return t}return Object.assign({},e)}function el(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class tl{constructor(e){this.value=e}static empty(){return new tl({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Yo(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Zo(t)}setAll(e){let t=Qa.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Zo(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Yo(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Uo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Yo(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){yo(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new tl(Zo(this.value))}}function nl(e){const t=[];return yo(e.fields,((e,n)=>{const r=new Qa([e]);if(Yo(n)){const e=nl(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new _o(t)}class rl{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new rl(e,0,qa.min(),qa.min(),qa.min(),tl.empty(),0)}static newFoundDocument(e,t,n,r){return new rl(e,1,t,qa.min(),n,r,0)}static newNoDocument(e,t){return new rl(e,2,t,qa.min(),qa.min(),tl.empty(),0)}static newUnknownDocument(e,t){return new rl(e,3,t,qa.min(),qa.min(),tl.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(qa.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=tl.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=tl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qa.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof rl&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rl(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class il{constructor(e,t){this.position=e,this.inclusive=t}}function sl(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Ja.comparator(Ja.fromName(a.referenceValue),n.key):zo(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function al(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Uo(e.position[n],t.position[n]))return!1;return!0}class ol{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function ll(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class cl{}class ul extends cl{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new yl(e,t,n):"array-contains"===t?new jl(e,n):"in"===t?new Nl(e,n):"not-in"===t?new kl(e,n):"array-contains-any"===t?new _l(e,n):new ul(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new bl(e,n):new xl(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(zo(t,this.value)):null!==t&&Mo(this.value)===Mo(t)&&this.matchesComparison(zo(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ea()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class dl extends cl{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new dl(e,t)}matches(e){return hl(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function hl(e){return"and"===e.op}function ml(e){return fl(e)&&hl(e)}function fl(e){for(const t of e.filters)if(t instanceof dl)return!1;return!0}function pl(e){if(e instanceof ul)return e.field.canonicalString()+e.op.toString()+Ho(e.value);if(ml(e))return e.filters.map((e=>pl(e))).join(",");{const t=e.filters.map((e=>pl(e))).join(",");return`${e.op}(${t})`}}function gl(e,t){return e instanceof ul?function(e,t){return t instanceof ul&&e.op===t.op&&e.field.isEqual(t.field)&&Uo(e.value,t.value)}(e,t):e instanceof dl?function(e,t){return t instanceof dl&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&gl(n,t.filters[r])),!0)}(e,t):void Ea()}function vl(e){return e instanceof ul?function(e){return`${e.field.canonicalString()} ${e.op} ${Ho(e.value)}`}(e):e instanceof dl?function(e){return e.op.toString()+" {"+e.getFilters().map(vl).join(" ,")+"}"}(e):"Filter"}class yl extends ul{constructor(e,t,n){super(e,t,n),this.key=Ja.fromName(n.referenceValue)}matches(e){const t=Ja.comparator(e.key,this.key);return this.matchesComparison(t)}}class bl extends ul{constructor(e,t){super(e,"in",t),this.keys=wl("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class xl extends ul{constructor(e,t){super(e,"not-in",t),this.keys=wl("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function wl(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Ja.fromName(e.referenceValue)))}class jl extends ul{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ko(t)&&Vo(t.arrayValue,this.value)}}class Nl extends ul{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Vo(this.value.arrayValue,t)}}class kl extends ul{constructor(e,t){super(e,"not-in",t)}matches(e){if(Vo(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Vo(this.value.arrayValue,t)}}class _l extends ul{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ko(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Vo(this.value.arrayValue,e)))}}class El{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ue=null}}function Sl(e){return new El(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function Cl(e){const t=Ca(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>pl(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),co(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ho(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ho(e))).join(",")),t.ue=e}return t.ue}function Tl(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!ll(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!gl(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!al(e.startAt,t.startAt)&&al(e.endAt,t.endAt)}function Il(e){return Ja.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class Al{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Dl(e,t,n,r,i,s,a,o){return new Al(e,t,n,r,i,s,a,o)}function Rl(e){return new Al(e)}function Pl(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function Ol(e){return null!==e.collectionGroup}function Ll(e){const t=Ca(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new No(Qa.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new ol(r,n))})),e.has(Qa.keyField().canonicalString())||t.ce.push(new ol(Qa.keyField(),n))}return t.ce}function Fl(e){const t=Ca(e);return t.le||(t.le=Ml(t,Ll(e))),t.le}function Ml(e,t){if("F"===e.limitType)return Sl(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new ol(e.field,t)}));const n=e.endAt?new il(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new il(e.startAt.position,e.startAt.inclusive):null;return Sl(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function Ul(e,t){const n=e.filters.concat([t]);return new Al(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Vl(e,t,n){return new Al(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function zl(e,t){return Tl(Fl(e),Fl(t))&&e.limitType===t.limitType}function Bl(e){return`${Cl(Fl(e))}|lt:${e.limitType}`}function $l(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>vl(e))).join(", ")}]`),co(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ho(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ho(e))).join(",")),`Target(${t})`}(Fl(e))}; limitType=${e.limitType})`}function Hl(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Ja.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Ll(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=sl(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Ll(e),t))&&!(e.endAt&&!function(e,t,n){const r=sl(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Ll(e),t))}(e,t)}function ql(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Wl(e){return(t,n)=>{let r=!1;for(const i of Ll(e)){const e=Gl(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Gl(e,t,n){const r=e.field.isKeyField()?Ja.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?zo(r,i):Ea()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Ea()}}class Kl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){yo(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return bo(this.inner)}size(){return this.innerSize}}const Ql=new xo(Ja.comparator);function Jl(){return Ql}const Yl=new xo(Ja.comparator);function Xl(){let e=Yl;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function Zl(e){let t=Yl;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function ec(){return nc()}function tc(){return nc()}function nc(){return new Kl((e=>e.toString()),((e,t)=>e.isEqual(t)))}const rc=new xo(Ja.comparator),ic=new No(Ja.comparator);function sc(){let e=ic;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const ac=new No(Ba);function oc(){return ac}function lc(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uo(t)?"-0":t}}function cc(e){return{integerValue:""+e}}function uc(e,t){return ho(t)?cc(t):lc(e,t)}class dc{constructor(){this._=void 0}}function hc(e,t,n){return e instanceof pc?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Do(t)&&(t=Ro(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof gc?vc(e,t):e instanceof yc?bc(e,t):function(e,t){const n=fc(e,t),r=wc(n)+wc(e.Pe);return Go(n)&&Go(e.Pe)?cc(r):lc(e.serializer,r)}(e,t)}function mc(e,t,n){return e instanceof gc?vc(e,t):e instanceof yc?bc(e,t):n}function fc(e,t){return e instanceof xc?function(e){return Go(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class pc extends dc{}class gc extends dc{constructor(e){super(),this.elements=e}}function vc(e,t){const n=jc(t);for(const r of e.elements)n.some((e=>Uo(e,r)))||n.push(r);return{arrayValue:{values:n}}}class yc extends dc{constructor(e){super(),this.elements=e}}function bc(e,t){let n=jc(t);for(const r of e.elements)n=n.filter((e=>!Uo(e,r)));return{arrayValue:{values:n}}}class xc extends dc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function wc(e){return Io(e.integerValue||e.doubleValue)}function jc(e){return Ko(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class Nc{constructor(e,t){this.field=e,this.transform=t}}class kc{constructor(e,t){this.version=e,this.transformResults=t}}class _c{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new _c}static exists(e){return new _c(void 0,e)}static updateTime(e){return new _c(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ec(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Sc{}function Cc(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new Mc(e.key,_c.none()):new Rc(e.key,e.data,_c.none());{const n=e.data,r=tl.empty();let i=new No(Qa.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Pc(e.key,r,new _o(i.toArray()),_c.none())}}function Tc(e,t,n){e instanceof Rc?function(e,t,n){const r=e.value.clone(),i=Lc(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Pc?function(e,t,n){if(!Ec(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Lc(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Oc(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Ic(e,t,n,r){return e instanceof Rc?function(e,t,n,r){if(!Ec(e.precondition,t))return n;const i=e.value.clone(),s=Fc(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Pc?function(e,t,n,r){if(!Ec(e.precondition,t))return n;const i=Fc(e.fieldTransforms,r,t),s=t.data;return s.setAll(Oc(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return Ec(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Ac(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=fc(r.transform,e||null);null!=i&&(null===n&&(n=tl.empty()),n.set(r.field,i))}return n||null}function Dc(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&$a(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof gc&&t instanceof gc||e instanceof yc&&t instanceof yc?$a(e.elements,t.elements,Uo):e instanceof xc&&t instanceof xc?Uo(e.Pe,t.Pe):e instanceof pc&&t instanceof pc}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class Rc extends Sc{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Pc extends Sc{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Oc(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Lc(e,t,n){const r=new Map;Sa(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,mc(a,o,n[i]))}return r}function Fc(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,hc(e,s,t))}return r}class Mc extends Sc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Uc extends Sc{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Vc{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&Tc(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Ic(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Ic(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=tc();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=Cc(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(qa.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),sc())}isEqual(e){return this.batchId===e.batchId&&$a(this.mutations,e.mutations,((e,t)=>Dc(e,t)))&&$a(this.baseMutations,e.baseMutations,((e,t)=>Dc(e,t)))}}class zc{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Sa(e.mutations.length===n.length);let r=rc;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new zc(e,t,n,r)}}class Bc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class $c{constructor(e,t){this.count=e,this.unchangedNames=t}}var Hc,qc;function Wc(e){switch(e){default:return Ea();case Ta.CANCELLED:case Ta.UNKNOWN:case Ta.DEADLINE_EXCEEDED:case Ta.RESOURCE_EXHAUSTED:case Ta.INTERNAL:case Ta.UNAVAILABLE:case Ta.UNAUTHENTICATED:return!1;case Ta.INVALID_ARGUMENT:case Ta.NOT_FOUND:case Ta.ALREADY_EXISTS:case Ta.PERMISSION_DENIED:case Ta.FAILED_PRECONDITION:case Ta.ABORTED:case Ta.OUT_OF_RANGE:case Ta.UNIMPLEMENTED:case Ta.DATA_LOSS:return!0}}function Gc(e){if(void 0===e)return Na("GRPC error has no .code"),Ta.UNKNOWN;switch(e){case Hc.OK:return Ta.OK;case Hc.CANCELLED:return Ta.CANCELLED;case Hc.UNKNOWN:return Ta.UNKNOWN;case Hc.DEADLINE_EXCEEDED:return Ta.DEADLINE_EXCEEDED;case Hc.RESOURCE_EXHAUSTED:return Ta.RESOURCE_EXHAUSTED;case Hc.INTERNAL:return Ta.INTERNAL;case Hc.UNAVAILABLE:return Ta.UNAVAILABLE;case Hc.UNAUTHENTICATED:return Ta.UNAUTHENTICATED;case Hc.INVALID_ARGUMENT:return Ta.INVALID_ARGUMENT;case Hc.NOT_FOUND:return Ta.NOT_FOUND;case Hc.ALREADY_EXISTS:return Ta.ALREADY_EXISTS;case Hc.PERMISSION_DENIED:return Ta.PERMISSION_DENIED;case Hc.FAILED_PRECONDITION:return Ta.FAILED_PRECONDITION;case Hc.ABORTED:return Ta.ABORTED;case Hc.OUT_OF_RANGE:return Ta.OUT_OF_RANGE;case Hc.UNIMPLEMENTED:return Ta.UNIMPLEMENTED;case Hc.DATA_LOSS:return Ta.DATA_LOSS;default:return Ea()}}(qc=Hc||(Hc={}))[qc.OK=0]="OK",qc[qc.CANCELLED=1]="CANCELLED",qc[qc.UNKNOWN=2]="UNKNOWN",qc[qc.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qc[qc.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qc[qc.NOT_FOUND=5]="NOT_FOUND",qc[qc.ALREADY_EXISTS=6]="ALREADY_EXISTS",qc[qc.PERMISSION_DENIED=7]="PERMISSION_DENIED",qc[qc.UNAUTHENTICATED=16]="UNAUTHENTICATED",qc[qc.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qc[qc.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qc[qc.ABORTED=10]="ABORTED",qc[qc.OUT_OF_RANGE=11]="OUT_OF_RANGE",qc[qc.UNIMPLEMENTED=12]="UNIMPLEMENTED",qc[qc.INTERNAL=13]="INTERNAL",qc[qc.UNAVAILABLE=14]="UNAVAILABLE",qc[qc.DATA_LOSS=15]="DATA_LOSS";let Kc=null;function Qc(){return new TextEncoder}const Jc=new ra([4294967295,4294967295],0);function Yc(e){const t=Qc().encode(e),n=new ia;return n.update(t),new Uint8Array(n.digest())}function Xc(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new ra([n,r],0),new ra([i,s],0)]}class Zc{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new eu(`Invalid padding: ${t}`);if(n<0)throw new eu(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new eu(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new eu(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=ra.fromNumber(this.Ie)}Ee(e,t,n){let r=e.add(t.multiply(ra.fromNumber(n)));return 1===r.compare(Jc)&&(r=new ra([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Yc(e),[n,r]=Xc(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Zc(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Ie)return;const t=Yc(e),[n,r]=Xc(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class tu{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,nu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new tu(qa.min(),r,new xo(Ba),Jl(),sc())}}class nu{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new nu(n,t,sc(),sc(),sc())}}class ru{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class iu{constructor(e,t){this.targetId=e,this.me=t}}class su{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:So.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class au{constructor(){this.fe=0,this.ge=cu(),this.pe=So.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=sc(),t=sc(),n=sc();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Ea()}})),new nu(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=cu()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Sa(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ou{constructor(e){this.Le=e,this.Be=new Map,this.ke=Jl(),this.qe=lu(),this.Qe=new xo(Ba)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,(t=>{const n=this.Ge(t);switch(e.state){case 0:this.ze(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),n.De(e.resumeToken));break;default:Ea()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.ze(n)&&t(n)}))}He(e){const t=e.targetId,n=e.me.count,r=this.Je(t);if(r){const i=r.target;if(Il(i))if(0===n){const e=new Ja(i.path);this.Ue(t,e,rl.newNoDocument(e,qa.min()))}else Sa(1===n);else{const r=this.Ye(t);if(r!==n){const n=this.Ze(e),i=n?this.Xe(n,e,r):1;if(0!==i){this.je(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,e)}null==Kc||Kc.et(function(e,t,n,r,i){var s,a,o,l,c,u;const d={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},h=t.unchangedNames;return h&&(d.bloomFilter={applied:0===i,hashCount:null!==(s=null==h?void 0:h.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==h?void 0:h.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),d}(r,e.me,this.Le.tt(),n,i))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=Ao(n).toUint8Array()}catch(e){if(e instanceof Eo)return ka("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Zc(s,r,i)}catch(e){return ka(e instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Ie?null:a}Xe(e,t,n){return t.me.count===n-this.nt(e,t.targetId)?0:2}nt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.tt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.Ue(t,n,null),r++)})),r}rt(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Je(r);if(i){if(n.current&&Il(i.target)){const t=new Ja(i.target.path);null!==this.ke.get(t)||this.it(r,t)||this.Ue(r,t,rl.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=sc();this.qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Je(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new tu(e,t,this.Qe,this.ke,n);return this.ke=Jl(),this.qe=lu(),this.Qe=new xo(Ba),r}$e(e,t){if(!this.ze(e))return;const n=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,n){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,t)?r.Fe(t,1):r.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new au,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new No(Ba),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||ja("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new au),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.Ue(e,t,null)}))}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function lu(){return new xo(Ja.comparator)}function cu(){return new xo(Ja.comparator)}const uu={asc:"ASCENDING",desc:"DESCENDING"},du={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},hu={and:"AND",or:"OR"};class mu{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function fu(e,t){return e.useProto3Json||co(t)?t:{value:t}}function pu(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function gu(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function vu(e,t){return pu(e,t.toTimestamp())}function yu(e){return Sa(!!e),qa.fromTimestamp(function(e){const t=To(e);return new Ha(t.seconds,t.nanos)}(e))}function bu(e,t){return xu(e,t).canonicalString()}function xu(e,t){const n=function(e){return new Ga(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function wu(e){const t=Ga.fromString(e);return Sa(zu(t)),t}function ju(e,t){return bu(e.databaseId,t.path)}function Nu(e,t){const n=wu(t);if(n.get(1)!==e.databaseId.projectId)throw new Ia(Ta.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ia(Ta.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Ja(Su(n))}function ku(e,t){return bu(e.databaseId,t)}function _u(e){const t=wu(e);return 4===t.length?Ga.emptyPath():Su(t)}function Eu(e){return new Ga(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Su(e){return Sa(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Cu(e,t,n){return{name:ju(e,t),fields:n.value.mapValue.fields}}function Tu(e,t){let n;if(t instanceof Rc)n={update:Cu(e,t.key,t.value)};else if(t instanceof Mc)n={delete:ju(e,t.key)};else if(t instanceof Pc)n={update:Cu(e,t.key,t.data),updateMask:Vu(t.fieldMask)};else{if(!(t instanceof Uc))return Ea();n={verify:ju(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof pc)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof gc)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof yc)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof xc)return{fieldPath:t.field.canonicalString(),increment:n.Pe};throw Ea()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:vu(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Ea()}(e,t.precondition)),n}function Iu(e,t){return{documents:[ku(e,t.path)]}}function Au(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ku(e,i);const s=function(e){if(0!==e.length)return Uu(dl.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:Fu(e.field),direction:Pu(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=fu(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{_t:n,parent:i}}function Du(e){let t=_u(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Sa(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=Ru(e);return t instanceof dl&&ml(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new ol(Mu(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,co(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new il(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new il(n,t)}(n.endAt)),Dl(t,i,a,s,o,"F",l,c)}function Ru(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Mu(e.unaryFilter.field);return ul.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Mu(e.unaryFilter.field);return ul.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Mu(e.unaryFilter.field);return ul.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Mu(e.unaryFilter.field);return ul.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Ea()}}(e):void 0!==e.fieldFilter?function(e){return ul.create(Mu(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ea()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return dl.create(e.compositeFilter.filters.map((e=>Ru(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Ea()}}(e.compositeFilter.op))}(e):Ea()}function Pu(e){return uu[e]}function Ou(e){return du[e]}function Lu(e){return hu[e]}function Fu(e){return{fieldPath:e.canonicalString()}}function Mu(e){return Qa.fromServerFormat(e.fieldPath)}function Uu(e){return e instanceof ul?function(e){if("=="===e.op){if(Jo(e.value))return{unaryFilter:{field:Fu(e.field),op:"IS_NAN"}};if(Qo(e.value))return{unaryFilter:{field:Fu(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Jo(e.value))return{unaryFilter:{field:Fu(e.field),op:"IS_NOT_NAN"}};if(Qo(e.value))return{unaryFilter:{field:Fu(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fu(e.field),op:Ou(e.op),value:e.value}}}(e):e instanceof dl?function(e){const t=e.getFilters().map((e=>Uu(e)));return 1===t.length?t[0]:{compositeFilter:{op:Lu(e.op),filters:t}}}(e):Ea()}function Vu(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function zu(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Bu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:qa.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:qa.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:So.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new Bu(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Bu(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bu(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $u{constructor(e){this.ct=e}}function Hu(e){const t=Du({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Vl(t,t.limit,"L"):t}class qu{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(Io(e.integerValue));else if("doubleValue"in e){const n=Io(e.doubleValue);isNaN(n)?this.dt(t,13):(this.dt(t,15),uo(n)?t.At(0):t.At(n))}else if("timestampValue"in e){let n=e.timestampValue;this.dt(t,20),"string"==typeof n&&(n=To(n)),t.Rt(`${n.seconds||""}`),t.At(n.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(Ao(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.dt(t,45),t.At(n.latitude||0),t.At(n.longitude||0)}else"mapValue"in e?el(e)?this.dt(t,Number.MAX_SAFE_INTEGER):Xo(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Ea()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const n=e.fields||{};this.dt(t,55);for(const r of Object.keys(n))this.Vt(r,t),this.Tt(n[r],t)}wt(e,t){var n,r;const i=e.fields||{};this.dt(t,53);const s="value",a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.dt(t,15),t.At(Io(a)),this.Vt(s,t),this.Tt(i[s],t)}bt(e,t){const n=e.values||[];this.dt(t,50);for(const r of n)this.Tt(r,t)}yt(e,t){this.dt(t,37),Ja.fromName(e).path.forEach((e=>{this.dt(t,60),this.Dt(e,t)}))}dt(e,t){e.At(t)}ft(e){e.At(2)}}qu.vt=new qu;class Wu{constructor(){this.un=new Gu}addToCollectionParentIndex(e,t){return this.un.add(t),so.resolve()}getCollectionParents(e,t){return so.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return so.resolve()}deleteFieldIndex(e,t){return so.resolve()}deleteAllFieldIndexes(e){return so.resolve()}createTargetIndexes(e,t){return so.resolve()}getDocumentsMatchingTarget(e,t){return so.resolve(null)}getIndexType(e,t){return so.resolve(0)}getFieldIndexes(e,t){return so.resolve([])}getNextCollectionGroupToUpdate(e){return so.resolve(null)}getMinOffset(e,t){return so.resolve(eo.min())}getMinOffsetFromCollectionGroup(e,t){return so.resolve(eo.min())}updateCollectionGroup(e,t,n){return so.resolve()}updateIndexEntries(e,t){return so.resolve()}}class Gu{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new No(Ga.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new No(Ga.comparator)).toArray()}}new Uint8Array(0);class Ku{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Ku(e,Ku.DEFAULT_COLLECTION_PERCENTILE,Ku.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ku.DEFAULT_COLLECTION_PERCENTILE=10,Ku.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ku.DEFAULT=new Ku(41943040,Ku.DEFAULT_COLLECTION_PERCENTILE,Ku.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ku.DISABLED=new Ku(-1,0,0);class Qu{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Qu(0)}static kn(){return new Qu(-1)}}class Ju{constructor(){this.changes=new Kl((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,rl.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?so.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Yu{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Xu{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Ic(n.mutation,e,_o.empty(),Ha.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,sc()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:sc();const r=ec();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Xl();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=ec();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,sc())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Jl();const s=nc(),a=nc();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof Pc)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),Ic(a.mutation,t,a.mutation.getFieldMask(),Ha.now())):s.set(t.key,_o.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Yu(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=nc();let r=new xo(((e,t)=>e-t)),i=sc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||_o.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||sc()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=tc();l.forEach((e=>{if(!i.has(e)){const r=Cc(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return so.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Ja.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ol(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):so.resolve(ec());let a=-1,o=i;return s.next((t=>so.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?so.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,sc()))).next((e=>({batchId:a,changes:Zl(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ja(t)).next((e=>{let t=Xl();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Xl();return this.indexManager.getCollectionParents(e,i).next((a=>so.forEach(a,(a=>{const o=function(e,t){return new Al(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,rl.newInvalidDocument(r)))}));let n=Xl();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&Ic(s.mutation,r,_o.empty(),Ha.now()),Hl(t,r)&&(n=n.insert(e,r))})),n}))}}class Zu{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return so.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:yu(e.createTime)}}(t)),so.resolve()}getNamedQuery(e,t){return so.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(e){return{name:e.name,query:Hu(e.bundledQuery),readTime:yu(e.readTime)}}(t)),so.resolve()}}class ed{constructor(){this.overlays=new xo(Ja.comparator),this.Ir=new Map}getOverlay(e,t){return so.resolve(this.overlays.get(t))}getOverlays(e,t){const n=ec();return so.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),so.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Ir.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Ir.delete(n)),so.resolve()}getOverlaysForCollection(e,t,n){const r=ec(),i=t.length+1,s=new Ja(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return so.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new xo(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=ec(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=ec(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return so.resolve(a)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Ir.get(r.largestBatchId).delete(n.key);this.Ir.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Bc(t,n));let i=this.Ir.get(t);void 0===i&&(i=sc(),this.Ir.set(t,i)),this.Ir.set(t,i.add(n.key))}}class td{constructor(){this.sessionToken=So.EMPTY_BYTE_STRING}getSessionToken(e){return so.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,so.resolve()}}class nd{constructor(){this.Tr=new No(rd.Er),this.dr=new No(rd.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const n=new rd(e,t);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Vr(new rd(e,t))}mr(e,t){e.forEach((e=>this.removeReference(e,t)))}gr(e){const t=new Ja(new Ga([])),n=new rd(t,e),r=new rd(t,e+1),i=[];return this.dr.forEachInRange([n,r],(e=>{this.Vr(e),i.push(e.key)})),i}pr(){this.Tr.forEach((e=>this.Vr(e)))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new Ja(new Ga([])),n=new rd(t,e),r=new rd(t,e+1);let i=sc();return this.dr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new rd(e,0),n=this.Tr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class rd{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Ja.comparator(e.key,t.key)||Ba(e.wr,t.wr)}static Ar(e,t){return Ba(e.wr,t.wr)||Ja.comparator(e.key,t.key)}}class id{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new No(rd.Er)}checkEmpty(e){return so.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new Vc(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.br=this.br.add(new rd(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return so.resolve(s)}lookupMutationBatch(e,t){return so.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.vr(n),i=r<0?0:r;return so.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return so.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return so.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new rd(t,0),r=new rd(t,Number.POSITIVE_INFINITY),i=[];return this.br.forEachInRange([n,r],(e=>{const t=this.Dr(e.wr);i.push(t)})),so.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new No(Ba);return t.forEach((e=>{const t=new rd(e,0),r=new rd(e,Number.POSITIVE_INFINITY);this.br.forEachInRange([t,r],(e=>{n=n.add(e.wr)}))})),so.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Ja.isDocumentKey(i)||(i=i.child(""));const s=new rd(new Ja(i),0);let a=new No(Ba);return this.br.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.wr)),!0)}),s),so.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach((e=>{const n=this.Dr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){Sa(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let n=this.br;return so.forEach(t.mutations,(r=>{const i=new rd(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.br=n}))}On(e){}containsKey(e,t){const n=new rd(t,0),r=this.br.firstAfterOrEqual(n);return so.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,so.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class sd{constructor(e){this.Mr=e,this.docs=new xo(Ja.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Mr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return so.resolve(n?n.document.mutableCopy():rl.newInvalidDocument(t))}getEntries(e,t){let n=Jl();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():rl.newInvalidDocument(e))})),so.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Jl();const s=t.path,a=new Ja(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||to(Za(a),n)<=0||(r.has(a.key)||Hl(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return so.resolve(i)}getAllFromCollectionGroup(e,t,n,r){Ea()}Or(e,t){return so.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new ad(this)}getSize(e){return so.resolve(this.size)}}class ad extends Ju{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.cr.addEntry(e,r)):this.cr.removeEntry(n)})),so.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class od{constructor(e){this.persistence=e,this.Nr=new Kl((e=>Cl(e)),Tl),this.lastRemoteSnapshotVersion=qa.min(),this.highestTargetId=0,this.Lr=0,this.Br=new nd,this.targetCount=0,this.kr=Qu.Bn()}forEachTarget(e,t){return this.Nr.forEach(((e,n)=>t(n))),so.resolve()}getLastRemoteSnapshotVersion(e){return so.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return so.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),so.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Lr&&(this.Lr=t),so.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new Qu(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,so.resolve()}updateTargetData(e,t){return this.Kn(t),so.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,so.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Nr.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Nr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),so.waitFor(i).next((()=>r))}getTargetCount(e){return so.resolve(this.targetCount)}getTargetData(e,t){const n=this.Nr.get(t)||null;return so.resolve(n)}addMatchingKeys(e,t,n){return this.Br.Rr(t,n),so.resolve()}removeMatchingKeys(e,t,n){this.Br.mr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),so.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),so.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Br.yr(t);return so.resolve(n)}containsKey(e,t){return so.resolve(this.Br.containsKey(t))}}class ld{constructor(e,t){this.qr={},this.overlays={},this.Qr=new lo(0),this.Kr=!1,this.Kr=!0,this.$r=new td,this.referenceDelegate=e(this),this.Ur=new od(this),this.indexManager=new Wu,this.remoteDocumentCache=function(e){return new sd(e)}((e=>this.referenceDelegate.Wr(e))),this.serializer=new $u(t),this.Gr=new Zu(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new ed,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.qr[e.toKey()];return n||(n=new id(t,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,n){ja("MemoryPersistence","Starting transaction:",e);const r=new cd(this.Qr.next());return this.referenceDelegate.zr(),n(r).next((e=>this.referenceDelegate.jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Hr(e,t){return so.or(Object.values(this.qr).map((n=>()=>n.containsKey(e,t))))}}class cd extends ro{constructor(e){super(),this.currentSequenceNumber=e}}class ud{constructor(e){this.persistence=e,this.Jr=new nd,this.Yr=null}static Zr(e){return new ud(e)}get Xr(){if(this.Yr)return this.Yr;throw Ea()}addReference(e,t,n){return this.Jr.addReference(n,t),this.Xr.delete(n.toString()),so.resolve()}removeReference(e,t,n){return this.Jr.removeReference(n,t),this.Xr.add(n.toString()),so.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),so.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach((e=>this.Xr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.Xr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return so.forEach(this.Xr,(n=>{const r=Ja.fromPath(n);return this.ei(e,r).next((e=>{e||t.removeEntry(r,qa.min())}))})).next((()=>(this.Yr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ei(e,t).next((e=>{e?this.Xr.delete(t.toString()):this.Xr.add(t.toString())}))}Wr(e){return 0}ei(e,t){return so.or([()=>so.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class dd{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Ui=r}static Wi(e,t){let n=sc(),r=sc();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new dd(e,t.fromCache,n,r)}}class hd{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class md{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=Je()?8:ao(Ke())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Yi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Zi(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new hd;return this.Xi(e,t,n).next((r=>{if(i.result=r,this.zi)return this.es(e,t,n,r.size)}))})).next((()=>i.result))}es(e,t,n,r){return n.documentReadCount<this.ji?(wa()<=gt.DEBUG&&ja("QueryEngine","SDK will not create cache indexes for query:",$l(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),so.resolve()):(wa()<=gt.DEBUG&&ja("QueryEngine","Query:",$l(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Hi*r?(wa()<=gt.DEBUG&&ja("QueryEngine","The SDK decides to create cache indexes for query:",$l(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fl(t))):so.resolve())}Yi(e,t){if(Pl(t))return so.resolve(null);let n=Fl(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Vl(t,null,"F"),n=Fl(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=sc(...r);return this.Ji.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.ts(t,r);return this.ns(t,s,i,n.readTime)?this.Yi(e,Vl(t,null,"F")):this.rs(e,s,t,n)}))))})))))}Zi(e,t,n,r){return Pl(t)||r.isEqual(qa.min())?so.resolve(null):this.Ji.getDocuments(e,n).next((i=>{const s=this.ts(t,i);return this.ns(t,s,n,r)?so.resolve(null):(wa()<=gt.DEBUG&&ja("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),$l(t)),this.rs(e,s,t,Xa(r,-1)).next((e=>e)))}))}ts(e,t){let n=new No(Wl(e));return t.forEach(((t,r)=>{Hl(e,r)&&(n=n.add(r))})),n}ns(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Xi(e,t,n){return wa()<=gt.DEBUG&&ja("QueryEngine","Using full collection scan to execute query:",$l(t)),this.Ji.getDocumentsMatchingQuery(e,t,eo.min(),n)}rs(e,t,n,r){return this.Ji.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class fd{constructor(e,t,n,r){this.persistence=e,this.ss=t,this.serializer=r,this.os=new xo(Ba),this._s=new Kl((e=>Cl(e)),Tl),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Xu(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.os)))}}function pd(e,t,n,r){return new fd(e,t,n,r)}async function gd(e,t){const n=Ca(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=sc();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({hs:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function vd(e){const t=Ca(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ur.getLastRemoteSnapshotVersion(e)))}function yd(e,t,n){let r=sc(),i=sc();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Jl();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(qa.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):ja("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{Ps:r,Is:i}}))}function bd(e,t){const n=Ca(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function xd(e,t){const n=Ca(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ur.getTargetData(e,t).next((i=>i?(r=i,so.resolve(r)):n.Ur.allocateTargetId(e).next((i=>(r=new Bu(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ur.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.os.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(e.targetId,e),n._s.set(t,e.targetId)),e}))}async function wd(e,t,n){const r=Ca(e),i=r.os.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!oo(e))throw e;ja("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.os=r.os.remove(t),r._s.delete(i.target)}function jd(e,t,n){const r=Ca(e);let i=qa.min(),s=sc();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=Ca(e),i=r._s.get(n);return void 0!==i?so.resolve(r.os.get(i)):r.Ur.getTargetData(t,n)}(r,e,Fl(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.ss.getDocumentsMatchingQuery(e,t,n?i:qa.min(),n?s:sc()))).next((e=>(Nd(r,ql(t),e),{documents:e,Ts:s})))))}function Nd(e,t,n){let r=e.us.get(t)||qa.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.us.set(t,r)}class kd{constructor(){this.activeTargetIds=oc()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _d{constructor(){this.so=new kd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,n){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new kd,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class Ed{_o(e){}shutdown(){}}class Sd{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){ja("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){ja("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Cd=null;function Td(){return null===Cd?Cd=268435456+Math.round(2147483648*Math.random()):Cd++,"0x"+Cd.toString(16)}const Id={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Ad{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const Dd="WebChannelConnection";class Rd extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Do=t+"://"+e.host,this.vo=`projects/${n}/databases/${r}`,this.Co="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Fo(){return!1}Mo(e,t,n,r,i){const s=Td(),a=this.xo(e,t.toUriEncodedString());ja("RestConnection",`Sending RPC '${e}' ${s}:`,a,n);const o={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(o,r,i),this.No(e,a,o,n).then((t=>(ja("RestConnection",`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw ka("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",a,"request:",n),t}))}Lo(e,t,n,r,i,s){return this.Mo(e,t,n,r,i)}Oo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+ba,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}xo(e,t){const n=Id[e];return`${this.Do}/v1/${t}:${n}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,n,r){const i=Td();return new Promise(((s,a)=>{const o=new oa;o.setWithCredentials(!0),o.listenOnce(ca.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case ua.NO_ERROR:const t=o.getResponseJson();ja(Dd,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case ua.TIMEOUT:ja(Dd,`RPC '${e}' ${i} timed out`),a(new Ia(Ta.DEADLINE_EXCEEDED,"Request time out"));break;case ua.HTTP_ERROR:const n=o.getStatus();if(ja(Dd,`RPC '${e}' ${i} failed with status:`,n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Ta).indexOf(t)>=0?t:Ta.UNKNOWN}(t.status);a(new Ia(e,t.message))}else a(new Ia(Ta.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new Ia(Ta.UNAVAILABLE,"Connection failed."));break;default:Ea()}}finally{ja(Dd,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);ja(Dd,`RPC '${e}' ${i} sending request:`,r),o.send(t,"POST",l,n,15)}))}Bo(e,t,n){const r=Td(),i=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=fa(),a=ma(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Oo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");ja(Dd,`Creating RPC '${e}' stream ${r}: ${c}`,o);const u=s.createWebChannel(c,o);let d=!1,h=!1;const m=new Ad({Io:t=>{h?ja(Dd,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(ja(Dd,`Opening RPC '${e}' stream ${r} transport.`),u.open(),d=!0),ja(Dd,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},To:()=>u.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(u,la.EventType.OPEN,(()=>{h||(ja(Dd,`RPC '${e}' stream ${r} transport opened.`),m.yo())})),f(u,la.EventType.CLOSE,(()=>{h||(h=!0,ja(Dd,`RPC '${e}' stream ${r} transport closed`),m.So())})),f(u,la.EventType.ERROR,(t=>{h||(h=!0,ka(Dd,`RPC '${e}' stream ${r} transport errored:`,t),m.So(new Ia(Ta.UNAVAILABLE,"The operation could not be completed")))})),f(u,la.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];Sa(!!i);const s=i,a=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){ja(Dd,`RPC '${e}' stream ${r} received error:`,a);const t=a.status;let n=function(e){const t=Hc[e];if(void 0!==t)return Gc(t)}(t),i=a.message;void 0===n&&(n=Ta.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),h=!0,m.So(new Ia(n,i)),u.close()}else ja(Dd,`RPC '${e}' stream ${r} received:`,i),m.bo(i)}})),f(a,ha.STAT_EVENT,(t=>{t.stat===da.PROXY?ja(Dd,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===da.NOPROXY&&ja(Dd,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{m.wo()}),0),m}}function Pd(){return"undefined"!=typeof document?document:null}function Od(e){return new mu(e,!0)}class Ld{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.ui=e,this.timerId=t,this.ko=n,this.qo=r,this.Qo=i,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),r=Math.max(0,t-n);r>0&&ja("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,(()=>(this.Uo=Date.now(),e()))),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class Fd{constructor(e,t,n,r,i,s,a,o){this.ui=e,this.Ho=n,this.Jo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ld(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,(()=>this.__())))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,t){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,4!==e?this.t_.reset():t&&t.code===Ta.RESOURCE_EXHAUSTED?(Na(t.toString()),Na("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===Ta.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(t)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Yo===t&&this.P_(n,r)}),(t=>{e((()=>{const e=new Ia(Ta.UNKNOWN,"Fetching auth token failed: "+t.message);return this.I_(e)}))}))}P_(e,t){const n=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo((()=>{n((()=>this.listener.Eo()))})),this.stream.Ro((()=>{n((()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,(()=>(this.r_()&&(this.state=3),Promise.resolve()))),this.listener.Ro())))})),this.stream.mo((e=>{n((()=>this.I_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.e_?this.E_(e):this.onNext(e)))}))}i_(){this.state=5,this.t_.Go((async()=>{this.state=0,this.start()}))}I_(e){return ja("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget((()=>this.Yo===e?t():(ja("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Md extends Fd{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Ea()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(Sa(void 0===t||"string"==typeof t),So.fromBase64String(t||"")):(Sa(void 0===t||t instanceof Buffer||t instanceof Uint8Array),So.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?Ta.UNKNOWN:Gc(e.code);return new Ia(t,e.message||"")}(a);n=new su(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=Nu(e,r.document.name),s=yu(r.document.updateTime),a=r.document.createTime?yu(r.document.createTime):qa.min(),o=new tl({mapValue:{fields:r.document.fields}}),l=rl.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new ru(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=Nu(e,r.document),s=r.readTime?yu(r.readTime):qa.min(),a=rl.newNoDocument(i,s),o=r.removedTargetIds||[];n=new ru([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=Nu(e,r.document),s=r.removedTargetIds||[];n=new ru([],s,i,null)}else{if(!("filter"in t))return Ea();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new $c(r,i),a=e.targetId;n=new iu(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return qa.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?qa.min():t.readTime?yu(t.readTime):qa.min()}(e);return this.listener.d_(t,n)}A_(e){const t={};t.database=Eu(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Il(r)?{documents:Iu(e,r)}:{query:Au(e,r)._t},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=gu(e,t.resumeToken);const r=fu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(qa.min())>0){n.readTime=pu(e,t.snapshotVersion.toTimestamp());const r=fu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ea()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.a_(t)}R_(e){const t={};t.database=Eu(this.serializer),t.removeTarget=e,this.a_(t)}}class Ud extends Fd{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Sa(!!e.streamToken),this.lastStreamToken=e.streamToken,Sa(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){Sa(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function(e,t){return e&&e.length>0?(Sa(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?yu(e.updateTime):yu(t);return n.isEqual(qa.min())&&(n=yu(t)),new kc(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=yu(e.commitTime);return this.listener.g_(n,t)}p_(){const e={};e.database=Eu(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>Tu(this.serializer,e)))};this.a_(t)}}class Vd extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new Ia(Ta.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,n,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.Mo(e,xu(t,n),r,s,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ta.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ia(Ta.UNKNOWN,e.toString())}))}Lo(e,t,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[a,o]=s;return this.connection.Lo(e,xu(t,n),r,a,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===Ta.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Ia(Ta.UNKNOWN,e.toString())}))}terminate(){this.y_=!0,this.connection.terminate()}}class zd{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Na(t),this.D_=!1):ja("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class Bd{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=i,this.k_._o((e=>{n.enqueueAndForget((async()=>{Yd(this)&&(ja("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=Ca(e);t.L_.add(4),await Hd(t),t.q_.set("Unknown"),t.L_.delete(4),await $d(t)}(this))}))})),this.q_=new zd(n,r)}}async function $d(e){if(Yd(e))for(const t of e.B_)await t(!0)}async function Hd(e){for(const t of e.B_)await t(!1)}function qd(e,t){const n=Ca(e);n.N_.has(t.targetId)||(n.N_.set(t.targetId,t),Jd(n)?Qd(n):gh(n).r_()&&Gd(n,t))}function Wd(e,t){const n=Ca(e),r=gh(n);n.N_.delete(t),r.r_()&&Kd(n,t),0===n.N_.size&&(r.r_()?r.o_():Yd(n)&&n.q_.set("Unknown"))}function Gd(e,t){if(e.Q_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(qa.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}gh(e).A_(t)}function Kd(e,t){e.Q_.xe(t),gh(e).R_(t)}function Qd(e){e.Q_=new ou({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ot:t=>e.N_.get(t)||null,tt:()=>e.datastore.serializer.databaseId}),gh(e).start(),e.q_.v_()}function Jd(e){return Yd(e)&&!gh(e).n_()&&e.N_.size>0}function Yd(e){return 0===Ca(e).L_.size}function Xd(e){e.Q_=void 0}async function Zd(e){e.q_.set("Online")}async function eh(e){e.N_.forEach(((t,n)=>{Gd(e,t)}))}async function th(e,t){Xd(e),Jd(e)?(e.q_.M_(t),Qd(e)):e.q_.set("Unknown")}async function nh(e,t,n){if(e.q_.set("Online"),t instanceof su&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.N_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.N_.delete(r),e.Q_.removeTarget(r))}(e,t)}catch(n){ja("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await rh(e,n)}else if(t instanceof ru?e.Q_.Ke(t):t instanceof iu?e.Q_.He(t):e.Q_.We(t),!n.isEqual(qa.min()))try{const t=await vd(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Q_.rt(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.N_.get(r);i&&e.N_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.N_.get(t);if(!r)return;e.N_.set(t,r.withResumeToken(So.EMPTY_BYTE_STRING,r.snapshotVersion)),Kd(e,t);const i=new Bu(r.target,t,n,r.sequenceNumber);Gd(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){ja("RemoteStore","Failed to raise snapshot:",t),await rh(e,t)}}async function rh(e,t,n){if(!oo(t))throw t;e.L_.add(1),await Hd(e),e.q_.set("Offline"),n||(n=()=>vd(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{ja("RemoteStore","Retrying IndexedDB access"),await n(),e.L_.delete(1),await $d(e)}))}function ih(e,t){return t().catch((n=>rh(e,n,t)))}async function sh(e){const t=Ca(e),n=vh(t);let r=t.O_.length>0?t.O_[t.O_.length-1].batchId:-1;for(;ah(t);)try{const e=await bd(t.localStore,r);if(null===e){0===t.O_.length&&n.o_();break}r=e.batchId,oh(t,e)}catch(e){await rh(t,e)}lh(t)&&ch(t)}function ah(e){return Yd(e)&&e.O_.length<10}function oh(e,t){e.O_.push(t);const n=vh(e);n.r_()&&n.V_&&n.m_(t.mutations)}function lh(e){return Yd(e)&&!vh(e).n_()&&e.O_.length>0}function ch(e){vh(e).start()}async function uh(e){vh(e).p_()}async function dh(e){const t=vh(e);for(const n of e.O_)t.m_(n.mutations)}async function hh(e,t,n){const r=e.O_.shift(),i=zc.from(r,t,n);await ih(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await sh(e)}async function mh(e,t){t&&vh(e).V_&&await async function(e,t){if(function(e){return Wc(e)&&e!==Ta.ABORTED}(t.code)){const n=e.O_.shift();vh(e).s_(),await ih(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await sh(e)}}(e,t),lh(e)&&ch(e)}async function fh(e,t){const n=Ca(e);n.asyncQueue.verifyOperationInProgress(),ja("RemoteStore","RemoteStore received new credentials");const r=Yd(n);n.L_.add(3),await Hd(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.L_.delete(3),await $d(n)}async function ph(e,t){const n=Ca(e);t?(n.L_.delete(2),await $d(n)):t||(n.L_.add(2),await Hd(n),n.q_.set("Unknown"))}function gh(e){return e.K_||(e.K_=function(e,t,n){const r=Ca(e);return r.w_(),new Md(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:Zd.bind(null,e),Ro:eh.bind(null,e),mo:th.bind(null,e),d_:nh.bind(null,e)}),e.B_.push((async t=>{t?(e.K_.s_(),Jd(e)?Qd(e):e.q_.set("Unknown")):(await e.K_.stop(),Xd(e))}))),e.K_}function vh(e){return e.U_||(e.U_=function(e,t,n){const r=Ca(e);return r.w_(),new Ud(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Eo:()=>Promise.resolve(),Ro:uh.bind(null,e),mo:mh.bind(null,e),f_:dh.bind(null,e),g_:hh.bind(null,e)}),e.B_.push((async t=>{t?(e.U_.s_(),await sh(e)):(await e.U_.stop(),e.O_.length>0&&(ja("RemoteStore",`Stopping write stream with ${e.O_.length} pending writes`),e.O_=[]))}))),e.U_}class yh{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Aa,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new yh(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Ia(Ta.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bh(e,t){if(Na("AsyncQueue",`${t}: ${e}`),oo(e))return new Ia(Ta.UNAVAILABLE,`${t}: ${e}`);throw e}class xh{constructor(e){this.comparator=e?(t,n)=>e(t,n)||Ja.comparator(t.key,n.key):(e,t)=>Ja.comparator(e.key,t.key),this.keyedMap=Xl(),this.sortedSet=new xo(this.comparator)}static emptySet(e){return new xh(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof xh))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new xh;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class wh{constructor(){this.W_=new xo(Ja.comparator)}track(e){const t=e.doc.key,n=this.W_.get(t);n?0!==e.type&&3===n.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==n.type?this.W_=this.W_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.W_=this.W_.remove(t):1===e.type&&2===n.type?this.W_=this.W_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Ea():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class jh{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new jh(e,t,xh.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zl(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Nh{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some((e=>e.J_()))}}class kh{constructor(){this.queries=_h(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(e,t){const n=Ca(e),r=n.queries;n.queries=_h(),r.forEach(((e,n)=>{for(const r of n.j_)r.onError(t)}))}(this,new Ia(Ta.ABORTED,"Firestore shutting down"))}}function _h(){return new Kl((e=>Bl(e)),zl)}async function Eh(e,t){const n=Ca(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.H_()&&t.J_()&&(r=2):(s=new Nh,r=t.J_()?0:1);try{switch(r){case 0:s.z_=await n.onListen(i,!0);break;case 1:s.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=bh(e,`Initialization of query '${$l(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.j_.push(t),t.Z_(n.onlineState),s.z_&&t.X_(s.z_)&&Ih(n)}async function Sh(e,t){const n=Ca(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.j_.indexOf(t);e>=0&&(s.j_.splice(e,1),0===s.j_.length?i=t.J_()?0:1:!s.H_()&&t.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ch(e,t){const n=Ca(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.j_)e.X_(i)&&(r=!0);t.z_=i}}r&&Ih(n)}function Th(e,t,n){const r=Ca(e),i=r.queries.get(t);if(i)for(const s of i.j_)s.onError(n);r.queries.delete(t)}function Ih(e){e.Y_.forEach((e=>{e.next()}))}var Ah,Dh;(Dh=Ah||(Ah={})).ea="default",Dh.Cache="cache";class Rh{constructor(e,t,n){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new jh(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache)return!0;if(!this.J_())return!0;const n="Offline"!==t;return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){if(e.docChanges.length>0)return!0;const t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}oa(e){e=jh.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Ah.Cache}}class Ph{constructor(e){this.key=e}}class Oh{constructor(e){this.key=e}}class Lh{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=sc(),this.mutatedKeys=sc(),this.Aa=Wl(e),this.Ra=new xh(this.Aa)}get Va(){return this.Ta}ma(e,t){const n=t?t.fa:new wh,r=t?t.Ra:this.Ra;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Hl(this.query,t)?t:null,d=!!c&&this.mutatedKeys.has(c.key),h=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let m=!1;c&&u?c.data.isEqual(u.data)?d!==h&&(n.track({type:3,doc:u}),m=!0):this.ga(c,u)||(n.track({type:2,doc:u}),m=!0,(o&&this.Aa(u,o)>0||l&&this.Aa(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),m=!0):c&&!u&&(n.track({type:1,doc:c}),m=!0,(o||l)&&(a=!0)),m&&(u?(s=s.add(u),i=h?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ra:s,fa:n,ns:a,mutatedKeys:i}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ea()}};return n(e)-n(t)}(e.type,t.type)||this.Aa(e.doc,t.doc))),this.pa(n),r=null!=r&&r;const a=t&&!r?this.ya():[],o=0===this.da.size&&this.current&&!r?1:0,l=o!==this.Ea;return this.Ea=o,0!==s.length||l?{snapshot:new jh(this.query,e.Ra,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new wh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach((e=>this.Ta=this.Ta.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ta=this.Ta.delete(e))),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=sc(),this.Ra.forEach((e=>{this.Sa(e.key)&&(this.da=this.da.add(e.key))}));const t=[];return e.forEach((e=>{this.da.has(e)||t.push(new Oh(e))})),this.da.forEach((n=>{e.has(n)||t.push(new Ph(n))})),t}ba(e){this.Ta=e.Ts,this.da=sc();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return jh.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Fh{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class Mh{constructor(e){this.key=e,this.va=!1}}class Uh{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Kl((e=>Bl(e)),zl),this.Ma=new Map,this.xa=new Set,this.Oa=new xo(Ja.comparator),this.Na=new Map,this.La=new nd,this.Ba={},this.ka=new Map,this.qa=Qu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}async function Vh(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=om(e);let i;const s=r.Fa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await Bh(r,t,n,!0),i}async function zh(e,t){const n=om(e);await Bh(n,t,!0,!1)}async function Bh(e,t,n,r){const i=await xd(e.localStore,Fl(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await $h(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&qd(e.remoteStore,i),o}async function $h(e,t,n,r,i){e.Ka=(t,n,r)=>async function(e,t,n,r){let i=t.view.ma(n);i.ns&&(i=await jd(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ma(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return tm(e,t.targetId,o.wa),o.snapshot}(e,t,n,r);const s=await jd(e.localStore,t,!0),a=new Lh(t,s.Ts),o=a.ma(s.documents),l=nu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);tm(e,n,c.wa);const u=new Fh(t,n,a);return e.Fa.set(t,u),e.Ma.has(n)?e.Ma.get(n).push(t):e.Ma.set(n,[t]),c.snapshot}async function Hh(e,t,n){const r=Ca(e),i=r.Fa.get(t),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter((e=>!zl(e,t)))),void r.Fa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await wd(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Wd(r.remoteStore,i.targetId),Zh(r,i.targetId)})).catch(io)):(Zh(r,i.targetId),await wd(r.localStore,i.targetId,!0))}async function qh(e,t){const n=Ca(e),r=n.Fa.get(t),i=n.Ma.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Wd(n.remoteStore,r.targetId))}async function Wh(e,t){const n=Ca(e);try{const e=await function(e,t){const n=Ca(e),r=t.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Ur.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Ur.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(So.EMPTY_BYTE_STRING,qa.min()).withLastLimboFreeSnapshotVersion(qa.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Ur.updateTargetData(e,c))}));let o=Jl(),l=sc();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(yd(e,s,t.documentUpdates).next((e=>{o=e.Ps,l=e.Is}))),!r.isEqual(qa.min())){const t=n.Ur.getLastRemoteSnapshotVersion(e).next((t=>n.Ur.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return so.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.os=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Na.get(t);r&&(Sa(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.va=!0:e.modifiedDocuments.size>0?Sa(r.va):e.removedDocuments.size>0&&(Sa(r.va),r.va=!1))})),await im(n,e,t)}catch(e){await io(e)}}function Gh(e,t,n){const r=Ca(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Fa.forEach(((n,r)=>{const i=r.view.Z_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=Ca(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.j_)i.Z_(t)&&(r=!0)})),r&&Ih(n)}(r.eventManager,t),e.length&&r.Ca.d_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Kh(e,t,n){const r=Ca(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Na.get(t),s=i&&i.key;if(s){let e=new xo(Ja.comparator);e=e.insert(s,rl.newNoDocument(s,qa.min()));const n=sc().add(s),i=new tu(qa.min(),new Map,new xo(Ba),e,n);await Wh(r,i),r.Oa=r.Oa.remove(s),r.Na.delete(t),rm(r)}else await wd(r.localStore,t,!1).then((()=>Zh(r,t,n))).catch(io)}async function Qh(e,t){const n=Ca(e),r=t.batch.batchId;try{const e=await function(e,t){const n=Ca(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.cs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let a=so.resolve();return s.forEach((e=>{a=a.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);Sa(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),a.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=sc();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Xh(n,r,null),Yh(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await im(n,e)}catch(e){await io(e)}}async function Jh(e,t,n){const r=Ca(e);try{const e=await function(e,t){const n=Ca(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(Sa(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Xh(r,t,n),Yh(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await im(r,e)}catch(n){await io(n)}}function Yh(e,t){(e.ka.get(t)||[]).forEach((e=>{e.resolve()})),e.ka.delete(t)}function Xh(e,t,n){const r=Ca(e);let i=r.Ba[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ba[r.currentUser.toKey()]=i}}function Zh(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Ma.get(t))e.Fa.delete(r),n&&e.Ca.$a(r,n);e.Ma.delete(t),e.isPrimaryClient&&e.La.gr(t).forEach((t=>{e.La.containsKey(t)||em(e,t)}))}function em(e,t){e.xa.delete(t.path.canonicalString());const n=e.Oa.get(t);null!==n&&(Wd(e.remoteStore,n),e.Oa=e.Oa.remove(t),e.Na.delete(n),rm(e))}function tm(e,t,n){for(const r of n)r instanceof Ph?(e.La.addReference(r.key,t),nm(e,r)):r instanceof Oh?(ja("SyncEngine","Document no longer in limbo: "+r.key),e.La.removeReference(r.key,t),e.La.containsKey(r.key)||em(e,r.key)):Ea()}function nm(e,t){const n=t.key,r=n.path.canonicalString();e.Oa.get(n)||e.xa.has(r)||(ja("SyncEngine","New document in limbo: "+n),e.xa.add(r),rm(e))}function rm(e){for(;e.xa.size>0&&e.Oa.size<e.maxConcurrentLimboResolutions;){const t=e.xa.values().next().value;e.xa.delete(t);const n=new Ja(Ga.fromString(t)),r=e.qa.next();e.Na.set(r,new Mh(n)),e.Oa=e.Oa.insert(n,r),qd(e.remoteStore,new Bu(Fl(Rl(n.path)),r,"TargetPurposeLimboResolution",lo.oe))}}async function im(e,t,n){const r=Ca(e),i=[],s=[],a=[];r.Fa.isEmpty()||(r.Fa.forEach(((e,o)=>{a.push(r.Ka(o,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=dd.Wi(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.Ca.d_(i),await async function(e,t){const n=Ca(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>so.forEach(t,(t=>so.forEach(t.$i,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>so.forEach(t.Ui,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!oo(e))throw e;ja("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.os.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.os=n.os.insert(e,i)}}}(r.localStore,s))}async function sm(e,t){const n=Ca(e);if(!n.currentUser.isEqual(t)){ja("SyncEngine","User change. New user:",t.toKey());const e=await gd(n.localStore,t);n.currentUser=t,function(e,t){e.ka.forEach((e=>{e.forEach((e=>{e.reject(new Ia(Ta.CANCELLED,t))}))})),e.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await im(n,e.hs)}}function am(e,t){const n=Ca(e),r=n.Na.get(t);if(r&&r.va)return sc().add(r.key);{let e=sc();const r=n.Ma.get(t);if(!r)return e;for(const t of r){const r=n.Fa.get(t);e=e.unionWith(r.view.Va)}return e}}function om(e){const t=Ca(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Wh.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=am.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Kh.bind(null,t),t.Ca.d_=Ch.bind(null,t.eventManager),t.Ca.$a=Th.bind(null,t.eventManager),t}function lm(e){const t=Ca(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Qh.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Jh.bind(null,t),t}class cm{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Od(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,t){return null}Ha(e,t){return null}za(e){return pd(this.persistence,new md,e.initialUser,this.serializer)}Ga(e){return new ld(ud.Zr,this.serializer)}Wa(e){return new _d}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}cm.provider={build:()=>new cm};class um{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Gh(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=sm.bind(null,this.syncEngine),await ph(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new kh}createDatastore(e){const t=Od(e.databaseInfo.databaseId),n=function(e){return new Rd(e)}(e.databaseInfo);return function(e,t,n,r){return new Vd(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Bd(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Gh(this.syncEngine,e,0)),Sd.D()?new Sd:new Ed)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new Uh(e,t,n,r,i,s);return a&&(o.Qa=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=Ca(e);ja("RemoteStore","RemoteStore shutting down."),t.L_.add(5),await Hd(t),t.k_.shutdown(),t.q_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}um.provider={build:()=>new um};class dm{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Na("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class hm{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ya.UNAUTHENTICATED,this.clientId=za.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{ja("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(ja("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Aa;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=bh(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function mm(e,t){e.asyncQueue.verifyOperationInProgress(),ja("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await gd(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function fm(e,t){e.asyncQueue.verifyOperationInProgress();const n=await pm(e);ja("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>fh(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>fh(t.remoteStore,n))),e._onlineComponents=t}async function pm(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){ja("FirestoreClient","Using user provided OfflineComponentProvider");try{await mm(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===Ta.FAILED_PRECONDITION||e.code===Ta.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;ka("Error using user provided cache. Falling back to memory cache: "+n),await mm(e,new cm)}}else ja("FirestoreClient","Using default OfflineComponentProvider"),await mm(e,new cm);return e._offlineComponents}async function gm(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(ja("FirestoreClient","Using user provided OnlineComponentProvider"),await fm(e,e._uninitializedComponentsProvider._online)):(ja("FirestoreClient","Using default OnlineComponentProvider"),await fm(e,new um))),e._onlineComponents}function vm(e){return gm(e).then((e=>e.syncEngine))}async function ym(e){const t=await gm(e),n=t.eventManager;return n.onListen=Vh.bind(null,t.syncEngine),n.onUnlisten=Hh.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=zh.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=qh.bind(null,t.syncEngine),n}function bm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Aa;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new dm({next:o=>{s.Za(),t.enqueueAndForget((()=>Sh(e,a)));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new Ia(Ta.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new Ia(Ta.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new Rh(Rl(n.path),s,{includeMetadataChanges:!0,_a:!0});return Eh(e,a)}(await ym(e),e.asyncQueue,t,n,r))),r.promise}function xm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new Aa;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new dm({next:n=>{s.Za(),t.enqueueAndForget((()=>Sh(e,a))),n.fromCache&&"server"===r.source?i.reject(new Ia(Ta.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),a=new Rh(n,s,{includeMetadataChanges:!0,_a:!0});return Eh(e,a)}(await ym(e),e.asyncQueue,t,n,r))),r.promise}function wm(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const jm=new Map;function Nm(e,t,n){if(!n)throw new Ia(Ta.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function km(e){if(!Ja.isDocumentKey(e))throw new Ia(Ta.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function _m(e){if(Ja.isDocumentKey(e))throw new Ia(Ta.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Em(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":Ea()}function Sm(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ia(Ta.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Em(e);throw new Ia(Ta.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Cm(e,t){if(t<=0)throw new Ia(Ta.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class Tm{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new Ia(Ta.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Ia(Ta.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new Ia(Ta.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wm(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new Ia(Ta.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new Ia(Ta.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new Ia(Ta.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Im{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Tm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Ia(Ta.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Ia(Ta.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Tm(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ra;switch(e.type){case"firstParty":return new Fa(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new Ia(Ta.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=jm.get(e);t&&(ja("ComponentProvider","Removing Datastore"),jm.delete(e),t.terminate())}(this),Promise.resolve()}}class Am{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Am(this.firestore,e,this._query)}}class Dm{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rm(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Dm(this.firestore,e,this._key)}}class Rm extends Am{constructor(e,t,n){super(e,t,Rl(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Dm(this.firestore,null,new Ja(e))}withConverter(e){return new Rm(this.firestore,e,this._path)}}function Pm(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ut(e),Nm("collection","path",t),e instanceof Im){const n=Ga.fromString(t,...r);return _m(n),new Rm(e,null,n)}{if(!(e instanceof Dm||e instanceof Rm))throw new Ia(Ta.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ga.fromString(t,...r));return _m(n),new Rm(e.firestore,null,n)}}function Om(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=ut(e),1===arguments.length&&(t=za.newId()),Nm("doc","path",t),e instanceof Im){const n=Ga.fromString(t,...r);return km(n),new Dm(e,null,new Ja(n))}{if(!(e instanceof Dm||e instanceof Rm))throw new Ia(Ta.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(Ga.fromString(t,...r));return km(n),new Dm(e.firestore,e instanceof Rm?e.converter:null,new Ja(n))}}class Lm{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Ld(this,"async_queue_retry"),this.Vu=()=>{const e=Pd();e&&ja("AsyncQueue","Visibility state changed to "+e.visibilityState),this.t_.jo()},this.mu=e;const t=Pd();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Pd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise((()=>{}));const t=new Aa;return this.gu((()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Pu.push(e),this.pu())))}async pu(){if(0!==this.Pu.length){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(Ox){if(!oo(Ox))throw Ox;ja("AsyncQueue","Operation failed with retryable error: "+Ox)}this.Pu.length>0&&this.t_.Go((()=>this.pu()))}}gu(e){const t=this.mu.then((()=>(this.du=!0,e().catch((e=>{this.Eu=e,this.du=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Na("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.du=!1,e))))));return this.mu=t,t}enqueueAfterDelay(e,t,n){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const r=yh.createAndSchedule(this,e,t,n,(e=>this.yu(e)));return this.Tu.push(r),r}fu(){this.Eu&&Ea()}verifyOperationInProgress(){}async wu(){let e;do{e=this.mu,await e}while(e!==this.mu)}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then((()=>{this.Tu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()}))}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}function Fm(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class Mm extends Im{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Lm,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Lm(e),this._firestoreClient=void 0,await e}}}function Um(e){if(e._terminated)throw new Ia(Ta.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Vm(e),e._firestoreClient}function Vm(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Oo(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,wm(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new hm(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class zm{constructor(e){this._byteString=e}static fromBase64String(e){try{return new zm(So.fromBase64String(e))}catch(e){throw new Ia(Ta.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new zm(So.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Bm{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new Ia(Ta.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qa(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class $m{constructor(e){this._methodName=e}}class Hm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Ia(Ta.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Ia(Ta.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ba(this._lat,e._lat)||Ba(this._long,e._long)}}class qm{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const Wm=/^__.*__$/;class Gm{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Pc(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rc(e,this.data,t,this.fieldTransforms)}}class Km{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Pc(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Qm(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ea()}}class Jm{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.vu(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Jm(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.Ou(e),r}Nu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Fu({path:n,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return mf(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Qm(this.Cu)&&Wm.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Ym{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||Od(e)}Qu(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Jm({Cu:e,methodName:t,qu:n,path:Qa.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Xm(e){const t=e._freezeSettings(),n=Od(e._databaseId);return new Ym(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Zm(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const a=e.Qu(s.merge||s.mergeFields?2:0,t,n,i);cf("Data must be an object, but it was:",a,r);const o=of(r,a);let l,c;if(s.merge)l=new _o(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=uf(t,r,n);if(!a.contains(i))throw new Ia(Ta.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);ff(e,i)||e.push(i)}l=new _o(e),c=a.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=a.fieldTransforms;return new Gm(new tl(o),l,c)}class ef extends $m{_toFieldTransform(e){if(2!==e.Cu)throw 1===e.Cu?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ef}}class tf extends $m{_toFieldTransform(e){return new Nc(e.path,new pc)}isEqual(e){return e instanceof tf}}function nf(e,t,n,r){const i=e.Qu(1,t,n);cf("Data must be an object, but it was:",i,r);const s=[],a=tl.empty();yo(r,((e,r)=>{const o=hf(t,e,n);r=ut(r);const l=i.Nu(o);if(r instanceof ef)s.push(o);else{const e=af(r,l);null!=e&&(s.push(o),a.set(o,e))}}));const o=new _o(s);return new Km(a,o,i.fieldTransforms)}function rf(e,t,n,r,i,s){const a=e.Qu(1,t,n),o=[uf(t,r,n)],l=[i];if(s.length%2!=0)throw new Ia(Ta.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)o.push(uf(t,s[h])),l.push(s[h+1]);const c=[],u=tl.empty();for(let h=o.length-1;h>=0;--h)if(!ff(c,o[h])){const e=o[h];let t=l[h];t=ut(t);const n=a.Nu(e);if(t instanceof ef)c.push(e);else{const r=af(t,n);null!=r&&(c.push(e),u.set(e,r))}}const d=new _o(c);return new Km(u,d,a.fieldTransforms)}function sf(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return af(n,e.Qu(r?4:3,t))}function af(e,t){if(lf(e=ut(e)))return cf("Unsupported field value:",t,e),of(e,t);if(e instanceof $m)return function(e,t){if(!Qm(t.Cu))throw t.Bu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Bu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.xu&&4!==t.Cu)throw t.Bu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=af(i,t.Lu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=ut(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return uc(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Ha.fromDate(e);return{timestampValue:pu(t.serializer,n)}}if(e instanceof Ha){const n=new Ha(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:pu(t.serializer,n)}}if(e instanceof Hm)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof zm)return{bytesValue:gu(t.serializer,e._byteString)};if(e instanceof Dm){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Bu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:bu(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof qm)return function(e,t){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Bu("VectorValues must only contain numeric values.");return lc(t.serializer,e)}))}}}}}}(e,t);throw t.Bu(`Unsupported field value: ${Em(e)}`)}(e,t)}function of(e,t){const n={};return bo(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):yo(e,((e,r)=>{const i=af(r,t.Mu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function lf(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Ha||e instanceof Hm||e instanceof zm||e instanceof Dm||e instanceof $m||e instanceof qm)}function cf(e,t,n){if(!lf(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=Em(n);throw"an object"===r?t.Bu(e+" a custom object"):t.Bu(e+" "+r)}}function uf(e,t,n){if((t=ut(t))instanceof Bm)return t._internalPath;if("string"==typeof t)return hf(e,t);throw mf("Field path arguments must be of type string or ",e,!1,void 0,n)}const df=new RegExp("[~\\*/\\[\\]]");function hf(e,t,n){if(t.search(df)>=0)throw mf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new Bm(...t.split("."))._internalPath}catch(r){throw mf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function mf(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o=`Function ${t}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new Ia(Ta.INVALID_ARGUMENT,o+e+l)}function ff(e,t){return e.some((e=>e.isEqual(t)))}class pf{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Dm(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new gf(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(vf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class gf extends pf{data(){return super.data()}}function vf(e,t){return"string"==typeof t?hf(e,t):t instanceof Bm?t._internalPath:t._delegate._internalPath}function yf(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Ia(Ta.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class bf{}class xf extends bf{}function wf(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof bf&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof kf)).length,n=e.filter((e=>e instanceof jf)).length;if(t>1||t>0&&n>0)throw new Ia(Ta.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const a of n)e=a._apply(e);return e}class jf extends xf{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new jf(e,t,n)}_apply(e){const t=this._parse(e);return Af(e._query,t),new Am(e.firestore,e.converter,Ul(e._query,t))}_parse(e){const t=Xm(e.firestore),n=function(e,t,n,r,i,s,a){let o;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new Ia(Ta.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){If(a,s);const t=[];for(const n of a)t.push(Tf(r,e,n));o={arrayValue:{values:t}}}else o=Tf(r,e,a)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||If(a,s),o=sf(n,t,a,"in"===s||"not-in"===s);return ul.create(i,s,o)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}function Nf(e,t,n){const r=t,i=vf("where",e);return jf._create(i,r,n)}class kf extends bf{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new kf(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:dl.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)Af(n,i),n=Ul(n,i)}(e._query,t),new Am(e.firestore,e.converter,Ul(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class _f extends xf{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new _f(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Ia(Ta.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Ia(Ta.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ol(t,n)}(e._query,this._field,this._direction);return new Am(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Al(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function Ef(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=vf("orderBy",e);return _f._create(n,t)}class Sf extends xf{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new Sf(e,t,n)}_apply(e){return new Am(e.firestore,e.converter,Vl(e._query,this._limit,this._limitType))}}function Cf(e){return Cm("limit",e),Sf._create("limit",e,"F")}function Tf(e,t,n){if("string"==typeof(n=ut(n))){if(""===n)throw new Ia(Ta.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ol(t)&&-1!==n.indexOf("/"))throw new Ia(Ta.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Ga.fromString(n));if(!Ja.isDocumentKey(r))throw new Ia(Ta.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Wo(e,new Ja(r))}if(n instanceof Dm)return Wo(e,n._key);throw new Ia(Ta.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Em(n)}.`)}function If(e,t){if(!Array.isArray(e)||0===e.length)throw new Ia(Ta.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function Af(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new Ia(Ta.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ia(Ta.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class Df{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Mo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Io(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ao(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ea()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return yo(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>Io(e.doubleValue)));return new qm(i)}convertGeoPoint(e){return new Hm(Io(e.latitude),Io(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Ro(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Po(e));default:return null}}convertTimestamp(e){const t=To(e);return new Ha(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Ga.fromString(e);Sa(zu(n));const r=new Lo(n.get(1),n.get(3)),i=new Ja(n.popFirst(5));return r.isEqual(t)||Na(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function Rf(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class Pf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Of extends pf{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new Lf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(vf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Lf extends Of{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class Ff{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new Pf(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Lf(this._firestore,this._userDataWriter,n.key,n,new Pf(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new Ia(Ta.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Lf(e._firestore,e._userDataWriter,n.doc.key,n.doc,new Pf(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Lf(e._firestore,e._userDataWriter,t.doc.key,t.doc,new Pf(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:Mf(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function Mf(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ea()}}function Uf(e){e=Sm(e,Dm);const t=Sm(e.firestore,Mm);return bm(Um(t),e._key).then((n=>Gf(t,e,n)))}class Vf extends Df{constructor(e){super(),this.firestore=e}convertBytes(e){return new zm(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Dm(this.firestore,null,t)}}function zf(e){e=Sm(e,Am);const t=Sm(e.firestore,Mm),n=Um(t),r=new Vf(t);return yf(e._query),xm(n,e._query).then((n=>new Ff(t,r,e,n)))}function Bf(e,t,n){e=Sm(e,Dm);const r=Sm(e.firestore,Mm),i=Rf(e.converter,t,n);return Wf(r,[Zm(Xm(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,_c.none())])}function $f(e,t,n){e=Sm(e,Dm);const r=Sm(e.firestore,Mm),i=Xm(r);let s;for(var a=arguments.length,o=new Array(a>3?a-3:0),l=3;l<a;l++)o[l-3]=arguments[l];return s="string"==typeof(t=ut(t))||t instanceof Bm?rf(i,"updateDoc",e._key,t,n,o):nf(i,"updateDoc",e._key,t),Wf(r,[s.toMutation(e._key,_c.exists(!0))])}function Hf(e,t){const n=Sm(e.firestore,Mm),r=Om(e),i=Rf(e.converter,t);return Wf(n,[Zm(Xm(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,_c.exists(!1))]).then((()=>r))}function qf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,a;e=ut(e);let o={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||Fm(n[l])||(o=n[l],l++);const c={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(Fm(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(a=e.complete)||void 0===a?void 0:a.bind(e)}let u,d,h;if(e instanceof Dm)d=Sm(e.firestore,Mm),h=Rl(e._key.path),u={next:t=>{n[l]&&n[l](Gf(d,e,t))},error:n[l+1],complete:n[l+2]};else{const t=Sm(e,Am);d=Sm(t.firestore,Mm),h=t._query;const r=new Vf(d);u={next:e=>{n[l]&&n[l](new Ff(d,r,t,e))},error:n[l+1],complete:n[l+2]},yf(e._query)}return function(e,t,n,r){const i=new dm(r),s=new Rh(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Eh(await ym(e),s))),()=>{i.Za(),e.asyncQueue.enqueueAndForget((async()=>Sh(await ym(e),s)))}}(Um(d),h,c,u)}function Wf(e,t){return function(e,t){const n=new Aa;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=lm(e);try{const e=await function(e,t){const n=Ca(e),r=Ha.now(),i=t.reduce(((e,t)=>e.add(t.key)),sc());let s,a;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let o=Jl(),l=sc();return n.cs.getEntries(e,i).next((e=>{o=e,o.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,o))).next((i=>{s=i;const a=[];for(const e of t){const t=Ac(e,s.get(e.key).overlayedDocument);null!=t&&a.push(new Pc(e.key,t,nl(t.value.mapValue),_c.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,a,t)})).next((t=>{a=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:a.batchId,changes:Zl(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ba[e.currentUser.toKey()];r||(r=new xo(Ba)),r=r.insert(t,n),e.Ba[e.currentUser.toKey()]=r}(r,e.batchId,n),await im(r,e.changes),await sh(r.remoteStore)}catch(e){const t=bh(e,"Failed to persist write");n.reject(t)}}(await vm(e),t,n))),n.promise}(Um(e),t)}function Gf(e,t,n){const r=n.docs.get(t._key),i=new Vf(e);return new Of(e,i,t._key,r,new Pf(n.hasPendingWrites,n.fromCache),t.converter)}function Kf(){return new tf("serverTimestamp")}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){ba=e}(Sn),jn(new dt("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new Mm(new Oa(e.getProvider("auth-internal")),new Ua(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Ia(Ta.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Lo(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),In(va,"4.7.3",e),In(va,"4.7.3","esm2017")}();In("firebase","10.14.1","app");const Qf="firebasestorage.googleapis.com",Jf="storageBucket";class Yf extends Ze{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;super(ep(e),`Firebase Storage: ${t} (${ep(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Yf.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ep(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}\n${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xf,Zf;function ep(e){return"storage/"+e}function tp(){return new Yf(Xf.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function np(){return new Yf(Xf.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function rp(){return new Yf(Xf.CANCELED,"User canceled the upload/download.")}function ip(){return new Yf(Xf.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function sp(e){return new Yf(Xf.INVALID_ARGUMENT,e)}function ap(){return new Yf(Xf.APP_DELETED,"The Firebase app was deleted.")}function op(e,t){return new Yf(Xf.INVALID_FORMAT,"String does not match format '"+e+"': "+t)}function lp(e){throw new Yf(Xf.INTERNAL_ERROR,"Internal error: "+e)}!function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"}(Xf||(Xf={}));class cp{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=cp.makeFromUrl(e,t)}catch(Ox){return new cp(e,"")}if(""===n.path)return n;throw r=e,new Yf(Xf.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+r+"'.");var r}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)";const i=new RegExp("^gs://"+r+"(/(.*))?$","i");function s(e){e.path_=decodeURIComponent(e.path)}const a=t.replace(/[.]/g,"\\."),o=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${a}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:s},{regex:new RegExp(`^https?://${t===Qf?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:s}];for(let l=0;l<o.length;l++){const t=o[l],r=t.regex.exec(e);if(r){const e=r[t.indices.bucket];let i=r[t.indices.path];i||(i=""),n=new cp(e,i),t.postModify(n);break}}if(null==n)throw function(e){return new Yf(Xf.INVALID_URL,"Invalid URL '"+e+"'.")}(e);return n}}class up{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(){}}function dp(e){return"string"===typeof e||e instanceof String}function hp(e){return mp()&&e instanceof Blob}function mp(){return"undefined"!==typeof Blob}function fp(e,t,n,r){if(r<t)throw sp(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw sp(`Invalid value for '${e}'. Expected ${n} or less.`)}function pp(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function gp(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){n=n+(t(r)+"="+t(e[r]))+"&"}return n=n.slice(0,-1),n}function vp(e,t){const n=e>=500&&e<600,r=-1!==[408,429].indexOf(e),i=-1!==t.indexOf(e);return n||r||i}!function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(Zf||(Zf={}));class yp{constructor(e,t,n,r,i,s,a,o,l,c,u){let d=!(arguments.length>11&&void 0!==arguments[11])||arguments[11];this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=o,this.timeout_=l,this.progressCallback_=c,this.connectionFactory_=u,this.retry=d,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise(((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()}))}start_(){const e=(e,t)=>{if(t)return void e(!1,new bp(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{const t=e.loaded,n=e.lengthComputable?e.total:-1;null!==this.progressCallback_&&this.progressCallback_(t,n)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then((()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===Zf.NO_ERROR,i=n.getStatus();if(!t||vp(i,this.additionalRetryCodes_)&&this.retry){const t=n.getErrorCode()===Zf.ABORT;return void e(!1,new bp(!1,null,t))}const s=-1!==this.successCodes_.indexOf(i);e(!0,new bp(s,n))}))},t=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(Ox){r(Ox)}else if(null!==i){const e=tp();e.serverResponse=i.getErrorText(),this.errorCallback_?r(this.errorCallback_(i,e)):r(e)}else if(t.canceled){r(this.appDelete_?ap():rp())}else{r(np())}};this.canceled_?t(0,new bp(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return 2===o}let c=!1;function u(){if(!c){c=!0;for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.apply(null,n)}}function d(t){i=setTimeout((()=>{i=null,e(m,l())}),t)}function h(){s&&clearTimeout(s)}function m(e){if(c)return void h();for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];if(e)return h(),void u.call(null,e,...n);if(l()||a)return h(),void u.call(null,e,...n);let s;r<64&&(r*=2),1===o?(o=2,s=0):s=1e3*(r+Math.random()),d(s)}let f=!1;function p(e){f||(f=!0,h(),c||(null!==i?(e||(o=2),clearTimeout(i),d(0)):e||(o=1)))}return d(0),s=setTimeout((()=>{a=!0,p(!0)}),n),p}(e,t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&(0,this.backoffId_)(!1),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class bp{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function xp(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function wp(){const e=xp();for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(void 0!==e){const t=new e;for(let e=0;e<n.length;e++)t.append(n[e]);return t.getBlob()}if(mp())return new Blob(n);throw new Yf(Xf.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}function jp(e){if("undefined"===typeof atob)throw t="base-64",new Yf(Xf.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);var t;return atob(e)}const Np="raw",kp="base64",_p="base64url",Ep="data_url";class Sp{constructor(e,t){this.data=e,this.contentType=t||null}}function Cp(e,t){switch(e){case Np:return new Sp(Tp(t));case kp:case _p:return new Sp(Ip(e,t));case Ep:return new Sp(function(e){const t=new Ap(e);return t.base64?Ip(kp,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(Ox){throw op(Ep,"Malformed data URL.")}return Tp(t)}(t.rest)}(t),new Ap(t).contentType)}throw tp()}function Tp(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);if(r<=127)t.push(r);else if(r<=2047)t.push(192|r>>6,128|63&r);else if(55296===(64512&r)){if(n<e.length-1&&56320===(64512&e.charCodeAt(n+1))){r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else t.push(239,191,189)}else 56320===(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Ip(e,t){switch(e){case kp:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r){throw op(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?")}break}case _p:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r){throw op(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?")}t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=jp(t)}catch(Ox){if(Ox.message.includes("polyfill"))throw Ox;throw op(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Ap{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw op(Ep,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;null!=n&&(this.base64=function(e,t){if(!(e.length>=t.length))return!1;return e.substring(e.length-t.length)===t}(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-7):n),this.rest=e.substring(e.indexOf(",")+1)}}class Dp{constructor(e,t){let n=0,r="";hp(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(hp(this.data_)){const n=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.mozSlice?e.mozSlice(t,n):e.slice?e.slice(t,n):null}(this.data_,e,t);return null===n?null:new Dp(n)}{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Dp(n,!0)}}static getBlob(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(mp()){const e=t.map((e=>e instanceof Dp?e.data_:e));return new Dp(wp.apply(null,e))}{const e=t.map((e=>dp(e)?Cp(Np,e).data:e.data_));let n=0;e.forEach((e=>{n+=e.byteLength}));const r=new Uint8Array(n);let i=0;return e.forEach((e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]})),new Dp(r,!0)}}uploadData(){return this.data_}}function Rp(e){let t;try{t=JSON.parse(e)}catch(Ox){return null}return function(e){return"object"===typeof e&&!Array.isArray(e)}(t)?t:null}function Pp(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function Op(e,t){return t}class Lp{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||Op}}let Fp=null;function Mp(){if(Fp)return Fp;const e=[];e.push(new Lp("bucket")),e.push(new Lp("generation")),e.push(new Lp("metageneration")),e.push(new Lp("name","fullPath",!0));const t=new Lp("name");t.xform=function(e,t){return function(e){return!dp(e)||e.length<2?e:Pp(e)}(t)},e.push(t);const n=new Lp("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new Lp("timeCreated")),e.push(new Lp("updated")),e.push(new Lp("md5Hash",null,!0)),e.push(new Lp("cacheControl",null,!0)),e.push(new Lp("contentDisposition",null,!0)),e.push(new Lp("contentEncoding",null,!0)),e.push(new Lp("contentLanguage",null,!0)),e.push(new Lp("contentType",null,!0)),e.push(new Lp("metadata","customMetadata",!0)),Fp=e,Fp}function Up(e,t,n){const r={type:"file"},i=n.length;for(let s=0;s<i;s++){const e=n[s];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=e.bucket,r=e.fullPath,i=new cp(n,r);return t._makeStorageReference(i)}})}(r,e),r}function Vp(e,t,n){const r=Rp(t);if(null===r)return null;return Up(e,r,n)}function zp(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class Bp{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function $p(e){if(!e)throw tp()}function Hp(e,t){return function(n,r){const i=Vp(e,r,t);return $p(null!==i),i}}function qp(e,t){return function(n,r){const i=Vp(e,r,t);return $p(null!==i),function(e,t,n,r){const i=Rp(t);if(null===i)return null;if(!dp(i.downloadTokens))return null;const s=i.downloadTokens;if(0===s.length)return null;const a=encodeURIComponent;return s.split(",").map((t=>{const i=e.bucket,s=e.fullPath;return pp("/b/"+a(i)+"/o/"+a(s),n,r)+gp({alt:"media",token:t})}))[0]}(i,r,e.host,e._protocol)}}function Wp(e){return function(t,n){let r;var i,s;return 401===t.getStatus()?r=t.getErrorText().includes("Firebase App Check token is invalid")?new Yf(Xf.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project."):new Yf(Xf.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?(s=e.bucket,r=new Yf(Xf.QUOTA_EXCEEDED,"Quota for bucket '"+s+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===t.getStatus()?(i=e.path,r=new Yf(Xf.UNAUTHORIZED,"User does not have permission to access '"+i+"'.")):r=n,r.status=t.getStatus(),r.serverResponse=n.serverResponse,r}}function Gp(e){const t=Wp(e);return function(n,r){let i=t(n,r);var s;return 404===n.getStatus()&&(s=e.path,i=new Yf(Xf.OBJECT_NOT_FOUND,"Object '"+s+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function Kp(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return e&&e.contentType||t&&t.type()||"application/octet-stream"}(null,t)),r}function Qp(e,t,n,r,i){const s=t.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};const o=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();a["Content-Type"]="multipart/related; boundary="+o;const l=Kp(t,r,i),c="--"+o+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+zp(l,n)+"\r\n--"+o+"\r\nContent-Type: "+l.contentType+"\r\n\r\n",u="\r\n--"+o+"--",d=Dp.getBlob(c,r,u);if(null===d)throw ip();const h={name:l.fullPath},m=pp(s,e.host,e._protocol),f=e.maxUploadRetryTime,p=new Bp(m,"POST",Hp(e,n),f);return p.urlParams=h,p.headers=a,p.body=d.uploadData(),p.errorHandler=Wp(t),p}class Jp{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Zf.NO_ERROR,this.sendPromise_=new Promise((e=>{this.xhr_.addEventListener("abort",(()=>{this.errorCode_=Zf.ABORT,e()})),this.xhr_.addEventListener("error",(()=>{this.errorCode_=Zf.NETWORK_ERROR,e()})),this.xhr_.addEventListener("load",(()=>{e()}))}))}send(e,t,n,r){if(this.sent_)throw lp("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw lp("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw lp("cannot .getStatus() before sending");try{return this.xhr_.status}catch(Ox){return-1}}getResponse(){if(!this.sent_)throw lp("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw lp("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}class Yp extends Jp{initXhr(){this.xhr_.responseType="text"}}function Xp(){return new Yp}class Zp{constructor(e,t){this._service=e,this._location=t instanceof cp?t:cp.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new Zp(e,t)}get root(){const e=new cp(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Pp(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new cp(this._location.bucket,e);return new Zp(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function(e){return new Yf(Xf.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function eg(e,t,n){e._throwIfRoot("uploadBytes");const r=Qp(e.storage,e._location,Mp(),new Dp(t,!0),n);return e.storage.makeRequestWithTokens(r,Xp).then((t=>({metadata:t,ref:e})))}function tg(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=pp(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,s=new Bp(r,"GET",qp(e,n),i);return s.errorHandler=Gp(t),s}(e.storage,e._location,Mp());return e.storage.makeRequestWithTokens(t,Xp).then((e=>{if(null===e)throw new Yf(Xf.NO_DOWNLOAD_URL,"The given file does not have any download URLs.");return e}))}function ng(e,t){const n=function(e,t){const n=t.split("/").filter((e=>e.length>0)).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new cp(e._location.bucket,n);return new Zp(e.storage,r)}function rg(e,t){if(e instanceof ag){const n=e;if(null==n._bucket)throw new Yf(Xf.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Jf+"' property when initializing the app?");const r=new Zp(n,n._bucket);return null!=t?rg(r,t):r}return void 0!==t?ng(e,t):e}function ig(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof ag)return new Zp(e,t);throw sp("To use ref(service, url), the first argument must be a Storage instance.")}return rg(e,t)}function sg(e,t){const n=null===t||void 0===t?void 0:t[Jf];return null==n?null:cp.makeFromBucketSpec(n,e)}class ag{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Qf,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?cp.makeFromBucketSpec(r,this._host):sg(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,null!=this._url?this._bucket=cp.makeFromBucketSpec(this._url,e):this._bucket=sg(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fp("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fp("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const t=await e.getToken();if(null!==t)return t.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});if(e){return(await e.getToken()).token}return null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach((e=>e.cancel())),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Zp(this,e)}_makeRequest(e,t,n,r){let i=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];if(this._deleted)return new up(ap());{const s=function(e,t,n,r,i,s){let a=!(arguments.length>6&&void 0!==arguments[6])||arguments[6];const o=gp(e.urlParams),l=e.url+o,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!==t&&void 0!==t?t:"AppManager")}(c,s),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new yp(l,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,a)}(e,this._appId,n,r,t,this._firebaseVersion,i);return this._requests.add(s),s.getPromise().then((()=>this._requests.delete(s)),(()=>this._requests.delete(s))),s}}async makeRequestWithTokens(e,t){const[n,r]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,t,n,r).getPromise()}}const og="@firebase/storage",lg="0.13.2",cg="storage";function ug(e,t,n){return eg(e=ut(e),t,n)}function dg(e){return tg(e=ut(e))}function hg(e,t){return ig(e=ut(e),t)}function mg(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn(),t=arguments.length>1?arguments[1]:void 0;e=ut(e);const n=Nn(e,cg).getImmediate({identifier:t}),r=$e("storage");return r&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};!function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"===typeof i?i:Ge(i,e.app.options.projectId))}(e,t,n,r)}(n,...r),n}function fg(e,t){let{instanceIdentifier:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return new ag(r,i,s,n,Sn)}jn(new dt(cg,fg,"PUBLIC").setMultipleInstances(!0)),In(og,lg,""),In(og,lg,"esm2017");const pg="@firebase/installations",gg="0.6.9",vg=1e4,yg=`w:${gg}`,bg="FIS_v2",xg=36e5,wg=new et("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function jg(e){return e instanceof Ze&&e.code.includes("request-failed")}function Ng(e){let{projectId:t}=e;return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function kg(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function _g(e,t){const n=(await t.json()).error;return wg.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function Eg(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Sg(e,t){let{refreshToken:n}=t;const r=Eg(e);return r.append("Authorization",function(e){return`${bg} ${e}`}(n)),r}async function Cg(e){const t=await e();return t.status>=500&&t.status<600?e():t}function Tg(e){return new Promise((t=>{setTimeout(t,e)}))}const Ig=/^[cdef][\w-]{21}$/;function Ag(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Ig.test(t)?t:""}catch(e){return""}}function Dg(e){return`${e.appName}!${e.appId}`}const Rg=new Map;function Pg(e,t){const n=Dg(e);Og(n,t),function(e,t){const n=Fg();n&&n.postMessage({key:e,fid:t});Mg()}(n,t)}function Og(e,t){const n=Rg.get(e);if(n)for(const r of n)r(t)}let Lg=null;function Fg(){return!Lg&&"BroadcastChannel"in self&&(Lg=new BroadcastChannel("[Firebase] FID Change"),Lg.onmessage=e=>{Og(e.data.key,e.data.fid)}),Lg}function Mg(){0===Rg.size&&Lg&&(Lg.close(),Lg=null)}const Ug="firebase-installations-store";let Vg=null;function zg(){return Vg||(Vg=Pt("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Ug)}})),Vg}async function Bg(e,t){const n=Dg(e),r=(await zg()).transaction(Ug,"readwrite"),i=r.objectStore(Ug),s=await i.get(n);return await i.put(t,n),await r.done,s&&s.fid===t.fid||Pg(e,t.fid),t}async function $g(e){const t=Dg(e),n=(await zg()).transaction(Ug,"readwrite");await n.objectStore(Ug).delete(t),await n.done}async function Hg(e,t){const n=Dg(e),r=(await zg()).transaction(Ug,"readwrite"),i=r.objectStore(Ug),s=await i.get(n),a=t(s);return void 0===a?await i.delete(n):await i.put(a,n),await r.done,!a||s&&s.fid===a.fid||Pg(e,a.fid),a}async function qg(e){let t;const n=await Hg(e.appConfig,(n=>{const r=function(e){const t=e||{fid:Ag(),registrationStatus:0};return Kg(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(wg.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const s=Ng(n),a=Eg(n),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&a.append("x-firebase-client",e)}const l={fid:i,authVersion:bg,appId:n.appId,sdkVersion:yg},c={method:"POST",headers:a,body:JSON.stringify(l)},u=await Cg((()=>fetch(s,c)));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:kg(e.authToken)}}throw await _g("Create Installation",u)}(e,t);return Bg(e.appConfig,n)}catch(Ox){throw jg(Ox)&&409===Ox.customData.serverCode?await $g(e.appConfig):await Bg(e.appConfig,{fid:t.fid,registrationStatus:0}),Ox}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Wg(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function Wg(e){let t=await Gg(e.appConfig);for(;1===t.registrationStatus;)await Tg(100),t=await Gg(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await qg(e);return n||t}return t}function Gg(e){return Hg(e,(e=>{if(!e)throw wg.create("installation-not-found");return Kg(e)}))}function Kg(e){return 1===(t=e).registrationStatus&&t.registrationTime+vg<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Qg(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return`${Ng(e)}/${n}/authTokens:generate`}(n,t),s=Sg(n,t),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const o={installation:{sdkVersion:yg,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},c=await Cg((()=>fetch(i,l)));if(c.ok){return kg(await c.json())}throw await _g("Generate Auth Token",c)}async function Jg(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await Hg(e.appConfig,(r=>{if(!Xg(r))throw wg.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+xg}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await Yg(e.appConfig);for(;1===n.authToken.requestStatus;)await Tg(100),n=await Yg(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Jg(e,t):r}(e,n),r;{if(!navigator.onLine)throw wg.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await Qg(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Bg(e.appConfig,r),n}catch(Ox){if(!jg(Ox)||401!==Ox.customData.serverCode&&404!==Ox.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Bg(e.appConfig,n)}else await $g(e.appConfig);throw Ox}}(e,n),n}}));return t?await t:r.authToken}function Yg(e){return Hg(e,(e=>{if(!Xg(e))throw wg.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+vg<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function Xg(e){return void 0!==e&&2===e.registrationStatus}async function Zg(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await qg(e);t&&await t}(n);return(await Jg(n,t)).token}function ev(e){return wg.create("missing-app-config-values",{valueName:e})}const tv="installations",nv=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw ev("App Configuration");if(!e.name)throw ev("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw ev(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Nn(t,"heartbeat"),_delete:()=>Promise.resolve()}},rv=e=>{const t=Nn(e.getProvider("app").getImmediate(),tv).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await qg(t);return r?r.catch(console.error):Jg(t).catch(console.error),n.fid}(t),getToken:e=>Zg(t,e)}};jn(new dt(tv,nv,"PUBLIC")),jn(new dt("installations-internal",rv,"PRIVATE")),In(pg,gg),In(pg,gg,"esm2017");const iv="analytics",sv="https://www.googletagmanager.com/gtag/js",av=new wt("@firebase/analytics"),ov=new et("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function lv(e){if(!e.startsWith(sv)){const t=ov.create("invalid-gtag-resource",{gtagURL:e});return av.warn(t.message),""}return e}function cv(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function uv(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:lv}),r=document.createElement("script"),i=`${sv}?l=${e}&id=${t}`;r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function dv(e,t,n,r){return async function(i){try{for(var s=arguments.length,a=new Array(s>1?s-1:0),o=1;o<s;o++)a[o-1]=arguments[o];if("event"===i){const[r,i]=a;await async function(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await cv(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(Ox){av.error(Ox)}}(e,t,n,r,i)}else if("config"===i){const[i,s]=a;await async function(e,t,n,r,i,s){const a=r[i];try{if(a)await t[a];else{const e=(await cv(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(Ox){av.error(Ox)}e("config",i,s)}(e,t,n,r,i,s)}else if("consent"===i){const[t,n]=a;e("consent",t,n)}else if("get"===i){const[t,n,r]=a;e("get",t,n,r)}else if("set"===i){const[t]=a;e("set",t)}else e(i,...a)}catch(Ox){av.error(Ox)}}}const hv=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function mv(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function fv(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hv,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw ov.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw ov.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new gv;return setTimeout((async()=>{o.abort()}),void 0!==n?n:6e4),pv({appId:r,apiKey:i,measurementId:s},a,o,t)}async function pv(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:hv;var a;const{appId:o,measurementId:l}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(s),r(ov.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch(Ox){if(l)return av.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===Ox||void 0===Ox?void 0:Ox.message}]`),{appId:o,measurementId:l};throw Ox}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:mv(r)},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),a=await fetch(s,i);if(200!==a.status&&304!==a.status){let e="";try{const n=await a.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(o){}throw ov.create("config-fetch-failed",{httpStatus:a.status,responseMessage:e})}return a.json()}(e);return s.deleteThrottleMetadata(o),t}catch(Ox){const r=Ox;if(!function(e){if(!(e instanceof Ze)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(s.deleteThrottleMetadata(o),l)return av.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===r||void 0===r?void 0:r.message}]`),{appId:o,measurementId:l};throw Ox}const c=503===Number(null===(a=null===r||void 0===r?void 0:r.customData)||void 0===a?void 0:a.httpStatus)?ct(i,s.intervalMillis,30):ct(i,s.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return s.setThrottleMetadata(o,u),av.debug(`Calling attemptFetch again in ${c} millis`),pv(e,u,n,s)}}class gv{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let vv,yv;function bv(e){yv=e}function xv(e){vv=e}async function wv(e,t,n,r,i,s,a){var o;const l=fv(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&av.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>av.error(e))),t.push(l);const c=async function(){if(!Ye())return av.warn(ov.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await Xe()}catch(Ox){return av.warn(ov.create("indexeddb-unavailable",{errorInfo:null===Ox||void 0===Ox?void 0:Ox.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[u,d]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(sv)&&n.src.includes(e))return n;return null})(s)||uv(s,u.measurementId),yv&&(i("consent","default",yv),bv(void 0)),i("js",new Date);const h=null!==(o=null===a||void 0===a?void 0:a.config)&&void 0!==o?o:{};return h.origin="firebase",h.update=!0,null!=d&&(h.firebase_id=d),i("config",u.measurementId,h),vv&&(i("set",vv),xv(void 0)),u.measurementId}class jv{constructor(e){this.app=e}_delete(){return delete Nv[this.app.options.appId],Promise.resolve()}}let Nv={},kv=[];const _v={};let Ev,Sv,Cv="dataLayer",Tv="gtag",Iv=!1;function Av(){const e=[];if(Qe()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),n=ov.create("invalid-analytics-context",{errorInfo:t});av.warn(n.message)}}function Dv(e,t,n){Av();const r=e.options.appId;if(!r)throw ov.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw ov.create("no-api-key");av.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Nv[r])throw ov.create("already-exists",{id:r});if(!Iv){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Cv);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(s=window[i]),window[i]=dv(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}(Nv,kv,_v,Cv,Tv);Sv=e,Ev=t,Iv=!0}Nv[r]=wv(e,kv,_v,t,Ev,Cv,n);return new jv(e)}function Rv(e,t,n,r){e=ut(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(Sv,Nv[e.app.options.appId],t,n,r).catch((e=>av.error(e)))}const Pv="@firebase/analytics",Ov="0.10.8";jn(new dt(iv,((e,t)=>{let{options:n}=t;return Dv(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),jn(new dt("analytics-internal",(function(e){try{const t=e.getProvider(iv).getImmediate();return{logEvent:(e,n,r)=>Rv(t,e,n,r)}}catch(Ox){throw ov.create("interop-component-reg-failed",{reason:Ox})}}),"PRIVATE")),In(Pv,Ov),In(Pv,Ov,"esm2017");const Lv={apiKey:"AIzaSyAiTY14VexbFUQTf3yKhDPhrCtKjRzhMwQ",authDomain:"pitchpro-29e90.firebaseapp.com",projectId:"pitchpro-29e90",storageBucket:"pitchpro-29e90.firebasestorage.app",messagingSenderId:"121788535713",appId:"1:121788535713:web:9c5ddf4ff9af0a0e2ff1e0",measurementId:"G-QGBR93ZYCM"};console.log("Firebase omgevingsvariabelen status:"),console.log("API Key aanwezig:",!0),console.log("Auth Domain aanwezig:",!0),console.log("Project ID aanwezig:",!0),Lv.apiKey||(console.warn("Firebase configuratie niet gevonden in environment variables. Gebruik van fallback configuratie. Voor productieomgevingen, zorg ervoor dat je .env.local correct is ingesteld."),Lv.apiKey="AIzaSyAiTY14VexbFUQTf3yKhDPhrCtKjRzhMwQ",Lv.authDomain="pitchpro-29e90.firebaseapp.com",Lv.projectId="pitchpro-29e90",Lv.storageBucket="pitchpro-29e90.firebasestorage.app",Lv.messagingSenderId="121788535713",Lv.appId="1:121788535713:web:9c5ddf4ff9af0a0e2ff1e0",Lv.measurementId="G-QGBR93ZYCM"),console.log("Firebase configuratie:",{...Lv,apiKey:Lv.apiKey?"AANWEZIG":"ONTBREEKT"});const Fv=Cn(Lv),Mv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();const t=Nn(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Nn(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(nt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Gn(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Js,persistence:[ls,qi,Gi]}),r=qe("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>ea)return;const r=null===t||void 0===t?void 0:t.token;ta!==r&&(ta=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){ut(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){ut(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=Be("auth");return s&&li(n,`http://${s}`),n}(Fv),Uv=function(e,t){const n="string"==typeof e?e:t||"(default)",r=Nn("object"==typeof e?e:Tn(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=$e("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=Sm(e,Im))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==a&&ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ya.MOCK_USER;else{t=Ge(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new Ia(Ta.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ya(s)}e._authCredentials=new Pa(new Da(t,n))}}(r,...e)}return r}(Fv),Vv=mg(Fv);let zv=null;"undefined"!==typeof window&&(zv=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Tn();e=ut(e);const t=Nn(e,iv);return t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Nn(e,iv);if(n.isInitialized()){const e=n.getImmediate();if(nt(t,n.getOptions()))return e;throw ov.create("already-initialized")}return n.initialize({options:t})}(e)}(Fv));function Bv(e){return!!e&&("werkzoekende"===e.role||"jobseeker"===e.role)}function $v(e){return!!e&&"recruiter"===e.role}function Hv(e){return e?Bv(e)?"jobseeker":$v(e)?"recruiter":null:null}var qv=n(393);const Wv=(0,i.createContext)(void 0),Gv=()=>{const e=(0,i.useContext)(Wv);if(void 0===e)throw new Error("useAuth moet binnen een AuthProvider gebruikt worden");return e},Kv=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(null),[s,a]=(0,i.useState)(null),[o,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(null);console.log("AuthProvider initialiseren...");const d=async(e,t,n,r)=>{console.log("Nieuw gebruikersprofiel aanmaken voor",e);const i=Om(Uv,"users",e),s={id:e,email:t||"",displayName:n,fullName:n,role:r,userType:r,createdAt:new Date,updatedAt:new Date};let a;return a="werkzoekende"===r?{...s,profile:{skills:[],availability:"",cv:"",linkedin:"",portfolio:"",experience:"",education:[]}}:{...s,profile:{company:"",position:"",companyLogo:"",companyWebsite:"",companyDescription:"",kvkNumber:""}},await Bf(i,a),console.log("Gebruikersprofiel aangemaakt:",r),a},h=async e=>{try{console.log("Bezig met laden van gebruikersprofiel voor",e);const t=Om(Uv,"users",e),r=await Uf(t);if(r.exists()){const i=r.data();console.log("Ruwe gebruikersdata uit Firestore:",i),i.email||(console.warn("Gebruikersprofiel heeft geen email - proberen te repareren"),null!==n&&void 0!==n&&n.email&&(await $f(t,{email:n.email}),i.email=n.email));const s={...i,id:e};s.role||s.userType||(console.warn("Gebruikersprofiel heeft geen rol - proberen te repareren"),s.role="werkzoekende",await $f(t,{role:"werkzoekende",userType:"werkzoekende"})),s.profile&&0!==Object.keys(s.profile||{}).length||(console.warn("Gebruikersprofiel heeft geen profiel object - proberen te repareren"),"werkzoekende"===s.role||"werkzoekende"===s.userType?(s.profile={skills:[],availability:"",cv:"",linkedin:"",portfolio:"",experience:"",education:[]},await $f(t,{profile:s.profile})):"recruiter"!==s.role&&"recruiter"!==s.userType||(s.profile={company:"",position:"",companyLogo:"",companyWebsite:"",companyDescription:"",kvkNumber:""},await $f(t,{profile:s.profile})));const o=((e,t)=>{console.log("Normalizing user data for:",t,e);let n=e.role||e.userType||"werkzoekende";"jobseeker"===n&&(n="werkzoekende",console.warn('Converted English role "jobseeker" to Dutch "werkzoekende"'));let r=e.userType||n;"jobseeker"===r&&(r="werkzoekende");const i={id:t,email:e.email||"",displayName:e.displayName||e.name||"",photoURL:e.photoURL||e.avatar||"",bio:e.bio||"",phone:e.phone||"",role:n,userType:r,createdAt:e.createdAt||new Date,updatedAt:e.updatedAt||new Date,profile:e.profile?{...e.profile}:{}};var s,a,o,l,c,u,d,h;if(Bv(i))i.profile||(i.profile={}),i.profile.skills=e.skills||(null===(s=e.profile)||void 0===s?void 0:s.skills)||[],i.profile.education=e.education||(null===(a=e.profile)||void 0===a?void 0:a.education)||[],i.profile.experience=e.experience||(null===(o=e.profile)||void 0===o?void 0:o.experience)||[],i.profile.cv=e.cv||(null===(l=e.profile)||void 0===l?void 0:l.cv)||"",i.profile.portfolio=e.portfolio||(null===(c=e.profile)||void 0===c?void 0:c.portfolio)||"",i.profile.linkedin=e.linkedin||(null===(u=e.profile)||void 0===u?void 0:u.linkedin)||"",i.profile.address=e.address||(null===(d=e.profile)||void 0===d?void 0:d.address)||"",i.profile.city=e.city||(null===(h=e.profile)||void 0===h?void 0:h.city)||"";else if($v(i)){var m,f,p,g,v,y,b,x;i.profile||(i.profile={}),i.profile.companyName=e.companyName||(null===(m=e.profile)||void 0===m?void 0:m.companyName)||"",i.profile.companyDescription=e.companyDescription||(null===(f=e.profile)||void 0===f?void 0:f.companyDescription)||"",i.profile.kvkNumber=e.kvkNumber||(null===(p=e.profile)||void 0===p?void 0:p.kvkNumber)||"",i.profile.website=e.website||(null===(g=e.profile)||void 0===g?void 0:g.website)||"",i.profile.companyLogo=e.companyLogo||(null===(v=e.profile)||void 0===v?void 0:v.companyLogo)||"",i.profile.industry=e.industry||(null===(y=e.profile)||void 0===y?void 0:y.industry)||"",i.profile.companySize=e.companySize||(null===(b=e.profile)||void 0===b?void 0:b.companySize)||"",i.profile.companyLocation=e.companyLocation||(null===(x=e.profile)||void 0===x?void 0:x.companyLocation)||""}return console.debug("Normalized user data:",{id:i.id,email:i.email,role:i.role,userType:i.userType,hasProfile:!!i.profile&&Object.keys(i.profile).length>0}),i})(s,e);console.log("Genormaliseerde gebruikersdata:",o);const l=Hv(o);l?(console.log("Gebruikersprofiel geladen met rol:",l),a(o)):(console.warn("Gebruikersprofiel heeft geen geldige rol - zetten op null"),a(null))}else console.error("Geen gebruikersprofiel gevonden in Firestore"),a(null)}catch(t){throw console.error("Fout bij laden gebruikersprofiel:",t),a(null),t}};(0,i.useEffect)((()=>{console.log("Auth state verandering monitoren opstarten...");const e=setTimeout((()=>{console.log("VEILIGHEIDSTIMER: loading geforceerd op false na timeout"),l(!1),u(new Error("Het profiel kon niet tijdig worden geladen. Probeer het opnieuw."))}),15e3);try{const t=function(e,t,n,r){return ut(e).onAuthStateChanged(t,n,r)}(Mv,(async t=>{try{if(console.log("Auth state verandering gedetecteerd:",t?"Gebruiker aanwezig":"Geen gebruiker"),r(t),t)try{await h(t.uid)}catch(n){console.error("Fout bij laden gebruikersprofiel:",n),a(null),n instanceof Error?u(n):u(new Error("Onbekende fout bij laden gebruikersprofiel"))}else a(null);console.log("Loading status wordt op false gezet"),l(!1),clearTimeout(e)}catch(n){console.error("Onverwachte fout in auth state verandering handler:",n),l(!1),clearTimeout(e),n instanceof Error?u(n):u(new Error("Onverwachte fout in auth state verandering handler"))}}));return()=>{t(),clearTimeout(e)}}catch(t){return console.error("Kritieke fout bij initialiseren Firebase Auth:",t),l(!1),clearTimeout(e),t instanceof Error?u(t):u(new Error("Kritieke fout bij initialiseren Firebase Auth")),()=>{}}}),[]),console.log("AuthProvider rendering met loading status:",o,"authError:",c?"JA":"NEE");const m={currentUser:n,userProfile:s,loading:o,authError:c,register:async(e,t,n,r)=>{try{const i=(await Vi(Mv,e,t)).user;await zi(i,{displayName:n});const s=await d(i.uid,i.email||"",n,r);a(s)}catch(i){throw console.error("Fout bij registratie:",i),i}},login:async(e,t)=>{try{console.log("Inlogpoging voor:",e),await function(e,t,n){return kn(e.app)?Promise.reject(Jn(e)):Fi(ut(e),ji.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&Ui(e),t}))}(Mv,e,t),console.log("Inloggen succesvol")}catch(n){throw console.error("Fout bij inloggen:",n),console.error("Fout code:",n.code),console.error("Fout bericht:",n.message),n}},logout:async()=>{try{await function(e){return ut(e).signOut()}(Mv)}catch(e){throw console.error("Fout bij uitloggen:",e),e}},resetPassword:async e=>{try{await async function(e,t,n){const r=ei(e),i={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};n&&Mi(r,i,n),await oi(r,i,"getOobCode",pi)}(Mv,e)}catch(t){throw console.error("Fout bij wachtwoord reset:",t),t}},createOrUpdateProfile:async(e,t)=>{if(!n)throw new Error("Je moet ingelogd zijn om een profiel aan te maken");try{const r=await d(n.uid,n.email||"",e||n.displayName||"Gebruiker",t);return a(r),r}catch(r){throw console.error("Fout bij aanmaken/updaten profiel:",r),r}},refreshUserProfile:async()=>{if(!n)throw new Error("Kan profiel niet verversen: gebruiker niet ingelogd");try{return void await h(n.uid)}catch(e){throw console.error("Fout bij verversen gebruikersprofiel:",e),e}}};return(0,qv.jsx)(Wv.Provider,{value:m,children:!o&&t})},Qv=(0,i.createContext)(void 0),Jv=()=>{const e=(0,i.useContext)(Qv);if(void 0===e)throw new Error("useMessages moet binnen een MessageProvider gebruikt worden");return e},Yv=e=>{let{children:t}=e;const{currentUser:n}=Gv(),[r,s]=(0,i.useState)([]),[a,o]=(0,i.useState)(null),[l,c]=(0,i.useState)([]),[u,d]=(0,i.useState)(!0),[h,m]=(0,i.useState)(!1),[f,p]=(0,i.useState)(null);(0,i.useEffect)((()=>{if(!n)return s([]),o(null),c([]),void d(!1);d(!0),p(null);const e=qf(wf(Pm(Uv,"chats"),Nf("participants","array-contains",n.uid),Ef("lastMessageTimestamp","desc")),(async e=>{try{const t=e.docs.map((async e=>{var t,r;const i=e.data(),s=i.participants.find((e=>e!==n.uid));if(!s)return console.error("Geen andere gebruiker gevonden in chat",i.id),null;const a=Om(Uv,"users",s),o=await Uf(a);if(!o.exists())return console.error("Gebruiker niet gevonden",s),null;const l=o.data();let c=0;return"number"===typeof i.unreadCount?c=i.unreadCount:"object"===typeof i.unreadCount&&null!==i.unreadCount&&(c=i.unreadCount[n.uid]||0),{...i,id:e.id,otherUser:{id:s,displayName:l.displayName||l.name||"Onbekende gebruiker",photoURL:l.photoURL||l.profileImage||l.profilePhoto||(null===(t=l.profile)||void 0===t?void 0:t.profilePhoto)||(null===(r=l.profile)||void 0===r?void 0:r.profileImage)||"",role:l.role||l.userType||""},unreadCount:c}})),r=(await Promise.all(t)).filter((e=>null!==e));s(r),d(!1)}catch(t){console.error("Fout bij het ophalen van chats:",t),p("Kon chats niet laden. Probeer het later opnieuw."),d(!1)}}),(e=>{console.error("Fout bij chat subscription:",e),p("Kon chats niet laden. Probeer het later opnieuw."),d(!1)}));return()=>e()}),[n]),(0,i.useEffect)((()=>{if(!a)return void c([]);m(!0);const e=qf(wf(Pm(Uv,"chats",a.id,"messages"),Ef("timestamp","asc")),(e=>{const t=e.docs.map((e=>({...e.data(),id:e.id})));c(t),m(!1)}),(e=>{console.error("Fout bij messages subscription:",e),p("Kon berichten niet laden. Probeer het later opnieuw."),m(!1)}));return()=>e()}),[a]);const g=async e=>{if(n)try{const t=await Uf(Om(Uv,"chats",e));if(!t.exists())return;"number"===typeof t.data().unreadCount?await $f(Om(Uv,"chats",e),{unreadCount:0}):await $f(Om(Uv,"chats",e),{[`unreadCount.${n.uid}`]:0});const r=wf(Pm(Uv,"chats",e,"messages"),Nf("senderId","!=",n.uid),Nf("read","==",!1)),i=await zf(r),s=new Array;i.docs.forEach((e=>{s.push($f(e.ref,{read:!0}))})),await Promise.all(s)}catch(t){console.error("Fout bij het markeren van berichten als gelezen:",t)}},v={chats:r,activeChat:a,messages:l,loadingChats:u,loadingMessages:h,error:f,sendMessage:async(e,t)=>{if(!n)throw new Error("Je moet ingelogd zijn om berichten te sturen");try{const r={senderId:n.uid,text:t,timestamp:Ha.now(),read:!1};await Hf(Pm(Uv,"chats",e,"messages"),r);const i=await Uf(Om(Uv,"chats",e));if(!i.exists())throw new Error("Chat niet gevonden");const s=i.data(),a=s.participants.find((e=>e!==n.uid));if(!a)throw new Error("Kon andere gebruiker in de chat niet vinden");const o={lastMessage:t,lastMessageTimestamp:Ha.now(),updatedAt:Ha.now()};"number"===typeof s.unreadCount?o.unreadCount={[n.uid]:0,[a]:(s.unreadCount||0)+1}:o[`unreadCount.${a}`]=(s.unreadCount[a]||0)+1,await $f(Om(Uv,"chats",e),o)}catch(r){throw console.error("Fout bij het verzenden van bericht:",r),new Error("Kon bericht niet verzenden. Probeer het later opnieuw.")}},createNewChat:async e=>{if(!n)throw new Error("Je moet ingelogd zijn om een chat te starten");try{const t=wf(Pm(Uv,"chats"),Nf("participants","array-contains",n.uid)),r=(await zf(t)).docs.find((t=>t.data().participants.includes(e)));if(r)return r.id;return(await Hf(Pm(Uv,"chats"),{participants:[n.uid,e],lastMessage:"",lastMessageTimestamp:Ha.now(),createdAt:Ha.now(),updatedAt:Ha.now(),unreadCount:{[n.uid]:0,[e]:0}})).id}catch(t){throw console.error("Fout bij het aanmaken van een nieuwe chat:",t),new Error("Kon geen nieuwe chat starten. Probeer het later opnieuw.")}},setActiveChatById:async e=>{try{const t=r.find((t=>t.id===e));if(t)o(t),await g(e);else{if(!(await Uf(Om(Uv,"chats",e))).exists())throw new Error("Chat bestaat niet");p("Chat kon niet worden gevonden.")}}catch(t){console.error("Fout bij het instellen van actieve chat:",t),p("Kon de chat niet openen. Probeer het later opnieuw.")}},markChatAsRead:g,getUnreadCount:()=>n?r.reduce(((e,t)=>{let r=0;return"number"===typeof t.unreadCount?r=t.unreadCount:"object"===typeof t.unreadCount&&null!==t.unreadCount&&(r=t.unreadCount[n.uid]||0),e+r}),0):0};return(0,qv.jsx)(Qv.Provider,{value:v,children:t})},Xv=(0,i.createContext)(void 0),Zv=()=>{const e=(0,i.useContext)(Xv);if(void 0===e)throw new Error("useFavorites moet binnen een FavoritesProvider gebruikt worden");return e},ey=e=>{let{children:t}=e;const[n,r]=(0,i.useState)([]),[s,a]=(0,i.useState)(!1),[o,l]=(0,i.useState)(null),{currentUser:c,userProfile:u}=Gv(),d=async()=>{if(c){a(!0),l(null);try{const e=wf(Pm(Uv,"favorites"),Nf("userId","==",c.uid)),t=await zf(e),n=[];t.forEach((e=>{var t;const r=e.data();n.push({id:e.id,jobId:r.jobId,userId:r.userId,createdAt:(null===(t=r.createdAt)||void 0===t?void 0:t.toDate())||new Date,job:r.job||void 0})})),console.log(`${n.length} favorieten geladen voor gebruiker ${c.uid}`),r(n)}catch(e){console.error("Fout bij ophalen favorieten:",e),l(e instanceof Error?e:new Error("Onbekende fout bij ophalen favorieten"))}finally{a(!1)}}else r([])};(0,i.useEffect)((()=>{c?(console.log("Gebruiker aangemeld, favorieten ophalen..."),d()):(console.log("Geen gebruiker, favorieten leegmaken"),r([]))}),[c]);const h={favorites:n,loading:s,error:o,addFavorite:async(e,t)=>{if(!c)throw new Error("Je moet ingelogd zijn om een vacature als favoriet te markeren");a(!0),l(null);try{const n=`${c.uid}_${e}`,i=Om(Uv,"favorites",n),s={jobId:e,userId:c.uid,createdAt:new Date,job:{id:e,title:t.title||"Onbekende functie",company:t.company||"Onbekend bedrijf",location:t.location||"Locatie onbekend",salary:t.salary}},a={id:n,...s};r((t=>t.some((t=>t.jobId===e))?t:[...t,a])),await Bf(i,s),console.log(`Favoriet toegevoegd met ID: ${n}`)}catch(n){throw console.error("Fout bij toevoegen favoriet:",n),l(n instanceof Error?n:new Error("Onbekende fout bij toevoegen favoriet")),d(),n}finally{a(!1)}},removeFavorite:async e=>{if(!c)throw new Error("Je moet ingelogd zijn om een favoriet te verwijderen");a(!0),l(null);try{const n=`${c.uid}_${e}`,i=Om(Uv,"favorites",n);r((t=>t.filter((t=>t.jobId!==e)))),await(t=i,Wf(Sm(t.firestore,Mm),[new Mc(t._key,_c.none())])),console.log(`Favoriet verwijderd met ID: ${n}`)}catch(n){throw console.error("Fout bij verwijderen favoriet:",n),l(n instanceof Error?n:new Error("Onbekende fout bij verwijderen favoriet")),d(),n}finally{a(!1)}var t},isFavorite:e=>n.some((t=>t.jobId===e)),refreshFavorites:async()=>{await d()}};return(0,qv.jsx)(Xv.Provider,{value:h,children:t})};var ty=e=>"checkbox"===e.type,ny=e=>e instanceof Date,ry=e=>null==e;const iy=e=>"object"===typeof e;var sy=e=>!ry(e)&&!Array.isArray(e)&&iy(e)&&!ny(e),ay=e=>sy(e)&&e.target?ty(e.target)?e.target.checked:e.target.value:e,oy=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),ly="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function cy(e){let t;const n=Array.isArray(e),r="undefined"!==typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else{if(ly&&(e instanceof Blob||r)||!n&&!sy(e))return e;if(t=n?[]:{},n||(e=>{const t=e.constructor&&e.constructor.prototype;return sy(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=cy(e[n]));else t=e}return t}var uy=e=>Array.isArray(e)?e.filter(Boolean):[],dy=e=>void 0===e,hy=(e,t,n)=>{if(!t||!sy(e))return n;const r=uy(t.split(/[,[\].]+?/)).reduce(((e,t)=>ry(e)?e:e[t]),e);return dy(r)||r===e?dy(e[t])?n:e[t]:r},my=e=>"boolean"===typeof e,fy=e=>/^\w*$/.test(e),py=e=>uy(e.replace(/["|']|\]/g,"").split(/\.|\[/)),gy=(e,t,n)=>{let r=-1;const i=fy(t)?[t]:py(t),s=i.length,a=s-1;for(;++r<s;){const t=i[r];let s=n;if(r!==a){const n=e[t];s=sy(n)||Array.isArray(n)?n:isNaN(+i[r+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=s,e=e[t]}};const vy="blur",yy="focusout",by="change",xy="onBlur",wy="onChange",jy="onSubmit",Ny="onTouched",ky="all",_y="max",Ey="min",Sy="maxLength",Cy="minLength",Ty="pattern",Iy="required",Ay="validate",Dy=i.createContext(null),Ry=()=>i.useContext(Dy);var Py=function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const i=s;return t._proxyFormState[i]!==ky&&(t._proxyFormState[i]=!r||ky),n&&(n[i]=!0),e[i]}});return i};var Oy=e=>"string"===typeof e,Ly=(e,t,n,r,i)=>Oy(e)?(r&&t.watch.add(e),hy(n,e,i)):Array.isArray(e)?e.map((e=>(r&&t.watch.add(e),hy(n,e)))):(r&&(t.watchAll=!0),n);function Fy(e){const t=Ry(),{name:n,disabled:r,control:s=t.control,shouldUnregister:a}=e,o=oy(s._names.array,n),l=function(e){const t=Ry(),{control:n=t.control,name:r,defaultValue:s,disabled:a,exact:o}=e||{},l=i.useRef(r),c=i.useRef(s);l.current=r,i.useEffect((()=>n._subscribe({name:l.current,formState:{values:!0},exact:o,callback:e=>!a&&d(Ly(l.current,n._names,e.values||n._formValues,!1,c.current))})),[n,a,o]);const[u,d]=i.useState(n._getWatch(r,s));return i.useEffect((()=>n._removeUnmounted())),u}({control:s,name:n,defaultValue:hy(s._formValues,n,hy(s._defaultValues,n,e.defaultValue)),exact:!0}),c=function(e){const t=Ry(),{control:n=t.control,disabled:r,name:s,exact:a}=e||{},[o,l]=i.useState(n._formState),c=i.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),u=i.useRef(s);return u.current=s,i.useEffect((()=>n._subscribe({name:u.current,formState:c.current,exact:a,callback:e=>{!r&&l({...n._formState,...e})}})),[n,r,a]),i.useEffect((()=>{c.current.isValid&&n._setValid(!0)}),[n]),i.useMemo((()=>Py(o,n,c.current,!1)),[o,n])}({control:s,name:n,exact:!0}),u=i.useRef(e),d=i.useRef(s.register(n,{...e.rules,value:l,...my(e.disabled)?{disabled:e.disabled}:{}})),h=i.useMemo((()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!hy(c.errors,n)},isDirty:{enumerable:!0,get:()=>!!hy(c.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!hy(c.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!hy(c.validatingFields,n)},error:{enumerable:!0,get:()=>hy(c.errors,n)}})),[c,n]),m=i.useCallback((e=>d.current.onChange({target:{value:ay(e),name:n},type:by})),[n]),f=i.useCallback((()=>d.current.onBlur({target:{value:hy(s._formValues,n),name:n},type:vy})),[n,s._formValues]),p=i.useCallback((e=>{const t=hy(s._fields,n);t&&e&&(t._f.ref={focus:()=>e.focus(),select:()=>e.select(),setCustomValidity:t=>e.setCustomValidity(t),reportValidity:()=>e.reportValidity()})}),[s._fields,n]),g=i.useMemo((()=>({name:n,value:l,...my(r)||c.disabled?{disabled:c.disabled||r}:{},onChange:m,onBlur:f,ref:p})),[n,r,c.disabled,m,f,p,l]);return i.useEffect((()=>{const e=s._options.shouldUnregister||a;s.register(n,{...u.current.rules,...my(u.current.disabled)?{disabled:u.current.disabled}:{}});const t=(e,t)=>{const n=hy(s._fields,e);n&&n._f&&(n._f.mount=t)};if(t(n,!0),e){const e=cy(hy(s._options.defaultValues,n));gy(s._defaultValues,n,e),dy(hy(s._formValues,n))&&gy(s._formValues,n,e)}return!o&&s.register(n),()=>{(o?e&&!s._state.action:e)?s.unregister(n):t(n,!1)}}),[n,s,o,a]),i.useEffect((()=>{s._setDisabledField({disabled:r,name:n})}),[r,n,s]),i.useMemo((()=>({field:g,formState:c,fieldState:h})),[g,c,h])}const My=e=>e.render(Fy(e));var Uy=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},Vy=e=>Array.isArray(e)?e:[e],zy=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter((e=>e!==t))}}),unsubscribe:()=>{e=[]}}},By=e=>ry(e)||!iy(e);function $y(e,t){if(By(e)||By(t))return e===t;if(ny(e)&&ny(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const n=e[i];if(!r.includes(i))return!1;if("ref"!==i){const e=t[i];if(ny(n)&&ny(e)||sy(n)&&sy(e)||Array.isArray(n)&&Array.isArray(e)?!$y(n,e):n!==e)return!1}}return!0}var Hy=e=>sy(e)&&!Object.keys(e).length,qy=e=>"file"===e.type,Wy=e=>"function"===typeof e,Gy=e=>{if(!ly)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},Ky=e=>"select-multiple"===e.type,Qy=e=>"radio"===e.type,Jy=e=>Gy(e)&&e.isConnected;function Yy(e,t){const n=Array.isArray(t)?t:fy(t)?[t]:py(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=dy(e)?r++:e[t[r++]];return e}(e,n),i=n.length-1,s=n[i];return r&&delete r[s],0!==i&&(sy(r)&&Hy(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!dy(e[t]))return!1;return!0}(r))&&Yy(e,n.slice(0,-1)),e}var Xy=e=>{for(const t in e)if(Wy(e[t]))return!0;return!1};function Zy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Array.isArray(e);if(sy(e)||n)for(const r in e)Array.isArray(e[r])||sy(e[r])&&!Xy(e[r])?(t[r]=Array.isArray(e[r])?[]:{},Zy(e[r],t[r])):ry(e[r])||(t[r]=!0);return t}function eb(e,t,n){const r=Array.isArray(e);if(sy(e)||r)for(const i in e)Array.isArray(e[i])||sy(e[i])&&!Xy(e[i])?dy(t)||By(n[i])?n[i]=Array.isArray(e[i])?Zy(e[i],[]):{...Zy(e[i])}:eb(e[i],ry(t)?{}:t[i],n[i]):n[i]=!$y(e[i],t[i]);return n}var tb=(e,t)=>eb(e,t,Zy(t));const nb={value:!1,isValid:!1},rb={value:!0,isValid:!0};var ib=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter((e=>e&&e.checked&&!e.disabled)).map((e=>e.value));return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!dy(e[0].attributes.value)?dy(e[0].value)||""===e[0].value?rb:{value:e[0].value,isValid:!0}:rb:nb}return nb},sb=(e,t)=>{let{valueAsNumber:n,valueAsDate:r,setValueAs:i}=t;return dy(e)?e:n?""===e?NaN:e?+e:e:r&&Oy(e)?new Date(e):i?i(e):e};const ab={isValid:!1,value:null};var ob=e=>Array.isArray(e)?e.reduce(((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e),ab):ab;function lb(e){const t=e.ref;return qy(t)?t.files:Qy(t)?ob(e.refs).value:Ky(t)?[...t.selectedOptions].map((e=>{let{value:t}=e;return t})):ty(t)?ib(e.refs).value:sb(dy(t.value)?e.ref.value:t.value,e)}var cb=e=>e instanceof RegExp,ub=e=>dy(e)?e:cb(e)?e.source:sy(e)?cb(e.value)?e.value.source:e.value:e,db=e=>({isOnSubmit:!e||e===jy,isOnBlur:e===xy,isOnChange:e===wy,isOnAll:e===ky,isOnTouch:e===Ny});const hb="AsyncFunction";var mb=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some((t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length)))));const fb=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const n=hy(e,i);if(n){const{_f:e,...s}=n;if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],i)&&!r)return!0;if(e.ref&&t(e.ref,e.name)&&!r)return!0;if(fb(s,t))break}else if(sy(s)&&fb(s,t))break}}};function pb(e,t,n){const r=hy(e,n);if(r||fy(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const r=i.join("."),s=hy(t,r),a=hy(e,r);if(s&&!Array.isArray(s)&&n!==r)return{name:n};if(a&&a.type)return{name:r,error:a};i.pop()}return{name:n}}var gb=(e,t,n)=>{const r=Vy(hy(e,n));return gy(r,"root",t[n]),gy(e,n,r),e},vb=e=>Oy(e);function yb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(vb(e)||Array.isArray(e)&&e.every(vb)||my(e)&&!e)return{type:n,message:vb(e)?e:"",ref:t}}var bb=e=>sy(e)&&!cb(e)?e:{value:e,message:""},xb=async(e,t,n,r,i,s)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:u,min:d,max:h,pattern:m,validate:f,name:p,valueAsNumber:g,mount:v}=e._f,y=hy(n,p);if(!v||t.has(p))return{};const b=o?o[0]:a,x=e=>{i&&b.reportValidity&&(b.setCustomValidity(my(e)?"":e||""),b.reportValidity())},w={},j=Qy(a),N=ty(a),k=j||N,_=(g||qy(a))&&dy(a.value)&&dy(y)||Gy(a)&&""===a.value||""===y||Array.isArray(y)&&!y.length,E=Uy.bind(null,p,r,w),S=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Sy,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Cy;const s=e?t:n;w[p]={type:e?r:i,message:s,ref:a,...E(e?r:i,s)}};if(s?!Array.isArray(y)||!y.length:l&&(!k&&(_||ry(y))||my(y)&&!y||N&&!ib(o).isValid||j&&!ob(o).isValid)){const{value:e,message:t}=vb(l)?{value:!!l,message:l}:bb(l);if(e&&(w[p]={type:Iy,message:t,ref:b,...E(Iy,t)},!r))return x(t),w}if(!_&&(!ry(d)||!ry(h))){let e,t;const n=bb(h),i=bb(d);if(ry(y)||isNaN(y)){const r=a.valueAsDate||new Date(y),s=e=>new Date((new Date).toDateString()+" "+e),o="time"==a.type,l="week"==a.type;Oy(n.value)&&y&&(e=o?s(y)>s(n.value):l?y>n.value:r>new Date(n.value)),Oy(i.value)&&y&&(t=o?s(y)<s(i.value):l?y<i.value:r<new Date(i.value))}else{const r=a.valueAsNumber||(y?+y:y);ry(n.value)||(e=r>n.value),ry(i.value)||(t=r<i.value)}if((e||t)&&(S(!!e,n.message,i.message,_y,Ey),!r))return x(w[p].message),w}if((c||u)&&!_&&(Oy(y)||s&&Array.isArray(y))){const e=bb(c),t=bb(u),n=!ry(e.value)&&y.length>+e.value,i=!ry(t.value)&&y.length<+t.value;if((n||i)&&(S(n,e.message,t.message),!r))return x(w[p].message),w}if(m&&!_&&Oy(y)){const{value:e,message:t}=bb(m);if(cb(e)&&!y.match(e)&&(w[p]={type:Ty,message:t,ref:a,...E(Ty,t)},!r))return x(t),w}if(f)if(Wy(f)){const e=yb(await f(y,n),b);if(e&&(w[p]={...e,...E(Ay,e.message)},!r))return x(e.message),w}else if(sy(f)){let e={};for(const t in f){if(!Hy(e)&&!r)break;const i=yb(await f[t](y,n),b,t);i&&(e={...i,...E(t,i.message)},x(i.message),r&&(w[p]=e))}if(!Hy(e)&&(w[p]={ref:b,...e},!r))return w}return x(!0),w};const wb={mode:jy,reValidateMode:wy,shouldFocusError:!0};function jb(){let e={...wb,...arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}},t={submitCount:0,isDirty:!1,isLoading:Wy(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const n={};let r,i=(sy(e.defaultValues)||sy(e.values))&&cy(e.values||e.defaultValues)||{},s=e.shouldUnregister?{}:cy(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let u={...c};const d={array:zy(),state:zy()},h=db(e.mode),m=db(e.reValidateMode),f=e.criteriaMode===ky,p=async r=>{if(!e.disabled&&(c.isValid||u.isValid||r)){const r=e.resolver?Hy((await x()).errors):await w(n,!0);r!==t.isValid&&d.state.next({isValid:r})}},g=(n,r)=>{!e.disabled&&(c.isValidating||c.validatingFields||u.isValidating||u.validatingFields)&&((n||Array.from(o.mount)).forEach((e=>{e&&(r?gy(t.validatingFields,e,r):Yy(t.validatingFields,e))})),d.state.next({validatingFields:t.validatingFields,isValidating:!Hy(t.validatingFields)}))},v=(e,t,r,o)=>{const l=hy(n,e);if(l){const n=hy(s,e,dy(r)?hy(i,e):r);dy(n)||o&&o.defaultChecked||t?gy(s,e,t?n:lb(l._f)):k(e,n),a.mount&&p()}},y=(n,r,s,a,o)=>{let l=!1,h=!1;const m={name:n};if(!e.disabled){if(!s||a){(c.isDirty||u.isDirty)&&(h=t.isDirty,t.isDirty=m.isDirty=j(),l=h!==m.isDirty);const e=$y(hy(i,n),r);h=!!hy(t.dirtyFields,n),e?Yy(t.dirtyFields,n):gy(t.dirtyFields,n,!0),m.dirtyFields=t.dirtyFields,l=l||(c.dirtyFields||u.dirtyFields)&&h!==!e}if(s){const e=hy(t.touchedFields,n);e||(gy(t.touchedFields,n,s),m.touchedFields=t.touchedFields,l=l||(c.touchedFields||u.touchedFields)&&e!==s)}l&&o&&d.state.next(m)}return l?m:{}},b=(n,i,s,a)=>{const o=hy(t.errors,n),h=(c.isValid||u.isValid)&&my(i)&&t.isValid!==i;if(e.delayError&&s?(r=(e=>t=>{clearTimeout(l),l=setTimeout(e,t)})((()=>((e,n)=>{gy(t.errors,e,n),d.state.next({errors:t.errors})})(n,s))),r(e.delayError)):(clearTimeout(l),r=null,s?gy(t.errors,n,s):Yy(t.errors,n)),(s?!$y(o,s):o)||!Hy(a)||h){const e={...a,...h&&my(i)?{isValid:i}:{},errors:t.errors,name:n};t={...t,...e},d.state.next(e)}},x=async t=>{g(t,!0);const r=await e.resolver(s,e.context,((e,t,n,r)=>{const i={};for(const s of e){const e=hy(t,s);e&&gy(i,s,e._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}})(t||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation));return g(t),r},w=async function(n,r){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const l in n){const u=n[l];if(u){const{_f:n,...d}=u;if(n){const d=o.array.has(n.name),h=u._f&&(!!(a=u._f)&&!!a.validate&&!!(Wy(a.validate)&&a.validate.constructor.name===hb||sy(a.validate)&&Object.values(a.validate).find((e=>e.constructor.name===hb))));h&&c.validatingFields&&g([l],!0);const m=await xb(u,o.disabled,s,f,e.shouldUseNativeValidation&&!r,d);if(h&&c.validatingFields&&g([l]),m[n.name]&&(i.valid=!1,r))break;!r&&(hy(m,n.name)?d?gb(t.errors,m,n.name):gy(t.errors,n.name,m[n.name]):Yy(t.errors,n.name))}!Hy(d)&&await w(d,r,i)}}var a;return i.valid},j=(t,n)=>!e.disabled&&(t&&n&&gy(s,t,n),!$y(I(),i)),N=(e,t,n)=>Ly(e,o,{...a.mount?s:dy(t)?i:Oy(e)?{[e]:t}:t},n,t),k=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=hy(n,e);let a=t;if(i){const n=i._f;n&&(!n.disabled&&gy(s,e,sb(t,n)),a=Gy(n.ref)&&ry(t)?"":t,Ky(n.ref)?[...n.ref.options].forEach((e=>e.selected=a.includes(e.value))):n.refs?ty(n.ref)?n.refs.length>1?n.refs.forEach((e=>(!e.defaultChecked||!e.disabled)&&(e.checked=Array.isArray(a)?!!a.find((t=>t===e.value)):a===e.value))):n.refs[0]&&(n.refs[0].checked=!!a):n.refs.forEach((e=>e.checked=e.value===a)):qy(n.ref)?n.ref.value="":(n.ref.value=a,n.ref.type||d.state.next({name:e,values:cy(s)})))}(r.shouldDirty||r.shouldTouch)&&y(e,a,r.shouldTouch,r.shouldDirty,!0),r.shouldValidate&&T(e)},_=(e,t,r)=>{for(const i in t){const s=t[i],a=`${e}.${i}`,l=hy(n,a);(o.array.has(e)||sy(s)||l&&!l._f)&&!ny(s)?_(a,s,r):k(a,s,r)}},E=function(e,r){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const h=hy(n,e),m=o.array.has(e),f=cy(r);gy(s,e,f),m?(d.array.next({name:e,values:cy(s)}),(c.isDirty||c.dirtyFields||u.isDirty||u.dirtyFields)&&l.shouldDirty&&d.state.next({name:e,dirtyFields:tb(i,s),isDirty:j(e,f)})):!h||h._f||ry(f)?k(e,f,l):_(e,f,l),mb(e,o)&&d.state.next({...t}),d.state.next({name:a.mount?e:void 0,values:cy(s)})},S=async i=>{a.mount=!0;const l=i.target;let v=l.name,j=!0;const N=hy(n,v),k=e=>{j=Number.isNaN(e)||ny(e)&&isNaN(e.getTime())||$y(e,hy(s,v,e))};if(N){let a,E;const S=l.type?lb(N._f):ay(i),C=i.type===vy||i.type===yy,I=!((_=N._f).mount&&(_.required||_.min||_.max||_.maxLength||_.minLength||_.pattern||_.validate))&&!e.resolver&&!hy(t.errors,v)&&!N._f.deps||((e,t,n,r,i)=>!i.isOnAll&&(!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:!(n?r.isOnChange:i.isOnChange)||e))(C,hy(t.touchedFields,v),t.isSubmitted,m,h),A=mb(v,o,C);gy(s,v,S),C?(N._f.onBlur&&N._f.onBlur(i),r&&r(0)):N._f.onChange&&N._f.onChange(i);const D=y(v,S,C),R=!Hy(D)||A;if(!C&&d.state.next({name:v,type:i.type,values:cy(s)}),I)return(c.isValid||u.isValid)&&("onBlur"===e.mode?C&&p():C||p()),R&&d.state.next({name:v,...A?{}:D});if(!C&&A&&d.state.next({...t}),e.resolver){const{errors:e}=await x([v]);if(k(S),j){const r=pb(t.errors,n,v),i=pb(e,n,r.name||v);a=i.error,v=i.name,E=Hy(e)}}else g([v],!0),a=(await xb(N,o.disabled,s,f,e.shouldUseNativeValidation))[v],g([v]),k(S),j&&(a?E=!1:(c.isValid||u.isValid)&&(E=await w(n,!0)));j&&(N._f.deps&&T(N._f.deps),b(v,E,a,D))}var _},C=(e,n)=>{if(hy(t.errors,n)&&e.focus)return e.focus(),1},T=async function(r){let i,s,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const l=Vy(r);if(e.resolver){const e=await(async e=>{const{errors:n}=await x(e);if(e)for(const r of e){const e=hy(n,r);e?gy(t.errors,r,e):Yy(t.errors,r)}else t.errors=n;return n})(dy(r)?r:l);i=Hy(e),s=r?!l.some((t=>hy(e,t))):i}else r?(s=(await Promise.all(l.map((async e=>{const t=hy(n,e);return await w(t&&t._f?{[e]:t}:t)})))).every(Boolean),(s||t.isValid)&&p()):s=i=await w(n);return d.state.next({...!Oy(r)||(c.isValid||u.isValid)&&i!==t.isValid?{}:{name:r},...e.resolver||!r?{isValid:i}:{},errors:t.errors}),a.shouldFocus&&!s&&fb(n,C,r?l:o.mount),s},I=e=>{const t={...a.mount?s:i};return dy(e)?t:Oy(e)?hy(t,e):e.map((e=>hy(t,e)))},A=(e,n)=>({invalid:!!hy((n||t).errors,e),isDirty:!!hy((n||t).dirtyFields,e),error:hy((n||t).errors,e),isValidating:!!hy(t.validatingFields,e),isTouched:!!hy((n||t).touchedFields,e)}),D=(e,r,i)=>{const s=(hy(n,e,{_f:{}})._f||{}).ref,a=hy(t.errors,e)||{},{ref:o,message:l,type:c,...u}=a;gy(t.errors,e,{...u,...r,ref:s}),d.state.next({name:e,errors:t.errors,isValid:!1}),i&&i.shouldFocus&&s&&s.focus&&s.focus()},R=e=>d.state.subscribe({next:n=>{var r,i,a;r=e.name,i=n.name,a=e.exact,r&&i&&r!==i&&!Vy(r).some((e=>e&&(a?e===i:e.startsWith(i)||i.startsWith(e))))||!((e,t,n,r)=>{n(e);const{name:i,...s}=e;return Hy(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find((e=>t[e]===(!r||ky)))})(n,e.formState||c,z,e.reRenderRoot)||e.callback({values:{...s},...t,...n})}}).unsubscribe,P=function(r){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const l of r?Vy(r):o.mount)o.mount.delete(l),o.array.delete(l),a.keepValue||(Yy(n,l),Yy(s,l)),!a.keepError&&Yy(t.errors,l),!a.keepDirty&&Yy(t.dirtyFields,l),!a.keepTouched&&Yy(t.touchedFields,l),!a.keepIsValidating&&Yy(t.validatingFields,l),!e.shouldUnregister&&!a.keepDefaultValue&&Yy(i,l);d.state.next({values:cy(s)}),d.state.next({...t,...a.keepDirty?{isDirty:j()}:{}}),!a.keepIsValid&&p()},O=e=>{let{disabled:t,name:n}=e;(my(t)&&a.mount||t||o.disabled.has(n))&&(t?o.disabled.add(n):o.disabled.delete(n))},L=function(t){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=hy(n,t);const l=my(r.disabled)||my(e.disabled);return gy(n,t,{...s||{},_f:{...s&&s._f?s._f:{ref:{name:t}},name:t,mount:!0,...r}}),o.mount.add(t),s?O({disabled:my(r.disabled)?r.disabled:e.disabled,name:t}):v(t,!0,r.value),{...l?{disabled:r.disabled||e.disabled}:{},...e.progressive?{required:!!r.required,min:ub(r.min),max:ub(r.max),minLength:ub(r.minLength),maxLength:ub(r.maxLength),pattern:ub(r.pattern)}:{},name:t,onChange:S,onBlur:S,ref:l=>{if(l){L(t,r),s=hy(n,t);const e=dy(l.value)&&l.querySelectorAll&&l.querySelectorAll("input,select,textarea")[0]||l,a=(e=>Qy(e)||ty(e))(e),o=s._f.refs||[];if(a?o.find((t=>t===e)):e===s._f.ref)return;gy(n,t,{_f:{...s._f,...a?{refs:[...o.filter(Jy),e,...Array.isArray(hy(i,t))?[{}]:[]],ref:{type:e.type,name:t}}:{ref:e}}}),v(t,!1,void 0,e)}else s=hy(n,t,{}),s._f&&(s._f.mount=!1),(e.shouldUnregister||r.shouldUnregister)&&(!oy(o.array,t)||!a.action)&&o.unMount.add(t)}}},F=()=>e.shouldFocusError&&fb(n,C,o.mount),M=(r,i)=>async a=>{let l;a&&(a.preventDefault&&a.preventDefault(),a.persist&&a.persist());let c=cy(s);if(d.state.next({isSubmitting:!0}),e.resolver){const{errors:e,values:n}=await x();t.errors=e,c=n}else await w(n);if(o.disabled.size)for(const e of o.disabled)gy(c,e,void 0);if(Yy(t.errors,"root"),Hy(t.errors)){d.state.next({errors:{}});try{await r(c,a)}catch(u){l=u}}else i&&await i({...t.errors},a),F(),setTimeout(F);if(d.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Hy(t.errors)&&!l,submitCount:t.submitCount+1,errors:t.errors}),l)throw l},U=function(r){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const u=r?cy(r):i,h=cy(u),m=Hy(r),f=m?i:h;if(l.keepDefaultValues||(i=u),!l.keepValues){if(l.keepDirtyValues){const e=new Set([...o.mount,...Object.keys(tb(i,s))]);for(const n of Array.from(e))hy(t.dirtyFields,n)?gy(f,n,hy(s,n)):E(n,hy(f,n))}else{if(ly&&dy(r))for(const e of o.mount){const t=hy(n,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(Gy(e)){const t=e.closest("form");if(t){t.reset();break}}}}for(const e of o.mount)E(e,hy(f,e))}s=cy(f),d.array.next({values:{...f}}),d.state.next({values:{...f}})}o={mount:l.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!c.isValid||!!l.keepIsValid||!!l.keepDirtyValues,a.watch=!!e.shouldUnregister,d.state.next({submitCount:l.keepSubmitCount?t.submitCount:0,isDirty:!m&&(l.keepDirty?t.isDirty:!(!l.keepDefaultValues||$y(r,i))),isSubmitted:!!l.keepIsSubmitted&&t.isSubmitted,dirtyFields:m?{}:l.keepDirtyValues?l.keepDefaultValues&&s?tb(i,s):t.dirtyFields:l.keepDefaultValues&&r?tb(i,r):l.keepDirty?t.dirtyFields:{},touchedFields:l.keepTouched?t.touchedFields:{},errors:l.keepErrors?t.errors:{},isSubmitSuccessful:!!l.keepIsSubmitSuccessful&&t.isSubmitSuccessful,isSubmitting:!1})},V=(e,t)=>U(Wy(e)?e(s):e,t),z=e=>{t={...t,...e}},B={control:{register:L,unregister:P,getFieldState:A,handleSubmit:M,setError:D,_subscribe:R,_runSchema:x,_getWatch:N,_getDirty:j,_setValid:p,_setFieldArray:function(r){let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],l=arguments.length>2?arguments[2]:void 0,h=arguments.length>3?arguments[3]:void 0,m=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],f=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(h&&l&&!e.disabled){if(a.action=!0,f&&Array.isArray(hy(n,r))){const e=l(hy(n,r),h.argA,h.argB);m&&gy(n,r,e)}if(f&&Array.isArray(hy(t.errors,r))){const e=l(hy(t.errors,r),h.argA,h.argB);m&&gy(t.errors,r,e),((e,t)=>{!uy(hy(e,t)).length&&Yy(e,t)})(t.errors,r)}if((c.touchedFields||u.touchedFields)&&f&&Array.isArray(hy(t.touchedFields,r))){const e=l(hy(t.touchedFields,r),h.argA,h.argB);m&&gy(t.touchedFields,r,e)}(c.dirtyFields||u.dirtyFields)&&(t.dirtyFields=tb(i,s)),d.state.next({name:r,isDirty:j(r,o),dirtyFields:t.dirtyFields,errors:t.errors,isValid:t.isValid})}else gy(s,r,o)},_setDisabledField:O,_setErrors:e=>{t.errors=e,d.state.next({errors:t.errors,isValid:!1})},_getFieldArray:t=>uy(hy(a.mount?s:i,t,e.shouldUnregister?hy(i,t,[]):[])),_reset:U,_resetDefaultValues:()=>Wy(e.defaultValues)&&e.defaultValues().then((t=>{V(t,e.resetOptions),d.state.next({isLoading:!1})})),_removeUnmounted:()=>{for(const e of o.unMount){const t=hy(n,e);t&&(t._f.refs?t._f.refs.every((e=>!Jy(e))):!Jy(t._f.ref))&&P(e)}o.unMount=new Set},_disableForm:e=>{my(e)&&(d.state.next({disabled:e}),fb(n,((t,r)=>{const i=hy(n,r);i&&(t.disabled=i._f.disabled||e,Array.isArray(i._f.refs)&&i._f.refs.forEach((t=>{t.disabled=i._f.disabled||e})))}),0,!1))},_subjects:d,_proxyFormState:c,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state(e){a=e},get _defaultValues(){return i},get _names(){return o},set _names(e){o=e},get _formState(){return t},get _options(){return e},set _options(t){e={...e,...t}}},subscribe:e=>(a.mount=!0,u={...u,...e.formState},R({...e,formState:u})),trigger:T,register:L,handleSubmit:M,watch:(e,t)=>Wy(e)?d.state.subscribe({next:n=>e(N(void 0,t),n)}):N(e,t,!0),setValue:E,getValues:I,reset:V,resetField:function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};hy(n,e)&&(dy(r.defaultValue)?E(e,cy(hy(i,e))):(E(e,r.defaultValue),gy(i,e,cy(r.defaultValue))),r.keepTouched||Yy(t.touchedFields,e),r.keepDirty||(Yy(t.dirtyFields,e),t.isDirty=r.defaultValue?j(e,cy(hy(i,e))):j()),r.keepError||(Yy(t.errors,e),c.isValid&&p()),d.state.next({...t}))},clearErrors:e=>{e&&Vy(e).forEach((e=>Yy(t.errors,e))),d.state.next({errors:e?t.errors:{}})},unregister:P,setError:D,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=hy(n,e),i=r&&r._f;if(i){const e=i.refs?i.refs[0]:i.ref;e.focus&&(e.focus(),t.shouldSelect&&Wy(e.select)&&e.select())}},getFieldState:A};return{...B,formControl:B}}var Nb=()=>{const e="undefined"===typeof performance?Date.now():1e3*performance.now();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(t=>{const n=(16*Math.random()+e)%16|0;return("x"==t?n:3&n|8).toString(16)}))},kb=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.shouldFocus||dy(n.shouldFocus)?n.focusName||`${e}.${dy(n.focusIndex)?t:n.focusIndex}.`:""},_b=(e,t)=>[...e,...Vy(t)],Eb=e=>Array.isArray(e)?e.map((()=>{})):void 0;function Sb(e,t,n){return[...e.slice(0,t),...Vy(n),...e.slice(t)]}var Cb=(e,t,n)=>Array.isArray(e)?(dy(e[n])&&(e[n]=void 0),e.splice(n,0,e.splice(t,1)[0]),e):[],Tb=(e,t)=>[...Vy(t),...Vy(e)];var Ib=(e,t)=>dy(t)?[]:function(e,t){let n=0;const r=[...e];for(const i of t)r.splice(i-n,1),n++;return uy(r).length?r:[]}(e,Vy(t).sort(((e,t)=>e-t))),Ab=(e,t,n)=>{[e[t],e[n]]=[e[n],e[t]]},Db=(e,t,n)=>(e[t]=n,e);function Rb(e){const t=Ry(),{control:n=t.control,name:r,keyName:s="id",shouldUnregister:a,rules:o}=e,[l,c]=i.useState(n._getFieldArray(r)),u=i.useRef(n._getFieldArray(r).map(Nb)),d=i.useRef(l),h=i.useRef(r),m=i.useRef(!1);h.current=r,d.current=l,n._names.array.add(r),o&&n.register(r,o),i.useEffect((()=>n._subjects.array.subscribe({next:e=>{let{values:t,name:n}=e;if(n===h.current||!n){const e=hy(t,h.current);Array.isArray(e)&&(c(e),u.current=e.map(Nb))}}}).unsubscribe),[n]);const f=i.useCallback((e=>{m.current=!0,n._setFieldArray(r,e)}),[n,r]);return i.useEffect((()=>{if(n._state.action=!1,mb(r,n._names)&&n._subjects.state.next({...n._formState}),m.current&&(!db(n._options.mode).isOnSubmit||n._formState.isSubmitted)&&!db(n._options.reValidateMode).isOnSubmit)if(n._options.resolver)n._runSchema([r]).then((e=>{const t=hy(e.errors,r),i=hy(n._formState.errors,r);(i?!t&&i.type||t&&(i.type!==t.type||i.message!==t.message):t&&t.type)&&(t?gy(n._formState.errors,r,t):Yy(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))}));else{const e=hy(n._fields,r);!e||!e._f||db(n._options.reValidateMode).isOnSubmit&&db(n._options.mode).isOnSubmit||xb(e,n._names.disabled,n._formValues,n._options.criteriaMode===ky,n._options.shouldUseNativeValidation,!0).then((e=>!Hy(e)&&n._subjects.state.next({errors:gb(n._formState.errors,e,r)})))}n._subjects.state.next({name:r,values:cy(n._formValues)}),n._names.focus&&fb(n._fields,((e,t)=>{if(n._names.focus&&t.startsWith(n._names.focus)&&e.focus)return e.focus(),1})),n._names.focus="",n._setValid(),m.current=!1}),[l,r,n]),i.useEffect((()=>(!hy(n._formValues,r)&&n._setFieldArray(r),()=>{n._options.shouldUnregister||a?n.unregister(r):((e,t)=>{const r=hy(n._fields,e);r&&r._f&&(r._f.mount=t)})(r,!1)})),[r,n,s,a]),{swap:i.useCallback(((e,t)=>{const i=n._getFieldArray(r);Ab(i,e,t),Ab(u.current,e,t),f(i),c(i),n._setFieldArray(r,i,Ab,{argA:e,argB:t},!1)}),[f,r,n]),move:i.useCallback(((e,t)=>{const i=n._getFieldArray(r);Cb(i,e,t),Cb(u.current,e,t),f(i),c(i),n._setFieldArray(r,i,Cb,{argA:e,argB:t},!1)}),[f,r,n]),prepend:i.useCallback(((e,t)=>{const i=Vy(cy(e)),s=Tb(n._getFieldArray(r),i);n._names.focus=kb(r,0,t),u.current=Tb(u.current,i.map(Nb)),f(s),c(s),n._setFieldArray(r,s,Tb,{argA:Eb(e)})}),[f,r,n]),append:i.useCallback(((e,t)=>{const i=Vy(cy(e)),s=_b(n._getFieldArray(r),i);n._names.focus=kb(r,s.length-1,t),u.current=_b(u.current,i.map(Nb)),f(s),c(s),n._setFieldArray(r,s,_b,{argA:Eb(e)})}),[f,r,n]),remove:i.useCallback((e=>{const t=Ib(n._getFieldArray(r),e);u.current=Ib(u.current,e),f(t),c(t),!Array.isArray(hy(n._fields,r))&&gy(n._fields,r,void 0),n._setFieldArray(r,t,Ib,{argA:e})}),[f,r,n]),insert:i.useCallback(((e,t,i)=>{const s=Vy(cy(t)),a=Sb(n._getFieldArray(r),e,s);n._names.focus=kb(r,e,i),u.current=Sb(u.current,e,s.map(Nb)),f(a),c(a),n._setFieldArray(r,a,Sb,{argA:e,argB:Eb(t)})}),[f,r,n]),update:i.useCallback(((e,t)=>{const i=cy(t),s=Db(n._getFieldArray(r),e,i);u.current=[...s].map(((t,n)=>t&&n!==e?u.current[n]:Nb())),f(s),c([...s]),n._setFieldArray(r,s,Db,{argA:e,argB:i},!0,!1)}),[f,r,n]),replace:i.useCallback((e=>{const t=Vy(cy(e));u.current=t.map(Nb),f([...t]),c([...t]),n._setFieldArray(r,[...t],(e=>e),{},!0,!1)}),[f,r,n]),fields:i.useMemo((()=>l.map(((e,t)=>({...e,[s]:u.current[t]||Nb()})))),[l,s])}}function Pb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=i.useRef(void 0),n=i.useRef(void 0),[r,s]=i.useState({isDirty:!1,isValidating:!1,isLoading:Wy(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:Wy(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:jb(e),formState:r},e.formControl&&e.defaultValues&&!Wy(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const a=t.current.control;return a._options=e,i.useLayoutEffect((()=>a._subscribe({formState:a._proxyFormState,callback:()=>s({...a._formState}),reRenderRoot:!0})),[a]),i.useEffect((()=>a._disableForm(e.disabled)),[a,e.disabled]),i.useEffect((()=>{if(a._proxyFormState.isDirty){const e=a._getDirty();e!==r.isDirty&&a._subjects.state.next({isDirty:e})}}),[a,r.isDirty]),i.useEffect((()=>{e.values&&!$y(e.values,n.current)?(a._reset(e.values,a._options.resetOptions),n.current=e.values,s((e=>({...e})))):a._resetDefaultValues()}),[e.values,a]),i.useEffect((()=>{e.errors&&!Hy(e.errors)&&a._setErrors(e.errors)}),[e.errors,a]),i.useEffect((()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()})),i.useEffect((()=>{e.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})}),[e.shouldUnregister,a]),t.current.formState=Py(r,a),t.current}const Ob=()=>{const{register:e,handleSubmit:t,formState:{errors:n},setValue:r}=Pb(),{login:s}=Gv(),[a,o]=(0,i.useState)(!1),[l,c]=(0,i.useState)(null),[u,d]=(0,i.useState)(!1);return(0,qv.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-md w-full",children:[(0,qv.jsx)("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-800",children:"Inloggen"}),l&&(0,qv.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",role:"alert",children:(0,qv.jsx)("span",{className:"block sm:inline",children:l})}),(0,qv.jsxs)("form",{onSubmit:t((async e=>{try{c(null),o(!0),await s(e.email,e.password)}catch(t){console.error("Inloggen mislukt:",t),"auth/user-not-found"===t.code||"auth/wrong-password"===t.code?c("Inloggen mislukt. Controleer je e-mail en wachtwoord."):"auth/too-many-requests"===t.code?c("Te veel inlogpogingen. Probeer het later opnieuw of reset je wachtwoord."):"auth/network-request-failed"===t.code?c("Netwerkprobleem. Controleer je internetverbinding en probeer het opnieuw."):"auth/user-disabled"===t.code?c("Dit account is uitgeschakeld. Neem contact op met de beheerder."):"auth/invalid-email"===t.code?c("Ongeldig e-mailadres. Controleer je e-mail en probeer het opnieuw."):c(`Inloggen mislukt: ${t.message||"Onbekende fout"}`)}finally{o(!1)}})),className:"space-y-6",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail"}),(0,qv.jsx)("input",{id:"email",type:"email",...e("email",{required:"E-mail is verplicht",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Voer een geldig e-mailadres in"}}),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 "+(n.email?"border-red-500":"border-gray-300")}),n.email&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",children:n.email.message})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Wachtwoord"}),(0,qv.jsx)("input",{id:"password",type:"password",...e("password",{required:"Wachtwoord is verplicht",minLength:{value:6,message:"Wachtwoord moet minimaal 6 tekens bevatten"}}),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 "+(n.password?"border-red-500":"border-gray-300")}),n.password&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",children:n.password.message})]}),(0,qv.jsxs)("div",{className:"flex items-center justify-between",children:[(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,qv.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Onthoud mij"})]}),(0,qv.jsx)("div",{className:"text-sm",children:(0,qv.jsx)(De,{to:"/reset-password",className:"font-medium text-primary-600 hover:text-primary-500",children:"Wachtwoord vergeten?"})})]}),(0,qv.jsx)("div",{children:(0,qv.jsx)("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:a?"Inloggen...":"Inloggen"})})]}),(0,qv.jsx)("div",{className:"mt-6 text-center",children:(0,qv.jsxs)("p",{className:"text-sm text-gray-600",children:["Nog geen account?"," ",(0,qv.jsx)(De,{to:"/register",className:"font-medium text-primary-600 hover:text-primary-500",children:"Registreer hier"})]})}),(0,qv.jsx)("div",{className:"mt-6 text-center",children:(0,qv.jsx)("button",{type:"button",onClick:()=>d(!u),className:"text-xs text-gray-500 hover:text-gray-700",children:u?"Debug mode verbergen":"Debug opties"})}),u&&(0,qv.jsxs)("div",{className:"mt-4 p-3 bg-gray-100 rounded-md",children:[(0,qv.jsx)("h3",{className:"font-medium text-sm mb-2",children:"Debug opties"}),(0,qv.jsx)("button",{type:"button",onClick:async()=>{try{c(null),o(!0);const e="test@example.com",t="test123456",n="Test Gebruiker";console.log("Test gebruiker aanmaken:",e);const i=(await Vi(Mv,e,t)).user;await zi(i,{displayName:n});const s=Om(Uv,"users",i.uid);await Bf(s,{id:i.uid,email:e,displayName:n,role:"werkzoekende",createdAt:new Date,updatedAt:new Date,profile:{skills:[]}}),console.log("Test gebruiker aangemaakt:",i.uid),r("email",e),r("password",t),alert("Test gebruiker aangemaakt! Email: test@example.com, Wachtwoord: test123456")}catch(e){console.error("Fout bij aanmaken test gebruiker:",e),"auth/email-already-in-use"===e.code?c("Deze test gebruiker bestaat al, je kunt proberen in te loggen met email: test@example.com, wachtwoord: test123456"):c("Kon test gebruiker niet aanmaken: "+e.message)}finally{o(!1)}},disabled:a,className:"w-full text-sm py-1 px-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-200",children:"Test gebruiker aanmaken"}),(0,qv.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Dit maakt een test gebruiker aan met email: test@example.com en wachtwoord: test123456"})]})]})},Lb=()=>(0,qv.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4 py-12 sm:px-6 lg:px-8",children:(0,qv.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,qv.jsxs)("div",{className:"text-center",children:[(0,qv.jsx)("h1",{className:"text-4xl font-extrabold text-primary-600 mb-2",children:"PitchPro"}),(0,qv.jsx)("p",{className:"text-gray-600",children:"Het platform voor werkzoekenden en recruiters"})]}),(0,qv.jsx)(Ob,{})]})}),Fb=()=>{const{register:e,handleSubmit:t,watch:n,formState:{errors:r}}=Pb({defaultValues:{role:"werkzoekende"}}),{register:s}=Gv(),[a,o]=(0,i.useState)(!1),[l,c]=(0,i.useState)(null),u=n("password");return(0,qv.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-md w-full",children:[(0,qv.jsx)("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-800",children:"Registreren"}),l&&(0,qv.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",role:"alert",children:(0,qv.jsx)("span",{className:"block sm:inline",children:l})}),(0,qv.jsxs)("form",{onSubmit:t((async e=>{try{if(c(null),o(!0),e.password!==e.confirmPassword)return void c("Wachtwoorden komen niet overeen");await s(e.email,e.password,e.displayName,e.role)}catch(t){console.error("Registratie fout:",t),"auth/email-already-in-use"===t.code?c("Dit e-mailadres is al in gebruik"):c("Registratie mislukt. Probeer het later opnieuw.")}finally{o(!1)}})),className:"space-y-6",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"displayName",className:"block text-sm font-medium text-gray-700 mb-1",children:"Naam"}),(0,qv.jsx)("input",{id:"displayName",type:"text",...e("displayName",{required:"Naam is verplicht",minLength:{value:2,message:"Naam moet minimaal 2 tekens bevatten"}}),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 "+(r.displayName?"border-red-500":"border-gray-300")}),r.displayName&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",children:r.displayName.message})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail"}),(0,qv.jsx)("input",{id:"email",type:"email",...e("email",{required:"E-mail is verplicht",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Voer een geldig e-mailadres in"}}),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 "+(r.email?"border-red-500":"border-gray-300")}),r.email&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",children:r.email.message})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Wachtwoord"}),(0,qv.jsx)("input",{id:"password",type:"password",...e("password",{required:"Wachtwoord is verplicht",minLength:{value:6,message:"Wachtwoord moet minimaal 6 tekens bevatten"}}),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 "+(r.password?"border-red-500":"border-gray-300")}),r.password&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",children:r.password.message})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Bevestig wachtwoord"}),(0,qv.jsx)("input",{id:"confirmPassword",type:"password",...e("confirmPassword",{required:"Bevestig je wachtwoord",validate:e=>e===u||"Wachtwoorden komen niet overeen"}),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 "+(r.confirmPassword?"border-red-500":"border-gray-300")}),r.confirmPassword&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",children:r.confirmPassword.message})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ik ben een"}),(0,qv.jsxs)("div",{className:"mt-2 flex space-x-4",children:[(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("input",{id:"werkzoekende",type:"radio",value:"werkzoekende",...e("role"),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),(0,qv.jsx)("label",{htmlFor:"werkzoekende",className:"ml-2 block text-sm text-gray-700",children:"Werkzoekende"})]}),(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("input",{id:"recruiter",type:"radio",value:"recruiter",...e("role"),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300"}),(0,qv.jsx)("label",{htmlFor:"recruiter",className:"ml-2 block text-sm text-gray-700",children:"Recruiter"})]})]})]}),(0,qv.jsx)("div",{children:(0,qv.jsx)("button",{type:"submit",disabled:a,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:a?"Registreren...":"Registreren"})})]}),(0,qv.jsx)("div",{className:"mt-6 text-center",children:(0,qv.jsxs)("p",{className:"text-sm text-gray-600",children:["Heb je al een account?"," ",(0,qv.jsx)(De,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Log hier in"})]})})]})},Mb=()=>(0,qv.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4 py-12 sm:px-6 lg:px-8",children:(0,qv.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,qv.jsxs)("div",{className:"text-center",children:[(0,qv.jsx)("h1",{className:"text-4xl font-extrabold text-primary-600 mb-2",children:"PitchPro"}),(0,qv.jsx)("p",{className:"text-gray-600",children:"Word lid van het platform voor werkzoekenden en recruiters"})]}),(0,qv.jsx)(Fb,{})]})}),Ub=()=>{const{register:e,handleSubmit:t,formState:{errors:n}}=Pb(),{resetPassword:r}=Gv(),[s,a]=(0,i.useState)(!1),[o,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(null);return(0,qv.jsxs)("div",{className:"bg-white p-8 rounded-lg shadow-md max-w-md w-full",children:[(0,qv.jsx)("h2",{className:"text-2xl font-bold text-center mb-6 text-gray-800",children:"Wachtwoord herstellen"}),o&&(0,qv.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",role:"alert",children:(0,qv.jsx)("span",{className:"block sm:inline",children:o})}),c&&(0,qv.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",role:"alert",children:(0,qv.jsx)("span",{className:"block sm:inline",children:c})}),(0,qv.jsxs)("form",{onSubmit:t((async e=>{try{l(null),u(null),a(!0),await r(e.email),u("Een e-mail met instructies is verzonden naar je e-mailadres")}catch(t){console.error("Wachtwoord reset fout:",t),l("Er is een fout opgetreden bij het verzenden van de resetlink. Controleer je e-mailadres.")}finally{a(!1)}})),className:"space-y-6",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"E-mail"}),(0,qv.jsx)("input",{id:"email",type:"email",...e("email",{required:"E-mail is verplicht",pattern:{value:/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/,message:"Voer een geldig e-mailadres in"}}),className:"w-full px-3 py-2 border rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 "+(n.email?"border-red-500":"border-gray-300")}),n.email&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",children:n.email.message})]}),(0,qv.jsx)("div",{children:(0,qv.jsx)("button",{type:"submit",disabled:s,className:"w-full flex justify-center py-2 px-4 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50",children:s?"Verzenden...":"Verstuur resetlink"})})]}),(0,qv.jsx)("div",{className:"mt-6 text-center",children:(0,qv.jsx)("p",{className:"text-sm text-gray-600",children:(0,qv.jsx)(De,{to:"/login",className:"font-medium text-primary-600 hover:text-primary-500",children:"Terug naar inloggen"})})})]})},Vb=()=>(0,qv.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-100 px-4 py-12 sm:px-6 lg:px-8",children:(0,qv.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,qv.jsxs)("div",{className:"text-center",children:[(0,qv.jsx)("h1",{className:"text-4xl font-extrabold text-primary-600 mb-2",children:"PitchPro"}),(0,qv.jsx)("p",{className:"text-gray-600",children:"Wachtwoord herstellen"})]}),(0,qv.jsx)(Ub,{})]})}),zb=e=>{let{currentCvUrl:t,userId:n,onUploadSuccess:r,onUploadError:s}=e;const[a,o]=(0,i.useState)(!1),[l,c]=(0,i.useState)(0),[u,d]=(0,i.useState)(null),h=(0,i.useRef)(null);return(0,qv.jsxs)("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg",children:[(0,qv.jsx)("h2",{className:"text-lg font-medium mb-4",children:"CV Uploaden"}),t&&(0,qv.jsxs)("div",{className:"mb-4 p-3 bg-white rounded border border-gray-300",children:[(0,qv.jsx)("p",{className:"text-sm font-medium text-gray-700",children:"Huidige CV:"}),(0,qv.jsx)("div",{className:"flex items-center justify-between mt-1",children:(0,qv.jsxs)("a",{href:t,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline flex items-center",children:[(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h4.586A2 2 0 0112 2.586L15.414 6A2 2 0 0116 7.414V16a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm2 6a1 1 0 011-1h6a1 1 0 110 2H7a1 1 0 01-1-1zm1 3a1 1 0 100 2h6a1 1 0 100-2H7z",clipRule:"evenodd"})}),(e=>{try{const t=e.split("/");return t[t.length-1].split("?")[0]}catch(t){return"cv-bestand"}})(t)]})})]}),(0,qv.jsxs)("div",{className:"mt-4",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Upload een nieuw CV bestand"}),(0,qv.jsx)("input",{ref:h,type:"file",onChange:e=>{e.target.files&&e.target.files.length>0&&d(e.target.files[0])},className:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100",accept:".pdf,.doc,.docx",disabled:a}),(0,qv.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Ondersteunde formaten: PDF, DOC, DOCX (max. 5MB)"})]}),u&&(0,qv.jsxs)("div",{className:"mt-4",children:[(0,qv.jsxs)("p",{className:"text-sm text-gray-700",children:["Geselecteerd bestand: ",(0,qv.jsx)("span",{className:"font-medium",children:u.name})," (",Math.round(u.size/1024)," KB)"]}),(0,qv.jsxs)("div",{className:"mt-3 flex items-center",children:[(0,qv.jsx)("button",{onClick:async()=>{if(u&&n)try{o(!0),c(0);const e=u.name.split(".").pop()||"pdf",t=`cv_${n}_${Date.now()}.${e}`,i=hg(Vv,`cv/${t}`);await ug(i,u),c(100);const s=await dg(i);r(s),h.current&&(h.current.value=""),d(null)}catch(e){console.error("Fout bij uploaden van CV:",e),s("Er is een fout opgetreden bij het uploaden van je CV. Probeer het opnieuw.")}finally{o(!1)}else s("Geen bestand geselecteerd of gebruiker niet ingelogd")},disabled:a,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50",children:a?"Bezig met uploaden...":"CV uploaden"}),a&&(0,qv.jsx)("div",{className:"ml-4 w-full max-w-xs",children:(0,qv.jsx)("div",{className:"h-2 rounded-full bg-gray-200",children:(0,qv.jsx)("div",{className:"h-2 rounded-full bg-primary-600",style:{width:`${l}%`}})})})]})]})]})},Bb=e=>{var t;let{cvUrl:n}=e;const[r,s]=(0,i.useState)(!1);if(!n)return(0,qv.jsxs)("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg",children:[(0,qv.jsx)("h2",{className:"text-lg font-medium mb-4",children:"CV Bekijken"}),(0,qv.jsx)("div",{children:(0,qv.jsxs)("a",{href:"/cv-preview",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[(0,qv.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,qv.jsx)("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),(0,qv.jsx)("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),"Bekijk Gedetailleerd CV"]})})]});const a="pdf"===(null===(t=n.split(".").pop())||void 0===t?void 0:t.toLowerCase());return(0,qv.jsxs)("div",{className:"mt-8 p-6 bg-gray-50 rounded-lg",children:[(0,qv.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,qv.jsx)("h2",{className:"text-lg font-medium",children:"CV Bekijken"}),(0,qv.jsx)("button",{onClick:()=>s(!r),className:"text-primary-600 hover:text-primary-800 text-sm font-medium",children:r?"Verkleinen":"Vergroten"})]}),a?(0,qv.jsx)("div",{className:`w-full ${r?"h-screen":"h-96"} border border-gray-300 rounded-md overflow-hidden bg-white`,children:(0,qv.jsx)("iframe",{src:`${n}#toolbar=0`,className:"w-full h-full",title:"CV Preview"})}):(0,qv.jsxs)("div",{className:"p-4 bg-white rounded-md border border-gray-300",children:[(0,qv.jsx)("p",{className:"mb-3",children:"Dit document kan niet in de browser worden weergegeven. Klik op de knop hieronder om het te downloaden."}),(0,qv.jsxs)("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:[(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download CV"]})]}),(0,qv.jsxs)("div",{className:"mt-4 flex justify-between",children:[(0,qv.jsxs)("a",{href:"/cv-preview",className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",children:[(0,qv.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,qv.jsx)("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),(0,qv.jsx)("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}),"Bekijk Gedetailleerd CV"]}),(0,qv.jsxs)("a",{href:n,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:text-primary-800 text-sm font-medium flex items-center",children:[(0,qv.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,qv.jsx)("path",{d:"M11 3a1 1 0 100 2h2.586l-6.293 6.293a1 1 0 101.414 1.414L15 6.414V9a1 1 0 102 0V4a1 1 0 00-1-1h-5z"}),(0,qv.jsx)("path",{d:"M5 5a2 2 0 00-2 2v8a2 2 0 002 2h8a2 2 0 002-2v-3a1 1 0 10-2 0v3H5V7h3a1 1 0 000-2H5z"})]}),"Openen in nieuw venster"]})]})]})};const $b=()=>Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15),Hb=e=>{if(!e)return null;if(e instanceof Date)return e;if("object"===typeof e&&"seconds"in e)return new Date(1e3*e.seconds);if("number"===typeof e)return new Date(e);if("string"===typeof e){const t=new Date(e);return isNaN(t.getTime())?null:t}return null},qb=e=>{let{name:t,control:n,label:r,errors:i,isDisabled:s=!1,placeholder:a="Selecteer een datum",minDate:o,maxDate:l}=e;return(0,qv.jsxs)("div",{children:[r&&(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:r}),(0,qv.jsx)(My,{name:t,control:n,rules:{required:`${r||"Datum"} is verplicht`},render:e=>{let{field:{onChange:n,onBlur:r,value:a,ref:o}}=e,l=null;if(a)try{if(a instanceof Date)l=a;else if("object"===typeof a&&null!==a&&"seconds"in a)l=new Date(1e3*a.seconds);else if("string"===typeof a){const e=new Date(a);l=isNaN(e.getTime())?null:e}else"number"===typeof a&&(l=new Date(a))}catch(c){console.error(`Error converting date for ${t}:`,c),l=null}return(0,qv.jsx)("input",{type:"date",onChange:e=>{const t=e.target.value?new Date(e.target.value):null;n(t)},onBlur:r,disabled:s,value:l?l.toISOString().split("T")[0]:"",className:`w-full px-3 py-2 border ${i&&i[t.split(".")[0]]?"border-red-500":"border-gray-300"} rounded-md`,"aria-invalid":i&&i[t.split(".")[0]]?"true":"false"})}}),i&&i[t.split(".")[0]]&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:"Vul een geldige datum in"})]})},Wb=e=>{let{user:t,onSuccess:n,onError:r,setLoading:s}=e;const[a,o]=(0,i.useState)(!0),[l,c]=(0,i.useState)(null),[u,d]=(0,i.useState)("overMij"),[h,m]=(0,i.useState)(!1),f=(0,i.useMemo)((()=>({overMij:"",werkervaring:[],opleiding:[],stages:[],certificaten:[],talen:[],hobbys:[],vaardigheden:[]})),[]),{register:p,control:g,handleSubmit:v,reset:y,formState:{errors:b},getValues:x,watch:w}=Pb({defaultValues:f}),{fields:j,append:N,remove:k}=Rb({control:g,name:"certificaten"}),{fields:_,append:E,remove:S}=Rb({control:g,name:"opleiding"}),{fields:C,append:T,remove:I}=Rb({control:g,name:"stages"}),{fields:A,append:D,remove:R}=Rb({control:g,name:"werkervaring"}),{fields:P,append:O,remove:L}=Rb({control:g,name:"talen"}),{fields:F,append:M,remove:U}=Rb({control:g,name:"hobbys"}),{fields:V,append:z,remove:B}=Rb({control:g,name:"vaardigheden"});(0,i.useEffect)((()=>{(async()=>{if(t.id)try{const e=Om(Uv,"users",t.id),n=await Uf(e),r=Om(Uv,"users",t.id,"cv","main"),i=await Uf(r);let s={werkervaring:[],opleiding:[],stages:[],certificaten:[],talen:[],hobbys:[],vaardigheden:[]};if(n.exists()){const e=n.data();if(e.detailedCV){const t=e.detailedCV;s={...s,overMij:t.overMij||"",werkervaring:(t.werkervaring||[]).map((e=>({...e,startDatum:e.startDatum?Hb(e.startDatum):null,eindDatum:e.eindDatum?Hb(e.eindDatum):null,isHuidigeFunctie:Boolean(e.isHuidigeFunctie)}))),opleiding:(t.opleiding||[]).map((e=>({...e,startDatum:e.startDatum?Hb(e.startDatum):null,eindDatum:e.eindDatum?Hb(e.eindDatum):null,isHuidigeOpleiding:Boolean(e.isHuidigeOpleiding)}))),stages:(t.stages||[]).map((e=>({...e,startDatum:e.startDatum?Hb(e.startDatum):null,eindDatum:e.eindDatum?Hb(e.eindDatum):null,isHuidigeStage:Boolean(e.isHuidigeStage)}))),certificaten:(t.certificaten||[]).map((e=>({id:e.id||$b(),naam:e.naam||"",uitgever:e.uitgever||"",datum:e.datum?Hb(e.datum):null,beschrijving:e.beschrijving||""}))),talen:Array.isArray(t.talen)?t.talen.map((e=>({...e,niveau:e.niveau||"Basis",beschrijving:e.beschrijving||""}))):[],hobbys:Array.isArray(t.hobbys)?t.hobbys.map((e=>({...e,naam:e.naam||"",beschrijving:e.beschrijving||""}))):[],vaardigheden:Array.isArray(t.vaardigheden)?t.vaardigheden.map((e=>({...e,type:"soft"===e.type||"hard"===e.type?e.type:"soft",niveau:"number"===typeof e.niveau?e.niveau:1,beschrijving:e.beschrijving||""}))):[]}}else s={...s,werkervaring:(e.werkervaring||[]).map((e=>({...e,startDatum:e.startDatum?Hb(e.startDatum):null,eindDatum:e.eindDatum?Hb(e.eindDatum):null}))),opleiding:(e.opleiding||[]).map((e=>({...e,startDatum:e.startDatum?Hb(e.startDatum):null,eindDatum:e.eindDatum?Hb(e.eindDatum):null}))),stages:(e.stages||[]).map((e=>({...e,startDatum:e.startDatum?Hb(e.startDatum):null,eindDatum:e.eindDatum?Hb(e.eindDatum):null}))),talen:e.talen||[],hobbys:Array.isArray(e.hobbys)?e.hobbys:[],vaardigheden:e.vaardigheden||[]}}if(i.exists()){const e=i.data();c(e),n.exists()&&n.data().detailedCV||(s={...s,overMij:e.overMij||"",werkervaring:(e.werkervaring||[]).map((e=>({...e,startDatum:e.startDatum?Hb(e.startDatum):null,eindDatum:e.eindDatum?Hb(e.eindDatum):null,isHuidigeFunctie:Boolean(e.isHuidigeFunctie)}))),opleiding:(e.opleiding||[]).map((e=>({...e,startDatum:e.startDatum?Hb(e.startDatum):null,eindDatum:e.eindDatum?Hb(e.eindDatum):null,isHuidigeOpleiding:Boolean(e.isHuidigeOpleiding)}))),stages:(e.stages||[]).map((e=>({...e,startDatum:e.startDatum?Hb(e.startDatum):null,eindDatum:e.eindDatum?Hb(e.eindDatum):null,isHuidigeStage:Boolean(e.isHuidigeStage)}))),certificaten:(e.certificaten||[]).map((e=>({id:e.id||$b(),naam:e.naam||"",uitgever:e.uitgever||"",datum:e.datum?Hb(e.datum):null,beschrijving:e.beschrijving||""}))),talen:Array.isArray(e.talen)?e.talen.map((e=>({...e,niveau:e.niveau||"Basis",beschrijving:e.beschrijving||""}))):[],hobbys:Array.isArray(e.hobbys)?e.hobbys.map((e=>({...e,naam:e.naam||"",beschrijving:e.beschrijving||""}))):[],vaardigheden:Array.isArray(e.vaardigheden)?e.vaardigheden.map((e=>({...e,type:"soft"===e.type||"hard"===e.type?e.type:"soft",niveau:"number"===typeof e.niveau?e.niveau:1,beschrijving:e.beschrijving||""}))):[]})}y(s)}catch(e){console.error("Fout bij ophalen gegevens:",e),r("Er is een fout opgetreden bij het ophalen van je gegevens")}finally{o(!1)}else o(!1)})()}),[t.id,y,r]);const $=(0,i.useCallback)((()=>{setTimeout((()=>{N({id:String(Date.now()),naam:"",uitgever:"",datum:null,beschrijving:""})}),0)}),[N]),H=(0,i.useCallback)((()=>{setTimeout((()=>{E({id:String(Date.now()),opleiding:"",instituut:"",beschrijving:"",startDatum:null,eindDatum:null,isHuidigeOpleiding:!1})}),0)}),[E]),q=(0,i.useCallback)((()=>{setTimeout((()=>{T({id:String(Date.now()),bedrijf:"",functie:"",beschrijving:"",startDatum:null,eindDatum:null,isHuidigeStage:!1})}),0)}),[T]),W=(0,i.useCallback)((()=>{setTimeout((()=>{D({id:String(Date.now()),functie:"",bedrijf:"",startDatum:null,eindDatum:null,beschrijving:"",isHuidigeFunctie:!1})}),0)}),[D]),G=(0,i.useCallback)((()=>{setTimeout((()=>{O({id:String(Date.now()),taal:"",niveau:"Basis"})}),0)}),[O]),K=(0,i.useCallback)((()=>{setTimeout((()=>{M({id:String(Date.now()),naam:""})}),0)}),[M]),Q=(0,i.useCallback)((e=>{setTimeout((()=>{z({id:String(Date.now()),naam:"",type:e,niveau:1})}),0)}),[z]),J=e=>{switch(e){case"overMij":return"Over mij";case"werkervaring":return"Werkervaring";case"opleiding":return"Opleiding";case"stages":return"Stages";case"certificaten":return"Certificaten";case"talen":return"Talen";case"hobbys":return"Hobby's";case"vaardigheden":return"Vaardigheden";default:return e}};return a?(0,qv.jsxs)("div",{className:"flex justify-center items-center h-64",children:[(0,qv.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"}),(0,qv.jsx)("div",{className:"ml-4",children:"CV gegevens laden..."})]}):(0,qv.jsxs)("div",{className:"space-y-8",children:[(0,qv.jsxs)("form",{onSubmit:v((async e=>{if(t.id)try{s(!0),m(!0),console.log("Form data being saved:",e);const r={overMij:e.overMij||"",werkervaring:e.werkervaring.map((e=>({id:e.id||$b(),functie:e.functie||"",bedrijf:e.bedrijf||"",startDatum:e.startDatum?Ha.fromDate(e.startDatum):null,eindDatum:e.eindDatum?Ha.fromDate(e.eindDatum):null,beschrijving:e.beschrijving||"",isHuidigeFunctie:Boolean(e.isHuidigeFunctie)}))),opleiding:e.opleiding.map((e=>({id:e.id||$b(),opleiding:e.opleiding||"",instituut:e.instituut||"",startDatum:e.startDatum?Ha.fromDate(e.startDatum):null,eindDatum:e.eindDatum?Ha.fromDate(e.eindDatum):null,beschrijving:e.beschrijving||"",isHuidigeOpleiding:Boolean(e.isHuidigeOpleiding)}))),stages:e.stages.map((e=>({id:e.id||$b(),functie:e.functie||"",bedrijf:e.bedrijf||"",startDatum:e.startDatum?Ha.fromDate(e.startDatum):null,eindDatum:e.eindDatum?Ha.fromDate(e.eindDatum):null,beschrijving:e.beschrijving||"",isHuidigeStage:Boolean(e.isHuidigeStage)}))),certificaten:e.certificaten.map((e=>({id:e.id||$b(),naam:e.naam||"",uitgever:e.uitgever||"",datum:e.datum?Ha.fromDate(e.datum):null,beschrijving:e.beschrijving||""}))),talen:e.talen.map((e=>({id:e.id||$b(),taal:e.taal||"",niveau:e.niveau||"Basis",beschrijving:e.beschrijving||""}))),hobbys:e.hobbys.map((e=>({id:e.id||$b(),naam:e.naam||"",beschrijving:e.beschrijving||""}))),vaardigheden:e.vaardigheden.map((e=>({id:e.id||$b(),naam:e.naam||"",type:"soft"===e.type?"soft":"hard",niveau:"number"===typeof e.niveau?e.niveau:1,beschrijving:e.beschrijving||""})))};console.log("Saving CV data to Firestore:",r);const i=Om(Uv,"users",t.id);await Bf(i,{detailedCV:r,updatedAt:new Date},{merge:!0}),console.log("CV data saved successfully"),n()}catch(i){console.error("Fout bij opslaan gegevens:",i),r("Er is een fout opgetreden bij het opslaan van je gegevens")}finally{s(!1),m(!1)}else r("Gebruiker ID is niet beschikbaar")})),children:[(0,qv.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:[(0,qv.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:J("overMij")}),(0,qv.jsx)("div",{className:"bg-white rounded-lg",children:(0,qv.jsx)("textarea",{...p("overMij"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",rows:5,placeholder:"Vertel iets over jezelf, je motivie en ambities"})})]}),(0,qv.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:[(0,qv.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:J("werkervaring")}),(0,qv.jsxs)("div",{className:"bg-white rounded-lg",children:[(0,qv.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,qv.jsx)("button",{type:"button",onClick:W,className:"ml-auto px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md",children:"+ Toevoegen"})}),0===A.length&&(0,qv.jsx)("p",{className:"text-gray-500 italic mb-4",children:"Nog geen werkervaring toegevoegd."}),A.map(((e,t)=>{var n,r,i,s,a,o,l,c,u,d,h,m,f,v,y,x;return(0,qv.jsxs)("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Functie"}),(0,qv.jsx)("input",{...p(`werkervaring.${t}.functie`,{required:"Functie is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":null!==(n=b.werkervaring)&&void 0!==n&&null!==(r=n[t])&&void 0!==r&&r.functie?"true":"false"}),(null===(i=b.werkervaring)||void 0===i||null===(s=i[t])||void 0===s?void 0:s.functie)&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:"string"===typeof(null===(a=b.werkervaring[t])||void 0===a||null===(o=a.functie)||void 0===o?void 0:o.message)?null===(l=b.werkervaring[t])||void 0===l||null===(c=l.functie)||void 0===c?void 0:c.message:"Functie is verplicht"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bedrijf"}),(0,qv.jsx)("input",{...p(`werkervaring.${t}.bedrijf`,{required:"Bedrijf is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":null!==(u=b.werkervaring)&&void 0!==u&&null!==(d=u[t])&&void 0!==d&&d.bedrijf?"true":"false"}),(null===(h=b.werkervaring)||void 0===h||null===(m=h[t])||void 0===m?void 0:m.bedrijf)&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:"string"===typeof(null===(f=b.werkervaring[t])||void 0===f||null===(v=f.bedrijf)||void 0===v?void 0:v.message)?null===(y=b.werkervaring[t])||void 0===y||null===(x=y.bedrijf)||void 0===x?void 0:x.message:"Bedrijf is verplicht"})]})]}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,qv.jsx)("div",{children:(0,qv.jsx)(qb,{name:`werkervaring.${t}.startDatum`,control:g,label:"Startdatum",errors:b})}),(0,qv.jsxs)("div",{children:[(0,qv.jsxs)("div",{className:"flex items-center mb-1",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Einddatum"}),(0,qv.jsxs)("div",{className:"ml-4",children:[(0,qv.jsx)("input",{type:"checkbox",...p(`werkervaring.${t}.isHuidigeFunctie`),className:"mr-2"}),(0,qv.jsx)("span",{className:"text-sm text-gray-600",children:"Huidige functie"})]})]}),(0,qv.jsx)(qb,{name:`werkervaring.${t}.eindDatum`,control:g,label:"",errors:b,isDisabled:Boolean(w(`werkervaring.${t}.isHuidigeFunctie`))})]})]}),(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beschrijving"}),(0,qv.jsx)("textarea",{...p(`werkervaring.${t}.beschrijving`),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Beschrijf je taken en verantwoordelijkheden"})]}),(0,qv.jsx)("div",{className:"flex justify-end",children:(0,qv.jsx)("button",{type:"button",onClick:()=>R(t),className:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-md",children:"Verwijderen"})})]},e.id)}))]})]}),(0,qv.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:[(0,qv.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:J("opleiding")}),(0,qv.jsxs)("div",{className:"bg-white rounded-lg",children:[(0,qv.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,qv.jsx)("button",{type:"button",onClick:H,className:"ml-auto px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md",children:"+ Toevoegen"})}),0===_.length&&(0,qv.jsx)("p",{className:"text-gray-500 italic mb-4",children:"Nog geen opleidingen toegevoegd."}),_.map(((e,t)=>{var n,r,i,s,a,o,l,c,u,d,h,m;return(0,qv.jsxs)("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Opleidingsnaam"}),(0,qv.jsx)("input",{...p(`opleiding.${t}.opleiding`,{required:"Opleidingsnaam is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":null!==(n=b.opleiding)&&void 0!==n&&null!==(r=n[t])&&void 0!==r&&r.opleiding?"true":"false"}),(null===(i=b.opleiding)||void 0===i||null===(s=i[t])||void 0===s?void 0:s.opleiding)&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:null===(a=b.opleiding[t])||void 0===a||null===(o=a.opleiding)||void 0===o?void 0:o.message})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Onderwijsinstelling"}),(0,qv.jsx)("input",{...p(`opleiding.${t}.instituut`,{required:"Onderwijsinstelling is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":null!==(l=b.opleiding)&&void 0!==l&&null!==(c=l[t])&&void 0!==c&&c.instituut?"true":"false"}),(null===(u=b.opleiding)||void 0===u||null===(d=u[t])||void 0===d?void 0:d.instituut)&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:null===(h=b.opleiding[t])||void 0===h||null===(m=h.instituut)||void 0===m?void 0:m.message})]})]}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,qv.jsx)("div",{children:(0,qv.jsx)(qb,{name:`opleiding.${t}.startDatum`,control:g,label:"Startdatum",errors:b})}),(0,qv.jsxs)("div",{children:[(0,qv.jsxs)("div",{className:"flex items-center mb-1",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Einddatum"}),(0,qv.jsxs)("div",{className:"ml-4",children:[(0,qv.jsx)("input",{type:"checkbox",...p(`opleiding.${t}.isHuidigeOpleiding`),className:"mr-2"}),(0,qv.jsx)("span",{className:"text-sm text-gray-600",children:"Huidige opleiding"})]})]}),(0,qv.jsx)(qb,{name:`opleiding.${t}.eindDatum`,control:g,label:"",errors:b,isDisabled:Boolean(w(`opleiding.${t}.isHuidigeOpleiding`))})]})]}),(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beschrijving"}),(0,qv.jsx)("textarea",{...p(`opleiding.${t}.beschrijving`),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Beschrijf de opleiding en relevante informatie"})]}),(0,qv.jsx)("div",{className:"flex justify-end",children:(0,qv.jsx)("button",{type:"button",onClick:()=>S(t),className:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-md",children:"Verwijderen"})})]},e.id)}))]})]}),(0,qv.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:[(0,qv.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:J("stages")}),(0,qv.jsxs)("div",{className:"bg-white rounded-lg",children:[(0,qv.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,qv.jsx)("button",{type:"button",onClick:q,className:"ml-auto px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md",children:"+ Toevoegen"})}),0===C.length&&(0,qv.jsx)("p",{className:"text-gray-500 italic mb-4",children:"Nog geen stages toegevoegd."}),C.map(((e,t)=>{var n,r,i,s,a,o,l,c,u,d,h,m;return(0,qv.jsxs)("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Functie"}),(0,qv.jsx)("input",{...p(`stages.${t}.functie`,{required:"Functie is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":null!==(n=b.stages)&&void 0!==n&&null!==(r=n[t])&&void 0!==r&&r.functie?"true":"false"}),(null===(i=b.stages)||void 0===i||null===(s=i[t])||void 0===s?void 0:s.functie)&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:null===(a=b.stages[t])||void 0===a||null===(o=a.functie)||void 0===o?void 0:o.message})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bedrijf"}),(0,qv.jsx)("input",{...p(`stages.${t}.bedrijf`,{required:"Bedrijf is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":null!==(l=b.stages)&&void 0!==l&&null!==(c=l[t])&&void 0!==c&&c.bedrijf?"true":"false"}),(null===(u=b.stages)||void 0===u||null===(d=u[t])||void 0===d?void 0:d.bedrijf)&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:null===(h=b.stages[t])||void 0===h||null===(m=h.bedrijf)||void 0===m?void 0:m.message})]})]}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,qv.jsx)("div",{children:(0,qv.jsx)(qb,{name:`stages.${t}.startDatum`,control:g,label:"Startdatum",errors:b})}),(0,qv.jsx)("div",{children:(0,qv.jsx)(qb,{name:`stages.${t}.eindDatum`,control:g,label:"Einddatum",errors:b})})]}),(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beschrijving"}),(0,qv.jsx)("textarea",{...p(`stages.${t}.beschrijving`),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Beschrijf je stage en verantwoordelijkheden"})]}),(0,qv.jsx)("div",{className:"flex justify-end",children:(0,qv.jsx)("button",{type:"button",onClick:()=>I(t),className:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-md",children:"Verwijderen"})})]},e.id)}))]})]}),(0,qv.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:[(0,qv.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:J("certificaten")}),(0,qv.jsxs)("div",{className:"bg-white rounded-lg",children:[(0,qv.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,qv.jsx)("button",{type:"button",onClick:$,className:"ml-auto px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md",children:"+ Toevoegen"})}),0===j.length&&(0,qv.jsx)("p",{className:"text-gray-500 italic mb-4",children:"Nog geen certificaten toegevoegd."}),j.map(((e,t)=>{var n,r,i,s,a,o,l,c,u,d,h,m,f,v,y,x;return(0,qv.jsxs)("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[(0,qv.jsxs)("div",{className:"flex justify-between mb-4",children:[(0,qv.jsxs)("h3",{className:"font-medium",children:["Certificaat ",t+1]}),(0,qv.jsx)("button",{type:"button",onClick:()=>k(t),className:"text-red-500 px-2 py-1 rounded hover:bg-red-100",children:"X"})]}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Naam certificaat"}),(0,qv.jsx)("input",{...p(`certificaten.${t}.naam`,{required:"Naam certificaat is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":null!==(n=b.certificaten)&&void 0!==n&&null!==(r=n[t])&&void 0!==r&&r.naam?"true":"false"}),(null===(i=b.certificaten)||void 0===i||null===(s=i[t])||void 0===s?void 0:s.naam)&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:"string"===typeof(null===(a=b.certificaten[t])||void 0===a||null===(o=a.naam)||void 0===o?void 0:o.message)?null===(l=b.certificaten[t])||void 0===l||null===(c=l.naam)||void 0===c?void 0:c.message:"Naam certificaat is verplicht"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Uitgever"}),(0,qv.jsx)("input",{...p(`certificaten.${t}.uitgever`,{required:"Uitgever is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":null!==(u=b.certificaten)&&void 0!==u&&null!==(d=u[t])&&void 0!==d&&d.uitgever?"true":"false"}),(null===(h=b.certificaten)||void 0===h||null===(m=h[t])||void 0===m?void 0:m.uitgever)&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:"string"===typeof(null===(f=b.certificaten[t])||void 0===f||null===(v=f.uitgever)||void 0===v?void 0:v.message)?null===(y=b.certificaten[t])||void 0===y||null===(x=y.uitgever)||void 0===x?void 0:x.message:"Uitgever is verplicht"})]})]}),(0,qv.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:(0,qv.jsx)("div",{children:(0,qv.jsx)(qb,{name:`certificaten.${t}.datum`,control:g,label:"Datum",errors:b})})}),(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beschrijving"}),(0,qv.jsx)("textarea",{...p(`certificaten.${t}.beschrijving`),rows:3,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Beschrijf het certificaat en relevante informatie"})]})]},e.id)}))]})]}),(0,qv.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:[(0,qv.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:J("talen")}),(0,qv.jsxs)("div",{className:"bg-white rounded-lg",children:[(0,qv.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,qv.jsx)("button",{type:"button",onClick:G,className:"ml-auto px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md",children:"+ Toevoegen"})}),0===P.length&&(0,qv.jsx)("p",{className:"text-gray-500 italic mb-4",children:"Nog geen talen toegevoegd."}),P.map(((e,t)=>{var n,r,i,s,a,o;return(0,qv.jsxs)("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Taal"}),(0,qv.jsx)("input",{...p(`talen.${t}.taal`,{required:"Taal is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":null!==(n=b.talen)&&void 0!==n&&null!==(r=n[t])&&void 0!==r&&r.taal?"true":"false"}),(null===(i=b.talen)||void 0===i||null===(s=i[t])||void 0===s?void 0:s.taal)&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:null===(a=b.talen[t])||void 0===a||null===(o=a.taal)||void 0===o?void 0:o.message})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Niveau"}),(0,qv.jsxs)("select",{...p(`talen.${t}.niveau`),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[(0,qv.jsx)("option",{value:"Basis",children:"Basis"}),(0,qv.jsx)("option",{value:"Gemiddeld",children:"Gemiddeld"}),(0,qv.jsx)("option",{value:"Goed",children:"Goed"}),(0,qv.jsx)("option",{value:"Vloeiend",children:"Vloeiend"}),(0,qv.jsx)("option",{value:"Moedertaal",children:"Moedertaal"})]})]})]}),(0,qv.jsx)("div",{className:"flex justify-end",children:(0,qv.jsx)("button",{type:"button",onClick:()=>L(t),className:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-md",children:"Verwijderen"})})]},e.id)}))]})]}),(0,qv.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:[(0,qv.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:J("hobbys")}),(0,qv.jsxs)("div",{className:"bg-white rounded-lg",children:[(0,qv.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,qv.jsx)("button",{type:"button",onClick:K,className:"ml-auto px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md",children:"+ Toevoegen"})}),0===F.length&&(0,qv.jsx)("p",{className:"text-gray-500 italic mb-4",children:"Nog geen hobby's toegevoegd."}),F.map(((e,t)=>{var n,r,i,s,a,o;return(0,qv.jsxs)("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[(0,qv.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4 mb-4",children:(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Naam"}),(0,qv.jsx)("input",{...p(`hobbys.${t}.naam`,{required:"Naam is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":null!==(n=b.hobbys)&&void 0!==n&&null!==(r=n[t])&&void 0!==r&&r.naam?"true":"false"}),(null===(i=b.hobbys)||void 0===i||null===(s=i[t])||void 0===s?void 0:s.naam)&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:null===(a=b.hobbys[t])||void 0===a||null===(o=a.naam)||void 0===o?void 0:o.message})]})}),(0,qv.jsx)("div",{className:"flex justify-end",children:(0,qv.jsx)("button",{type:"button",onClick:()=>U(t),className:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-md",children:"Verwijderen"})})]},e.id)}))]})]}),(0,qv.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-sm mb-6",children:[(0,qv.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:J("vaardigheden")}),(0,qv.jsxs)("div",{className:"bg-white rounded-lg",children:[(0,qv.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,qv.jsxs)("div",{children:[(0,qv.jsx)("button",{type:"button",onClick:()=>Q("soft"),className:"mr-2 px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md",children:"Soft Skills"}),(0,qv.jsx)("button",{type:"button",onClick:()=>Q("hard"),className:"px-3 py-1 bg-blue-500 hover:bg-blue-600 text-white rounded-md",children:"Hard Skills"})]})}),0===V.length&&(0,qv.jsx)("p",{className:"text-gray-500 italic mb-4",children:"Nog geen vaardigheden toegevoegd."}),V.map(((e,t)=>{var n,r,i,s,a,o;return(0,qv.jsxs)("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg",children:[(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Naam"}),(0,qv.jsx)("input",{...p(`vaardigheden.${t}.naam`,{required:"Naam is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md","aria-invalid":null!==(n=b.vaardigheden)&&void 0!==n&&null!==(r=n[t])&&void 0!==r&&r.naam?"true":"false"}),(null===(i=b.vaardigheden)||void 0===i||null===(s=i[t])||void 0===s?void 0:s.naam)&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",role:"alert",children:null===(a=b.vaardigheden[t])||void 0===a||null===(o=a.naam)||void 0===o?void 0:o.message})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,qv.jsxs)("select",{...p(`vaardigheden.${t}.type`),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[(0,qv.jsx)("option",{value:"soft",children:"Soft Skill"}),(0,qv.jsx)("option",{value:"hard",children:"Hard Skill"})]})]})]}),(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Niveau"}),(0,qv.jsx)("input",{...p(`vaardigheden.${t}.niveau`,{setValueAs:e=>"string"===typeof e?parseInt(e,10)||0:e}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",type:"number",min:"1",max:"5"})]}),(0,qv.jsx)("div",{className:"flex justify-end",children:(0,qv.jsx)("button",{type:"button",onClick:()=>B(t),className:"px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-md",children:"Verwijderen"})})]},e.id)}))]})]}),(0,qv.jsx)("div",{className:"mt-6",children:(0,qv.jsx)("button",{type:"submit",disabled:h,className:"px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-md",children:h?"Opslaan...":"Opslaan"})})]}),"recruiter"===t.role&&(0,qv.jsx)("div",{className:"flex justify-end",children:(0,qv.jsxs)("a",{href:"/schedule-meeting",className:"inline-flex items-center px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-md",children:[(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Nieuwe afspraak plannen"]})})]})},Gb=e=>{var t,n;let{user:r,onSuccess:s,onError:a,setLoading:o}=e;const{register:l,handleSubmit:c,reset:u,setValue:d,watch:h,formState:{errors:m}}=Pb(),[f,p]=(0,i.useState)((null===(t=r.profile)||void 0===t?void 0:t.cv)||r.cv||""),[g,v]=(0,i.useState)((null===(n=r.profile)||void 0===n?void 0:n.profilePhoto)||r.profilePhoto||""),[y,b]=(0,i.useState)(!1),x=h("isAvailableForWork");(0,i.useEffect)((()=>{b(!!x)}),[x]),(0,i.useEffect)((()=>{console.log("User profiel bijgewerkt, formulier resetten",JSON.stringify(r,null,2));const e={displayName:"",phoneNumber:"",street:"",houseNumber:"",postalCode:"",city:"",country:"",skills:"",availability:"",cv:"",linkedin:"",portfolio:"",experience:"",education:"",profilePhoto:"",isAvailableForWork:!1};if(e.displayName=r.displayName||"",e.phoneNumber=r.phoneNumber||r.phone||"",e.street=r.street||"",e.houseNumber=r.houseNumber||"",e.postalCode=r.postalCode||"",e.city=r.city||"",e.country=r.country||"",r.address&&"object"===typeof r.address){const t=r.address;e.street||(e.street=t.street||""),e.houseNumber||(e.houseNumber=t.houseNumber||""),e.postalCode||(e.postalCode=t.postalCode||""),e.city||(e.city=t.city||""),e.country||(e.country=t.country||"")}if(r.profile){if(console.log("Profielgegevens gevonden:",JSON.stringify(r.profile,null,2)),r.profile.address&&"object"===typeof r.profile.address){const t=r.profile.address;e.street||(e.street=t.street||""),e.houseNumber||(e.houseNumber=t.houseNumber||""),e.postalCode||(e.postalCode=t.postalCode||""),e.city||(e.city=t.city||""),e.country||(e.country=t.country||"")}const t=r.profile;t.skills&&(e.skills=Array.isArray(t.skills)?t.skills.join(", "):"string"===typeof t.skills?t.skills:""),e.availability=t.availability||"",e.isAvailableForWork=!0===t.isAvailableForWork,b(!0===t.isAvailableForWork),e.cv=t.cv||"",e.linkedin=t.linkedin||"",e.portfolio=t.portfolio||"",t.experience&&(e.experience="string"===typeof t.experience?t.experience:Array.isArray(t.experience)?JSON.stringify(t.experience):""),t.education&&(e.education=Array.isArray(t.education)?t.education.join(", "):"string"===typeof t.education?t.education:""),t.profilePhoto&&(v(t.profilePhoto),e.profilePhoto=t.profilePhoto)}const t=r.profilePhoto||r.photoURL||(r.profile&&r.profile.profilePhoto?r.profile.profilePhoto:"");t&&(console.log("Profielfoto URL gevonden:",t),v(t),e.profilePhoto=t);const n=r.cv||(r.profile&&r.profile.cv?r.profile.cv:"");n&&(p(n),e.cv=n),console.log("Formulier reset met waarden:",e),u(e)}),[r,u]);return(0,qv.jsx)("div",{children:(0,qv.jsxs)("div",{className:"space-y-8",children:[(0,qv.jsxs)("form",{onSubmit:c((async e=>{if(Mv.currentUser){console.log("Profielgegevens worden opgeslagen:",e),o(!0);try{const t=Mv.currentUser.uid,n=Om(Uv,"users",t),r={street:e.street||"",houseNumber:e.houseNumber||"",postalCode:e.postalCode||"",city:e.city||"",country:e.country||""},i={address:r,skills:e.skills?e.skills.split(",").map((e=>e.trim())):[],availability:e.availability||"",isAvailableForWork:!0===e.isAvailableForWork,cv:f||e.cv||"",linkedin:e.linkedin||"",portfolio:e.portfolio||"",experience:e.experience||"",education:e.education?e.education.split(",").map((e=>e.trim())):[],profilePhoto:g||e.profilePhoto||""},a={displayName:e.displayName||"",phoneNumber:e.phoneNumber||"",phone:e.phoneNumber||"",photoURL:i.profilePhoto,street:r.street,houseNumber:r.houseNumber,postalCode:r.postalCode,city:r.city,country:r.country,address:r,profile:i,profilePhoto:i.profilePhoto,cv:i.cv,updatedAt:Kf()};console.log("Bijgewerkte gebruikersgegevens die worden opgeslagen:",JSON.stringify(a,null,2)),await $f(n,a),console.log("Profiel succesvol bijgewerkt"),o(!1),d("street",e.street||""),d("houseNumber",e.houseNumber||""),d("postalCode",e.postalCode||""),d("city",e.city||""),d("country",e.country||""),d("phoneNumber",e.phoneNumber||""),s()}catch(t){console.error("Fout bij het bijwerken van profiel:",t),o(!1),a(t instanceof Error?t.message:"Er is een onbekende fout opgetreden")}}else a("Je bent niet ingelogd. Log opnieuw in om je profiel op te slaan.")})),children:[(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h2",{className:"text-lg font-medium mb-4",children:"Persoonlijke gegevens"}),(0,qv.jsxs)("div",{className:"mb-6",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profielfoto"}),(0,qv.jsxs)("div",{className:"flex items-center space-x-4",children:[g?(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)("img",{src:g,alt:"Profielfoto",className:"w-20 h-20 rounded-full object-cover border-2 border-primary-500",onError:e=>{console.error("Fout bij laden profielfoto:",e),e.target.src="https://via.placeholder.com/80?text=Foto"}}),(0,qv.jsx)("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center cursor-pointer",onClick:()=>{v(""),d("profilePhoto","")},children:"\xd7"})]}):(0,qv.jsx)("div",{className:"w-20 h-20 rounded-full bg-gray-200 flex items-center justify-center",children:(0,qv.jsx)("svg",{className:"w-10 h-10 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];n&&(async e=>{try{o(!0);const t=mg(),n=Mv.currentUser;if(!n)throw new Error("Je bent niet ingelogd. Log opnieuw in om je profielfoto te uploaden.");const r=`profile-${(new Date).getTime()}-${e.name}`,i=hg(t,`profile-photos/${n.uid}/${r}`);console.log("Profielfoto uploaden naar:",`profile-photos/${n.uid}/${r}`),await ug(i,e),console.log("Profielfoto ge\xfcpload, nu de download URL ophalen");const s=await dg(i);console.log("Profielfoto URL ontvangen:",s),v(s),d("profilePhoto",s);const a=Om(Uv,"users",n.uid);return await $f(a,{profilePhoto:s,photoURL:s,"profile.profilePhoto":s,updatedAt:Kf()}),console.log("Profielfoto succesvol bijgewerkt in profiel"),s}catch(t){throw console.error("Fout bij uploaden profielfoto:",t),a("Er is een fout opgetreden bij het uploaden van je profielfoto. Probeer het later opnieuw."),t}finally{o(!1)}})(n).then((()=>console.log("Profielfoto succesvol bijgewerkt"))).catch((e=>console.error("Fout bij uploaden:",e)))},className:"hidden",id:"profilePhoto"}),(0,qv.jsxs)("label",{htmlFor:"profilePhoto",className:"cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,qv.jsx)("svg",{className:"-ml-1 mr-2 h-5 w-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})}),"Foto uploaden"]}),g&&(0,qv.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Profielfoto succesvol geladen"})]})]})]}),(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Naam"}),(0,qv.jsx)("input",{type:"text",...l("displayName",{required:"Naam is verplicht"}),className:"w-full px-3 py-2 border rounded-md "+(m.displayName?"border-red-500":"border-gray-300")}),m.displayName&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",children:m.displayName.message})]}),(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefoonnummer"}),(0,qv.jsx)("input",{type:"tel",...l("phoneNumber"),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h2",{className:"text-lg font-medium mb-4",children:"Adresgegevens"}),(0,qv.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Straat"}),(0,qv.jsx)("input",{type:"text",...l("street"),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Huisnummer"}),(0,qv.jsx)("input",{type:"text",...l("houseNumber"),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),(0,qv.jsxs)("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postcode"}),(0,qv.jsx)("input",{type:"text",...l("postalCode"),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plaats"}),(0,qv.jsx)("input",{type:"text",...l("city"),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]}),(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Land"}),(0,qv.jsx)("input",{type:"text",...l("country"),className:"w-full px-3 py-2 border border-gray-300 rounded-md"})]})]})]}),(0,qv.jsxs)("div",{className:"mt-8 mb-8",children:[(0,qv.jsx)("h2",{className:"text-xl font-medium mb-4",children:"Curriculum Vitae Document"}),(0,qv.jsx)("p",{className:"text-gray-600 mb-6",children:"Hieronder kun je een CV-document uploaden dat recruiters kunnen downloaden. Ondersteunde formaten zijn PDF, DOC en DOCX."}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)(zb,{currentCvUrl:f,userId:r.id,onUploadSuccess:e=>{p(e),d("cv",e)},onUploadError:e=>a(e)}),(0,qv.jsx)("input",{type:"hidden",...l("cv")})]}),(0,qv.jsx)("div",{children:(0,qv.jsx)(Bb,{cvUrl:f})})]})]}),(0,qv.jsxs)("div",{className:"mt-8 mb-8",children:[(0,qv.jsx)("h2",{className:"text-lg font-medium mb-4",children:"Professionele informatie"}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Beschikbaarheid"}),(0,qv.jsxs)("select",{...l("availability"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[(0,qv.jsx)("option",{value:"",children:"Selecteer beschikbaarheid"}),(0,qv.jsx)("option",{value:"Fulltime",children:"Fulltime"}),(0,qv.jsx)("option",{value:"Parttime",children:"Parttime"}),(0,qv.jsx)("option",{value:"Freelance",children:"Freelance"}),(0,qv.jsx)("option",{value:"Stage",children:"Stage"})]})]}),(0,qv.jsx)("div",{className:"mb-4",children:(0,qv.jsxs)("div",{className:"flex items-center space-x-3 mt-4",children:[(0,qv.jsx)("label",{htmlFor:"isAvailableForWork",className:"block text-sm font-medium text-gray-700 cursor-pointer",onClick:()=>{const e=!y;b(e),d("isAvailableForWork",e)},children:"Beschikbaar voor werk"}),(0,qv.jsxs)("div",{className:"relative inline-block w-14 mr-2 align-middle select-none",children:[(0,qv.jsx)("input",{type:"checkbox",id:"isAvailableForWork",...l("isAvailableForWork"),className:"sr-only",onChange:e=>{d("isAvailableForWork",e.target.checked),b(e.target.checked)}}),(0,qv.jsx)("div",{className:"toggle-bg block h-8 rounded-full cursor-pointer w-14 transition-colors duration-200 ease-in-out "+(y?"bg-primary-600":"bg-gray-200"),onClick:()=>{const e=!y;b(e),d("isAvailableForWork",e)}}),(0,qv.jsx)("div",{className:"dot absolute left-1 top-1 bg-white w-6 h-6 rounded-full shadow transition-transform duration-200 ease-in-out "+(y?"transform translate-x-6":"")})]}),(0,qv.jsx)("span",{className:"text-sm text-gray-500 cursor-pointer",onClick:()=>{const e=!y;b(e),d("isAvailableForWork",e)},children:"Recruiters kunnen je profiel zien als dit is ingeschakeld"})]})})]}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"LinkedIn"}),(0,qv.jsx)("input",{type:"url",...l("linkedin"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"https://linkedin.com/in/jouwprofiel"})]}),(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Portfolio URL"}),(0,qv.jsx)("input",{type:"url",...l("portfolio"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"https://jouwportfolio.com"})]})]})]}),(0,qv.jsx)("div",{className:"mt-6 mb-10",children:(0,qv.jsx)("button",{type:"submit",className:"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",children:"Basisprofiel opslaan"})})]}),(0,qv.jsxs)("div",{className:"border-t border-gray-200 pt-8 mb-6",children:[(0,qv.jsxs)("div",{className:"flex items-center mb-6",children:[(0,qv.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Uitgebreid CV"}),(0,qv.jsx)("div",{className:"ml-4 flex-1 border-t border-gray-200"})]}),(0,qv.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-4 mb-8",children:(0,qv.jsxs)("div",{className:"flex",children:[(0,qv.jsx)("div",{className:"flex-shrink-0",children:(0,qv.jsx)("svg",{className:"h-5 w-5 text-blue-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a1 1 0 000 2v3a1 1 0 001 1h1a1 1 0 100-2v-3a1 1 0 00-1-1H9z",clipRule:"evenodd"})})}),(0,qv.jsx)("div",{className:"ml-3",children:(0,qv.jsx)("p",{className:"text-sm text-blue-700",children:"Hieronder kun je een gedetailleerd CV maken met specifieke informatie over je werkervaring, opleidingen, stages, certificaten, talen en hobby's. Deze informatie wordt opgeslagen in je profiel en is zichtbaar voor recruiters."})})]})})]}),(0,qv.jsx)(Wb,{user:r,onSuccess:s,onError:a,setLoading:o})]})})},Kb=e=>{try{const t=localStorage.getItem(`recruiterForm_${e}`);return t?JSON.parse(t):{}}catch(Ox){return console.error("Fout bij ophalen formuliergegevens uit localStorage:",Ox),{}}},Qb=(e,t)=>{try{localStorage.setItem(`recruiterForm_${e}`,JSON.stringify(t))}catch(Ox){console.error("Fout bij opslaan formuliergegevens in localStorage:",Ox)}},Jb={},Yb=e=>{let{user:t,onSuccess:n,onError:r,setLoading:s}=e;const[a,o]=(0,i.useState)({}),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(""),{register:h,handleSubmit:m,reset:f,formState:{errors:p},setValue:g,getValues:v}=Pb({shouldUnregister:!1,defaultValues:a,mode:"onChange"}),y=(e,n)=>{if(Jb[e]=n,t.id){const r=Kb(t.id);Qb(t.id,{...r,[e]:n})}};(0,i.useEffect)((()=>{if(!t||!t.id)return;const e=t.profile||{},n=t.id?Kb(t.id):{},r=l?{}:n,i={displayName:r.displayName||Jb.displayName||t.displayName||"",phoneNumber:r.phoneNumber||Jb.phoneNumber||t.phoneNumber||"",companyName:r.companyName||Jb.companyName||t.companyName||e.company||"",position:r.position||Jb.position||e.position||"",companyLogo:r.companyLogo||Jb.companyLogo||e.companyLogo||"",companyWebsite:r.companyWebsite||Jb.companyWebsite||e.companyWebsite||"",companyDescription:r.companyDescription||Jb.companyDescription||e.companyDescription||"",companyStreet:r.companyStreet||Jb.companyStreet||t.companyStreet||"",companyHouseNumber:r.companyHouseNumber||Jb.companyHouseNumber||t.companyHouseNumber||"",companyPostalCode:r.companyPostalCode||Jb.companyPostalCode||t.companyPostalCode||"",companyCity:r.companyCity||Jb.companyCity||t.companyCity||"",kvkNumber:r.kvkNumber||Jb.kvkNumber||t.kvkNumber||e.kvkNumber||"",profilePhoto:r.profilePhoto||Jb.profilePhoto||t.profilePhoto||e.profilePhoto||""},s=t.profilePhoto||t.photoURL||(t.profile&&t.profile.profilePhoto?t.profile.profilePhoto:"");s&&(console.log("Profielfoto URL gevonden:",s),d(s),i.profilePhoto=s),o(i),f(i),Object.entries(i).forEach((e=>{let[t,n]=e;n&&g(t,n)})),l&&c(!1),console.log("Formulier reset met waarden:",i)}),[t,f,g,l]);return(0,qv.jsxs)("form",{onSubmit:m((async e=>{try{s(!0),Object.keys(e).forEach((t=>{y(t,e[t])})),t.id&&Qb(t.id,e);const r={...t,displayName:e.displayName,phoneNumber:e.phoneNumber,phone:e.phoneNumber,profilePhoto:u||e.profilePhoto||"",photoURL:u||e.profilePhoto||"",companyName:e.companyName,companyStreet:e.companyStreet,companyHouseNumber:e.companyHouseNumber,companyPostalCode:e.companyPostalCode,companyCity:e.companyCity,kvkNumber:e.kvkNumber,address:{street:e.companyStreet,houseNumber:e.companyHouseNumber,postalCode:e.companyPostalCode,city:e.companyCity},profile:{...t.profile||{},company:e.companyName,position:e.position,companyLogo:e.companyLogo,companyWebsite:e.companyWebsite,companyDescription:e.companyDescription,kvkNumber:e.kvkNumber,phoneNumber:e.phoneNumber,phone:e.phoneNumber,profilePhoto:u||e.profilePhoto||"",address:{street:e.companyStreet,houseNumber:e.companyHouseNumber,postalCode:e.companyPostalCode,city:e.companyCity},companyStreet:e.companyStreet,companyHouseNumber:e.companyHouseNumber,companyPostalCode:e.companyPostalCode,companyCity:e.companyCity},updatedAt:Kf()};if(!t.id)throw new Error("Gebruiker ID is niet beschikbaar");console.log("Gebruikersdata die wordt opgeslagen:",JSON.stringify(r,null,2));const i=Om(Uv,"users",t.id);await $f(i,r),c(!0),setTimeout((()=>{Object.entries(e).forEach((e=>{let[t,n]=e;g(t,n)}))}),200),n()}catch(i){console.error("Fout bij bijwerken profiel:",i),r("Er is een fout opgetreden bij het opslaan van je profiel. Probeer het later opnieuw.")}finally{s(!1)}})),className:"space-y-8",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h2",{className:"text-lg font-medium mb-4",children:"Persoonlijke gegevens"}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Naam"}),(0,qv.jsx)("input",{type:"text",...h("displayName",{required:"Naam is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md",onChange:e=>y("displayName",e.target.value)}),p.displayName&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",children:p.displayName.message})]}),(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Telefoonnummer"}),(0,qv.jsx)("input",{type:"tel",...h("phoneNumber"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"+31 6 12345678",onChange:e=>y("phoneNumber",e.target.value)})]}),(0,qv.jsxs)("div",{className:"mb-6 col-span-2",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Profielfoto"}),(0,qv.jsxs)("div",{className:"flex items-center space-x-4",children:[u?(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)("img",{src:u,alt:"Profielfoto",className:"w-20 h-20 rounded-full object-cover border-2 border-primary-500",onError:e=>{console.error("Fout bij laden profielfoto:",e),e.target.src="https://via.placeholder.com/80?text=Foto"}}),(0,qv.jsx)("div",{className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-5 h-5 flex items-center justify-center cursor-pointer",onClick:()=>{d(""),g("profilePhoto","")},children:"\xd7"})]}):(0,qv.jsx)("div",{className:"w-20 h-20 rounded-full bg-gray-200 flex items-center justify-center",children:(0,qv.jsx)("svg",{className:"w-10 h-10 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("input",{type:"file",accept:"image/*",onChange:e=>{var t;const n=null===(t=e.target.files)||void 0===t?void 0:t[0];n&&(async e=>{try{s(!0);const t=mg(),n=Mv.currentUser;if(!n)throw new Error("Je bent niet ingelogd. Log opnieuw in om je profielfoto te uploaden.");const r=`profile-${(new Date).getTime()}-${e.name}`,i=hg(t,`profile-photos/${n.uid}/${r}`);console.log("Profielfoto uploaden naar:",`profile-photos/${n.uid}/${r}`),await ug(i,e),console.log("Profielfoto ge\xfcpload, nu de download URL ophalen");const a=await dg(i);console.log("Profielfoto URL ontvangen:",a),d(a),g("profilePhoto",a);const o=Om(Uv,"users",n.uid);return await $f(o,{profilePhoto:a,photoURL:a,"profile.profilePhoto":a,updatedAt:Kf()}),console.log("Profielfoto succesvol bijgewerkt in profiel"),a}catch(t){throw console.error("Fout bij uploaden profielfoto:",t),r("Er is een fout opgetreden bij het uploaden van je profielfoto. Probeer het later opnieuw."),t}finally{s(!1)}})(n).then((()=>console.log("Profielfoto succesvol bijgewerkt"))).catch((e=>console.error("Fout bij uploaden:",e)))},className:"hidden",id:"profilePhoto"}),(0,qv.jsxs)("label",{htmlFor:"profilePhoto",className:"cursor-pointer inline-flex items-center px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",children:[(0,qv.jsx)("svg",{className:"-ml-1 mr-2 h-5 w-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M4 5a2 2 0 00-2 2v8a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2h-1.586a1 1 0 01-.707-.293l-1.121-1.121A2 2 0 0011.172 3H8.828a2 2 0 00-1.414.586L6.293 4.707A1 1 0 015.586 5H4zm6 9a3 3 0 100-6 3 3 0 000 6z",clipRule:"evenodd"})}),"Foto uploaden"]}),u&&(0,qv.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"Profielfoto succesvol geladen"})]})]})]})]})]}),(0,qv.jsxs)("div",{className:"mt-8",children:[(0,qv.jsx)("h2",{className:"text-lg font-medium mb-4",children:"Bedrijfsgegevens"}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bedrijfsnaam"}),(0,qv.jsx)("input",{type:"text",...h("companyName",{required:"Bedrijfsnaam is verplicht"}),className:"w-full px-3 py-2 border rounded-md "+(p.companyName?"border-red-500":"border-gray-300"),onChange:e=>y("companyName",e.target.value)}),p.companyName&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-600",children:p.companyName.message})]}),(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Website"}),(0,qv.jsx)("input",{type:"url",...h("companyWebsite"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"https://bedrijf.nl",onChange:e=>y("companyWebsite",e.target.value)})]}),(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"KVK-nummer"}),(0,qv.jsx)("input",{type:"text",...h("kvkNumber"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",onChange:e=>y("kvkNumber",e.target.value)})]})]})]}),(0,qv.jsxs)("div",{className:"mt-8",children:[(0,qv.jsx)("h2",{className:"text-lg font-medium mb-4",children:"Bedrijfsadres"}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qv.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Straat"}),(0,qv.jsx)("input",{type:"text",...h("companyStreet"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",onChange:e=>y("companyStreet",e.target.value)})]}),(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Huisnummer"}),(0,qv.jsx)("input",{type:"text",...h("companyHouseNumber"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",onChange:e=>y("companyHouseNumber",e.target.value)})]})]}),(0,qv.jsxs)("div",{className:"grid grid-cols-2 gap-3",children:[(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Postcode"}),(0,qv.jsx)("input",{type:"text",...h("companyPostalCode"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",onChange:e=>y("companyPostalCode",e.target.value)})]}),(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Plaats"}),(0,qv.jsx)("input",{type:"text",...h("companyCity"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",onChange:e=>y("companyCity",e.target.value)})]})]})]})]}),(0,qv.jsxs)("div",{className:"mt-8",children:[(0,qv.jsx)("h2",{className:"text-lg font-medium mb-4",children:"Over het bedrijf"}),(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Logo URL"}),(0,qv.jsx)("input",{type:"url",...h("companyLogo"),className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"https://bedrijf.nl/logo.png",onChange:e=>y("companyLogo",e.target.value)}),(0,qv.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"URL naar het bedrijfslogo voor op vacatures"})]}),(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Bedrijfsomschrijving"}),(0,qv.jsx)("textarea",{...h("companyDescription"),rows:5,className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Vertel kandidaten meer over je bedrijf...",onChange:e=>y("companyDescription",e.target.value)})]})]}),(0,qv.jsx)("div",{className:"mt-6",children:(0,qv.jsx)("button",{type:"submit",className:"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2",children:"Profiel opslaan"})})]})},Xb=()=>{const{currentUser:e,createOrUpdateProfile:t}=Gv(),[n,r]=(0,i.useState)(!1),[s,a]=(0,i.useState)(null),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)("werkzoekende"),[d,h]=(0,i.useState)((null===e||void 0===e?void 0:e.displayName)||"");return(0,qv.jsxs)("div",{className:"bg-white p-6 rounded-lg border border-gray-200 mt-4",children:[(0,qv.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Profiel herstellen"}),s&&(0,qv.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 p-4 mb-4",children:(0,qv.jsx)("p",{className:"text-red-700",children:s})}),o&&(0,qv.jsx)("div",{className:"bg-green-100 border-l-4 border-green-500 p-4 mb-4",children:(0,qv.jsx)("p",{className:"text-green-700",children:"Profiel succesvol hersteld! De pagina wordt opnieuw geladen..."})}),(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Je naam"}),(0,qv.jsx)("input",{type:"text",value:d,onChange:e=>h(e.target.value),disabled:n||o,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-1 focus:ring-primary-500",placeholder:"Vul je naam in"})]}),(0,qv.jsxs)("div",{className:"mb-6",children:[(0,qv.jsx)("label",{className:"block text-gray-700 font-medium mb-2",children:"Gebruikerstype"}),(0,qv.jsxs)("div",{className:"flex space-x-6",children:[(0,qv.jsxs)("label",{className:"inline-flex items-center",children:[(0,qv.jsx)("input",{type:"radio",value:"werkzoekende",checked:"werkzoekende"===c,onChange:()=>u("werkzoekende"),disabled:n||o,className:"h-4 w-4 text-primary-600 focus:ring-primary-500"}),(0,qv.jsx)("span",{className:"ml-2",children:"Werkzoekende"})]}),(0,qv.jsxs)("label",{className:"inline-flex items-center",children:[(0,qv.jsx)("input",{type:"radio",value:"recruiter",checked:"recruiter"===c,onChange:()=>u("recruiter"),disabled:n||o,className:"h-4 w-4 text-primary-600 focus:ring-primary-500"}),(0,qv.jsx)("span",{className:"ml-2",children:"Recruiter"})]})]})]}),(0,qv.jsx)("div",{className:"flex justify-end",children:(0,qv.jsx)("button",{onClick:async()=>{if(e)if(d.trim())try{r(!0),a(null);const e=await t(d,c);console.log("Profiel succesvol hersteld:",e),l(!0),setTimeout((()=>{window.location.reload()}),2e3)}catch(n){console.error("Fout bij het herstellen van profiel:",n),a("Er is een fout opgetreden bij het herstellen van je profiel. Probeer het opnieuw.")}finally{r(!1)}else a("Voer een naam in");else a("Je moet ingelogd zijn om je profiel te herstellen")},disabled:n||o,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2 disabled:opacity-50",children:n?"Bezig...":o?"Profiel Hersteld":"Profiel Herstellen"})})]})},Zb=()=>{const{userProfile:e,currentUser:t,loading:n,refreshUserProfile:r,createOrUpdateProfile:s}=Gv(),[a,o]=(0,i.useState)(!1),[l,c]=(0,i.useState)(null),[u,d]=(0,i.useState)(!1),[h,m]=(0,i.useState)(!1),f=ee();if(n)return(0,qv.jsxs)("div",{className:"flex justify-center items-center h-screen",children:[(0,qv.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"}),(0,qv.jsx)("div",{className:"ml-4",children:"Profiel laden..."})]});if(!t||!e)return(0,qv.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,qv.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Profiel niet gevonden"}),(0,qv.jsx)("p",{className:"mb-6",children:"Het lijkt erop dat je profiel niet beschikbaar is. Je kunt het opnieuw aanmaken hieronder."}),(0,qv.jsx)(Xb,{})]});return(0,qv.jsxs)("div",{className:"max-w-4xl mx-auto px-4 py-8",children:[(0,qv.jsxs)("div",{className:"mb-6 flex justify-between items-center",children:[(0,qv.jsx)("h1",{className:"text-2xl font-bold",children:"Mijn Profiel"}),(0,qv.jsx)("button",{onClick:()=>f("/dashboard"),className:"px-4 py-2 bg-gray-200 text-gray-800 rounded hover:bg-gray-300",children:"Terug naar dashboard"})]}),l&&(0,qv.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 p-4 mb-6",children:(0,qv.jsx)("p",{className:"text-red-700",children:l})}),u&&(0,qv.jsx)("div",{className:"bg-green-100 border-l-4 border-green-500 p-4 mb-6",children:(0,qv.jsx)("p",{className:"text-green-700",children:"Profiel succesvol bijgewerkt!"})}),e&&!e.profile&&(0,qv.jsxs)("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 p-4 mb-6",children:[(0,qv.jsx)("p",{className:"font-bold",children:"Profiel onvolledig"}),(0,qv.jsx)("p",{children:"Je profiel lijkt onvolledig of beschadigd te zijn. Klik op 'Profiel repareren' om dit probleem op te lossen."}),(0,qv.jsx)("div",{className:"mt-4",children:(0,qv.jsx)("button",{onClick:async()=>{try{o(!0),c(null),await s(e.displayName||"Gebruiker","werkzoekende"),d(!0),setTimeout((()=>d(!1)),3e3)}catch(t){console.error("Fout bij repareren profiel:",t),c("Kon profiel niet repareren. Probeer later opnieuw.")}finally{o(!1)}},disabled:a,className:"px-4 py-2 bg-yellow-500 text-white rounded hover:bg-yellow-600 disabled:opacity-50",children:a?"Bezig...":"Profiel repareren als werkzoekende"})})]}),(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[Bv(e)||"werkzoekende"===(null===e||void 0===e?void 0:e.role)||"werkzoekende"===(null===e||void 0===e?void 0:e.userType)?(0,qv.jsx)(Gb,{user:e,onSuccess:()=>{r().then((()=>{d(!0),setTimeout((()=>d(!1)),3e3)})).catch((e=>{console.error("Fout bij verversen profiel na opslaan:",e)}))},onError:e=>c(e),setLoading:o}):$v(e)||"recruiter"===(null===e||void 0===e?void 0:e.role)||"recruiter"===(null===e||void 0===e?void 0:e.userType)?(0,qv.jsx)(Yb,{user:e,onSuccess:()=>{d(!0),setTimeout((()=>{r().then((()=>{console.log("Profiel succesvol ververst na vertraging"),setTimeout((()=>d(!1)),3e3)})).catch((e=>{console.error("Fout bij verversen profiel na opslaan:",e)}))}),500)},onError:e=>c(e),setLoading:o}):(0,qv.jsxs)("div",{className:"bg-yellow-100 border-l-4 border-yellow-500 p-4 mb-6",children:[(0,qv.jsx)("p",{className:"font-bold",children:"Profieltype niet herkend"}),(0,qv.jsx)("p",{children:"We kunnen niet bepalen welk type profiel je hebt. Maak je profiel opnieuw aan om dit op te lossen."}),(0,qv.jsx)("div",{className:"mt-4",children:(0,qv.jsx)(Xb,{})})]}),(0,qv.jsx)("div",{className:"mt-8 pt-6 border-t",children:(0,qv.jsx)("div",{className:"flex justify-end items-center",children:(0,qv.jsx)("button",{onClick:()=>f("/dashboard"),className:"px-4 py-2 bg-primary-600 text-white rounded hover:bg-primary-700",children:"Opslaan en terug"})})})]})]})},ex=()=>{const{currentUser:e,logout:t,userProfile:n}=Gv(),r=X(),s="/"===r.pathname||"/home"===r.pathname;let a=0;try{const{getUnreadCount:t}=Jv();e&&(a=t())}catch(c){console.error("MessageContext niet beschikbaar:",c)}const o="recruiter"===(null===n||void 0===n?void 0:n.role)||"recruiter"===(null===n||void 0===n?void 0:n.userType),l="werkzoekende"===(null===n||void 0===n?void 0:n.role)||"werkzoekende"===(null===n||void 0===n?void 0:n.userType);return(0,i.useEffect)((()=>{console.log("Header userProfile:",n),console.log("isRecruiter:",o),console.log("isJobSeeker:",l)}),[n,o,l]),(0,qv.jsx)("header",{className:"w-full "+(s?"bg-transparent absolute top-0 z-10":"bg-white shadow-sm"),children:(0,qv.jsx)("div",{className:"container mx-auto px-4 py-4",children:(0,qv.jsxs)("div",{className:"flex justify-between items-center",children:[(0,qv.jsx)(De,{to:"/",className:"flex items-center",children:(0,qv.jsx)("span",{className:"text-2xl font-bold "+(s?"text-white":"text-primary-600"),children:"PitchPro"})}),(0,qv.jsxs)("nav",{className:"hidden md:flex space-x-6",children:[(0,qv.jsx)(De,{to:"/",className:(s?"text-white":"text-gray-700")+" hover:opacity-80",children:"Home"}),(0,qv.jsx)(De,{to:"/about",className:(s?"text-white":"text-gray-700")+" hover:opacity-80",children:"Over ons"}),o&&(0,qv.jsx)(De,{to:"/candidates",className:(s?"text-white":"text-gray-700")+" hover:opacity-80",children:"Kandidaten"}),!o&&e&&(0,qv.jsx)(De,{to:"/jobs",className:(s?"text-white":"text-gray-700")+" hover:opacity-80",children:"Vacatures"}),e&&(0,qv.jsx)(De,{to:"/dashboard",className:(s?"text-white":"text-gray-700")+" hover:opacity-80",children:"Dashboard"})]}),(0,qv.jsx)("div",{className:"flex items-center",children:e?(0,qv.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qv.jsxs)(De,{to:"/messages",className:(s?"text-white":"text-gray-700")+" hover:opacity-80 relative","aria-label":"Berichten",children:[(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,qv.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})}),a>0&&(0,qv.jsx)("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center",children:a>99?"99+":a})]}),o&&(0,qv.jsx)(De,{to:"/agenda",className:(s?"text-white":"text-gray-700")+" hover:opacity-80 relative","aria-label":"Agenda",children:(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,qv.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,qv.jsx)(De,{to:"/profile",className:(s?"text-white":"text-gray-700")+" hover:opacity-80",children:"Profiel"}),(0,qv.jsx)("button",{onClick:()=>t(),className:`px-4 py-2 rounded-md ${s?"border border-white text-white hover:bg-white hover:text-primary-600":"border border-primary-600 text-primary-600 hover:bg-primary-600 hover:text-white"} transition-colors`,children:"Uitloggen"})]}):(0,qv.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,qv.jsx)(De,{to:"/login",className:(s?"text-white":"text-gray-700")+" hover:opacity-80",children:"Inloggen"}),(0,qv.jsx)(De,{to:"/register",className:`px-4 py-2 rounded-md ${s?"bg-white text-primary-600 hover:bg-opacity-90":"bg-primary-600 text-white hover:bg-primary-700"} transition-colors`,children:"Registreren"})]})})]})})})},tx=()=>{const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(!1);return(0,qv.jsx)("footer",{className:"bg-gray-800 text-white py-12",children:(0,qv.jsxs)("div",{className:"container mx-auto px-4",children:[(0,qv.jsx)("div",{className:"mb-12 border-b border-gray-700 pb-10",children:(0,qv.jsxs)("div",{className:"max-w-xl mx-auto text-center",children:[(0,qv.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"Blijf op de hoogte"}),(0,qv.jsx)("p",{className:"text-gray-400 mb-6",children:"Meld je aan voor onze nieuwsbrief en ontvang de nieuwste vacatures en tips rechtstreeks in je inbox."}),n?(0,qv.jsx)("div",{className:"bg-green-800 text-green-100 rounded-md p-3 mb-4",children:"Bedankt voor je aanmelding! Je ontvangt binnenkort onze nieuwsbrief."}):(0,qv.jsxs)("form",{onSubmit:n=>{n.preventDefault(),console.log("Aangemeld voor nieuwsbrief met email:",e),r(!0),t(""),setTimeout((()=>{r(!1)}),5e3)},className:"flex flex-col sm:flex-row gap-2 justify-center",children:[(0,qv.jsx)("input",{type:"email",value:e,onChange:e=>t(e.target.value),placeholder:"Jouw e-mailadres",required:!0,className:"px-4 py-2 rounded-md bg-gray-700 text-white border border-gray-600 focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent flex-grow max-w-xs"}),(0,qv.jsx)("button",{type:"submit",className:"px-6 py-2 bg-primary-600 text-white font-medium rounded-md hover:bg-primary-700 transition-colors",children:"Aanmelden"})]})]})}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-8",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h3",{className:"text-xl font-bold mb-4",children:"PitchPro"}),(0,qv.jsx)("p",{className:"text-gray-400 mb-4",children:"Het moderne recruitmentplatform dat kandidaten en recruiters met elkaar verbindt."})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Links"}),(0,qv.jsxs)("ul",{className:"space-y-2 text-gray-400",children:[(0,qv.jsx)("li",{children:(0,qv.jsx)("a",{href:"/",className:"hover:text-white transition-colors",children:"Home"})}),(0,qv.jsx)("li",{children:(0,qv.jsx)("a",{href:"/jobs",className:"hover:text-white transition-colors",children:"Vacatures"})}),(0,qv.jsx)("li",{children:(0,qv.jsx)("a",{href:"/candidates",className:"hover:text-white transition-colors",children:"Kandidaten"})}),(0,qv.jsx)("li",{children:(0,qv.jsx)("a",{href:"/about",className:"hover:text-white transition-colors",children:"Over ons"})})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Juridisch"}),(0,qv.jsxs)("ul",{className:"space-y-2 text-gray-400",children:[(0,qv.jsx)("li",{children:(0,qv.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Privacy"})}),(0,qv.jsx)("li",{children:(0,qv.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Voorwaarden"})}),(0,qv.jsx)("li",{children:(0,qv.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Cookiebeleid"})})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Volg ons"}),(0,qv.jsxs)("div",{className:"flex space-x-4",children:[(0,qv.jsx)("a",{href:"https://linkedin.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white","aria-label":"LinkedIn",children:(0,qv.jsx)("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,qv.jsx)("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm-11 19h-3v-11h3v11zm-1.5-12.268c-.966 0-1.75-.79-1.75-1.764s.784-1.764 1.75-1.764 1.75.79 1.75 1.764-.783 1.764-1.75 1.764zm13.5 12.268h-3v-5.604c0-3.368-4-3.113-4 0v5.604h-3v-11h3v1.765c1.396-2.586 7-2.777 7 2.476v6.759z"})})}),(0,qv.jsx)("a",{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white","aria-label":"Twitter",children:(0,qv.jsx)("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,qv.jsx)("path",{d:"M23.954 4.569c-.885.389-1.83.654-2.825.775 1.014-.611 1.794-1.574 2.163-2.723-.951.555-2.005.959-3.127 1.184-.896-.959-2.173-1.559-3.591-1.559-2.717 0-4.92 2.203-4.92 4.917 0 .39.045.765.127 1.124-4.09-.193-7.715-2.157-10.141-5.126-.427.722-.666 1.561-.666 2.475 0 1.71.87 3.213 2.188 4.096-.807-.026-1.566-.248-2.228-.616v.061c0 2.385 1.693 4.374 3.946 4.827-.413.111-.849.171-1.296.171-.314 0-.615-.03-.916-.086.631 1.953 2.445 3.377 4.604 3.417-1.68 1.319-3.809 2.105-6.102 2.105-.39 0-.779-.023-1.17-.067 2.189 1.394 4.768 2.209 7.557 2.209 9.054 0 14-7.503 14-14 0-.21-.005-.418-.015-.628.961-.689 1.8-1.56 2.46-2.548l-.047-.02z"})})}),(0,qv.jsx)("a",{href:"https://facebook.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white","aria-label":"Facebook",children:(0,qv.jsx)("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,qv.jsx)("path",{d:"M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"})})}),(0,qv.jsx)("a",{href:"https://instagram.com",target:"_blank",rel:"noopener noreferrer",className:"text-gray-400 hover:text-white","aria-label":"Instagram",children:(0,qv.jsx)("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24",children:(0,qv.jsx)("path",{d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"})})})]})]})]}),(0,qv.jsxs)("div",{className:"mt-12 pt-8 border-t border-gray-700 text-center text-gray-400 text-sm",children:["\xa9 ",(new Date).getFullYear()," PitchPro. Alle rechten voorbehouden."]})]})})},nx=()=>{const{currentUser:e}=Gv();return(0,qv.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,qv.jsx)(ex,{}),(0,qv.jsx)("div",{className:"bg-gradient-to-br from-primary-600 to-primary-800 text-white pt-20",children:(0,qv.jsx)("div",{className:"container mx-auto px-4 py-16 md:py-24",children:(0,qv.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,qv.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Vind de perfecte match tussen talent en organisaties"}),(0,qv.jsx)("p",{className:"text-xl mb-8 text-primary-100",children:"Het moderne recruitmentplatform dat kandidaten en recruiters samenbrengt"}),(0,qv.jsx)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:e?(0,qv.jsx)(De,{to:"/dashboard",className:"px-8 py-3 bg-white text-primary-700 font-medium rounded-md hover:bg-gray-100 transition-colors shadow-md",children:"Naar Dashboard"}):(0,qv.jsxs)(qv.Fragment,{children:[(0,qv.jsx)(De,{to:"/register",className:"px-8 py-3 bg-white text-primary-700 font-medium rounded-md hover:bg-gray-100 transition-colors shadow-md",children:"Registreren"}),(0,qv.jsx)(De,{to:"/login",className:"px-8 py-3 border border-white text-white font-medium rounded-md hover:bg-primary-700 transition-colors",children:"Inloggen"})]})})]})})}),(0,qv.jsx)("div",{id:"functions",className:"container mx-auto px-4 py-16",children:(0,qv.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,qv.jsx)("h2",{className:"text-3xl font-bold mb-6 text-center text-gray-800",children:"Vakgebieden en functies"}),(0,qv.jsx)("p",{className:"text-gray-700 mb-8 text-center max-w-3xl mx-auto",children:"Ontdek de verschillende vakgebieden en functies waar PitchPro zich op richt. Ons platform verbindt professionals uit diverse disciplines met de perfecte werkgevers."}),(0,qv.jsx)("div",{className:"space-y-8",children:[{id:1,title:"Software Development",description:"Ontwikkel applicaties en software-oplossingen voor diverse platforms en doeleinden.",roles:["Frontend Developer","Backend Developer","Full Stack Developer","Mobile Developer","DevOps Engineer"]},{id:2,title:"Design",description:"Cre\xeber visueel aantrekkelijke en gebruiksvriendelijke designs voor digitale producten.",roles:["UX Designer","UI Designer","Product Designer","Graphic Designer","Motion Designer"]},{id:3,title:"Product Management",description:"Leid de ontwikkeling van producten van concept tot lancering en verdere iteraties.",roles:["Product Manager","Product Owner","Program Manager","Technical Product Manager"]},{id:4,title:"Data",description:"Analyseer, verwerk en visualiseer data om inzichten te genereren en besluitvorming te ondersteunen.",roles:["Data Analyst","Data Scientist","Data Engineer","Business Intelligence Analyst"]},{id:5,title:"Marketing",description:"Promoot producten en diensten om bewustzijn te cre\xebren en nieuwe klanten aan te trekken.",roles:["Content Marketeer","SEO Specialist","Social Media Manager","Growth Hacker"]}].map((e=>(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,qv.jsxs)("div",{className:"p-6",children:[(0,qv.jsx)("h2",{className:"text-2xl font-semibold mb-3",children:e.title}),(0,qv.jsx)("p",{className:"text-gray-700 mb-5",children:e.description}),(0,qv.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Populaire functies:"}),(0,qv.jsx)("div",{className:"flex flex-wrap gap-2",children:e.roles.map(((e,t)=>(0,qv.jsx)("span",{className:"px-3 py-1 bg-primary-50 text-primary-700 rounded-full text-sm font-medium",children:e},t)))})]}),(0,qv.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100",children:(0,qv.jsxs)("button",{className:"text-primary-600 font-medium hover:text-primary-800 transition-colors",children:["Bekijk alle ",e.title.toLowerCase()," vacatures \u2192"]})})]},e.id)))})]})}),(0,qv.jsx)("div",{id:"features",className:"bg-gray-50 py-16",children:(0,qv.jsxs)("div",{className:"container mx-auto px-4",children:[(0,qv.jsx)("h2",{className:"text-3xl font-bold mb-12 text-center text-gray-800",children:"Waarom PitchPro?"}),(0,qv.jsxs)("div",{className:"grid md:grid-cols-3 gap-8",children:[(0,qv.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,qv.jsx)("div",{className:"w-12 h-12 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center mb-4",children:(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,qv.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 8h2a2 2 0 012 2v6a2 2 0 01-2 2h-2v4l-4-4H9a1.994 1.994 0 01-1.414-.586m0 0L11 14h4a2 2 0 002-2V6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2v4l.586-.586z"})})}),(0,qv.jsx)("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Directe Communicatie"}),(0,qv.jsx)("p",{className:"text-gray-600",children:"Communiceer direct met kandidaten en recruiters via ons ingebouwde chatsysteem"})]}),(0,qv.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,qv.jsx)("div",{className:"w-12 h-12 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center mb-4",children:(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,qv.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),(0,qv.jsx)("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Slimme Matching"}),(0,qv.jsx)("p",{className:"text-gray-600",children:"Ons platform zorgt voor de perfecte match tussen kandidaten en vacatures"})]}),(0,qv.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,qv.jsx)("div",{className:"w-12 h-12 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center mb-4",children:(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,qv.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,qv.jsx)("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Effici\xebnt Proces"}),(0,qv.jsx)("p",{className:"text-gray-600",children:"Stroomlijn het volledige wervingsproces op \xe9\xe9n centrale plek"})]})]})]})}),(0,qv.jsx)("div",{className:"container mx-auto px-4 py-16",children:(0,qv.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,qv.jsx)("h2",{className:"text-3xl font-bold mb-6 text-gray-800",children:"Klaar om te beginnen?"}),(0,qv.jsx)("p",{className:"text-xl mb-8 text-gray-600",children:"Meld je vandaag nog aan bij PitchPro en ontdek het moderne recruitment platform"}),(0,qv.jsx)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:e?(0,qv.jsx)(De,{to:"/dashboard",className:"px-8 py-3 bg-primary-600 text-white font-medium rounded-md hover:bg-primary-700 transition-colors shadow-md",children:"Naar Dashboard"}):(0,qv.jsxs)(qv.Fragment,{children:[(0,qv.jsx)(De,{to:"/register",className:"px-8 py-3 bg-primary-600 text-white font-medium rounded-md hover:bg-primary-700 transition-colors shadow-md",children:"Registreren"}),(0,qv.jsx)(De,{to:"/login",className:"px-8 py-3 border border-primary-600 text-primary-600 font-medium rounded-md hover:bg-primary-50 transition-colors",children:"Inloggen"})]})})]})}),(0,qv.jsx)(tx,{})]})},rx=()=>(0,qv.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,qv.jsx)(ex,{}),(0,qv.jsx)("div",{className:"bg-gradient-to-br from-primary-600 to-primary-800 text-white pt-20",children:(0,qv.jsx)("div",{className:"container mx-auto px-4 py-16 md:py-24",children:(0,qv.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,qv.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Over PitchPro"}),(0,qv.jsx)("p",{className:"text-xl mb-8 text-primary-100",children:"PitchPro is geboren uit de wens om talent en bedrijven effici\xebnt en mensgericht te verbinden. Ons innovatieve platform combineert geavanceerde technologie met persoonlijke betrokkenheid om echte matches te cre\xebren, gebaseerd op de unieke verhalen achter elk CV. Ontdek een nieuwe manier van recruitment waarin elke pitch het startpunt is voor succes."})]})})}),(0,qv.jsx)("div",{className:"container mx-auto px-4 py-16",children:(0,qv.jsx)("div",{className:"max-w-5xl mx-auto",children:(0,qv.jsxs)("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h2",{className:"text-3xl font-bold mb-4 text-gray-800",children:"Onze missie"}),(0,qv.jsx)("div",{className:"h-1 w-24 bg-primary-600 mb-6"}),(0,qv.jsx)("p",{className:"text-gray-700 mb-4 leading-relaxed",children:"Bij PitchPro hebben we een duidelijke missie: het revolutioneren van het recruitment proces door technologie en menselijke connectie samen te brengen. Ons platform maakt het voor werkzoekenden eenvoudiger om hun talenten te tonen en voor recruiters om de perfecte match te vinden."}),(0,qv.jsx)("p",{className:"text-gray-700 leading-relaxed",children:"We geloven dat de juiste baan vinden of de juiste kandidaat aannemen niet alleen om vaardigheden en ervaring draait, maar ook om persoonlijkheid, waarden en cultuur."})]}),(0,qv.jsxs)("div",{className:"bg-primary-50 p-8 rounded-lg shadow-md",children:[(0,qv.jsx)("h3",{className:"text-2xl font-semibold mb-4 text-primary-700",children:"Visie voor de toekomst"}),(0,qv.jsx)("p",{className:"text-gray-700 mb-4",children:"Ons doel is om een platform te bouwen dat niet alleen de huidige behoeften van de arbeidsmarkt vervult, maar ook anticipeert op toekomstige ontwikkelingen."}),(0,qv.jsx)("p",{className:"text-gray-700",children:"We streven ernaar om de meest innovatieve en gebruiksvriendelijke recruitment-oplossing in de markt te worden, die mensen helpt hun volledige potentieel te benutten."})]})]})})}),(0,qv.jsx)("div",{className:"bg-gray-50 py-16",children:(0,qv.jsx)("div",{className:"container mx-auto px-4",children:(0,qv.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,qv.jsxs)("div",{className:"text-center mb-12",children:[(0,qv.jsx)("h2",{className:"text-3xl font-bold mb-4 text-gray-800",children:"Ons team"}),(0,qv.jsx)("div",{className:"h-1 w-24 bg-primary-600 mx-auto mb-6"}),(0,qv.jsx)("p",{className:"text-gray-700 max-w-3xl mx-auto",children:"PitchPro is opgericht door een team van experts met jarenlange ervaring in recruitment, technologie en gebruikerservaring. Ons diverse team werkt elke dag aan het verbeteren van ons platform om de beste ervaring te bieden voor zowel werkzoekenden als recruiters."})]}),(0,qv.jsx)("div",{className:"grid md:grid-cols-3 gap-8",children:[{name:"Jaap de Vries",role:"CEO & Oprichter",avatar:"\ud83d\udc68\u200d\ud83d\udcbc"},{name:"Laura Jansen",role:"CTO",avatar:"\ud83d\udc69\u200d\ud83d\udcbb"},{name:"Mark Bakker",role:"Head of Design",avatar:"\ud83d\udc68\u200d\ud83c\udfa8"}].map(((e,t)=>(0,qv.jsxs)("div",{className:"bg-white rounded-lg overflow-hidden shadow-md text-center transition-transform hover:transform hover:scale-105",children:[(0,qv.jsx)("div",{className:"p-8 bg-primary-600 text-white text-5xl",children:e.avatar}),(0,qv.jsxs)("div",{className:"p-6",children:[(0,qv.jsx)("h3",{className:"text-xl font-semibold mb-1 text-gray-800",children:e.name}),(0,qv.jsx)("p",{className:"text-primary-600 mb-4",children:e.role}),(0,qv.jsxs)("div",{className:"flex justify-center space-x-3",children:[(0,qv.jsx)("button",{className:"text-gray-500 hover:text-primary-600",children:(0,qv.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,qv.jsx)("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})}),(0,qv.jsx)("button",{className:"text-gray-500 hover:text-primary-600",children:(0,qv.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z",clipRule:"evenodd"})})}),(0,qv.jsx)("button",{className:"text-gray-500 hover:text-primary-600",children:(0,qv.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10c5.51 0 10-4.48 10-10S17.51 2 12 2zm6.605 4.61a8.502 8.502 0 011.93 5.314c-.281-.054-3.101-.629-5.943-.271-.065-.141-.12-.293-.184-.445a25.416 25.416 0 00-.564-1.236c3.145-1.28 4.577-3.124 4.761-3.362zM12 3.475c2.17 0 4.154.813 5.662 2.148-.152.216-1.443 1.941-4.48 3.08-1.399-2.57-2.95-4.675-3.189-5A8.687 8.687 0 0112 3.475zm-3.633.803a53.896 53.896 0 013.167 4.935c-3.992 1.063-7.517 1.04-7.896 1.04a8.581 8.581 0 014.729-5.975zM3.453 12.01v-.21c.37.01 4.512.065 8.775-1.215.25.477.477.965.694 1.453-.109.033-.228.065-.336.098-4.404 1.42-6.747 5.303-6.942 5.629a8.522 8.522 0 01-2.19-5.705zM12 20.547a8.482 8.482 0 01-5.239-1.8c.152-.315 1.888-3.656 6.703-5.337.022-.01.033-.01.054-.022a35.318 35.318 0 011.823 6.475 8.4 8.4 0 01-3.341.684zm4.761-1.465c-.086-.52-.542-3.015-1.659-6.084 2.679-.423 5.022.271 5.314.369a8.468 8.468 0 01-3.655 5.715z",clipRule:"evenodd"})})})]})]})]},t)))})]})})}),(0,qv.jsx)("div",{className:"container mx-auto px-4 py-16",children:(0,qv.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,qv.jsx)("h2",{className:"text-3xl font-bold mb-4 text-gray-800",children:"Onze waarden"}),(0,qv.jsx)("div",{className:"h-1 w-24 bg-primary-600 mb-12"}),(0,qv.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,qv.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-primary-600",children:[(0,qv.jsx)("div",{className:"w-12 h-12 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center mb-4",children:(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,qv.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,qv.jsx)("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Transparantie"}),(0,qv.jsx)("p",{className:"text-gray-600",children:"We geloven in eerlijke en open communicatie tussen alle partijen en bevorderen vertrouwen door transparantie in al onze activiteiten."})]}),(0,qv.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-primary-600",children:[(0,qv.jsx)("div",{className:"w-12 h-12 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center mb-4",children:(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,qv.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.663 17h4.673M12 3v1m6.364 1.636l-.707.707M21 12h-1M4 12H3m3.343-5.657l-.707-.707m2.828 9.9a5 5 0 117.072 0l-.548.547A3.374 3.374 0 0014 18.469V19a2 2 0 11-4 0v-.531c0-.895-.356-1.754-.988-2.386l-.548-.547z"})})}),(0,qv.jsx)("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Innovatie"}),(0,qv.jsx)("p",{className:"text-gray-600",children:"We blijven continu verbeteren en nieuwe oplossingen zoeken om het recruitment proces effici\xebnter en effectiever te maken voor alle betrokkenen."})]}),(0,qv.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-primary-600",children:[(0,qv.jsx)("div",{className:"w-12 h-12 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center mb-4",children:(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,qv.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})})}),(0,qv.jsx)("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Inclusiviteit"}),(0,qv.jsx)("p",{className:"text-gray-600",children:"We streven naar een diverse en inclusieve arbeidsmarkt waar iedereen gelijke kansen heeft, ongeacht achtergrond, identiteit of levenservaring."})]}),(0,qv.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md border-l-4 border-primary-600",children:[(0,qv.jsx)("div",{className:"w-12 h-12 bg-primary-100 text-primary-600 rounded-full flex items-center justify-center mb-4",children:(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,qv.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})}),(0,qv.jsx)("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:"Kwaliteit"}),(0,qv.jsx)("p",{className:"text-gray-600",children:"We zetten ons in voor de hoogste kwaliteit in alles wat we doen en streven ernaar om excellentie te leveren in elke interactie en elk aspect van ons platform."})]})]})]})}),(0,qv.jsx)("div",{className:"bg-primary-700 text-white py-16",children:(0,qv.jsx)("div",{className:"container mx-auto px-4",children:(0,qv.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,qv.jsx)("h2",{className:"text-3xl font-bold mb-6",children:"Neem contact met ons op"}),(0,qv.jsx)("p",{className:"text-xl mb-8 text-primary-100",children:"Wil je meer weten over PitchPro? Ons team staat klaar om je vragen te beantwoorden."}),(0,qv.jsx)("button",{className:"px-8 py-3 bg-white text-primary-700 font-medium rounded-md hover:bg-primary-50 transition-colors shadow-md",children:"Contact opnemen"})]})})}),(0,qv.jsx)(tx,{})]}),ix=()=>{const[e,t]=(0,i.useState)([]),[n,r]=(0,i.useState)(!0),[s,a]=(0,i.useState)(null),o=ee();return(0,i.useEffect)((()=>{(async()=>{try{const e=wf(Pm(Uv,"users"),Nf("userType","in",["jobseeker","werkzoekende"])),n=await zf(e),i=[];n.forEach((e=>{var t,n,r;const s=e.data();var a,o,l,c,u,d,h,m;(console.log("Candidate data:",s),console.log(`Beschikbaarheid voor ${s.displayName||s.name||"onbekend"}:`,{"isAvailableForWork (root)":s.isAvailableForWork,"profile.isAvailableForWork":null===(t=s.profile)||void 0===t?void 0:t.isAvailableForWork,"Wordt getoond (data.profile?.isAvailableForWork === true)":!0===(null===(n=s.profile)||void 0===n?void 0:n.isAvailableForWork)}),!0===(null===(r=s.profile)||void 0===r?void 0:r.isAvailableForWork)||!0===s.isAvailableForWork)&&i.push({id:e.id,name:s.displayName||s.name||"Onbekende naam",role:(null===(a=s.professionalDetails)||void 0===a?void 0:a.jobTitle)||(null===(o=s.profile)||void 0===o?void 0:o.jobTitle)||s.jobTitle||"Geen functie opgegeven",experience:null!==(l=s.professionalDetails)&&void 0!==l&&l.yearsOfExperience?`${s.professionalDetails.yearsOfExperience} jaar`:(null===(c=s.profile)||void 0===c?void 0:c.experience)||s.experience||"Ervaring onbekend",skills:(null===(u=s.professionalDetails)||void 0===u?void 0:u.skills)||(null===(d=s.profile)||void 0===d?void 0:d.skills)||s.skills||[],location:s.location||s.city||"Locatie onbekend",available:!0===(null===(h=s.profile)||void 0===h?void 0:h.isAvailableForWork)||!0===s.isAvailableForWork,profileImage:s.profilePhoto||s.profileImageURL||s.photoURL||(null===(m=s.profile)||void 0===m?void 0:m.profilePhoto)||void 0})})),t(i),r(!1)}catch(e){console.error("Error fetching candidates:",e),a("Er is een fout opgetreden bij het laden van de kandidaten."),r(!1)}})()}),[]),n?(0,qv.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,qv.jsx)(ex,{}),(0,qv.jsx)("div",{className:"w-full bg-gradient-to-r from-primary-600 to-primary-800 text-white py-32 mb-8",children:(0,qv.jsxs)("div",{className:"container mx-auto px-4",children:[(0,qv.jsx)("h1",{className:"text-4xl font-bold mb-6 text-center",children:"Kandidaten"}),(0,qv.jsx)("div",{className:"h-4 bg-primary-300 bg-opacity-30 rounded w-2/3 mx-auto mb-8"})]})}),(0,qv.jsx)("div",{className:"container mx-auto px-4 py-12 text-center",children:(0,qv.jsxs)("div",{className:"animate-pulse",children:[(0,qv.jsx)("div",{className:"h-8 bg-gray-200 rounded w-1/4 mx-auto mb-6"}),(0,qv.jsx)("div",{className:"h-4 bg-gray-200 rounded w-2/3 mx-auto mb-8"}),(0,qv.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3,4,5,6].map((e=>(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,qv.jsxs)("div",{className:"p-6",children:[(0,qv.jsx)("div",{className:"h-6 bg-gray-200 rounded w-3/4 mb-4"}),(0,qv.jsx)("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),(0,qv.jsx)("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-6"}),(0,qv.jsx)("div",{className:"flex flex-wrap gap-2 mb-4",children:[1,2,3,4].map((e=>(0,qv.jsx)("div",{className:"h-6 bg-gray-200 rounded w-16"},e)))})]}),(0,qv.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100",children:(0,qv.jsx)("div",{className:"h-10 bg-gray-200 rounded"})})]},e)))})]})}),(0,qv.jsx)(tx,{})]}):s?(0,qv.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,qv.jsx)(ex,{}),(0,qv.jsx)("div",{className:"w-full bg-gradient-to-r from-primary-600 to-primary-800 text-white py-32 mb-8",children:(0,qv.jsx)("div",{className:"container mx-auto px-4",children:(0,qv.jsx)("h1",{className:"text-4xl font-bold mb-6 text-center",children:"Kandidaten"})})}),(0,qv.jsx)("div",{className:"container mx-auto px-4 py-12 text-center",children:(0,qv.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,qv.jsx)("svg",{className:"w-16 h-16 text-red-500 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,qv.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,qv.jsx)("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Probleem bij het laden"}),(0,qv.jsx)("p",{className:"text-gray-600 mb-6",children:s}),(0,qv.jsx)("button",{onClick:()=>window.location.reload(),className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"Probeer opnieuw"})]})}),(0,qv.jsx)(tx,{})]}):0===e.length?(0,qv.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,qv.jsx)(ex,{}),(0,qv.jsx)("div",{className:"w-full bg-gradient-to-r from-primary-600 to-primary-800 text-white py-32 mb-8",children:(0,qv.jsx)("div",{className:"container mx-auto px-4",children:(0,qv.jsx)("h1",{className:"text-4xl font-bold mb-6 text-center",children:"Kandidaten"})})}),(0,qv.jsx)("div",{className:"container mx-auto px-4 py-12 text-center",children:(0,qv.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,qv.jsx)("svg",{className:"w-16 h-16 text-primary-600 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,qv.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M20 13V6a2 2 0 00-2-2H6a2 2 0 00-2 2v7m16 0v5a2 2 0 01-2 2H6a2 2 0 01-2-2v-5m16 0h-2.586a1 1 0 00-.707.293l-2.414 2.414a1 1 0 01-.707.293h-3.172a1 1 0 01-.707-.293l-2.414-2.414A1 1 0 006.586 13H4"})}),(0,qv.jsx)("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Geen kandidaten gevonden"}),(0,qv.jsx)("p",{className:"text-gray-600",children:"Er zijn momenteel geen kandidaten beschikbaar in het systeem. Kom later terug om nieuwe profielen te bekijken."})]})}),(0,qv.jsx)(tx,{})]}):(0,qv.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,qv.jsx)(ex,{}),(0,qv.jsx)("div",{className:"w-full bg-gradient-to-r from-primary-600 to-primary-800 text-white py-32 mb-8",children:(0,qv.jsxs)("div",{className:"container mx-auto px-4",children:[(0,qv.jsx)("h1",{className:"text-4xl font-bold mb-6 text-center",children:"Kandidaten"}),(0,qv.jsx)("p",{className:"text-xl text-center max-w-3xl mx-auto",children:"Bekijk onze hoogwaardige kandidaten die klaar zijn voor hun volgende uitdaging. Neem contact op om meer te weten te komen."})]})}),(0,qv.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,qv.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:e.map((e=>(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,qv.jsxs)("div",{className:"p-6",children:[(0,qv.jsx)("div",{className:"flex justify-center mb-4",children:e.profileImage?(0,qv.jsxs)(qv.Fragment,{children:[(0,qv.jsx)("img",{src:e.profileImage,alt:`Profielfoto van ${e.name}`,className:"w-24 h-24 rounded-full object-cover border-2 border-primary-200",onError:t=>{console.error(`Fout bij laden profielfoto voor ${e.name}:`,e.profileImage),t.currentTarget.style.display="none";const n=t.currentTarget.parentElement;if(n){const e=n.querySelector(".fallback-avatar");e&&e.classList.remove("hidden")}}}),(0,qv.jsx)("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 text-2xl border-2 border-gray-300 hidden fallback-avatar",children:e.name.charAt(0).toUpperCase()})]}):(0,qv.jsx)("div",{className:"w-24 h-24 rounded-full bg-gray-200 flex items-center justify-center text-gray-500 text-2xl border-2 border-gray-300",children:e.name.charAt(0).toUpperCase()})}),(0,qv.jsx)("h2",{className:"text-xl font-semibold mb-2 text-center",children:e.name}),(0,qv.jsx)("p",{className:"text-primary-600 font-medium mb-2",children:e.role}),(0,qv.jsxs)("p",{className:"text-gray-600 mb-4",children:[e.location," \u2022 ",e.experience]}),(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsx)("h3",{className:"text-sm font-medium text-gray-600 mb-2",children:"Vaardigheden:"}),(0,qv.jsx)("div",{className:"flex flex-wrap gap-2",children:e.skills.map(((e,t)=>(0,qv.jsx)("span",{className:"px-2 py-1 bg-gray-100 text-gray-700 text-xs rounded-full",children:e},t)))})]}),(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("span",{className:"inline-block w-3 h-3 rounded-full mr-2 "+(e.available?"bg-green-500":"bg-red-500")}),(0,qv.jsx)("span",{className:"text-sm text-gray-600",children:e.available?"Beschikbaar":"Niet beschikbaar"})]})]}),(0,qv.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-100",children:(0,qv.jsx)("button",{onClick:()=>o(`/candidate/${e.id}`),className:"w-full py-2 px-4 bg-primary-600 hover:bg-primary-700 text-white rounded-md transition-colors",children:"Bekijk profiel"})})]},e.id)))})}),(0,qv.jsx)(tx,{})]})},sx=()=>{var e,t,n,r,s,a,o;const{id:l}=ne(),c=ee(),[u,d]=(0,i.useState)(null),[h,m]=(0,i.useState)(!0),[f,p]=(0,i.useState)(null),[g,v]=(0,i.useState)("overview"),[y,b]=(0,i.useState)(!1),x=(0,i.useRef)(null);(0,i.useEffect)((()=>{(async()=>{if(!l)return p("Geen kandidaat ID gevonden"),void m(!1);try{const s=Om(Uv,"users",l),a=await Uf(s);if(a.exists()){var e,t,n,r,i;const s=a.data();console.log("Gebruikersgegevens geladen:",s),console.log("Profile photo fields:",{photoURL:s.photoURL,profilePhoto:s.profilePhoto,profileImageURL:s.profileImageURL,profileImage:s.profileImage,"profile.profilePhoto":null===(e=s.profile)||void 0===e?void 0:e.profilePhoto}),console.log("Beschikbaarheid velden:",{"isAvailableForWork (root)":s.isAvailableForWork,"profile.isAvailableForWork":null===(t=s.profile)||void 0===t?void 0:t.isAvailableForWork,"available na toewijzing":!0===s.isAvailableForWork||!0===(null===(n=s.profile)||void 0===n?void 0:n.isAvailableForWork)});const o=Pm(Uv,"users",l,"cv"),c=await zf(o);let u;console.log("CV collectie bestaat. Aantal documenten:",c.size),console.log("CV documenten IDs:",c.docs.map((e=>e.id)));let h="main";if(c.empty)console.log("Geen CV documenten gevonden in de subcollectie");else{const e=c.docs.find((e=>"main"===e.id));e?(u=e.data(),console.log("CV 'main' document gevonden:",u)):(h=c.docs[0].id,u=c.docs[0].data(),console.log(`Geen 'main' document gevonden, gebruikte eerste document met ID ${h}:`,u))}d({id:a.id,...s,name:s.displayName||s.name||"Onbekende naam",profileImage:s.profilePhoto||s.profileImageURL||s.photoURL||(null===(r=s.profile)||void 0===r?void 0:r.profilePhoto),available:!0===s.isAvailableForWork||!0===(null===(i=s.profile)||void 0===i?void 0:i.isAvailableForWork),cv:u||void 0}),console.log("CV gegevens in candidate state:",u)}else p("Kandidaat niet gevonden");m(!1)}catch(s){console.error("Error fetching candidate:",s),p("Er is een fout opgetreden bij het laden van de kandidaat"),m(!1)}})()}),[l]),(0,i.useEffect)((()=>{if(u){var e;const t=u.profilePhoto||u.profileImageURL||u.photoURL||(null===(e=u.profile)||void 0===e?void 0:e.profilePhoto);t?(console.log("Profielfoto URL gevonden:",t),console.log("Veld dat wordt gebruikt:",u.profilePhoto?"profilePhoto":u.profileImageURL?"profileImageURL":u.photoURL?"photoURL":"profile.profilePhoto")):console.log("Geen profielfoto URL beschikbaar")}}),[u]);const w=()=>{c(`/schedule-meeting/${l}`)},j=()=>{c(`/chat/${l}`)},N=e=>{if(!e)return"Heden";try{return(e.toDate?e.toDate():new Date(e)).toLocaleDateString("nl-NL",{year:"numeric",month:"long"})}catch(f){return console.error("Error formatting date:",f),"Onbekende datum"}};if(h)return(0,qv.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,qv.jsx)(ex,{}),(0,qv.jsx)("div",{className:"container mx-auto px-4 py-32 flex justify-center",children:(0,qv.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}),(0,qv.jsx)(tx,{})]});if(f||!u)return(0,qv.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,qv.jsx)(ex,{}),(0,qv.jsx)("div",{className:"container mx-auto px-4 py-32 text-center",children:(0,qv.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,qv.jsx)("svg",{className:"w-16 h-16 text-red-500 mx-auto mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,qv.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,qv.jsx)("h2",{className:"text-2xl font-bold mb-4 text-gray-800",children:"Kandidaat niet gevonden"}),(0,qv.jsx)("p",{className:"text-gray-600 mb-6",children:f||"Deze kandidaat bestaat niet of is verwijderd."}),(0,qv.jsx)("button",{onClick:()=>c("/candidates"),className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"Terug naar kandidaten"})]})}),(0,qv.jsx)(tx,{})]});const k=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e;return u[n]&&"string"===typeof u[n]?u[n]:u.professionalDetails&&u.professionalDetails[e]?u.professionalDetails[e]:u.profile&&u.profile[e]?u.profile[e]:t},_=k("jobTitle","Functie onbekend"),E=k("bio",k("about","")),S=u.skills||(null===(e=u.professionalDetails)||void 0===e?void 0:e.skills)||(null===(t=u.profile)||void 0===t?void 0:t.skills)||[],C=u.location||u.city||"Locatie onbekend",T=("number"===typeof(null===(n=u.professionalDetails)||void 0===n?void 0:n.yearsOfExperience)?u.professionalDetails.yearsOfExperience:u.experience||(null===(r=u.profile)||void 0===r||r.experience),u.cv);console.log("CV data in render:",T);const I=e=>e&&Array.isArray(e)?e:[],A=(null===T||void 0===T?void 0:T.overMij)||E,D=I(null===T||void 0===T?void 0:T.werkervaring),R=I(null===T||void 0===T?void 0:T.opleiding),P=I(null===T||void 0===T?void 0:T.stages),O=I(null===T||void 0===T?void 0:T.certificaten);return console.log("CV sectie gegevens:"),console.log("- aboutMe:",A),console.log("- workExperience:",D,"length:",null===D||void 0===D?void 0:D.length),console.log("- education:",R,"length:",null===R||void 0===R?void 0:R.length),console.log("- internships:",P,"length:",null===P||void 0===P?void 0:P.length),console.log("- certificates:",O,"length:",null===O||void 0===O?void 0:O.length),(0,qv.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,qv.jsx)(ex,{}),(0,qv.jsxs)("div",{className:"container mx-auto px-4 py-32",children:[(0,qv.jsx)("div",{className:"mb-6",children:(0,qv.jsxs)("button",{onClick:()=>c("/candidates"),className:"text-primary-600 hover:text-primary-800 flex items-center",children:[(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Terug naar kandidaten"]})}),(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,qv.jsx)("div",{className:"p-8 bg-gradient-to-r from-primary-600 to-primary-800 text-white",children:(0,qv.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center",children:[(0,qv.jsx)("div",{className:"w-32 h-32 md:w-40 md:h-40 bg-white rounded-full text-primary-600 flex items-center justify-center text-4xl font-bold mb-4 md:mb-0 md:mr-6 overflow-hidden border-4 border-white shadow-lg relative",children:(null!==u&&void 0!==u&&u.profileImage||null!==u&&void 0!==u&&u.profilePhoto||null!==u&&void 0!==u&&u.profileImageURL||null!==u&&void 0!==u&&u.photoURL||null!==u&&void 0!==u&&null!==(s=u.profile)&&void 0!==s&&s.profilePhoto)&&!y&&(e=>{if(!e)return!1;try{new URL(e)}catch(Ox){return console.error("Ongeldige URL format:",e),!1}return!!e.includes("firebasestorage.googleapis.com")||(null!==e.match(/\.(jpeg|jpg|gif|png|webp|svg|bmp)$/i)||(!!e.startsWith("data:image/")||!!e.startsWith("http")&&(console.warn("URL zonder duidelijke afbeeldingsextensie:",e),!0)))})((null===u||void 0===u?void 0:u.profileImage)||(null===u||void 0===u?void 0:u.profilePhoto)||(null===u||void 0===u?void 0:u.profileImageURL)||(null===u||void 0===u?void 0:u.photoURL)||(null===u||void 0===u||null===(a=u.profile)||void 0===a?void 0:a.profilePhoto)||"")?(0,qv.jsxs)(qv.Fragment,{children:[(0,qv.jsx)("img",{ref:x,src:u.profileImage||u.profilePhoto||u.profileImageURL||u.photoURL||(null===(o=u.profile)||void 0===o?void 0:o.profilePhoto),alt:u.name,className:"w-full h-full object-cover",onError:()=>{console.error("Profielfoto kon niet worden geladen:",null===u||void 0===u?void 0:u.profileImage),b(!0)}}),(0,qv.jsx)("div",{className:"absolute inset-0 w-full h-full flex items-center justify-center bg-gray-200 text-gray-500 opacity-0",style:{opacity:y?1:0},children:null!==u&&void 0!==u&&u.name?u.name.substring(0,2).toUpperCase():"KP"})]}):(0,qv.jsx)("div",{className:"w-full h-full flex items-center justify-center bg-gray-200 text-gray-500",children:null!==u&&void 0!==u&&u.name?u.name.substring(0,2).toUpperCase():"KP"})}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h1",{className:"text-3xl font-bold mb-2",children:u.name}),(0,qv.jsx)("p",{className:"text-xl text-primary-100",children:_}),(0,qv.jsxs)("div",{className:"flex items-center mt-3",children:[(0,qv.jsx)("span",{className:"inline-block w-3 h-3 rounded-full mr-2 "+(u.available?"bg-green-400":"bg-red-400")}),(0,qv.jsx)("span",{className:"text-primary-50",children:u.available?"Beschikbaar voor nieuwe kansen":"Momenteel niet beschikbaar"})]})]})]})}),(0,qv.jsx)("div",{className:"border-b border-gray-200",children:(0,qv.jsxs)("nav",{className:"flex -mb-px",children:[(0,qv.jsx)("button",{onClick:()=>v("overview"),className:"py-4 px-6 text-center border-b-2 font-medium text-sm "+("overview"===g?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Overzicht"}),(0,qv.jsx)("button",{onClick:()=>v("cv"),className:"py-4 px-6 text-center border-b-2 font-medium text-sm "+("cv"===g?"border-primary-600 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"CV"})]})}),"overview"===g?(0,qv.jsx)("div",{className:"p-8",children:(0,qv.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,qv.jsxs)("div",{className:"lg:col-span-2",children:[(0,qv.jsxs)("section",{className:"mb-8",children:[(0,qv.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Over mij"}),(0,qv.jsx)("p",{className:"text-gray-700 whitespace-pre-line",children:A||"Deze kandidaat heeft nog geen bio toegevoegd."})]}),(0,qv.jsxs)("section",{className:"mb-8",children:[(0,qv.jsx)("h2",{className:"text-2xl font-semibold mb-4 text-gray-800",children:"Vaardigheden"}),S.length>0?(0,qv.jsx)("div",{className:"flex flex-wrap gap-2",children:S.map(((e,t)=>(0,qv.jsx)("span",{className:"px-3 py-1 bg-primary-50 text-primary-700 rounded-full text-sm font-medium",children:e},t)))}):(0,qv.jsx)("p",{className:"text-gray-500 italic",children:"Geen vaardigheden opgegeven"})]})]}),(0,qv.jsxs)("div",{className:"lg:col-span-1",children:[(0,qv.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg shadow-sm",children:[(0,qv.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Details"}),(0,qv.jsxs)("div",{className:"space-y-4",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h4",{className:"text-sm text-gray-500 mb-1",children:"Locatie"}),(0,qv.jsx)("p",{className:"text-gray-800",children:C})]}),u.email&&(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h4",{className:"text-sm text-gray-500 mb-1",children:"E-mail"}),(0,qv.jsx)("p",{className:"text-gray-800",children:u.email})]}),u.phoneNumber&&(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h4",{className:"text-sm text-gray-500 mb-1",children:"Telefoonnummer"}),(0,qv.jsx)("p",{className:"text-gray-800",children:u.phoneNumber})]})]})]}),(0,qv.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,qv.jsxs)("button",{onClick:w,className:"w-full flex items-center justify-center py-2 px-4 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors",children:[(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),"Afspraak maken"]}),(0,qv.jsxs)("button",{onClick:j,className:"w-full flex items-center justify-center py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:[(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),"Chatten"]})]})]})]})}):(0,qv.jsx)("div",{className:"p-8",children:(0,qv.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,qv.jsxs)("section",{className:"mb-12",children:[(0,qv.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-2",children:"Werkervaring"}),D.length>0?(0,qv.jsx)("div",{className:"space-y-8",children:D.map((e=>(0,qv.jsxs)("div",{className:"relative pl-8 before:absolute before:left-0 before:top-0 before:bottom-0 before:w-0.5 before:bg-primary-100",children:[(0,qv.jsx)("div",{className:"absolute left-0 top-1.5 w-4 h-4 rounded-full bg-primary-600 -ml-2"}),(0,qv.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:e.functie}),(0,qv.jsx)("p",{className:"text-primary-700 font-medium",children:e.bedrijf}),(0,qv.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[N(e.startDatum)," - ",e.isHuidigeFunctie?"Heden":N(e.eindDatum)]}),e.beschrijving&&(0,qv.jsx)("p",{className:"mt-3 text-gray-700",children:e.beschrijving})]},e.id)))}):(0,qv.jsx)("p",{className:"text-gray-500 italic",children:"Geen werkervaring toegevoegd"})]}),(0,qv.jsxs)("section",{className:"mb-12",children:[(0,qv.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-2",children:"Opleiding"}),R.length>0?(0,qv.jsx)("div",{className:"space-y-8",children:R.map((e=>(0,qv.jsxs)("div",{className:"relative pl-8 before:absolute before:left-0 before:top-0 before:bottom-0 before:w-0.5 before:bg-primary-100",children:[(0,qv.jsx)("div",{className:"absolute left-0 top-1.5 w-4 h-4 rounded-full bg-primary-600 -ml-2"}),(0,qv.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:e.opleiding}),(0,qv.jsx)("p",{className:"text-primary-700 font-medium",children:e.instituut}),(0,qv.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[N(e.startDatum)," - ",e.isHuidigeOpleiding?"Heden":N(e.eindDatum)]}),e.beschrijving&&(0,qv.jsx)("p",{className:"mt-3 text-gray-700",children:e.beschrijving})]},e.id)))}):(0,qv.jsx)("p",{className:"text-gray-500 italic",children:"Geen opleiding toegevoegd"})]}),P.length>0&&(0,qv.jsxs)("section",{className:"mb-12",children:[(0,qv.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-2",children:"Stages"}),(0,qv.jsx)("div",{className:"space-y-8",children:P.map((e=>(0,qv.jsxs)("div",{className:"relative pl-8 before:absolute before:left-0 before:top-0 before:bottom-0 before:w-0.5 before:bg-primary-100",children:[(0,qv.jsx)("div",{className:"absolute left-0 top-1.5 w-4 h-4 rounded-full bg-primary-600 -ml-2"}),(0,qv.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:e.functie}),(0,qv.jsx)("p",{className:"text-primary-700 font-medium",children:e.bedrijf}),(0,qv.jsxs)("p",{className:"text-sm text-gray-500 mt-1",children:[N(e.startDatum)," - ",e.isHuidigeStage?"Heden":N(e.eindDatum)]}),e.beschrijving&&(0,qv.jsx)("p",{className:"mt-3 text-gray-700",children:e.beschrijving})]},e.id)))})]}),O.length>0&&(0,qv.jsxs)("section",{className:"mb-12",children:[(0,qv.jsx)("h2",{className:"text-2xl font-bold mb-6 text-gray-800 border-b pb-2",children:"Certificaten"}),(0,qv.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:O.map((e=>(0,qv.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-5 shadow-sm",children:[(0,qv.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:e.naam||"Certificaat"}),e.uitgever&&(0,qv.jsx)("p",{className:"text-primary-700",children:e.uitgever}),e.datum&&(0,qv.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:N(e.datum)}),e.beschrijving&&(0,qv.jsx)("p",{className:"mt-3 text-gray-700",children:e.beschrijving})]},e.id)))})]}),(0,qv.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 mt-8",children:[(0,qv.jsxs)("button",{onClick:w,className:"flex-1 flex items-center justify-center py-2 px-4 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors",children:[(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"})}),"Afspraak maken"]}),(0,qv.jsxs)("button",{onClick:j,className:"flex-1 flex items-center justify-center py-2 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-md transition-colors",children:[(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M18 10c0 3.866-3.582 7-8 7a8.841 8.841 0 01-4.083-.98L2 17l1.338-3.123C2.493 12.767 2 11.434 2 10c0-3.866 3.582-7 8-7s8 3.134 8 7zM7 9H5v2h2V9zm8 0h-2v2h2V9zM9 9h2v2H9V9z",clipRule:"evenodd"})}),"Chatten met ",u.name.split(" ")[0]]})]})]})})]})]}),(0,qv.jsx)(tx,{})]})},ax=()=>{const e=ee(),[t,n]=(0,i.useState)([]),[r,s]=(0,i.useState)(!0),[a,o]=(0,i.useState)(null),[l,c]=(0,i.useState)(""),{userProfile:u,currentUser:d}=Gv(),{addFavorite:h,removeFavorite:m,isFavorite:f,loading:p}=Zv(),g=[{id:"dummy1",title:"Frontend Developer",company:"Test Bedrijf",location:"Amsterdam",description:"Een test vacature voor frontend developer met React en TypeScript ervaring.",salary:"3000-4000",isFullTime:!0,isRemote:!1,requirements:"Ervaring met React, TypeScript en responsive design"},{id:"dummy2",title:"UX Designer",company:"Creative Solutions",location:"Rotterdam",description:"Een test vacature voor een ervaren UX Designer.",salary:"2800-3800",isFullTime:!0,isRemote:!0,requirements:"Ervaring met Figma, user testing en wireframing"}];(0,i.useEffect)((()=>{(async()=>{s(!0);try{const e=Pm(Uv,"jobs");console.log("Query uitgevoerd op collectie: jobs");const t=wf(e),r=await zf(t);console.log(`Er zijn ${r.size} vacatures gevonden in Firestore (jobs collectie)`);const i=[];r.forEach((e=>{const t=e.data();console.log(`Vacature ID: ${e.id}, Titel: ${t.title||"Onbekend"}`),i.push({id:e.id,title:t.title||"Onbekende functie",company:t.company||"Onbekend bedrijf",location:t.location||"Locatie onbekend",description:t.description||"Geen beschrijving beschikbaar",salary:t.salary,isFullTime:t.isFullTime,isRemote:t.isRemote,status:t.status,requirements:t.requirements,createdAt:t.createdAt,updatedAt:t.updatedAt,userId:t.userId,recruiterId:t.recruiterId})})),i.length>0?(n(i),console.log("Vacatures succesvol geladen uit jobs collectie")):(console.log("Geen echte vacatures gevonden, toon dummy data voor testing"),n(g)),o(null)}catch(e){console.error("Fout bij het ophalen van vacatures:",e);(e instanceof Error?e.message:String(e)).includes("permission-denied")?(console.log("BELANGRIJK: De Firebase security rules geven geen toegang tot de 'jobs' collectie."),console.log("Je moet de security rules aanpassen om de 'jobs' collectie te kunnen lezen."),o("Geen toegangsrechten voor de vacature-database. Neem contact op met de beheerder.")):o("Er is een fout opgetreden bij het laden van de vacatures. Probeer het later opnieuw."),console.log("Fout bij ophalen, toon dummy data voor testing"),n(g)}finally{s(!1)}})()}),[]),(0,i.useEffect)((()=>{var e;const t=(null===u||void 0===u||null===(e=u.profile)||void 0===e?void 0:e.profilePhoto)||(null===u||void 0===u?void 0:u.profilePhoto)||(null===d||void 0===d?void 0:d.photoURL)||"";console.log("User profile data updated, photo URL:",t),t&&t!==l&&c(t)}),[u,d]);return(0,qv.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,qv.jsx)(ex,{}),(0,qv.jsx)("div",{className:"bg-gradient-to-br from-primary-600 to-primary-800 text-white pt-20",children:(0,qv.jsx)("div",{className:"container mx-auto px-4 py-16 md:py-24",children:(0,qv.jsxs)("div",{className:"max-w-4xl mx-auto text-center",children:[(0,qv.jsx)("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"Vacatures"}),(0,qv.jsx)("p",{className:"text-xl mb-8 text-primary-100",children:"Ontdek uitdagende vacatures die perfect aansluiten bij jouw unieke vaardigheden en ambities. Ons platform biedt kansen waarin jouw talenten volledig tot hun recht komen, met volop ruimte voor groei en ontwikkeling. Vind de baan die jouw professionele toekomst vormgeeft."})]})})}),(0,qv.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,qv.jsx)("div",{className:"md:col-span-1",children:(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-4",children:[(0,qv.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Filters"}),(0,qv.jsxs)("div",{className:"mb-6",children:[(0,qv.jsx)("label",{htmlFor:"search",className:"block text-sm font-medium text-gray-700 mb-1",children:"Zoeken"}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)("input",{type:"text",id:"search",className:"w-full pl-10 pr-3 py-2 border border-gray-300 rounded-md",placeholder:"Zoek op trefwoord"}),(0,qv.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,qv.jsx)("svg",{className:"h-5 w-5 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})})]})]}),(0,qv.jsxs)("div",{className:"mb-6",children:[(0,qv.jsx)("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:"Locatie"}),(0,qv.jsx)("input",{type:"text",id:"location",className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Bijv. Amsterdam"})]}),(0,qv.jsxs)("div",{className:"mb-6",children:[(0,qv.jsx)("label",{htmlFor:"radius",className:"block text-sm font-medium text-gray-700 mb-1",children:"Straal"}),(0,qv.jsxs)("select",{id:"radius",className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[(0,qv.jsx)("option",{value:"",children:"Selecteer afstand"}),(0,qv.jsx)("option",{value:"5",children:"5 km"}),(0,qv.jsx)("option",{value:"10",children:"10 km"}),(0,qv.jsx)("option",{value:"25",children:"25 km"}),(0,qv.jsx)("option",{value:"50",children:"50 km"}),(0,qv.jsx)("option",{value:"100",children:"100 km"})]})]}),(0,qv.jsxs)("div",{className:"mb-6",children:[(0,qv.jsx)("label",{htmlFor:"function",className:"block text-sm font-medium text-gray-700 mb-1",children:"Functie"}),(0,qv.jsx)("input",{type:"text",id:"function",className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Bijv. Developer"})]}),(0,qv.jsxs)("div",{className:"mb-6",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Salaris range"}),(0,qv.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,qv.jsx)("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Min"}),(0,qv.jsx)("input",{type:"number",className:"w-full px-3 py-2 border border-gray-300 rounded-md",placeholder:"Max"})]})]}),(0,qv.jsxs)("div",{className:"mb-6",children:[(0,qv.jsx)("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:"Geplaatst sinds"}),(0,qv.jsxs)("select",{id:"date",className:"w-full px-3 py-2 border border-gray-300 rounded-md",children:[(0,qv.jsx)("option",{value:"",children:"Alle datums"}),(0,qv.jsx)("option",{value:"1",children:"Laatste 24 uur"}),(0,qv.jsx)("option",{value:"7",children:"Afgelopen week"}),(0,qv.jsx)("option",{value:"30",children:"Afgelopen maand"}),(0,qv.jsx)("option",{value:"90",children:"Afgelopen 3 maanden"})]})]}),(0,qv.jsxs)("div",{className:"mb-6",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Ervaringsniveau"}),(0,qv.jsxs)("div",{className:"space-y-2",children:[(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("input",{id:"starter",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),(0,qv.jsx)("label",{htmlFor:"starter",className:"ml-2 text-sm text-gray-700",children:"Starter"})]}),(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("input",{id:"medior",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),(0,qv.jsx)("label",{htmlFor:"medior",className:"ml-2 text-sm text-gray-700",children:"Medior"})]}),(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("input",{id:"senior",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),(0,qv.jsx)("label",{htmlFor:"senior",className:"ml-2 text-sm text-gray-700",children:"Senior"})]})]})]}),(0,qv.jsxs)("div",{className:"mb-6",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Soort baan"}),(0,qv.jsxs)("div",{className:"space-y-2",children:[(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("input",{id:"fulltime",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),(0,qv.jsx)("label",{htmlFor:"fulltime",className:"ml-2 text-sm text-gray-700",children:"Fulltime"})]}),(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("input",{id:"parttime",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),(0,qv.jsx)("label",{htmlFor:"parttime",className:"ml-2 text-sm text-gray-700",children:"Parttime"})]}),(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("input",{id:"contract",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),(0,qv.jsx)("label",{htmlFor:"contract",className:"ml-2 text-sm text-gray-700",children:"Contract"})]}),(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("input",{id:"tijdelijk",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),(0,qv.jsx)("label",{htmlFor:"tijdelijk",className:"ml-2 text-sm text-gray-700",children:"Tijdelijk"})]}),(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("input",{id:"zzp",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),(0,qv.jsx)("label",{htmlFor:"zzp",className:"ml-2 text-sm text-gray-700",children:"ZZP"})]})]})]}),(0,qv.jsxs)("div",{className:"mb-6",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Werklocatie"}),(0,qv.jsxs)("div",{className:"space-y-2",children:[(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("input",{id:"onsite",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),(0,qv.jsx)("label",{htmlFor:"onsite",className:"ml-2 text-sm text-gray-700",children:"Op locatie"})]}),(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("input",{id:"hybrid",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),(0,qv.jsx)("label",{htmlFor:"hybrid",className:"ml-2 text-sm text-gray-700",children:"Hybride"})]}),(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("input",{id:"remote",type:"checkbox",className:"h-4 w-4 text-primary-600 border-gray-300 rounded"}),(0,qv.jsx)("label",{htmlFor:"remote",className:"ml-2 text-sm text-gray-700",children:"Op afstand"})]})]})]}),(0,qv.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,qv.jsx)("button",{className:"w-full py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"Filters toepassen"}),(0,qv.jsx)("button",{className:"w-full py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 transition-colors",children:"Filters wissen"})]})]})}),(0,qv.jsxs)("div",{className:"md:col-span-3",children:[r&&(0,qv.jsxs)("div",{className:"flex justify-center items-center p-12",children:[(0,qv.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"}),(0,qv.jsx)("span",{className:"ml-3",children:"Vacatures laden..."})]}),a&&(0,qv.jsx)("div",{className:"bg-red-50 text-red-700 p-4 rounded-lg mb-6",children:(0,qv.jsx)("p",{children:a})}),!r&&!a&&0===t.length&&(0,qv.jsxs)("div",{className:"bg-gray-50 p-12 rounded-lg text-center",children:[(0,qv.jsx)("h3",{className:"text-xl font-medium text-gray-700 mb-2",children:"Geen vacatures gevonden"}),(0,qv.jsx)("p",{className:"text-gray-500",children:"Er zijn momenteel geen vacatures beschikbaar. Kom later terug voor nieuwe mogelijkheden."})]}),!r&&!a&&t.length>0&&(0,qv.jsx)("div",{className:"space-y-6",children:t.map((t=>(0,qv.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden border border-gray-100 hover:shadow-lg transition-shadow",children:(0,qv.jsxs)("div",{className:"p-6",children:[(0,qv.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-4",children:[(0,qv.jsxs)("h2",{className:"text-xl font-semibold text-gray-800 flex items-center",children:[t.title,(0,qv.jsx)("button",{onClick:n=>(async(t,n)=>{if(t.stopPropagation(),t.preventDefault(),d)try{f(n.id)?(await m(n.id),console.log(`Vacature ${n.id} verwijderd uit favorieten`)):(await h(n.id,n),console.log(`Vacature ${n.id} toegevoegd aan favorieten`))}catch(r){console.error("Fout bij favoriet markeren:",r)}else e("/login",{state:{from:"/jobs"}})})(n,t),className:"ml-2 focus:outline-none transition-colors "+(f(t.id)?"text-yellow-500":"text-gray-400 hover:text-gray-600"),"aria-label":f(t.id)?"Verwijder uit favorieten":"Voeg toe aan favorieten",disabled:p,children:(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qv.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})})]}),(0,qv.jsx)("span",{className:"mt-2 md:mt-0 px-3 py-1 bg-primary-50 text-primary-700 rounded-full text-sm font-medium",children:t.isFullTime?"Fulltime":"Parttime"})]}),(0,qv.jsxs)("div",{className:"flex flex-wrap gap-4 mb-4 text-gray-600",children:[(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("svg",{className:"w-5 h-5 mr-2 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h8a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm3 1h6v4H7V5zm8 8v2h1v1H4v-1h1v-2h-.5a.5.5 0 01-.5-.5v-2a.5.5 0 01.5-.5H6v-1h8v1h1.5a.5.5 0 01.5.5v2a.5.5 0 01-.5.5H15z",clipRule:"evenodd"})}),t.company]}),(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("svg",{className:"w-5 h-5 mr-2 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),t.location," ",t.isRemote&&(0,qv.jsx)("span",{className:"ml-1 text-primary-600",children:"(Remote mogelijk)"})]}),t.salary&&(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsxs)("svg",{className:"w-5 h-5 mr-2 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,qv.jsx)("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),(0,qv.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z",clipRule:"evenodd"})]}),"\u20ac",t.salary]})]}),(0,qv.jsx)("p",{className:"text-gray-700 mb-4",children:t.description}),t.requirements&&(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsx)("h3",{className:"text-md font-medium mb-2",children:"Vereisten:"}),(0,qv.jsx)("p",{className:"text-gray-700",children:t.requirements})]}),(0,qv.jsx)("div",{className:"mt-4 flex justify-end",children:(0,qv.jsx)("button",{onClick:()=>{return n=t.id,void e(`/job/${n}`);var n},className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors",children:"Bekijk vacature"})})]})},t.id)))})]})]})}),(0,qv.jsx)(tx,{})]})},ox=()=>{const{jobId:e}=ne(),t=ee(),{currentUser:n,userProfile:r}=Gv(),{createNewChat:s}=Jv(),[a,o]=(0,i.useState)(null),[l,c]=(0,i.useState)(!0),[u,d]=(0,i.useState)(null),[h,m]=(0,i.useState)(!1),f="werkzoekende"===(null===r||void 0===r?void 0:r.role),p="recruiter"===(null===r||void 0===r?void 0:r.role),g=n&&(null===a||void 0===a?void 0:a.recruiterId)===n.uid;(0,i.useEffect)((()=>{(async()=>{if(!e)return d("Geen vacature ID gevonden"),void c(!1);try{c(!0);const t=Om(Uv,"jobs",e),n=await Uf(t);if(n.exists()){const e=n.data();o({id:n.id,title:e.title||"Onbekende functie",company:e.company||"Onbekend bedrijf",location:e.location||"Locatie onbekend",description:e.description||"Geen beschrijving beschikbaar",salary:e.salary,isFullTime:e.isFullTime,isRemote:e.isRemote,status:e.status,requirements:e.requirements,createdAt:e.createdAt,updatedAt:e.updatedAt,userId:e.userId,recruiterId:e.recruiterId}),d(null)}else d("Vacature niet gevonden"),o(null)}catch(t){console.error("Fout bij het ophalen van vacaturedetails:",t),d("Er is een fout opgetreden bij het laden van de vacature"),o(null)}finally{c(!1)}})()}),[e]);return(0,qv.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,qv.jsx)(ex,{}),(0,qv.jsx)("div",{className:"container mx-auto px-4 py-12 mt-12",children:(0,qv.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,qv.jsxs)("button",{onClick:()=>{t("/jobs")},className:"mb-6 flex items-center text-primary-600 hover:text-primary-800",children:[(0,qv.jsx)("svg",{className:"w-5 h-5 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Terug naar alle vacatures"]}),l&&(0,qv.jsxs)("div",{className:"flex justify-center items-center p-12",children:[(0,qv.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"}),(0,qv.jsx)("span",{className:"ml-3",children:"Vacature details laden..."})]}),u&&(0,qv.jsxs)("div",{className:"bg-red-50 text-red-700 p-6 rounded-lg mb-6",children:[(0,qv.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Er is een probleem opgetreden"}),(0,qv.jsx)("p",{children:u})]}),!l&&!u&&a&&(0,qv.jsxs)("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden border border-gray-200",children:[(0,qv.jsxs)("div",{className:"p-6 border-b border-gray-200",children:[(0,qv.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-4",children:[(0,qv.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:a.title}),(0,qv.jsxs)("span",{className:"mt-2 md:mt-0 px-4 py-1 bg-primary-50 text-primary-700 rounded-full text-sm font-medium",children:[a.isFullTime?"Fulltime":"Parttime",a.isRemote&&", Remote mogelijk"]})]}),(0,qv.jsxs)("div",{className:"flex flex-wrap gap-4 text-gray-600",children:[(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("svg",{className:"w-5 h-5 mr-2 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h8a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V4zm3 1h6v4H7V5zm8 8v2h1v1H4v-1h1v-2h-.5a.5.5 0 01-.5-.5v-2a.5.5 0 01.5-.5H6v-1h8v1h1.5a.5.5 0 01.5.5v2a.5.5 0 01-.5.5H15z",clipRule:"evenodd"})}),a.company]}),(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("svg",{className:"w-5 h-5 mr-2 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"})}),a.location]}),a.salary&&(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsxs)("svg",{className:"w-5 h-5 mr-2 text-gray-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,qv.jsx)("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),(0,qv.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z",clipRule:"evenodd"})]}),"\u20ac",a.salary]})]})]}),(0,qv.jsxs)("div",{className:"p-6",children:[(0,qv.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Functieomschrijving"}),(0,qv.jsx)("div",{className:"mb-6 text-gray-700 whitespace-pre-line",children:a.description}),a.requirements&&(0,qv.jsxs)("div",{className:"mb-6",children:[(0,qv.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Functie-eisen"}),(0,qv.jsx)("div",{className:"text-gray-700 whitespace-pre-line",children:a.requirements})]}),f&&(0,qv.jsxs)("div",{className:"mt-8 flex flex-col sm:flex-row gap-4",children:[(0,qv.jsx)("button",{onClick:()=>{n?t(`/job-application/${e}`):t("/login",{state:{from:`/job/${e}`}})},className:"px-6 py-3 bg-primary-600 text-white font-medium rounded-md hover:bg-primary-700 transition-colors flex-1",children:"Solliciteer direct"}),(0,qv.jsx)("button",{onClick:async()=>{if(n)if(null!==a&&void 0!==a&&a.recruiterId)try{if(m(!0),n.uid===a.recruiterId)return alert("Je kunt geen chat starten met jezelf"),void m(!1);const e=await s(a.recruiterId);t(`/messages/${e}`)}catch(r){console.error("Fout bij het starten van de chat:",r),alert("Er is een fout opgetreden bij het starten van de chat. Probeer het later opnieuw."),m(!1)}else alert("Er is geen recruiter gekoppeld aan deze vacature");else t("/login",{state:{from:`/job/${e}`}})},disabled:h,className:"px-6 py-3 bg-white text-primary-600 font-medium rounded-md border border-primary-600 hover:bg-primary-50 transition-colors flex-1 flex justify-center items-center",children:h?(0,qv.jsxs)(qv.Fragment,{children:[(0,qv.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-primary-600 mr-2"}),(0,qv.jsx)("span",{children:"Bezig..."})]}):"Chat met recruiter"})]}),p&&g&&(0,qv.jsx)("div",{className:"mt-8 flex justify-end",children:(0,qv.jsx)("button",{onClick:()=>{t(`/edit-job/${e}`)},className:"px-6 py-3 bg-primary-600 text-white font-medium rounded-md hover:bg-primary-700 transition-colors",children:"Vacature bewerken"})})]})]})]})})]})},lx=()=>{var e,t,n,r;const{jobId:s}=ne(),a=ee(),{currentUser:o,userProfile:l}=Gv(),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(!0),[m,f]=(0,i.useState)(!1),[p,g]=(0,i.useState)(null),[v,y]=(0,i.useState)(!1),[b,x]=(0,i.useState)(null),{register:w,handleSubmit:j,formState:{errors:N}}=Pb({defaultValues:{email:(null===o||void 0===o?void 0:o.email)||"",phoneNumber:(null===l||void 0===l?void 0:l.phoneNumber)||"",linkedinUrl:(null===l||void 0===l||null===(e=l.profile)||void 0===e?void 0:e.linkedin)||"",portfolioUrl:(null===l||void 0===l||null===(t=l.profile)||void 0===t?void 0:t.portfolio)||""}});null===l||void 0===l||l.role;(0,i.useEffect)((()=>{if(!o)return void a("/login",{state:{from:`/job-application/${s}`}});if(l&&"werkzoekende"!==l.role)return g("Alleen werkzoekenden kunnen solliciteren"),void h(!1);(async()=>{if(!s)return g("Geen vacature ID gevonden"),void h(!1);try{h(!0);const e=Om(Uv,"jobs",s),t=await Uf(e);if(t.exists()){const e=t.data();u({id:t.id,title:e.title||"Onbekende functie",company:e.company||"Onbekend bedrijf",location:e.location||"Locatie onbekend",description:e.description||"Geen beschrijving beschikbaar",salary:e.salary,isFullTime:e.isFullTime,isRemote:e.isRemote,status:e.status,requirements:e.requirements,createdAt:e.createdAt,updatedAt:e.updatedAt,userId:e.userId,recruiterId:e.recruiterId}),g(null)}else g("Vacature niet gevonden"),u(null)}catch(e){console.error("Fout bij het ophalen van vacaturedetails:",e),g("Er is een fout opgetreden bij het laden van de vacature"),u(null)}finally{h(!1)}})()}),[s,o,a,l]);return(0,qv.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,qv.jsx)(ex,{}),(0,qv.jsx)("div",{className:"container mx-auto px-4 py-12 mt-12",children:(0,qv.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,qv.jsxs)("button",{onClick:()=>{a(`/job/${s}`)},className:"mb-6 flex items-center text-primary-600 hover:text-primary-800",children:[(0,qv.jsx)("svg",{className:"w-5 h-5 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Terug naar vacature"]}),d&&(0,qv.jsxs)("div",{className:"flex justify-center items-center p-12",children:[(0,qv.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"}),(0,qv.jsx)("span",{className:"ml-3",children:"Vacature details laden..."})]}),p&&(0,qv.jsxs)("div",{className:"bg-red-50 text-red-700 p-6 rounded-lg mb-6",children:[(0,qv.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Er is een probleem opgetreden"}),(0,qv.jsx)("p",{children:p})]}),v&&(0,qv.jsxs)("div",{className:"bg-green-50 text-green-700 p-6 rounded-lg mb-6",children:[(0,qv.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Sollicitatie verstuurd!"}),(0,qv.jsx)("p",{children:"Je sollicitatie is succesvol verstuurd. Je wordt nu doorgestuurd naar je dashboard."})]}),!d&&!p&&c&&!v&&(0,qv.jsxs)("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden border border-gray-200",children:[(0,qv.jsxs)("div",{className:"bg-primary-50 p-6 border-b border-gray-200",children:[(0,qv.jsxs)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800 mb-2",children:["Solliciteren op: ",c.title]}),(0,qv.jsxs)("p",{className:"text-gray-600",children:[c.company," \u2022 ",c.location]})]}),(0,qv.jsxs)("form",{onSubmit:j((async e=>{if(o&&c&&c.recruiterId)try{var t;f(!0),g(null);let n=(null===l||void 0===l||null===(t=l.profile)||void 0===t?void 0:t.cv)||"";e.cv&&e.cv.length>0&&(n=await(async e=>{if(!o)throw new Error("Niet ingelogd");const t=e.name.split(".").pop(),n=`cv_${o.uid}_${Date.now()}.${t}`,r=hg(Vv,`cv/${n}`);return await ug(r,e),dg(r)})(e.cv[0]));const r={jobId:c.id,userId:o.uid,recruiterId:c.recruiterId,jobTitle:c.title,companyName:c.company,applicantName:(null===l||void 0===l?void 0:l.displayName)||o.displayName||"",motivationLetter:e.motivationLetter,cvUrl:n,phoneNumber:e.phoneNumber||"",email:e.email,linkedinUrl:e.linkedinUrl||"",portfolioUrl:e.portfolioUrl||"",status:"pending",applicationDate:Kf(),updatedAt:Kf(),notes:e.additionalNotes||""},i=Pm(Uv,"sollicitaties");await Hf(i,r),y(!0),setTimeout((()=>{a("/dashboard")}),3e3)}catch(n){console.error("Fout bij het versturen van de sollicitatie:",n),"permission-denied"===n.code?g("Je hebt niet de juiste rechten om een sollicitatie te versturen. Zorg ervoor dat je bent ingelogd als werkzoekende."):"unavailable"===n.code||"network-request-failed"===n.code?g("Er is een netwerkprobleem opgetreden. Controleer je internetverbinding en probeer het opnieuw."):"storage/unauthorized"===n.code?g("Je hebt niet de juiste rechten om je CV te uploaden. Zorg ervoor dat je bent ingelogd als werkzoekende."):g("Er is een fout opgetreden bij het versturen van je sollicitatie. Probeer het later opnieuw of neem contact op met de helpdesk.")}finally{f(!1)}else g("Er ontbreken gegevens om de sollicitatie te kunnen versturen")})),className:"p-6",children:[(0,qv.jsxs)("div",{className:"mb-6",children:[(0,qv.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"motivationLetter",children:["Motivatiebrief ",(0,qv.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qv.jsx)("textarea",{...w("motivationLetter",{required:"Motivatiebrief is verplicht"}),id:"motivationLetter",rows:8,className:`w-full px-3 py-2 border ${N.motivationLetter?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"Vertel waarom je ge\xefnteresseerd bent in deze functie en waarom je de ideale kandidaat bent..."}),N.motivationLetter&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-500",children:N.motivationLetter.message})]}),(0,qv.jsxs)("div",{className:"mb-6",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"cv",children:"Upload je CV (PDF)"}),(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("input",{type:"file",...w("cv"),id:"cv",className:"hidden",accept:".pdf,.doc,.docx",onChange:e=>{e.target.files&&e.target.files.length>0?x(e.target.files[0].name):x(null)}}),(0,qv.jsx)("label",{htmlFor:"cv",className:"cursor-pointer px-4 py-2 bg-gray-100 text-gray-800 rounded-md border border-gray-300 hover:bg-gray-200",children:"Kies bestand"}),(0,qv.jsx)("span",{className:"ml-3 text-sm text-gray-500",children:b||(null!==l&&void 0!==l&&null!==(n=l.profile)&&void 0!==n&&n.cv?"Bestaand CV wordt gebruikt":"Geen bestand gekozen")})]}),(0,qv.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:null!==l&&void 0!==l&&null!==(r=l.profile)&&void 0!==r&&r.cv?"Je hebt al een CV ge\xfcpload in je profiel. Als je geen nieuw bestand kiest, gebruiken we je bestaande CV.":"Maximaal 5MB. Ondersteunde formaten: PDF, DOC, DOCX"})]}),(0,qv.jsxs)("div",{className:"mb-6",children:[(0,qv.jsx)("h3",{className:"text-lg font-medium mb-3 text-gray-800",children:"Contactgegevens"}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"email",children:["E-mailadres ",(0,qv.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qv.jsx)("input",{...w("email",{required:"E-mailadres is verplicht",pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Voer een geldig e-mailadres in"}}),type:"email",id:"email",className:`w-full px-3 py-2 border ${N.email?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"jouw@email.nl"}),N.email&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-500",children:N.email.message})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"phoneNumber",children:"Telefoonnummer"}),(0,qv.jsx)("input",{...w("phoneNumber"),type:"tel",id:"phoneNumber",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"06 12345678"})]})]})]}),(0,qv.jsxs)("div",{className:"mb-6",children:[(0,qv.jsx)("h3",{className:"text-lg font-medium mb-3 text-gray-800",children:"Online profielen"}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"linkedinUrl",children:"LinkedIn URL"}),(0,qv.jsx)("input",{...w("linkedinUrl"),type:"url",id:"linkedinUrl",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"https://linkedin.com/in/jouwnaam"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"portfolioUrl",children:"Portfolio / Website"}),(0,qv.jsx)("input",{...w("portfolioUrl"),type:"url",id:"portfolioUrl",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"https://jouwportfolio.nl"})]})]})]}),(0,qv.jsxs)("div",{className:"mb-6",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",htmlFor:"additionalNotes",children:"Extra informatie"}),(0,qv.jsx)("textarea",{...w("additionalNotes"),id:"additionalNotes",rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Is er nog iets anders dat je wilt delen met de recruiter?"})]}),(0,qv.jsx)("div",{className:"mt-8",children:(0,qv.jsx)("button",{type:"submit",disabled:m,className:"w-full md:w-auto px-6 py-3 bg-primary-600 text-white font-medium rounded-md hover:bg-primary-700 transition-colors flex items-center justify-center disabled:bg-primary-400",children:m?(0,qv.jsxs)(qv.Fragment,{children:[(0,qv.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-white mr-2"}),"Versturen..."]}):"Sollicitatie versturen"})})]})]})]})})]})},cx=e=>{let{size:t="md",color:n="text-blue-500"}=e;return(0,qv.jsx)("div",{className:"flex justify-center items-center",children:(0,qv.jsx)("div",{className:`${{sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12"}[t]} ${n} animate-spin`,children:(0,qv.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,qv.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,qv.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]})})})},ux=()=>{const{chatId:e}=ne(),{currentUser:t}=Gv(),n=ee(),{chats:r,activeChat:s,messages:a,loadingChats:o,loadingMessages:l,error:c,sendMessage:u,setActiveChatById:d}=Jv(),[h,m]=(0,i.useState)(""),f=(0,i.useRef)(null),p=(0,i.useRef)(null);if((0,i.useEffect)((()=>{t||n("/login")}),[t,n]),(0,i.useEffect)((()=>{e&&d(e)}),[e,d]),(0,i.useEffect)((()=>{var e;null===(e=f.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[a]),(0,i.useEffect)((()=>{var e;s&&(null===(e=p.current)||void 0===e||e.focus())}),[a.length,s]),o)return(0,qv.jsx)("div",{className:"flex justify-center items-center min-h-screen",children:(0,qv.jsx)(cx,{})});const g=e=>{if(!e)return"";const t=e.toDate(),n=new Date,r=new Date(n);return r.setDate(r.getDate()-1),t.toDateString()===n.toDateString()?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):t.toDateString()===r.toDateString()?"Gisteren":t.toLocaleDateString()};return(0,qv.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,qv.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"Berichten"}),c&&(0,qv.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4",children:c}),(0,qv.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 bg-white rounded-lg shadow-lg overflow-hidden min-h-[70vh]",children:[(0,qv.jsxs)("div",{className:"md:w-1/3 border-r",children:[(0,qv.jsx)("div",{className:"p-4 bg-gray-50 border-b",children:(0,qv.jsx)("h2",{className:"font-semibold text-lg",children:"Gesprekken"})}),(0,qv.jsx)("div",{className:"overflow-y-auto h-[calc(70vh-4rem)]",children:0===r.length?(0,qv.jsx)("div",{className:"p-6 text-center text-gray-500",children:"Geen berichten gevonden. Start een gesprek via het profiel van een kandidaat of recruiter."}):r.map((e=>{var r,i;return(0,qv.jsx)("div",{className:"p-4 border-b hover:bg-gray-50 cursor-pointer "+((null===s||void 0===s?void 0:s.id)===e.id?"bg-blue-50":""),onClick:()=>(e=>{n(`/messages/${e}`)})(e.id),children:(0,qv.jsxs)("div",{className:"flex items-center gap-3",children:[(0,qv.jsxs)("div",{className:"relative",children:[e.otherUser.photoURL?(0,qv.jsx)("img",{src:e.otherUser.photoURL,alt:e.otherUser.displayName,className:"w-12 h-12 rounded-full object-cover"}):(0,qv.jsx)("div",{className:"w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center text-lg font-medium text-gray-600",children:e.otherUser.displayName.substring(0,1).toUpperCase()}),"number"===typeof e.unreadCount?e.unreadCount>0&&(0,qv.jsx)("span",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:e.unreadCount}):((null===(r=e.unreadCount)||void 0===r?void 0:r[(null===t||void 0===t?void 0:t.uid)||""])||0)>0&&(0,qv.jsx)("span",{className:"absolute -top-1 -right-1 bg-blue-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center",children:(null===(i=e.unreadCount)||void 0===i?void 0:i[(null===t||void 0===t?void 0:t.uid)||""])||0})]}),(0,qv.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,qv.jsxs)("div",{className:"flex justify-between items-center",children:[(0,qv.jsx)("h3",{className:"font-medium truncate",children:e.otherUser.displayName}),e.lastMessageTimestamp&&(0,qv.jsx)("span",{className:"text-xs text-gray-500",children:g(e.lastMessageTimestamp)})]}),(0,qv.jsx)("p",{className:"text-sm text-gray-600 truncate",children:e.lastMessage?e.lastMessage:"Geen berichten"})]})]})},e.id)}))})]}),(0,qv.jsx)("div",{className:"md:w-2/3 flex flex-col",children:s?(0,qv.jsxs)(qv.Fragment,{children:[(0,qv.jsxs)("div",{className:"p-4 bg-gray-50 border-b flex items-center gap-3",children:[s.otherUser.photoURL?(0,qv.jsx)("img",{src:s.otherUser.photoURL,alt:s.otherUser.displayName,className:"w-10 h-10 rounded-full object-cover"}):(0,qv.jsx)("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center text-md font-medium text-gray-600",children:s.otherUser.displayName.substring(0,1).toUpperCase()}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h2",{className:"font-semibold",children:s.otherUser.displayName}),(0,qv.jsx)("p",{className:"text-sm text-gray-500",children:s.otherUser.role})]})]}),(0,qv.jsxs)("div",{className:"flex-1 overflow-y-auto p-4 space-y-4 h-[calc(70vh-12rem)]",children:[l?(0,qv.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,qv.jsx)(cx,{})}):0===a.length?(0,qv.jsx)("div",{className:"text-center text-gray-500 mt-10",children:"Geen berichten. Stuur een bericht om het gesprek te starten."}):a.map((e=>(0,qv.jsx)("div",{className:"flex "+(e.senderId===(null===t||void 0===t?void 0:t.uid)?"justify-end":"justify-start"),children:(0,qv.jsxs)("div",{className:"max-w-[70%] p-3 rounded-lg "+(e.senderId===(null===t||void 0===t?void 0:t.uid)?"bg-blue-500 text-white rounded-br-none":"bg-gray-200 text-gray-800 rounded-bl-none"),children:[(0,qv.jsx)("p",{children:e.text}),(0,qv.jsxs)("div",{className:"text-xs mt-1 "+(e.senderId===(null===t||void 0===t?void 0:t.uid)?"text-blue-100":"text-gray-500"),children:[g(e.timestamp),e.senderId===(null===t||void 0===t?void 0:t.uid)&&(0,qv.jsx)("span",{className:"ml-1",children:e.read?" \u2022 Gelezen":""})]})]})},e.id))),(0,qv.jsx)("div",{ref:f})]}),(0,qv.jsx)("form",{onSubmit:async e=>{if(e.preventDefault(),!h.trim()||!s)return;const t=h.trim();m("");try{await u(s.id,t)}catch(n){console.error("Fout bij het versturen van bericht:",n),m(t)}},className:"p-4 border-t",children:(0,qv.jsxs)("div",{className:"flex gap-2",children:[(0,qv.jsx)("input",{ref:p,type:"text",value:h,onChange:e=>m(e.target.value),placeholder:"Typ een bericht...",className:"flex-1 border rounded-full px-4 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500"}),(0,qv.jsx)("button",{type:"submit",disabled:!h.trim(),className:"bg-blue-500 text-white rounded-full p-2 hover:bg-blue-600 disabled:opacity-50",children:(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,qv.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 19l9 2-9-18-9 18 9-2zm0 0v-8"})})})]})})]}):(0,qv.jsxs)("div",{className:"flex flex-col items-center justify-center h-full p-10 text-center text-gray-500",children:[(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mb-4 text-gray-300",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,qv.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1,d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),(0,qv.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Geen actief gesprek"}),(0,qv.jsx)("p",{children:"Selecteer een gesprek in de lijst links om berichten weer te geven."})]})})]})]})},dx=e=>{if(!e)return"Onbekend";try{if(e&&"object"===typeof e&&"seconds"in e){return new Date(1e3*e.seconds).toLocaleDateString("nl-NL",{year:"numeric",month:"long",day:"numeric"})}if(e instanceof Date)return e.toLocaleDateString("nl-NL",{year:"numeric",month:"long",day:"numeric"});if("string"===typeof e){const t=new Date(e);if(!isNaN(t.getTime()))return t.toLocaleDateString("nl-NL",{year:"numeric",month:"long",day:"numeric"})}return String(e)}catch(Ox){return console.error("Error formatting date:",Ox),"Onbekend"}},hx=()=>{const{userProfile:e,currentUser:t}=Gv(),[n,r]=(0,i.useState)(null),[s,a]=(0,i.useState)(!0),[o,l]=(0,i.useState)(null),c=ee();(0,i.useEffect)((()=>{(async()=>{if(null===t||void 0===t||!t.uid)return l("Je moet ingelogd zijn om je CV te bekijken"),void a(!1);try{a(!0);const e=Om(Uv,"users",t.uid),n=await Uf(e);if(n.exists()){const e=n.data();if(e.detailedCV)r(e.detailedCV);else{const e=Om(Uv,"users",t.uid,"cv","main"),n=await Uf(e);n.exists()?r(n.data()):l("Geen CV gegevens gevonden. Maak eerst een CV aan.")}}else l("Gebruikersprofiel niet gevonden")}catch(e){console.error("Fout bij ophalen CV data:",e),l("Er is een fout opgetreden bij het ophalen van je CV gegevens")}finally{a(!1)}})()}),[t]);const u=e=>{const t=[];for(let n=1;n<=5;n++)n<=e?t.push((0,qv.jsx)("svg",{className:"w-4 h-4 text-yellow-500 fill-current",viewBox:"0 0 20 20",children:(0,qv.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},n)):t.push((0,qv.jsx)("svg",{className:"w-4 h-4 text-gray-300 fill-current",viewBox:"0 0 20 20",children:(0,qv.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},n));return(0,qv.jsx)("div",{className:"flex",children:t})},d=()=>{c("/profile")};if(s)return(0,qv.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,qv.jsxs)("div",{className:"text-center",children:[(0,qv.jsx)("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"}),(0,qv.jsx)("p",{className:"mt-2 text-gray-600",children:"CV gegevens laden..."})]})});if(o)return(0,qv.jsx)("div",{className:"min-h-screen bg-gray-50 p-8",children:(0,qv.jsxs)("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-md p-8",children:[(0,qv.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"CV Preview"}),(0,qv.jsx)("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 mb-4",children:(0,qv.jsx)("p",{className:"text-red-700",children:o})}),(0,qv.jsx)("button",{onClick:d,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:"Terug naar profiel"})]})});const h=(null===e||void 0===e?void 0:e.displayName)||(null===t||void 0===t?void 0:t.displayName)||"Gebruiker";return(0,qv.jsx)("div",{className:"min-h-screen bg-gray-50 py-12 px-4 sm:px-6",children:(0,qv.jsx)("div",{className:"max-w-5xl mx-auto",children:(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[(0,qv.jsxs)("div",{className:"p-6 bg-gradient-to-r from-primary-600 to-primary-800 text-white",children:[(0,qv.jsxs)("div",{className:"flex justify-between items-center",children:[(0,qv.jsx)("h1",{className:"text-3xl font-bold",children:"CV Preview"}),(0,qv.jsx)("button",{onClick:d,className:"px-4 py-2 bg-white text-primary-700 rounded-md hover:bg-gray-100",children:"Terug naar profiel"})]}),(0,qv.jsx)("p",{className:"mt-2 text-primary-100",children:"Dit is hoe je CV eruit zal zien voor recruiters"})]}),(0,qv.jsxs)("div",{className:"p-8",children:[(0,qv.jsxs)("div",{className:"mb-10",children:[(0,qv.jsx)("h2",{className:"text-2xl font-bold text-primary-700 border-b-2 border-primary-200 pb-2 mb-4",children:h}),(null===e||void 0===e?void 0:e.email)&&(0,qv.jsxs)("p",{className:"text-gray-600 mb-1",children:[(0,qv.jsx)("span",{className:"font-medium",children:"Email:"})," ",e.email]}),(null===e||void 0===e?void 0:e.phoneNumber)&&(0,qv.jsxs)("p",{className:"text-gray-600 mb-1",children:[(0,qv.jsx)("span",{className:"font-medium",children:"Telefoon:"})," ",e.phoneNumber]}),(null===e||void 0===e?void 0:e.address)&&(0,qv.jsxs)("p",{className:"text-gray-600 mb-1",children:[(0,qv.jsx)("span",{className:"font-medium",children:"Adres:"})," ",[e.address.street,e.address.houseNumber,e.address.postalCode,e.address.city,e.address.country].filter(Boolean).join(", ")]})]}),(null===n||void 0===n?void 0:n.overMij)&&(0,qv.jsxs)("div",{className:"mb-8",children:[(0,qv.jsx)("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Over mij"}),(0,qv.jsx)("p",{className:"text-gray-700 whitespace-pre-line",children:n.overMij})]}),(null===n||void 0===n?void 0:n.werkervaring)&&n.werkervaring.length>0&&(0,qv.jsxs)("div",{className:"mb-8",children:[(0,qv.jsx)("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Werkervaring"}),(0,qv.jsx)("div",{className:"space-y-6",children:n.werkervaring.map((e=>(0,qv.jsxs)("div",{className:"pl-4 border-l-2 border-primary-200",children:[(0,qv.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,qv.jsx)("h3",{className:"font-medium text-lg text-gray-800",children:e.functie}),(0,qv.jsxs)("span",{className:"text-gray-500 text-sm",children:[dx(e.startDatum)," - ",e.isHuidigeFunctie?"Heden":dx(e.eindDatum)]})]}),(0,qv.jsx)("p",{className:"text-primary-600 font-medium mb-2",children:e.bedrijf}),e.beschrijving&&(0,qv.jsx)("p",{className:"text-gray-700 whitespace-pre-line",children:e.beschrijving})]},e.id)))})]}),(null===n||void 0===n?void 0:n.opleiding)&&n.opleiding.length>0&&(0,qv.jsxs)("div",{className:"mb-8",children:[(0,qv.jsx)("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Opleiding"}),(0,qv.jsx)("div",{className:"space-y-6",children:n.opleiding.map((e=>(0,qv.jsxs)("div",{className:"pl-4 border-l-2 border-primary-200",children:[(0,qv.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,qv.jsx)("h3",{className:"font-medium text-lg text-gray-800",children:e.opleiding}),(0,qv.jsxs)("span",{className:"text-gray-500 text-sm",children:[dx(e.startDatum)," - ",e.isHuidigeOpleiding?"Heden":dx(e.eindDatum)]})]}),(0,qv.jsx)("p",{className:"text-primary-600 font-medium mb-2",children:e.instituut}),e.beschrijving&&(0,qv.jsx)("p",{className:"text-gray-700 whitespace-pre-line",children:e.beschrijving})]},e.id)))})]}),(null===n||void 0===n?void 0:n.stages)&&n.stages.length>0&&(0,qv.jsxs)("div",{className:"mb-8",children:[(0,qv.jsx)("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Stages"}),(0,qv.jsx)("div",{className:"space-y-6",children:n.stages.map((e=>(0,qv.jsxs)("div",{className:"pl-4 border-l-2 border-primary-200",children:[(0,qv.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,qv.jsx)("h3",{className:"font-medium text-lg text-gray-800",children:e.functie}),(0,qv.jsxs)("span",{className:"text-gray-500 text-sm",children:[dx(e.startDatum)," - ",e.isHuidigeStage?"Heden":dx(e.eindDatum)]})]}),(0,qv.jsx)("p",{className:"text-primary-600 font-medium mb-2",children:e.bedrijf}),e.beschrijving&&(0,qv.jsx)("p",{className:"text-gray-700 whitespace-pre-line",children:e.beschrijving})]},e.id)))})]}),(null===n||void 0===n?void 0:n.vaardigheden)&&n.vaardigheden.length>0&&(0,qv.jsxs)("div",{className:"mb-8",children:[(0,qv.jsx)("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Vaardigheden"}),n.vaardigheden.some((e=>"soft"===e.type))&&(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsx)("h3",{className:"font-medium text-primary-600 mb-2",children:"Soft Skills"}),(0,qv.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.vaardigheden.filter((e=>"soft"===e.type)).map((e=>(0,qv.jsxs)("div",{className:"flex justify-between items-center",children:[(0,qv.jsx)("span",{className:"text-gray-700",children:e.naam}),u(e.niveau)]},e.id)))})]}),n.vaardigheden.some((e=>"hard"===e.type))&&(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h3",{className:"font-medium text-primary-600 mb-2",children:"Hard Skills"}),(0,qv.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.vaardigheden.filter((e=>"hard"===e.type)).map((e=>(0,qv.jsxs)("div",{className:"flex justify-between items-center",children:[(0,qv.jsx)("span",{className:"text-gray-700",children:e.naam}),u(e.niveau)]},e.id)))})]})]}),(null===n||void 0===n?void 0:n.certificaten)&&n.certificaten.length>0&&(0,qv.jsxs)("div",{className:"mb-8",children:[(0,qv.jsx)("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Certificaten"}),(0,qv.jsx)("div",{className:"space-y-4",children:n.certificaten.map((e=>(0,qv.jsxs)("div",{className:"pl-4 border-l-2 border-primary-200",children:[(0,qv.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,qv.jsx)("h3",{className:"font-medium text-gray-800",children:e.naam}),(0,qv.jsx)("span",{className:"text-gray-500 text-sm",children:dx(e.datum)})]}),(0,qv.jsx)("p",{className:"text-primary-600 font-medium mb-1",children:e.uitgever}),e.beschrijving&&(0,qv.jsx)("p",{className:"text-gray-700 text-sm",children:e.beschrijving})]},e.id)))})]}),(null===n||void 0===n?void 0:n.talen)&&n.talen.length>0&&(0,qv.jsxs)("div",{className:"mb-8",children:[(0,qv.jsx)("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Talen"}),(0,qv.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:n.talen.map((e=>(0,qv.jsxs)("div",{className:"flex justify-between",children:[(0,qv.jsx)("span",{className:"text-gray-700",children:e.taal}),(0,qv.jsx)("span",{className:"text-primary-600 font-medium",children:e.niveau})]},e.id)))})]}),(null===n||void 0===n?void 0:n.hobbys)&&n.hobbys.length>0&&(0,qv.jsxs)("div",{className:"mb-8",children:[(0,qv.jsx)("h2",{className:"text-xl font-semibold text-gray-800 border-b pb-2 mb-4",children:"Hobby's en interesses"}),(0,qv.jsx)("div",{className:"flex flex-wrap gap-2",children:n.hobbys.map((e=>(0,qv.jsx)("span",{className:"bg-gray-100 text-gray-700 px-3 py-1 rounded-full",children:e.naam},e.id)))})]})]}),(0,qv.jsx)("div",{className:"bg-gray-50 px-8 py-4 border-t border-gray-200",children:(0,qv.jsxs)("p",{className:"text-gray-500 text-center",children:["Dit is een preview van je CV zoals het zichtbaar is voor recruiters.",(0,qv.jsx)("br",{}),"Ga terug naar het profiel om wijzigingen aan te brengen."]})})]})})})},mx=()=>{var e;const t=ee(),{currentUser:n,userProfile:r}=Gv(),[s,a]=(0,i.useState)(!1),[o,l]=(0,i.useState)(null),{register:c,handleSubmit:u,formState:{errors:d}}=Pb({defaultValues:{title:"",company:(null===r||void 0===r||null===(e=r.profile)||void 0===e?void 0:e.company)||(null===r||void 0===r?void 0:r.companyName)||"",location:"",description:"",requirements:"",salary:"",isFullTime:!0,isRemote:!1}}),h=()=>{t("/dashboard")};return(0,qv.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,qv.jsx)(ex,{}),(0,qv.jsxs)("div",{className:"container mx-auto px-4 py-12 max-w-3xl",children:[(0,qv.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,qv.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Nieuwe vacature plaatsen"}),(0,qv.jsx)("button",{onClick:h,className:"text-gray-600 hover:text-gray-800",children:"Annuleren"})]}),o&&(0,qv.jsx)("div",{className:"mb-6 bg-red-100 border-l-4 border-red-500 text-red-700 p-4",children:(0,qv.jsx)("p",{children:o})}),(0,qv.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:(0,qv.jsxs)("form",{onSubmit:u((async e=>{if(n){if("recruiter"!==(null===r||void 0===r?void 0:r.role))return console.error("Gebruiker is geen recruiter, kan geen vacature plaatsen",r),void l("Alleen recruiters kunnen vacatures plaatsen");console.log("Vacature aanmaken voor gebruiker:",{uid:n.uid,email:n.email,role:null===r||void 0===r?void 0:r.role}),a(!0),l(null);try{const r=Pm(Uv,"jobs"),i=new Date,s={seconds:Math.floor(i.getTime()/1e3),nanoseconds:1e6*i.getMilliseconds()},a={...e,recruiterId:n.uid,userId:n.uid,createdAt:Kf(),createdAtFallback:s,updatedAt:Kf(),updatedAtFallback:s,status:"active"};console.log("Nieuw vacature data om op te slaan:",a),console.log("Firebase connection status check v\xf3\xf3r toevoegen vacature");const o=await Hf(r,a);console.log("Vacature toegevoegd met ID:",o.id),t(`/job/${o.id}`)}catch(i){console.error("Fout bij het toevoegen van vacature:",i);let e="Er is een fout opgetreden bij het plaatsen van de vacature. ";i instanceof Error?(console.error("Foutdetails:",i.message),i.message.includes("permission-denied")?e+="Je hebt geen toestemming om vacatures te plaatsen. Controleer of je bent ingelogd als recruiter.":i.message.includes("network")?e+="Er lijkt een netwerkprobleem te zijn. Controleer je internetverbinding en probeer het opnieuw.":e+="Probeer het later opnieuw."):e+="Probeer het later opnieuw.",l(e),a(!1)}}else l("Je moet ingelogd zijn om een vacature te plaatsen")})),className:"p-6 space-y-6",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsxs)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:["Functietitel ",(0,qv.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qv.jsx)("input",{type:"text",id:"title",...c("title",{required:"Functietitel is verplicht"}),className:`w-full px-3 py-2 border ${d.title?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"bijv. Frontend Developer"}),d.title&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-500",children:d.title.message})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsxs)("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700 mb-1",children:["Bedrijfsnaam ",(0,qv.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qv.jsx)("input",{type:"text",id:"company",...c("company",{required:"Bedrijfsnaam is verplicht"}),className:`w-full px-3 py-2 border ${d.company?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"bijv. Tech Solutions BV"}),d.company&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-500",children:d.company.message})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsxs)("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:["Locatie ",(0,qv.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qv.jsx)("input",{type:"text",id:"location",...c("location",{required:"Locatie is verplicht"}),className:`w-full px-3 py-2 border ${d.location?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"bijv. Amsterdam"}),d.location&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-500",children:d.location.message})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"salary",className:"block text-sm font-medium text-gray-700 mb-1",children:"Salarisindicatie"}),(0,qv.jsx)("input",{type:"text",id:"salary",...c("salary"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"bijv. \u20ac3000-\u20ac4000 per maand"})]}),(0,qv.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("input",{type:"checkbox",id:"isFullTime",...c("isFullTime"),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,qv.jsx)("label",{htmlFor:"isFullTime",className:"ml-2 block text-sm text-gray-700",children:"Fulltime"})]}),(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("input",{type:"checkbox",id:"isRemote",...c("isRemote"),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,qv.jsx)("label",{htmlFor:"isRemote",className:"ml-2 block text-sm text-gray-700",children:"Mogelijkheid tot thuiswerken"})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsxs)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Functieomschrijving ",(0,qv.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qv.jsx)("textarea",{id:"description",...c("description",{required:"Functieomschrijving is verplicht"}),rows:6,className:`w-full px-3 py-2 border ${d.description?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"Beschrijf de functie, taken en verantwoordelijkheden..."}),d.description&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-500",children:d.description.message})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"requirements",className:"block text-sm font-medium text-gray-700 mb-1",children:"Functie-eisen"}),(0,qv.jsx)("textarea",{id:"requirements",...c("requirements"),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Beschrijf de kennis, vaardigheden en ervaring die nodig zijn voor deze functie..."})]}),(0,qv.jsxs)("div",{className:"pt-4 flex justify-end space-x-4",children:[(0,qv.jsx)("button",{type:"button",onClick:h,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Annuleren"}),(0,qv.jsx)("button",{type:"submit",disabled:s,className:"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 flex items-center justify-center",children:s?(0,qv.jsxs)(qv.Fragment,{children:[(0,qv.jsx)("div",{className:"animate-spin mr-2 h-4 w-4 border-t-2 border-b-2 border-white rounded-full"}),"Bezig met opslaan..."]}):"Vacature plaatsen"})]})]})})]})]})},fx=()=>{const{jobId:e}=ne(),t=ee(),{currentUser:n}=Gv(),[r,s]=(0,i.useState)(!1),[a,o]=(0,i.useState)(!0),[l,c]=(0,i.useState)(null),[u,d]=(0,i.useState)(!1),{register:h,handleSubmit:m,formState:{errors:f},reset:p}=Pb();(0,i.useEffect)((()=>{(async()=>{if(!e||!n)return c("Ongeldige vacature ID of gebruiker niet ingelogd"),void o(!1);try{o(!0);const t=Om(Uv,"jobs",e),r=await Uf(t);if(!r.exists())return c("Vacature niet gevonden"),void o(!1);const i=r.data();if(i.recruiterId!==n.uid)return d(!0),void o(!1);p({title:i.title||"",company:i.company||"",location:i.location||"",description:i.description||"",requirements:i.requirements||"",salary:i.salary||"",isFullTime:i.isFullTime||!1,isRemote:i.isRemote||!1,status:i.status||"active"}),o(!1)}catch(t){console.error("Fout bij ophalen vacature:",t),c("Er is een fout opgetreden bij het laden van de vacature"),o(!1)}})()}),[e,n,p]);const g=()=>{t(`/job/${e}`)};return u?(0,qv.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,qv.jsx)(ex,{}),(0,qv.jsxs)("div",{className:"container mx-auto px-4 py-12 max-w-3xl",children:[(0,qv.jsx)("div",{className:"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6",children:(0,qv.jsx)("p",{children:"Je hebt geen toestemming om deze vacature te bewerken."})}),(0,qv.jsx)("button",{onClick:()=>t("/dashboard"),className:"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700",children:"Terug naar dashboard"})]})]}):(0,qv.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,qv.jsx)(ex,{}),(0,qv.jsxs)("div",{className:"container mx-auto px-4 py-12 max-w-3xl",children:[(0,qv.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,qv.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Vacature bewerken"}),(0,qv.jsx)("button",{onClick:g,className:"text-gray-600 hover:text-gray-800",children:"Annuleren"})]}),l&&(0,qv.jsx)("div",{className:"mb-6 bg-red-100 border-l-4 border-red-500 text-red-700 p-4",children:(0,qv.jsx)("p",{children:l})}),a?(0,qv.jsxs)("div",{className:"flex justify-center py-12",children:[(0,qv.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"}),(0,qv.jsx)("span",{className:"ml-3 text-gray-600",children:"Vacature laden..."})]}):(0,qv.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:(0,qv.jsxs)("form",{onSubmit:m((async r=>{if(n&&e){s(!0),c(null);try{const n=Om(Uv,"jobs",e),i={...r,updatedAt:Kf()};await $f(n,i),t(`/job/${e}`)}catch(i){console.error("Fout bij bijwerken vacature:",i),c("Er is een fout opgetreden bij het bijwerken van de vacature. Probeer het later opnieuw."),s(!1)}}else c("Je moet ingelogd zijn en een geldige vacature ID hebben")})),className:"p-6 space-y-6",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsxs)("label",{htmlFor:"title",className:"block text-sm font-medium text-gray-700 mb-1",children:["Functietitel ",(0,qv.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qv.jsx)("input",{type:"text",id:"title",...h("title",{required:"Functietitel is verplicht"}),className:`w-full px-3 py-2 border ${f.title?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"bijv. Frontend Developer"}),f.title&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-500",children:f.title.message})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsxs)("label",{htmlFor:"company",className:"block text-sm font-medium text-gray-700 mb-1",children:["Bedrijfsnaam ",(0,qv.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qv.jsx)("input",{type:"text",id:"company",...h("company",{required:"Bedrijfsnaam is verplicht"}),className:`w-full px-3 py-2 border ${f.company?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"bijv. Tech Solutions BV"}),f.company&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-500",children:f.company.message})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsxs)("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:["Locatie ",(0,qv.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qv.jsx)("input",{type:"text",id:"location",...h("location",{required:"Locatie is verplicht"}),className:`w-full px-3 py-2 border ${f.location?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"bijv. Amsterdam"}),f.location&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-500",children:f.location.message})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsxs)("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:["Status ",(0,qv.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qv.jsxs)("select",{id:"status",...h("status",{required:"Status is verplicht"}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",children:[(0,qv.jsx)("option",{value:"active",children:"Actief"}),(0,qv.jsx)("option",{value:"paused",children:"Gepauzeerd"}),(0,qv.jsx)("option",{value:"closed",children:"Gesloten"})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"salary",className:"block text-sm font-medium text-gray-700 mb-1",children:"Salarisindicatie"}),(0,qv.jsx)("input",{type:"text",id:"salary",...h("salary"),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"bijv. \u20ac3000-\u20ac4000 per maand"})]}),(0,qv.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("input",{type:"checkbox",id:"isFullTime",...h("isFullTime"),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,qv.jsx)("label",{htmlFor:"isFullTime",className:"ml-2 block text-sm text-gray-700",children:"Fulltime"})]}),(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("input",{type:"checkbox",id:"isRemote",...h("isRemote"),className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded"}),(0,qv.jsx)("label",{htmlFor:"isRemote",className:"ml-2 block text-sm text-gray-700",children:"Mogelijkheid tot thuiswerken"})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsxs)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Functieomschrijving ",(0,qv.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,qv.jsx)("textarea",{id:"description",...h("description",{required:"Functieomschrijving is verplicht"}),rows:6,className:`w-full px-3 py-2 border ${f.description?"border-red-500":"border-gray-300"} rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500`,placeholder:"Beschrijf de functie, taken en verantwoordelijkheden..."}),f.description&&(0,qv.jsx)("p",{className:"mt-1 text-sm text-red-500",children:f.description.message})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{htmlFor:"requirements",className:"block text-sm font-medium text-gray-700 mb-1",children:"Functie-eisen"}),(0,qv.jsx)("textarea",{id:"requirements",...h("requirements"),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Beschrijf de kennis, vaardigheden en ervaring die nodig zijn voor deze functie..."})]}),(0,qv.jsxs)("div",{className:"pt-4 flex justify-between",children:[(0,qv.jsx)("button",{type:"button",onClick:async()=>{if(confirm("Weet je zeker dat je deze vacature wilt verwijderen? Dit kan niet ongedaan worden gemaakt."))if(n&&e)try{s(!0);const n=Om(Uv,"jobs",e);await $f(n,{status:"deleted",updatedAt:Kf()}),t("/dashboard")}catch(r){console.error("Fout bij verwijderen vacature:",r),c("Er is een fout opgetreden bij het verwijderen van de vacature"),s(!1)}else c("Je moet ingelogd zijn en een geldige vacature ID hebben")},className:"px-6 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50",disabled:r,children:"Vacature verwijderen"}),(0,qv.jsxs)("div",{className:"flex space-x-4",children:[(0,qv.jsx)("button",{type:"button",onClick:g,className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50",children:"Annuleren"}),(0,qv.jsx)("button",{type:"submit",disabled:r,className:"px-6 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 disabled:opacity-50 flex items-center justify-center",children:r?(0,qv.jsxs)(qv.Fragment,{children:[(0,qv.jsx)("div",{className:"animate-spin mr-2 h-4 w-4 border-t-2 border-b-2 border-white rounded-full"}),"Bezig met opslaan..."]}):"Wijzigingen opslaan"})]})]})]})})]})]})},px=()=>{const{id:e}=ne(),t=ee(),{currentUser:n,userProfile:r}=Gv(),[s,a]=(0,i.useState)(null),[o,l]=(0,i.useState)(!0),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(null),[m,f]=(0,i.useState)(!1),[p,g]=(0,i.useState)(""),[v,y]=(0,i.useState)([]),[b,x]=(0,i.useState)(!1),[w,j]=(0,i.useState)((new Date).getMonth()),[N,k]=(0,i.useState)((new Date).getFullYear());if(!$v(r))return(0,qv.jsx)(ve,{to:"/dashboard"});const{register:_,handleSubmit:E,control:S,watch:C,formState:{errors:T},setValue:I,reset:A}=Pb({defaultValues:{date:new Date,time:"10:00",endTime:"11:00",title:"",description:"",meetingType:"kennismaking",locationType:"online"}}),D=C("locationType");(0,i.useEffect)((()=>{(async()=>{if(e)try{l(!0);const t=await Uf(Om(Uv,"users",e));if(t.exists()){const e=t.data(),n={id:t.id,name:e.displayName||e.name||"Onbekende kandidaat",email:e.email,phoneNumber:e.phoneNumber};a(n),I("candidateId",n.id),I("candidateName",n.name),I("candidateEmail",n.email||"")}else u("Kandidaat niet gevonden")}catch(t){console.error("Error fetching candidate:",t),u("Er is een fout opgetreden bij het laden van de kandidaat")}finally{l(!1)}else l(!1)})()}),[e,I]);return o&&!s||o&&e?(0,qv.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,qv.jsx)(ex,{}),(0,qv.jsxs)("div",{className:"container mx-auto px-4 py-32 text-center",children:[(0,qv.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600 mx-auto"}),(0,qv.jsx)("p",{className:"mt-4 text-gray-600",children:"Bezig met laden..."})]}),(0,qv.jsx)(tx,{})]}):(0,qv.jsxs)("div",{className:"min-h-screen bg-white",children:[(0,qv.jsx)(ex,{}),(0,qv.jsx)("div",{className:"w-full bg-gradient-to-r from-primary-600 to-primary-800 text-white py-32 mb-8",children:(0,qv.jsxs)("div",{className:"container mx-auto px-4",children:[(0,qv.jsx)("h1",{className:"text-4xl font-bold mb-6 text-center",children:"Afspraak plannen"}),(0,qv.jsx)("p",{className:"text-xl text-center max-w-3xl mx-auto",children:s?`Plan een afspraak met ${s.name}`:"Plan een afspraak met een kandidaat"})]})}),(0,qv.jsx)("div",{className:"container mx-auto px-4 py-12",children:(0,qv.jsxs)("div",{className:"flex flex-col md:flex-row gap-8",children:[(0,qv.jsx)("div",{className:"w-full md:w-1/2 bg-white rounded-lg shadow-md overflow-hidden mb-8",children:(0,qv.jsxs)("div",{className:"p-6",children:[(0,qv.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Kandidaat selecteren"}),(0,qv.jsxs)("div",{className:"mb-6",children:[(0,qv.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Zoek een kandidaat"}),(0,qv.jsxs)("div",{className:"flex space-x-2",children:[(0,qv.jsx)("input",{type:"text",value:p,onChange:e=>g(e.target.value),placeholder:"Voer naam of e-mail in...",className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline"}),(0,qv.jsx)("button",{type:"button",onClick:async()=>{if(p.trim())try{x(!0),u(null);const e=Pm(Uv,"users"),t=await zf(e),n=[];t.forEach((e=>{const t=e.data();if("werkzoekende"===t.role||"werkzoekende"===t.userType||"jobseeker"===t.role||"jobseeker"===t.userType){const r=t.displayName||t.name||"",i=t.email||"";(r.toLowerCase().includes(p.toLowerCase())||i.toLowerCase().includes(p.toLowerCase()))&&n.push({id:e.id,name:r,email:i,phoneNumber:t.phoneNumber})}})),y(n),0===n.length&&u("Geen kandidaten gevonden met deze zoekopdracht")}catch(e){console.error("Fout bij zoeken kandidaten:",e),u("Er is een fout opgetreden bij het zoeken naar kandidaten")}finally{x(!1)}},disabled:b,className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors disabled:opacity-50",children:b?"Zoeken...":"Zoek"})]})]}),v.length>0&&(0,qv.jsxs)("div",{className:"mb-6",children:[(0,qv.jsx)("h3",{className:"font-medium mb-2",children:"Gevonden kandidaten"}),(0,qv.jsx)("div",{className:"max-h-60 overflow-y-auto border rounded-md",children:v.map((e=>(0,qv.jsxs)("div",{onClick:()=>{return a(t=e),I("candidateId",t.id),I("candidateName",t.name),I("candidateEmail",t.email||""),y([]),void g("");var t},className:"p-3 border-b hover:bg-gray-50 cursor-pointer flex justify-between items-center",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("p",{className:"font-medium",children:e.name}),e.email&&(0,qv.jsx)("p",{className:"text-sm text-gray-600",children:e.email})]}),(0,qv.jsx)("button",{className:"text-blue-600 hover:text-blue-800 text-sm",children:"Selecteren"})]},e.id)))})]}),p&&0===v.length&&!b&&(0,qv.jsx)("div",{className:"mb-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg",children:(0,qv.jsx)("p",{className:"text-yellow-800",children:"Geen kandidaten gevonden. Controleer de spelling of zoek op een andere naam of e-mail."})}),(0,qv.jsx)("div",{className:"mb-6",children:(0,qv.jsxs)("div",{className:"relative flex items-center",children:[(0,qv.jsx)("div",{className:"flex-grow border-t border-gray-300"}),(0,qv.jsx)("span",{className:"flex-shrink mx-4 text-gray-600",children:"OF"}),(0,qv.jsx)("div",{className:"flex-grow border-t border-gray-300"})]})}),(0,qv.jsxs)("div",{className:"space-y-4",children:[(0,qv.jsx)("h3",{className:"font-medium",children:"Voeg handmatig een kandidaat toe"}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"candidateName",children:"Naam kandidaat *"}),(0,qv.jsx)("input",{id:"candidateName",..._("candidateName",{required:"Naam is verplicht"}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",placeholder:"Volledige naam"}),T.candidateName&&(0,qv.jsx)("p",{className:"text-red-500 text-xs italic mt-1",children:T.candidateName.message})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"candidateEmail",children:"E-mail kandidaat"}),(0,qv.jsx)("input",{id:"candidateEmail",..._("candidateEmail",{pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Ongeldig e-mailadres"}}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"email",placeholder:"E-mailadres"}),T.candidateEmail&&(0,qv.jsx)("p",{className:"text-red-500 text-xs italic mt-1",children:T.candidateEmail.message})]}),(0,qv.jsx)("div",{children:(0,qv.jsx)("button",{type:"button",onClick:()=>{const e=C("candidateName"),t=C("candidateEmail");e?(a({id:"manual",name:e,email:t}),y([]),g("")):u("Vul tenminste een naam in voor de kandidaat")},className:"px-4 py-2 bg-green-600 hover:bg-green-700 text-white rounded-md transition-colors",children:"Bevestig kandidaat"})})]}),s&&(0,qv.jsxs)("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",children:[(0,qv.jsx)("h3",{className:"font-medium mb-2",children:"Geselecteerde kandidaat"}),(0,qv.jsx)("p",{className:"text-xl font-bold",children:s.name}),s.email&&(0,qv.jsx)("p",{className:"text-gray-600",children:s.email}),(0,qv.jsx)("button",{type:"button",onClick:()=>a(null),className:"mt-2 text-red-600 hover:text-red-800 text-sm",children:"Verwijderen"})]})]})}),(0,qv.jsx)("div",{className:"w-full md:w-1/2 bg-white rounded-lg shadow-md overflow-hidden",children:(0,qv.jsxs)("div",{className:"p-6",children:[(0,qv.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Datum selecteren"}),(0,qv.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,qv.jsx)("button",{onClick:()=>{0===w?(j(11),k(N-1)):j(w-1)},className:"p-2 rounded-full hover:bg-gray-200 transition-colors","aria-label":"Vorige maand",children:(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,qv.jsx)("h3",{className:"text-lg font-medium",children:new Date(N,w).toLocaleDateString("nl-NL",{month:"long",year:"numeric"})}),(0,qv.jsx)("button",{onClick:()=>{11===w?(j(0),k(N+1)):j(w+1)},className:"p-2 rounded-full hover:bg-gray-200 transition-colors","aria-label":"Volgende maand",children:(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]}),(0,qv.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Zo","Ma","Di","Wo","Do","Vr","Za"].map((e=>(0,qv.jsx)("div",{className:"h-10 flex items-center justify-center font-medium text-gray-600",children:e},e)))}),(0,qv.jsx)("div",{className:"grid grid-cols-7 gap-1",children:(()=>{const e=new Date(N,w,1).getDay(),t=new Date(N,w+1,0).getDate();const n=[];for(let r=0;r<e;r++)n.push((0,qv.jsx)("div",{className:"h-12 border border-gray-200"},`empty-${r}`));for(let r=1;r<=t;r++){const e=new Date(N,w,r),t=new Date,i=t.getDate()===r&&t.getMonth()===w&&t.getFullYear()===N,s=(null===d||void 0===d?void 0:d.getDate())===r&&(null===d||void 0===d?void 0:d.getMonth())===w&&(null===d||void 0===d?void 0:d.getFullYear())===N;n.push((0,qv.jsx)("div",{onClick:()=>{h(e),I("date",e)},className:`h-12 flex items-center justify-center cursor-pointer hover:bg-primary-100 transition-colors\n            ${i?"font-bold":""}\n            ${s?"bg-primary-500 text-white hover:bg-primary-600":"bg-white"}\n            border border-gray-200`,children:r},`day-${r}`))}return n})()}),(0,qv.jsxs)("div",{className:"mt-6 p-4 bg-gray-50 rounded-lg",children:[(0,qv.jsx)("h3",{className:"font-medium mb-2",children:"Geselecteerde datum"}),(0,qv.jsx)("p",{className:"text-xl font-bold",children:d?d.toLocaleDateString("nl-NL",{weekday:"long",day:"numeric",month:"long",year:"numeric"}):"Geen datum geselecteerd"})]})]})}),(0,qv.jsx)("div",{className:"w-full md:w-1/2 bg-white rounded-lg shadow-md overflow-hidden",children:(0,qv.jsxs)("div",{className:"p-6",children:[(0,qv.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Afspraak details"}),m?(0,qv.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:"Afspraak succesvol gepland! Pagina wordt omgeleid..."}):(0,qv.jsxs)("form",{onSubmit:E((async e=>{if(!n)return;const i=e.candidateId||(s?s.id:null),a=e.candidateName||(s?s.name:null);if(i||a)try{l(!0);const s=new Date(e.date),[o,c]=e.time.split(":").map(Number);s.setHours(o,c);const u=new Date(e.date),[d,h]=e.endTime.split(":").map(Number);u.setHours(d,h);let m=i;if("manual"===i||!i){m=(await Hf(Pm(Uv,"users"),{displayName:a,email:e.candidateEmail||null,role:"werkzoekende",userType:"werkzoekende",createdAt:Ha.now(),createdBy:n.uid,isManuallyAdded:!0})).id}const p={candidateId:m,candidateName:a,candidateEmail:e.candidateEmail||null,recruiterId:n.uid,recruiterName:(null===r||void 0===r?void 0:r.displayName)||"Onbekende recruiter",title:e.title,description:e.description,meetingType:e.meetingType,locationType:e.locationType,location:"locatie"===e.locationType?e.location:null,meetingLink:"online"===e.locationType?e.meetingLink:null,dateTime:Ha.fromDate(s),endDateTime:Ha.fromDate(u),status:"gepland",createdAt:Ha.now()};await Hf(Pm(Uv,"meetings"),p),f(!0),setTimeout((()=>{t("/dashboard")}),2e3),A(e)}catch(o){console.error("Error creating meeting:",o);let e="Er is een fout opgetreden bij het plannen van de afspraak";o instanceof Error&&(console.error("Foutdetails:",o.message),o.message.includes("permission-denied")?e="Je hebt geen toestemming om afspraken te plannen. Controleer of je de juiste rechten hebt.":o.message.includes("network")&&(e="Er lijkt een netwerkprobleem te zijn. Controleer je internetverbinding en probeer het opnieuw.")),u(e)}finally{l(!1)}else u("Selecteer een kandidaat of voeg handmatig een kandidaat toe")})),className:"space-y-4",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"title",children:"Titel afspraak *"}),(0,qv.jsx)("input",{id:"title",..._("title",{required:"Titel is verplicht"}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",placeholder:"Bijv. Kennismakingsgesprek met [naam]"}),T.title&&(0,qv.jsx)("p",{className:"text-red-500 text-xs italic mt-1",children:T.title.message})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"time",children:"Begintijd *"}),(0,qv.jsx)("input",{id:"time",..._("time",{required:"Begintijd is verplicht"}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"time"}),T.time&&(0,qv.jsx)("p",{className:"text-red-500 text-xs italic mt-1",children:T.time.message})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"endTime",children:"Eindtijd *"}),(0,qv.jsx)("input",{id:"endTime",..._("endTime",{required:"Eindtijd is verplicht"}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"time"}),T.endTime&&(0,qv.jsx)("p",{className:"text-red-500 text-xs italic mt-1",children:T.endTime.message})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"meetingType",children:"Type afspraak *"}),(0,qv.jsxs)("select",{id:"meetingType",..._("meetingType",{required:!0}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",children:[(0,qv.jsx)("option",{value:"kennismaking",children:"Kennismakingsgesprek"}),(0,qv.jsx)("option",{value:"sollicitatiegesprek",children:"Sollicitatiegesprek"})]})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",children:"Locatie type *"}),(0,qv.jsxs)("div",{className:"flex space-x-4",children:[(0,qv.jsxs)("label",{className:"inline-flex items-center",children:[(0,qv.jsx)("input",{type:"radio",..._("locationType"),value:"online",className:"form-radio"}),(0,qv.jsx)("span",{className:"ml-2",children:"Online meeting"})]}),(0,qv.jsxs)("label",{className:"inline-flex items-center",children:[(0,qv.jsx)("input",{type:"radio",..._("locationType"),value:"locatie",className:"form-radio"}),(0,qv.jsx)("span",{className:"ml-2",children:"Op locatie"})]})]})]}),"online"===D?(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"meetingLink",children:"Meeting link"}),(0,qv.jsx)("input",{id:"meetingLink",..._("meetingLink"),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",placeholder:"Bijv. https://meet.google.com/..."})]}):(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"location",children:"Adres locatie *"}),(0,qv.jsx)("input",{id:"location",..._("location",{required:"locatie"===D&&"Adres is verplicht voor afspraken op locatie"}),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",type:"text",placeholder:"Bijv. Hoofdstraat 1, 1234 AB Amsterdam"}),T.location&&(0,qv.jsx)("p",{className:"text-red-500 text-xs italic mt-1",children:T.location.message})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"description",children:"Beschrijving"}),(0,qv.jsx)("textarea",{id:"description",..._("description"),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",rows:4,placeholder:"Geef extra details over deze afspraak..."})]}),(0,qv.jsxs)("div",{className:"flex justify-between",children:[(0,qv.jsx)("button",{type:"button",onClick:()=>t(`/candidate/${e}`),className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition-colors",children:"Annuleren"}),(0,qv.jsx)("button",{type:"submit",disabled:o,className:"px-4 py-2 bg-primary-600 text-white rounded-md hover:bg-primary-700 transition-colors disabled:opacity-50",children:o?"Bezig...":"Afspraak plannen"})]})]})]})})]})}),(0,qv.jsx)(tx,{})]})},gx=()=>{const{currentUser:e,userProfile:t}=Gv(),[n,r]=(0,i.useState)([]),[s,a]=(0,i.useState)(!0),[o,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)((new Date).getMonth()),[m,f]=(0,i.useState)((new Date).getFullYear()),[p,g]=(0,i.useState)([]),v=$v(t);if(!v)return(0,qv.jsx)(ve,{to:"/dashboard"});(0,i.useEffect)((()=>{(async()=>{if(e)try{a(!0),l(null);const t=wf(Pm(Uv,"meetings"),Nf("recruiterId","==",e.uid),Ef("dateTime","asc")),n=await zf(t),i=[];n.forEach((e=>{const t=e.data();i.push({id:e.id,title:t.title||"Ongetitelde afspraak",candidateName:t.candidateName||"Onbekende kandidaat",dateTime:t.dateTime,endDateTime:t.endDateTime,description:t.description,locationType:t.locationType,location:t.location,meetingLink:t.meetingLink,status:t.status||"gepland",candidateEmail:t.candidateEmail})})),r(i)}catch(t){console.error("Fout bij ophalen van meetings:",t),l("Er is een fout opgetreden bij het ophalen van je afspraken")}finally{a(!1)}})()}),[e]);const y=e=>n.filter((t=>{const n=t.dateTime.toDate();return n.getDate()===e.getDate()&&n.getMonth()===e.getMonth()&&n.getFullYear()===e.getFullYear()})),b=e=>{u(e);const t=y(e);g(t)},x=(e,t)=>{const n=e.toDate(),r=t.toDate();return`${n.toLocaleTimeString("nl-NL",{hour:"2-digit",minute:"2-digit",hour12:!1})} - ${r.toLocaleTimeString("nl-NL",{hour:"2-digit",minute:"2-digit",hour12:!1})}`};return(0,qv.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,qv.jsx)("div",{className:"w-full bg-gradient-to-r from-primary-600 to-primary-800 text-white py-24",children:(0,qv.jsx)("div",{className:"container mx-auto px-4",children:(0,qv.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,qv.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Agenda"}),(0,qv.jsx)("p",{className:"text-lg opacity-90",children:"Bekijk en beheer al je geplande afspraken"})]})})}),(0,qv.jsx)("div",{className:"container mx-auto px-4 py-8",children:(0,qv.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,qv.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-8",children:(0,qv.jsxs)("div",{className:"p-6",children:[(0,qv.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,qv.jsx)("h2",{className:"text-2xl font-bold",children:new Date(m,d).toLocaleDateString("nl-NL",{month:"long",year:"numeric"})}),(0,qv.jsxs)("div",{className:"flex space-x-2",children:[(0,qv.jsx)("button",{onClick:()=>{0===d?(h(11),f(m-1)):h(d-1)},className:"p-2 rounded hover:bg-gray-100","aria-label":"Vorige maand",children:(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z",clipRule:"evenodd"})})}),(0,qv.jsx)("button",{onClick:()=>{h((new Date).getMonth()),f((new Date).getFullYear())},className:"px-3 py-1 text-sm bg-gray-100 rounded hover:bg-gray-200",children:"Vandaag"}),(0,qv.jsx)("button",{onClick:()=>{11===d?(h(0),f(m+1)):h(d+1)},className:"p-2 rounded hover:bg-gray-100","aria-label":"Volgende maand",children:(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})})})]})]}),s?(0,qv.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,qv.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}):o?(0,qv.jsxs)("div",{className:"text-center text-red-500 p-8 bg-red-50 rounded-lg",children:[(0,qv.jsx)("p",{children:o}),(0,qv.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-2 text-primary-600 hover:text-primary-800 font-medium",children:"Probeer opnieuw"})]}):(0,qv.jsxs)(qv.Fragment,{children:[(0,qv.jsx)("div",{className:"grid grid-cols-7 gap-1 mb-1",children:["Zondag","Maandag","Dinsdag","Woensdag","Donderdag","Vrijdag","Zaterdag"].map((e=>(0,qv.jsx)("div",{className:"h-10 font-medium text-gray-500 text-sm flex items-center justify-center",children:e},e)))}),(0,qv.jsx)("div",{className:"grid grid-cols-7 gap-1",children:(()=>{const e=new Date(m,d,1).getDay(),t=new Date(m,d+1,0).getDate();const n=[];for(let r=0;r<e;r++)n.push((0,qv.jsx)("div",{className:"h-24 border border-gray-100 bg-gray-50"},`empty-${r}`));for(let r=1;r<=t;r++){const e=new Date(m,d,r),t=new Date,i=t.getDate()===r&&t.getMonth()===d&&t.getFullYear()===m,s=(null===c||void 0===c?void 0:c.getDate())===r&&(null===c||void 0===c?void 0:c.getMonth())===d&&(null===c||void 0===c?void 0:c.getFullYear())===m,a=y(e),o=a.length>0;n.push((0,qv.jsxs)("div",{onClick:()=>b(e),className:`h-24 p-1 border border-gray-200 overflow-hidden cursor-pointer transition-colors\n            ${i?"bg-blue-50":"bg-white"}\n            ${s?"ring-2 ring-primary-500":""}\n            ${o?"hover:bg-primary-50":"hover:bg-gray-50"}\n          `,children:[(0,qv.jsxs)("div",{className:"flex justify-between items-start",children:[(0,qv.jsx)("span",{className:`inline-block rounded-full w-7 h-7 text-center leading-7 text-sm\n              ${i?"bg-primary-500 text-white font-bold":""}\n            `,children:r}),o&&(0,qv.jsx)("span",{className:"rounded-full w-5 h-5 flex items-center justify-center bg-primary-500 text-white text-xs",children:a.length})]}),(0,qv.jsxs)("div",{className:"mt-1 overflow-hidden space-y-1",children:[a.slice(0,2).map(((e,t)=>(0,qv.jsx)("div",{className:"text-xs truncate px-1 py-0.5 rounded bg-primary-100 text-primary-800",children:e.title},`meeting-preview-${e.id}-${t}`))),a.length>2&&(0,qv.jsxs)("div",{className:"text-xs text-gray-500 pl-1",children:["+ ",a.length-2," meer"]})]})]},`day-${r}`))}return n})()})]})]})}),c&&(0,qv.jsx)("div",{className:"bg-white rounded-lg shadow-sm overflow-hidden mb-8",children:(0,qv.jsxs)("div",{className:"p-6",children:[(0,qv.jsxs)("h2",{className:"text-xl font-bold mb-4",children:["Afspraken op ",c.toLocaleDateString("nl-NL",{weekday:"long",day:"numeric",month:"long",year:"numeric"})]}),0===p.length?(0,qv.jsx)("div",{className:"text-center p-8 bg-gray-50 rounded-lg",children:(0,qv.jsx)("p",{className:"text-gray-500",children:"Geen afspraken gepland voor deze dag."})}):(0,qv.jsx)("div",{className:"space-y-4",children:p.map((e=>(0,qv.jsx)("div",{className:"border-l-4 border-primary-500 pl-4 py-3 bg-gray-50 rounded-r-lg hover:bg-gray-100 transition-colors",children:(0,qv.jsxs)("div",{className:"flex justify-between items-start",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h3",{className:"font-bold text-lg",children:e.title}),(0,qv.jsx)("p",{className:"text-primary-700",children:x(e.dateTime,e.endDateTime)}),(0,qv.jsxs)("p",{className:"text-gray-600 mt-1",children:["Met: ",e.candidateName]}),e.candidateEmail&&(0,qv.jsx)("p",{className:"text-gray-500 text-sm",children:e.candidateEmail}),e.description&&(0,qv.jsx)("p",{className:"mt-2 text-gray-700",children:e.description}),(0,qv.jsxs)("div",{className:"mt-2",children:[(0,qv.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium "+("online"===e.locationType?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:"online"===e.locationType?"Online meeting":"Op locatie"}),"online"===e.locationType&&e.meetingLink&&(0,qv.jsx)("a",{href:e.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"ml-2 text-primary-600 hover:text-primary-800 text-sm",children:"Meeting link"}),"locatie"===e.locationType&&e.location&&(0,qv.jsx)("span",{className:"ml-2 text-gray-600 text-sm",children:e.location})]})]}),(0,qv.jsx)("div",{className:"flex space-x-2",children:(0,qv.jsx)("button",{onClick:()=>window.open(`mailto:${e.candidateEmail}`,"_blank"),disabled:!e.candidateEmail,className:"p-2 rounded hover:bg-gray-200 "+(e.candidateEmail?"":"opacity-50 cursor-not-allowed"),title:e.candidateEmail?"E-mail versturen":"Geen e-mailadres beschikbaar",children:(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 text-gray-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,qv.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})})})]})},e.id)))})]})}),v&&(0,qv.jsx)("div",{className:"flex justify-end",children:(0,qv.jsxs)("a",{href:"/schedule-meeting",className:"inline-flex items-center px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-md",children:[(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z",clipRule:"evenodd"})}),"Nieuwe afspraak plannen"]})})]})}),(0,qv.jsx)(tx,{})]})},vx=()=>{const{applicationId:e}=ne(),t=ee(),{currentUser:n,userProfile:r}=Gv(),[s,a]=(0,i.useState)("profiel"),[o,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(null),[d,h]=(0,i.useState)(!0),[m,f]=(0,i.useState)(null),[p,g]=(0,i.useState)(!1),[v,y]=(0,i.useState)(!1),[b,x]=(0,i.useState)(null),w="recruiter"===(null===r||void 0===r?void 0:r.role),j="werkzoekende"===(null===r||void 0===r?void 0:r.role);(0,i.useEffect)((()=>{(async()=>{if(!e)return f("Geen sollicitatie ID gevonden"),void h(!1);try{h(!0);const t=Om(Uv,"sollicitaties",e),r=await Uf(t);if(r.exists()){const e=r.data();if(e.recruiterId!==(null===n||void 0===n?void 0:n.uid)&&e.userId!==(null===n||void 0===n?void 0:n.uid))return f("Je hebt geen toegang tot deze sollicitatie"),l(null),void h(!1);if(l({id:r.id,...e,applicationDate:e.applicationDate||Ha.now()}),w&&e.userId){const t=Om(Uv,"users",e.userId),n=await Uf(t);n.exists()&&u(n.data())}if(e.jobId){const t=Om(Uv,"jobs",e.jobId),n=await Uf(t);n.exists()&&x(n.data())}f(null)}else f("Sollicitatie niet gevonden"),l(null)}catch(t){console.error("Fout bij het ophalen van sollicitatiedetails:",t),f("Er is een fout opgetreden bij het laden van de sollicitatie"),l(null)}finally{h(!1)}})()}),[e,null===n||void 0===n?void 0:n.uid,w]);const N=async e=>{if(o&&o.id)try{g(!0);const t=Om(Uv,"sollicitaties",o.id);await $f(t,{status:e,updatedAt:Ha.now()}),l({...o,status:e,updatedAt:Ha.now()}),y(!0),setTimeout((()=>y(!1)),3e3)}catch(t){console.error("Fout bij het bijwerken van status:",t),f("Er is een fout opgetreden bij het bijwerken van de status")}finally{g(!1)}},k=e=>{if(!e)return"Onbekende datum";return(e instanceof Ha||e.toDate?e.toDate():new Date(e)).toLocaleDateString("nl-NL",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})},_=e=>{switch(e){case"pending":return{text:"Nieuw",bgColor:"bg-blue-100",textColor:"text-blue-800"};case"reviewing":return{text:"In behandeling",bgColor:"bg-yellow-100",textColor:"text-yellow-800"};case"interview":return{text:"Gesprek ingepland",bgColor:"bg-green-100",textColor:"text-green-800"};case"rejected":return{text:"Afgewezen",bgColor:"bg-red-100",textColor:"text-red-800"};case"accepted":return{text:"Aangenomen",bgColor:"bg-emerald-100",textColor:"text-emerald-800"};default:return{text:"Onbekend",bgColor:"bg-gray-100",textColor:"text-gray-800"}}},E=()=>{t("/dashboard")},S=()=>{o&&o.userId&&t(`/schedule-meeting/${o.userId}`)},C=()=>{o&&o.userId&&t(`/messages/${o.userId}`)},T=e=>{a(e)};return(0,qv.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,qv.jsx)("div",{className:"container mx-auto px-4 py-12 mt-12",children:(0,qv.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,qv.jsxs)("button",{onClick:E,className:"mb-6 flex items-center text-primary-600 hover:text-primary-800",children:[(0,qv.jsx)("svg",{className:"w-5 h-5 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Terug naar dashboard"]}),d&&(0,qv.jsxs)("div",{className:"flex justify-center items-center p-12",children:[(0,qv.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"}),(0,qv.jsx)("span",{className:"ml-3",children:"Sollicitatie details laden..."})]}),m&&(0,qv.jsxs)("div",{className:"bg-red-50 text-red-700 p-6 rounded-lg mb-6",children:[(0,qv.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Er is een probleem opgetreden"}),(0,qv.jsx)("p",{children:m})]}),v&&(0,qv.jsxs)("div",{className:"bg-green-50 text-green-700 p-6 rounded-lg mb-6 flex items-center",children:[(0,qv.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),(0,qv.jsx)("p",{children:"Status bijgewerkt"})]}),!d&&!m&&o&&(0,qv.jsx)(qv.Fragment,{children:j?(()=>{if(!o)return null;const e=_(o.status);return(0,qv.jsxs)("div",{className:"max-w-3xl mx-auto bg-white shadow-md rounded-lg overflow-hidden",children:[(0,qv.jsxs)("div",{className:"bg-gradient-to-r from-primary-600 to-primary-800 px-6 py-4 text-white",children:[(0,qv.jsxs)("h1",{className:"text-2xl font-bold mb-2",children:["Sollicitatie: ",o.jobTitle||"Onbekende functie"]}),(0,qv.jsx)("p",{className:"text-primary-100",children:o.companyName||"Onbekend bedrijf"})]}),(0,qv.jsxs)("div",{className:"p-6",children:[(0,qv.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("p",{className:"text-sm text-gray-500",children:"Sollicitatie verzonden op"}),(0,qv.jsx)("p",{className:"font-medium",children:k(o.applicationDate)})]}),(0,qv.jsx)("div",{children:(0,qv.jsx)("span",{className:`inline-flex items-center px-4 py-2 rounded-full font-medium ${e.bgColor} ${e.textColor}`,children:e.text})})]}),(0,qv.jsxs)("div",{className:"mb-8",children:[(0,qv.jsx)("h2",{className:"text-lg font-semibold mb-2",children:"Status van je sollicitatie"}),(0,qv.jsx)("div",{className:"p-4 rounded-md bg-gray-50 border border-gray-200",children:(0,qv.jsx)("p",{children:(e=>{switch(e){case"pending":return"Je sollicitatie is ontvangen en wacht op beoordeling door de recruiter.";case"reviewing":return"De recruiter is momenteel je sollicitatie aan het beoordelen.";case"interview":return"Gefeliciteerd! De recruiter wil graag een gesprek met je plannen. Je kunt binnenkort een uitnodiging verwachten.";case"rejected":return"Helaas heeft de recruiter besloten niet verder te gaan met je sollicitatie. Kijk naar andere vacatures die mogelijk beter passen.";case"accepted":return"Gefeliciteerd! Je bent aangenomen voor deze positie. De recruiter zal contact met je opnemen voor de volgende stappen.";default:return"De status van je sollicitatie is onbekend."}})(o.status)})})]}),(0,qv.jsxs)("div",{className:"mb-8",children:[(0,qv.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Sollicitatieproces"}),(0,qv.jsxs)("div",{className:"relative",children:[(0,qv.jsx)("div",{className:"absolute left-0 top-1/2 transform -translate-y-1/2 w-full h-1 bg-gray-200"}),(0,qv.jsx)("div",{className:"relative flex justify-between",children:["pending","reviewing","interview","accepted"].map(((e,t)=>{const n="pending"===o.status&&0===t||"reviewing"===o.status&&t<=1||"interview"===o.status&&t<=2||"accepted"===o.status&&t<=3,r="pending"===o.status&&0===t||"reviewing"===o.status&&1===t||"interview"===o.status&&2===t||"accepted"===o.status&&3===t;return(0,qv.jsxs)("div",{className:"flex flex-col items-center",children:[(0,qv.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center z-10 "+(r?"ring-4 ring-primary-100 bg-primary-600 text-white":n?"bg-primary-600 text-white":"bg-gray-200 text-gray-500"),children:t+1}),(0,qv.jsxs)("p",{className:"mt-2 text-sm "+(r?"font-medium text-primary-600":"text-gray-500"),children:[0===t&&"Ontvangen",1===t&&"In behandeling",2===t&&"Gesprek",3===t&&"Aangenomen"]})]},e)}))})]})]}),(0,qv.jsxs)("div",{className:"border-t border-gray-200 pt-6 mt-6",children:[(0,qv.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Jouw sollicitatie"}),(0,qv.jsxs)("div",{className:"space-y-4",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h3",{className:"text-sm text-gray-500",children:"Motivatiebrief"}),(0,qv.jsx)("div",{className:"mt-1 p-3 bg-gray-50 rounded-md whitespace-pre-line",children:o.motivationLetter||"Geen motivatiebrief bijgevoegd"})]}),o.cvUrl&&(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h3",{className:"text-sm text-gray-500",children:"CV"}),(0,qv.jsx)("div",{className:"mt-1",children:(0,qv.jsxs)("a",{href:o.cvUrl,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:[(0,qv.jsx)("svg",{className:"mr-2 h-5 w-5 text-gray-500",fill:"currentColor",viewBox:"0 0 20 20",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 011.414 0L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Bekijk je CV"]})})]}),o.notes&&(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h3",{className:"text-sm text-gray-500",children:"Extra informatie"}),(0,qv.jsx)("div",{className:"mt-1 p-3 bg-gray-50 rounded-md whitespace-pre-line",children:o.notes})]})]})]}),(0,qv.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[(0,qv.jsx)("h2",{className:"text-lg font-semibold mb-4",children:"Contact met recruiter"}),(0,qv.jsxs)("button",{onClick:C,className:"w-full px-6 py-3 bg-primary-600 text-white font-medium rounded-md hover:bg-primary-700 transition-colors flex justify-center items-center",children:[(0,qv.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,qv.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Stuur een bericht aan de recruiter"]})]})]}),(0,qv.jsx)("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200",children:(0,qv.jsxs)("button",{onClick:E,className:"flex items-center text-primary-600 hover:text-primary-800",children:[(0,qv.jsx)("svg",{className:"w-5 h-5 mr-1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M9.707 14.707a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 1.414L7.414 9H15a1 1 0 110 2H7.414l2.293 2.293a1 1 0 010 1.414z",clipRule:"evenodd"})}),"Terug naar dashboard"]})})]})})():(0,qv.jsxs)("div",{children:[(0,qv.jsx)("div",{className:"bg-white shadow-md rounded-t-lg p-6 mb-0 border border-gray-200 border-b-0",children:(0,qv.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:o.applicantName||"Onbekende kandidaat"}),(0,qv.jsxs)("p",{className:"text-gray-600",children:["Sollicitatie voor ",o.jobTitle||"Onbekende functie"," bij ",o.companyName||"Onbekend bedrijf"]})]}),(0,qv.jsx)("div",{className:"mt-4 md:mt-0",children:o.status&&(0,qv.jsx)("span",{className:`${_(o.status).bgColor} ${_(o.status).textColor} px-3 py-2 rounded-md font-medium`,children:_(o.status).text})})]})}),(0,qv.jsx)("div",{className:"bg-white border-x border-t border-gray-200",children:(0,qv.jsxs)("nav",{className:"flex border-b border-gray-200",children:[(0,qv.jsx)("button",{onClick:()=>T("profiel"),className:"px-6 py-4 text-center w-1/3 font-medium text-sm focus:outline-none "+("profiel"===s?"border-b-2 border-primary-500 text-primary-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Profiel"}),(0,qv.jsx)("button",{onClick:()=>T("sollicitatie"),className:"px-6 py-4 text-center w-1/3 font-medium text-sm focus:outline-none "+("sollicitatie"===s?"border-b-2 border-primary-500 text-primary-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"Sollicitatie"}),(0,qv.jsx)("button",{onClick:()=>T("cv"),className:"px-6 py-4 text-center w-1/3 font-medium text-sm focus:outline-none "+("cv"===s?"border-b-2 border-primary-500 text-primary-600":"text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:"CV"})]})}),(0,qv.jsxs)("div",{className:"p-6 bg-gray-50 border-x border-b border-gray-200 rounded-b-lg",children:["profiel"===s&&(()=>{if(!o)return null;const e=c&&(c.profileImage||c.profilePhoto||c.avatar||c.profile&&c.profile.profileImage||c.profile&&c.profile.profilePhoto||c.profile&&c.profile.avatar||c.userData&&c.userData.profileImage)||null;return console.log("Applicant profile data:",c),console.log("Profile image URL found:",e),(0,qv.jsxs)("div",{className:"space-y-6",children:[(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[(0,qv.jsx)("div",{className:"p-6",children:(0,qv.jsxs)("div",{className:"flex flex-col md:flex-row md:space-x-6",children:[(0,qv.jsx)("div",{className:"flex-shrink-0 mb-4 md:mb-0",children:(0,qv.jsx)("div",{className:"w-32 h-32 rounded-full overflow-hidden bg-gray-100 border border-gray-200",children:e?(0,qv.jsx)("img",{src:e,alt:`Profielfoto van ${o.applicantName}`,className:"w-full h-full object-cover",onError:e=>{console.log("Error loading profile image:",e),e.currentTarget.src="https://via.placeholder.com/150?text=Geen+foto"}}):(0,qv.jsx)("div",{className:"flex items-center justify-center w-full h-full bg-gray-100 text-gray-400",children:(0,qv.jsx)("svg",{className:"w-16 h-16",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})})})}),(0,qv.jsxs)("div",{className:"flex-grow",children:[(0,qv.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Kandidaat gegevens"}),(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Naam"}),(0,qv.jsx)("p",{className:"font-medium text-gray-800",children:o.applicantName||"Onbekend"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"E-mail"}),(0,qv.jsx)("p",{className:"font-medium text-gray-800",children:(0,qv.jsx)("a",{href:`mailto:${o.email}`,className:"text-primary-600 hover:underline",children:o.email||"Niet opgegeven"})})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Telefoonnummer"}),(0,qv.jsx)("p",{className:"font-medium text-gray-800",children:o.phoneNumber?(0,qv.jsx)("a",{href:`tel:${o.phoneNumber}`,className:"text-primary-600 hover:underline",children:o.phoneNumber}):"Niet opgegeven"})]}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("p",{className:"text-sm text-gray-500 mb-1",children:"Sollicitatie ontvangen op"}),(0,qv.jsx)("p",{className:"font-medium text-gray-800",children:k(o.applicationDate)})]})]})]})]})}),(0,qv.jsxs)("div",{className:"bg-gray-50 p-6 border-t border-gray-200",children:[(0,qv.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Online profielen"}),(0,qv.jsxs)("div",{className:"space-y-3",children:[o.linkedinUrl&&(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("svg",{className:"w-5 h-5 text-blue-600 mr-2",fill:"currentColor",viewBox:"0 0 24 24",children:(0,qv.jsx)("path",{d:"M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452z"})}),(0,qv.jsx)("a",{href:o.linkedinUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"LinkedIn profiel"})]}),o.portfolioUrl&&(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("svg",{className:"w-5 h-5 text-gray-600 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M12.586 4.586a2 2 0 112.828 2.828l-3 3a2 2 0 01-2.828 0 1 1 0 00-1.414 1.414 4 4 0 005.656 0l3-3a4 4 0 00-5.656-5.656l-1.5 1.5a1 1 0 101.414 1.414l1.5-1.5zm-5 5a2 2 0 012.828 0 1 1 0 101.414-1.414 4 4 0 00-5.656 0l-3 3a4 4 0 105.656 5.656l1.5-1.5a1 1 0 10-1.414-1.414l-1.5 1.5a2 2 0 11-2.828-2.828l3-3z",clipRule:"evenodd"})}),(0,qv.jsx)("a",{href:o.portfolioUrl,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"Portfolio website"})]})]})]})]}),(0,qv.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,qv.jsxs)("button",{onClick:S,className:"px-6 py-3 bg-primary-600 text-white font-medium rounded-md hover:bg-primary-700 transition-colors flex-1 flex justify-center items-center",children:[(0,qv.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,qv.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Plan een gesprek"]}),(0,qv.jsxs)("button",{onClick:C,className:"px-6 py-3 bg-white text-primary-600 font-medium rounded-md border border-primary-600 hover:bg-primary-50 transition-colors flex-1 flex justify-center items-center",children:[(0,qv.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,qv.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})}),"Stuur een bericht"]})]})]})})(),"sollicitatie"===s&&(o?(0,qv.jsxs)("div",{className:"space-y-6",children:[(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[(0,qv.jsx)("div",{className:"p-6",children:(0,qv.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("span",{className:"inline-block text-xs font-medium text-gray-500 mb-2",children:"Sollicitatie voor"}),(0,qv.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:o.jobTitle||"Onbekende vacature"}),(0,qv.jsx)("p",{className:"text-gray-600 mt-1",children:o.companyName||"Onbekend bedrijf"})]}),(0,qv.jsx)("div",{className:"mt-4 md:mt-0",children:o.status&&(0,qv.jsx)("span",{className:`${_(o.status).bgColor} ${_(o.status).textColor} px-3 py-2 rounded-md font-medium`,children:_(o.status).text})})]})}),(0,qv.jsxs)("div",{className:"bg-gray-50 p-6 border-t border-gray-200",children:[(0,qv.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Status bijwerken"}),(0,qv.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,qv.jsx)("button",{onClick:()=>N("pending"),disabled:p||"pending"===o.status,className:"px-4 py-2 rounded-md font-medium "+("pending"===o.status?"bg-blue-100 text-blue-800 cursor-default":"bg-white border border-blue-500 text-blue-700 hover:bg-blue-50"),children:"Nieuw"}),(0,qv.jsx)("button",{onClick:()=>N("reviewing"),disabled:p||"reviewing"===o.status,className:"px-4 py-2 rounded-md font-medium "+("reviewing"===o.status?"bg-yellow-100 text-yellow-800 cursor-default":"bg-white border border-yellow-500 text-yellow-700 hover:bg-yellow-50"),children:"In behandeling"}),(0,qv.jsx)("button",{onClick:()=>N("interview"),disabled:p||"interview"===o.status,className:"px-4 py-2 rounded-md font-medium "+("interview"===o.status?"bg-green-100 text-green-800 cursor-default":"bg-white border border-green-500 text-green-700 hover:bg-green-50"),children:"Gesprek ingepland"}),(0,qv.jsx)("button",{onClick:()=>N("rejected"),disabled:p||"rejected"===o.status,className:"px-4 py-2 rounded-md font-medium "+("rejected"===o.status?"bg-red-100 text-red-800 cursor-default":"bg-white border border-red-500 text-red-700 hover:bg-red-50"),children:"Afwijzen"}),(0,qv.jsx)("button",{onClick:()=>N("accepted"),disabled:p||"accepted"===o.status,className:"px-4 py-2 rounded-md font-medium "+("accepted"===o.status?"bg-emerald-100 text-emerald-800 cursor-default":"bg-white border border-emerald-500 text-emerald-700 hover:bg-emerald-50"),children:"Aannemen"})]})]})]}),(0,qv.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:(0,qv.jsxs)("div",{className:"p-6",children:[(0,qv.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Motivatiebrief"}),(0,qv.jsx)("div",{className:"bg-gray-50 p-4 rounded-md text-gray-700 whitespace-pre-line",children:o.motivationLetter||"Geen motivatiebrief bijgevoegd"})]})}),o.notes&&(0,qv.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:(0,qv.jsxs)("div",{className:"p-6",children:[(0,qv.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Extra informatie"}),(0,qv.jsx)("div",{className:"bg-gray-50 p-4 rounded-md text-gray-700 whitespace-pre-line",children:o.notes})]})})]}):null),"cv"===s&&(()=>{if(!o)return null;const e=c&&c.profile&&Object.keys(c.profile).length>0;return(0,qv.jsxs)("div",{className:"space-y-6",children:[(o.cvUrl||!e)&&(0,qv.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:[(0,qv.jsxs)("div",{className:"p-6",children:[(0,qv.jsxs)("h2",{className:"text-xl font-semibold mb-4",children:["CV van ",o.applicantName]}),o.cvUrl?(0,qv.jsx)("div",{className:"aspect-[3/4] bg-gray-50 rounded-md border border-gray-200 overflow-hidden",children:(0,qv.jsx)("iframe",{src:o.cvUrl,className:"w-full h-full",title:`CV van ${o.applicantName}`})}):(0,qv.jsx)("div",{className:"aspect-[3/4] bg-gray-50 rounded-md border border-gray-200 flex items-center justify-center",children:(0,qv.jsxs)("div",{className:"text-center p-6",children:[(0,qv.jsx)("svg",{className:"w-16 h-16 text-gray-400 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,qv.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,qv.jsx)("p",{className:"text-gray-600",children:"Geen CV bijgevoegd"})]})})]}),o.cvUrl&&(0,qv.jsx)("div",{className:"bg-gray-50 p-6 border-t border-gray-200",children:(0,qv.jsxs)("a",{href:o.cvUrl,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center px-6 py-3 bg-primary-600 text-white font-medium rounded-md hover:bg-primary-700 transition-colors",children:[(0,qv.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"currentColor",viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M3 17a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm3.293-7.707a1 1 0 00-1.414-1.414L9 10.586V3a1 1 0 112 0v7.586l1.293-1.293a1 1 0 111.414 1.414l-3 3a1 1 0 01-1.414 0l-3-3a1 1 0 010-1.414z",clipRule:"evenodd"})}),"Download CV"]})})]}),e&&(0,qv.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 overflow-hidden",children:(0,qv.jsxs)("div",{className:"p-6",children:[(0,qv.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Uitgebreid profiel"}),c.profile&&(0,qv.jsxs)("div",{className:"space-y-6",children:[c.profile.skills&&(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Vaardigheden"}),(0,qv.jsx)("div",{className:"flex flex-wrap gap-2",children:Array.isArray(c.profile.skills)?c.profile.skills.map(((e,t)=>(0,qv.jsx)("span",{className:"bg-primary-50 text-primary-700 px-3 py-1 rounded-full text-sm",children:e},t))):(0,qv.jsx)("p",{className:"text-gray-600",children:"Geen vaardigheden opgegeven"})})]}),c.profile.availability&&(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Beschikbaarheid"}),(0,qv.jsx)("p",{className:"text-gray-700",children:c.profile.availability})]}),c.profile.experience&&(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Werkervaring"}),Array.isArray(c.profile.experience)&&c.profile.experience.length>0?(0,qv.jsx)("div",{className:"space-y-4",children:c.profile.experience.map(((e,t)=>(0,qv.jsxs)("div",{className:"border-l-2 border-primary-200 pl-4",children:[(0,qv.jsxs)("p",{className:"font-medium",children:[e.position," bij ",e.company]}),(0,qv.jsxs)("p",{className:"text-gray-600 text-sm",children:[e.startDate," - ",e.endDate||"Heden"]}),e.description&&(0,qv.jsx)("p",{className:"text-gray-700 mt-1",children:e.description})]},t)))}):(0,qv.jsx)("p",{className:"text-gray-600",children:"Geen werkervaring opgegeven"})]}),c.profile.education&&(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Opleiding"}),Array.isArray(c.profile.education)&&c.profile.education.length>0?(0,qv.jsx)("div",{className:"space-y-4",children:c.profile.education.map(((e,t)=>(0,qv.jsxs)("div",{className:"border-l-2 border-primary-200 pl-4",children:[(0,qv.jsx)("p",{className:"font-medium",children:e.degree}),(0,qv.jsx)("p",{className:"text-gray-600",children:e.school}),(0,qv.jsxs)("p",{className:"text-gray-600 text-sm",children:[e.startDate," - ",e.endDate||"Heden"]}),e.description&&(0,qv.jsx)("p",{className:"text-gray-700 mt-1",children:e.description})]},t)))}):(0,qv.jsx)("p",{className:"text-gray-600",children:"Geen opleiding opgegeven"})]})]}),(!c.profile||0===Object.keys(c.profile).length)&&(0,qv.jsx)("p",{className:"text-gray-600",children:"Geen uitgebreid profiel beschikbaar"})]})})]})})()]})]})})]})})})},yx=e=>{let{user:t}=e;const[n,r]=(0,i.useState)(!1),{favorites:s,loading:a,removeFavorite:o}=Zv(),l=ee(),[c,u]=(0,i.useState)([]),[d,h]=(0,i.useState)(!0);(()=>{let e=0,n=0;const r=["displayName","email","phoneNumber"];e+=r.length,r.forEach((e=>{t[e]&&n++}));const i=["street","houseNumber","postalCode","city","country"];if(e+=i.length,i.forEach((e=>{(t[e]||t.address&&"object"===typeof t.address&&t.address[e])&&n++})),t.profile){const r=["skills","availability","cv","linkedin","portfolio","experience","education"];e+=r.length,r.forEach((e=>{t.profile&&t.profile[e]&&(Array.isArray(t.profile[e])?t.profile[e].length>0&&n++:n++)}))}Math.round(n/e*100)})();(0,i.useEffect)((()=>{(async()=>{if(t.id)try{h(!0);const e=wf(Pm(Uv,"sollicitaties"),Nf("userId","==",t.id),Ef("applicationDate","desc")),n=await zf(e),r=[];n.forEach((e=>{const t=e.data();r.push({id:e.id,jobId:t.jobId,jobTitle:t.jobTitle||"Onbekende functie",companyName:t.companyName||"Onbekend bedrijf",status:t.status||"pending",applicationDate:t.applicationDate})})),u(r)}catch(e){console.error("Fout bij ophalen sollicitaties:",e)}finally{h(!1)}})()}),[t.id]);const m=e=>{if(!e)return"Onbekende datum";return e.toDate().toLocaleDateString("nl-NL",{day:"numeric",month:"long",year:"numeric"})};return(0,qv.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-6",children:(0,qv.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[(0,qv.jsxs)("div",{className:"p-6 bg-gradient-to-r from-primary-700 to-primary-900 text-white",children:[(0,qv.jsxs)("h1",{className:"text-3xl font-bold",children:["Welkom, ",t.displayName||"Werkzoekende"]}),(0,qv.jsx)("p",{className:"mt-2 text-primary-100",children:"Beheer je profiel en sollicitaties vanaf je persoonlijke dashboard"})]}),(0,qv.jsx)("div",{className:"p-6 border-b",children:(0,qv.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Mijn profiel"}),(0,qv.jsx)("p",{className:"text-gray-600 mt-1",children:"Zorg dat je profiel compleet is om je kansen op een baan te vergroten"})]}),(0,qv.jsx)("a",{href:"/profile",className:"mt-4 md:mt-0 inline-block px-4 py-2 bg-primary-600 hover:bg-primary-700 text-white rounded-md",children:"Profiel bekijken"})]})}),(0,qv.jsxs)("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qv.jsxs)("div",{className:"bg-white border rounded-lg shadow-sm p-5",children:[(0,qv.jsx)("h3",{className:"font-semibold text-lg mb-4",children:"Verstuurde sollicitaties"}),(0,qv.jsx)("div",{className:"space-y-3",children:d?(0,qv.jsx)("div",{className:"flex justify-center py-4",children:(0,qv.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-primary-600"})}):c.length>0?(0,qv.jsx)("div",{className:"space-y-3",children:c.map((e=>{const t=(e=>{switch(e){case"pending":return{color:"blue",bg:"blue-100",text:"Nieuw"};case"reviewing":return{color:"yellow",bg:"yellow-100",text:"In behandeling"};case"interview":return{color:"green",bg:"green-100",text:"Gesprek ingepland"};case"rejected":return{color:"red",bg:"red-100",text:"Afgewezen"};case"accepted":return{color:"emerald",bg:"emerald-100",text:"Aangenomen"};default:return{color:"gray",bg:"gray-100",text:"Onbekend"}}})(e.status);return(0,qv.jsxs)("div",{className:`border-l-4 border-${t.color}-500 pl-3 py-2 hover:bg-gray-50 cursor-pointer transition-colors duration-200`,onClick:()=>{return t=e.id,void l(`/applications/${t}`);var t},children:[(0,qv.jsxs)("p",{className:"font-medium",children:[e.jobTitle," bij ",e.companyName]}),(0,qv.jsxs)("div",{className:"flex justify-between items-center",children:[(0,qv.jsxs)("p",{className:"text-sm text-gray-600",children:["Ingediend op ",m(e.applicationDate)]}),(0,qv.jsx)("span",{className:`text-xs font-medium bg-${t.bg} text-${t.color}-800 px-2 py-1 rounded-full`,children:t.text})]})]},e.id)}))}):(0,qv.jsxs)(qv.Fragment,{children:[(0,qv.jsx)("p",{className:"text-gray-500 text-sm italic",children:"Je hebt nog geen sollicitaties verstuurd."}),(0,qv.jsx)("a",{href:"/jobs",className:"block text-primary-600 hover:text-primary-800 font-medium",children:"Zoek vacatures om te solliciteren"})]})})]}),(0,qv.jsxs)("div",{className:"bg-white border rounded-lg shadow-sm p-5",children:[(0,qv.jsx)("h3",{className:"font-semibold text-lg mb-4",children:"Favoriete vacatures"}),(0,qv.jsx)("div",{className:"space-y-3",children:a?(0,qv.jsx)("div",{className:"flex justify-center py-4",children:(0,qv.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-primary-600"})}):s.length>0?(0,qv.jsx)("div",{className:"space-y-3",children:s.map((e=>{var t,n,r,i;return(0,qv.jsxs)("div",{className:"border rounded-md p-3 hover:bg-gray-50",children:[(0,qv.jsxs)("div",{className:"flex justify-between",children:[(0,qv.jsx)("p",{className:"font-medium",children:(null===(t=e.job)||void 0===t?void 0:t.title)||"Onbekende functie"}),(0,qv.jsx)("button",{onClick:()=>(async e=>{try{await o(e)}catch(t){console.error("Fout bij verwijderen favoriet:",t)}})(e.jobId),className:"text-yellow-500 hover:text-yellow-600","aria-label":"Verwijder uit favorieten",children:(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qv.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})})})]}),(0,qv.jsxs)("p",{className:"text-sm text-gray-600",children:[(null===(n=e.job)||void 0===n?void 0:n.company)||"Onbekend bedrijf",", ",(null===(r=e.job)||void 0===r?void 0:r.location)||"Onbekende locatie"]}),(0,qv.jsxs)("div",{className:"mt-2 flex justify-between items-center",children:[(null===(i=e.job)||void 0===i?void 0:i.salary)&&(0,qv.jsxs)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded",children:["\u20ac",e.job.salary]}),(0,qv.jsx)("button",{onClick:()=>{return t=e.jobId,void l(`/job/${t}`);var t},className:"text-primary-600 hover:text-primary-800 text-sm",children:"Bekijken \u2192"})]})]},e.id)}))}):(0,qv.jsxs)(qv.Fragment,{children:[(0,qv.jsx)("p",{className:"text-gray-500 text-sm italic",children:"Je hebt nog geen vacatures als favoriet gemarkeerd."}),(0,qv.jsx)("a",{href:"/jobs",className:"block text-primary-600 hover:text-primary-800 font-medium",children:"Ontdek interessante vacatures"})]})})]}),(0,qv.jsxs)("div",{className:"bg-white border rounded-lg shadow-sm p-5 col-span-1 md:col-span-2",children:[(0,qv.jsx)("div",{className:"flex justify-between items-center mb-4",children:(0,qv.jsx)("h3",{className:"font-semibold text-lg",children:"Mijn Agenda"})}),(0,qv.jsxs)("div",{className:"space-y-3",children:[(0,qv.jsx)("p",{className:"text-gray-500 text-sm italic",children:"Je hebt geen geplande sollicitatiegesprekken of afspraken."}),(0,qv.jsx)("div",{className:"bg-blue-50 border-l-4 border-blue-400 p-3 rounded",children:(0,qv.jsxs)("p",{className:"text-sm text-blue-700",children:[(0,qv.jsx)("span",{className:"font-medium",children:"Info:"})," Als werkzoekende kun je alleen afspraken ontvangen van recruiters. Je kunt zelf geen afspraken plannen."]})}),(0,qv.jsx)("div",{className:"hidden",children:(0,qv.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,qv.jsx)("div",{className:"border-l-4 border-blue-500 pl-3 py-2",children:(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("div",{className:"mr-3 text-blue-700",children:(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("p",{className:"font-medium",children:"Sollicitatiegesprek bij TechCorp"}),(0,qv.jsx)("p",{className:"text-sm text-gray-600",children:"Morgen, 10:00 - 11:00"})]})]})}),(0,qv.jsx)("div",{className:"border-l-4 border-green-500 pl-3 py-2",children:(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("div",{className:"mr-3 text-green-700",children:(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("p",{className:"font-medium",children:"Telefonische screening InnovateCo"}),(0,qv.jsx)("p",{className:"text-sm text-gray-600",children:"Woensdag, 14:30 - 15:00"})]})]})})]})})]})]})]})]})})},bx=e=>{let{user:t}=e;const n=ee(),[r,s]=(0,i.useState)([]),[a,o]=(0,i.useState)([]),[l,c]=(0,i.useState)(!1),[u,d]=(0,i.useState)(!1),[h,m]=(0,i.useState)(null),[f,p]=(0,i.useState)(null),[g,v]=(0,i.useState)(""),{userProfile:y,currentUser:b}=Gv(),[x,w]=(0,i.useState)([]),[j,N]=(0,i.useState)(!0),[k,_]=(0,i.useState)(null),E=(()=>{let e=0,n=0;const r=["displayName","email","phoneNumber"];e+=r.length,r.forEach((e=>{t[e]&&n++}));const i=["companyName","companyAddress","companyCity","companyPostalCode","kvkNumber"];if(e+=i.length,i.forEach((e=>{t[e]&&n++})),t.profile){const r=["company","position","companyLogo","companyWebsite","companyDescription"];e+=r.length,r.forEach((e=>{t.profile&&t.profile[e]&&n++}))}return Math.round(n/e*100)})();(0,i.useEffect)((()=>{(async()=>{if(b)try{d(!0),p(null);const e=Ha.now(),t=wf(Pm(Uv,"meetings"),Nf("recruiterId","==",b.uid),Nf("dateTime",">=",e),Ef("dateTime","asc"),Cf(5)),n=await zf(t),r=[];n.forEach((e=>{const t=e.data();r.push({id:e.id,title:t.title||"Ongetitelde afspraak",candidateName:t.candidateName||"Onbekende kandidaat",dateTime:t.dateTime,endDateTime:t.endDateTime,locationType:t.locationType,location:t.location,meetingLink:t.meetingLink,status:t.status||"gepland"})})),o(r)}catch(e){console.error("Fout bij ophalen van meetings:",e),p("Er is een fout opgetreden bij het ophalen van je afspraken")}finally{d(!1)}})()}),[b]),(0,i.useEffect)((()=>{(async()=>{console.log("Gebruiker ID velden:",{id:t.id,uid:t.uid,allKeys:Object.keys(t)});const e=t.id||t.uid;if(!e)return console.log("Geen gebruikers-ID gevonden om vacatures mee op te halen",t),void m("Gebruikers-ID niet gevonden. Probeer opnieuw in te loggen.");console.log("Vacatures ophalen voor recruiterId:",e),c(!0),m(null);try{const t=wf(Pm(Uv,"jobs"),Nf("recruiterId","==",e),Cf(50));console.log("Query uitgevoerd...");const n=await zf(t);console.log(`Aantal gevonden vacatures: ${n.size}`);const r=[];n.forEach((e=>{const t=e.data();console.log("Vacature data:",{id:e.id,title:t.title,recruiterId:t.recruiterId,createdAt:t.createdAt}),r.push({id:e.id,title:t.title||"Onbekende functie",company:t.company||"Onbekend bedrijf",location:t.location||"Onbekende locatie",createdAt:t.createdAt,status:t.status||"active"})})),r.sort(((e,t)=>{if(!e.createdAt)return 1;if(!t.createdAt)return-1;try{var n,r;const i=e.createdAt instanceof Ha||null!==(n=e.createdAt)&&void 0!==n&&n.toDate?e.createdAt.toDate():new Date(e.createdAt);return(t.createdAt instanceof Ha||null!==(r=t.createdAt)&&void 0!==r&&r.toDate?t.createdAt.toDate():new Date(t.createdAt)).getTime()-i.getTime()}catch(i){return console.error("Fout bij sorteren:",i),0}})),console.log("Opgehaalde vacatures (gesorteerd):",r),s(r)}catch(n){console.error("Fout bij ophalen van vacatures:",n),m("Er is een fout opgetreden bij het ophalen van je vacatures")}finally{c(!1)}})()}),[t]),(0,i.useEffect)((()=>{(async()=>{if(t.id)try{N(!0),_(null);const e=wf(Pm(Uv,"sollicitaties"),Nf("recruiterId","==",t.id),Ef("applicationDate","desc")),n=await zf(e),r=[];n.forEach((e=>{const t=e.data();r.push({id:e.id,jobId:t.jobId,jobTitle:t.jobTitle||"Onbekende functie",userId:t.userId,applicantName:t.applicantName||"Onbekende kandidaat",status:t.status||"pending",applicationDate:t.applicationDate,location:t.location})})),w(r)}catch(h){console.error("Fout bij ophalen sollicitaties:",h),_("Er is een fout opgetreden bij het laden van sollicitaties")}finally{N(!1)}})()}),[t.id]);const S=e=>{if(!e)return"Onbekende datum";return e.toDate().toLocaleDateString("nl-NL",{day:"numeric",month:"long",year:"numeric"})},C=(e,t)=>{const n=e.toDate(),r=t.toDate(),i=new Date,s=new Date(i);s.setDate(s.getDate()+1);let a="";a=n.toDateString()===i.toDateString()?"Vandaag":n.toDateString()===s.toDateString()?"Morgen":n.toLocaleDateString("nl-NL",{weekday:"long",day:"numeric",month:"long"});return`${a}, ${n.toLocaleTimeString("nl-NL",{hour:"2-digit",minute:"2-digit",hour12:!1})} - ${r.toLocaleTimeString("nl-NL",{hour:"2-digit",minute:"2-digit",hour12:!1})}`};return(0,qv.jsx)("div",{className:"max-w-6xl mx-auto px-4 py-6",children:(0,qv.jsxs)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden",children:[(0,qv.jsxs)("div",{className:"p-6 bg-gradient-to-r from-primary-700 to-primary-900 text-white",children:[(0,qv.jsxs)("h1",{className:"text-3xl font-bold",children:["Welkom, ",t.displayName||"Recruiter"]}),(0,qv.jsxs)("p",{className:"mt-2 text-primary-100",children:["Beheer je vacatures en vind de juiste kandidaten voor ",t.profile&&t.profile.company?t.profile.company:t.companyName?t.companyName:"Je bedrijf"]})]}),(0,qv.jsx)("div",{className:"p-6 border-b",children:(0,qv.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Bedrijfsprofiel"}),(0,qv.jsx)("p",{className:"text-gray-600 mt-1",children:"Maak je bedrijfsprofiel compleet om meer geschikte kandidaten te vinden"})]}),(0,qv.jsxs)("div",{className:"mt-4 md:mt-0",children:[(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("div",{className:"relative w-48 h-2 bg-gray-200 rounded-full overflow-hidden",children:(0,qv.jsx)("div",{className:"absolute top-0 left-0 h-full "+(E<40?"bg-red-500":E<70?"bg-yellow-500":"bg-green-500"),style:{width:`${E}%`}})}),(0,qv.jsxs)("span",{className:"ml-3 font-medium",children:[E,"% compleet"]})]}),(0,qv.jsx)("a",{href:"/profile/recruiter",className:"mt-2 inline-block text-primary-600 hover:text-primary-800 font-medium",children:"Profiel verbeteren \u2192"})]})]})}),(0,qv.jsxs)("div",{className:"p-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,qv.jsxs)("div",{className:"bg-white border rounded-lg shadow-sm p-5",children:[(0,qv.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,qv.jsx)("h3",{className:"font-semibold text-lg",children:"Mijn vacatures"}),(0,qv.jsx)("button",{onClick:()=>{n("/create-job")},className:"px-3 py-1 bg-primary-600 hover:bg-primary-700 text-white text-sm rounded-md",children:"+ Nieuwe vacature"})]}),l&&(0,qv.jsxs)("div",{className:"flex justify-center py-4",children:[(0,qv.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-primary-600"}),(0,qv.jsx)("span",{className:"ml-2",children:"Laden..."})]}),h&&(0,qv.jsxs)("div",{className:"text-red-600 text-sm mb-4 bg-red-50 p-3 rounded-md",children:[(0,qv.jsx)("p",{className:"font-medium",children:"Er is een fout opgetreden:"}),(0,qv.jsx)("p",{children:h}),(0,qv.jsx)("button",{onClick:()=>window.location.reload(),className:"mt-2 text-primary-600 hover:text-primary-800 font-medium",children:"Probeer opnieuw"})]}),!l&&!h&&0===r.length&&(0,qv.jsxs)("div",{className:"space-y-3",children:[(0,qv.jsx)("p",{className:"text-gray-500 text-sm italic",children:"Je hebt nog geen vacatures geplaatst."}),(0,qv.jsx)(De,{to:"/create-job",className:"block text-primary-600 hover:text-primary-800 font-medium",children:"Aan de slag met je eerste vacature"})]}),!l&&!h&&r.length>0&&(0,qv.jsxs)("div",{className:"space-y-3",children:[r.map((e=>{var t;return(0,qv.jsx)("div",{onClick:()=>{return t=e.id,void n(`/job/${t}`);var t},className:"border rounded-md p-4 hover:bg-gray-50 cursor-pointer transition-colors",children:(0,qv.jsxs)("div",{className:"flex justify-between items-start",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h4",{className:"font-medium text-gray-900",children:e.title}),(0,qv.jsxs)("p",{className:"text-sm text-gray-600",children:[e.company," \u2022 ",e.location]}),(0,qv.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:null!==(t=e.createdAt)&&void 0!==t&&t.toDate?new Date(e.createdAt.toDate()).toLocaleDateString("nl-NL",{year:"numeric",month:"long",day:"numeric"}):"Datum onbekend"})]}),(0,qv.jsx)("div",{children:(0,qv.jsx)("span",{className:"px-2 py-1 text-xs rounded-full "+("active"===e.status?"bg-green-100 text-green-800":"paused"===e.status?"bg-yellow-100 text-yellow-800":"deleted"===e.status?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:"active"===e.status?"Actief":"paused"===e.status?"Gepauzeerd":"closed"===e.status?"Gesloten":"deleted"===e.status?"Verwijderd":"Onbekend"})})]})},e.id)})),(0,qv.jsx)("div",{className:"mt-4",children:(0,qv.jsx)(De,{to:"/create-job",className:"text-primary-600 hover:text-primary-800 text-sm font-medium",children:"+ Nog een vacature plaatsen"})})]})]}),(0,qv.jsxs)("div",{className:"bg-white border rounded-lg shadow-sm p-5",children:[(0,qv.jsx)("h3",{className:"font-semibold text-lg mb-4",children:"Ontvangen sollicitaties"}),(0,qv.jsx)("div",{className:"space-y-3",children:j?(0,qv.jsxs)("div",{className:"text-center py-4",children:[(0,qv.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-primary-600 mx-auto"}),(0,qv.jsx)("p",{className:"mt-2 text-gray-500 text-sm",children:"Sollicitaties laden..."})]}):k?(0,qv.jsx)("div",{className:"text-red-500 text-sm py-2",children:k}):x.length>0?(0,qv.jsx)("div",{className:"space-y-3",children:x.map((e=>{const t=(e=>{switch(e){case"pending":return{color:"blue",bg:"blue-100",text:"Nieuw"};case"reviewing":return{color:"yellow",bg:"yellow-100",text:"In behandeling"};case"interview":return{color:"green",bg:"green-100",text:"Gesprek ingepland"};case"rejected":return{color:"red",bg:"red-100",text:"Afgewezen"};case"accepted":return{color:"emerald",bg:"emerald-100",text:"Aangenomen"};default:return{color:"gray",bg:"gray-100",text:"Onbekend"}}})(e.status);return(0,qv.jsxs)("div",{className:`border-l-4 border-${t.color}-500 pl-3 py-2 hover:bg-gray-50 cursor-pointer`,onClick:()=>{return t=e.id,void n(`/applications/${t}`);var t},children:[(0,qv.jsxs)("div",{className:"flex justify-between",children:[(0,qv.jsxs)("div",{children:[(0,qv.jsx)("p",{className:"font-medium",children:e.applicantName}),(0,qv.jsxs)("p",{className:"text-sm text-gray-600",children:[e.jobTitle," ",e.location?`\u2022 ${e.location}`:""]})]}),(0,qv.jsx)("span",{className:`text-xs bg-${t.bg} text-${t.color}-800 px-2 py-1 rounded flex items-center h-fit`,children:t.text})]}),(0,qv.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Sollicitatie ontvangen op ",S(e.applicationDate)]})]},e.id)}))}):(0,qv.jsxs)(qv.Fragment,{children:[(0,qv.jsx)("p",{className:"text-gray-500 text-sm italic",children:"Je hebt nog geen sollicitaties ontvangen."}),(0,qv.jsx)("a",{href:"/create-job",className:"block text-primary-600 hover:text-primary-800 font-medium",children:"Plaats een vacature om sollicitaties te ontvangen"})]})})]}),(0,qv.jsxs)("div",{className:"bg-white border rounded-lg shadow-sm p-5 md:col-span-2",children:[(0,qv.jsx)("h3",{className:"font-semibold text-lg mb-4",children:"Statistieken"}),(0,qv.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,qv.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg text-center",children:[(0,qv.jsx)("p",{className:"text-2xl font-bold text-blue-700",children:r.length}),(0,qv.jsx)("p",{className:"text-sm text-blue-800",children:"Actieve vacatures"})]}),(0,qv.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg text-center",children:[(0,qv.jsx)("p",{className:"text-2xl font-bold text-green-700",children:x.length}),(0,qv.jsx)("p",{className:"text-sm text-green-800",children:"Sollicitaties ontvangen"})]}),(0,qv.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg text-center",children:[(0,qv.jsx)("p",{className:"text-2xl font-bold text-purple-700",children:"0"}),(0,qv.jsx)("p",{className:"text-sm text-purple-800",children:"Interviews ingepland"})]}),(0,qv.jsxs)("div",{className:"bg-yellow-50 p-4 rounded-lg text-center",children:[(0,qv.jsx)("p",{className:"text-2xl font-bold text-yellow-700",children:"0"}),(0,qv.jsx)("p",{className:"text-sm text-yellow-800",children:"Kandidaten benaderd"})]})]})]}),(0,qv.jsxs)("div",{className:"bg-white border rounded-lg shadow-sm p-5",children:[(0,qv.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,qv.jsx)("h3",{className:"font-semibold text-lg",children:"Favoriete kandidaten"}),(0,qv.jsx)("a",{href:"/candidates",className:"px-3 py-1 text-primary-600 hover:text-primary-700 text-sm",children:"Alle kandidaten bekijken \u2192"})]}),(0,qv.jsxs)("div",{className:"space-y-4",children:[(0,qv.jsx)("p",{className:"text-gray-500 text-sm italic",children:"Je hebt nog geen favoriete kandidaten toegevoegd."}),(0,qv.jsx)("div",{className:"hidden",children:(0,qv.jsxs)("div",{className:"border rounded-md p-3 flex items-center hover:bg-gray-50 transition-colors",children:[(0,qv.jsx)("div",{className:"w-10 h-10 bg-primary-100 rounded-full flex items-center justify-center text-primary-700 font-bold mr-3",children:"JD"}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("h4",{className:"font-medium",children:"Jan de Vries"}),(0,qv.jsx)("p",{className:"text-sm text-gray-600",children:"Frontend Developer \u2022 4 jaar ervaring"})]}),(0,qv.jsxs)("div",{className:"ml-auto flex space-x-2",children:[(0,qv.jsx)("button",{className:"p-1 text-gray-400 hover:text-primary-600",children:(0,qv.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,qv.jsx)("path",{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"}),(0,qv.jsx)("path",{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"})]})}),(0,qv.jsx)("button",{className:"p-1 text-gray-400 hover:text-red-600",children:(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z",clipRule:"evenodd"})})})]})]})}),(0,qv.jsx)("a",{href:"/candidates",className:"block text-primary-600 hover:text-primary-800 font-medium",children:"Zoek kandidaten om toe te voegen"})]})]}),(0,qv.jsxs)("div",{className:"bg-white border rounded-lg shadow-sm p-5",children:[(0,qv.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,qv.jsx)("h3",{className:"font-semibold text-lg",children:"Agenda"}),(0,qv.jsx)("button",{onClick:()=>{n("/schedule-meeting")},className:"px-3 py-1 bg-primary-600 hover:bg-primary-700 text-white text-sm rounded-md",children:"+ Afspraak toevoegen"})]}),(0,qv.jsxs)("div",{className:"space-y-3",children:[u?(0,qv.jsxs)("div",{className:"text-center py-4",children:[(0,qv.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-primary-600 mx-auto"}),(0,qv.jsx)("p",{className:"mt-2 text-gray-500 text-sm",children:"Agenda laden..."})]}):f?(0,qv.jsx)("div",{className:"text-red-500 text-sm py-2",children:f}):0===a.length?(0,qv.jsx)("p",{className:"text-gray-500 text-sm italic",children:"Je hebt geen geplande afspraken voor de komende dagen."}):(0,qv.jsx)("div",{className:"space-y-3",children:a.map((e=>(0,qv.jsx)("div",{className:"border-l-4 border-primary-500 pl-3 py-2",children:(0,qv.jsxs)("div",{className:"flex items-center",children:[(0,qv.jsx)("div",{className:"mr-3 text-primary-700",children:(0,qv.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:(0,qv.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z",clipRule:"evenodd"})})}),(0,qv.jsxs)("div",{children:[(0,qv.jsx)("p",{className:"font-medium",children:e.title}),(0,qv.jsx)("p",{className:"text-sm text-gray-600",children:C(e.dateTime,e.endDateTime)}),(0,qv.jsxs)("p",{className:"text-xs text-gray-500",children:["Met ",e.candidateName]})]})]})},e.id)))}),(0,qv.jsx)("div",{className:"flex justify-center mt-4",children:(0,qv.jsx)(De,{to:"/agenda",className:"inline-block text-primary-600 hover:text-primary-800 font-medium",children:"Beheer je agenda"})})]})]})]})]})})},xx=e=>{let{requiredRole:t}=e;const{currentUser:n,loading:r,userProfile:i}=Gv();if(console.log("ProtectedRoute rendering",{currentUser:n,loading:r,requiredRole:t,userProfile:i}),r)return(0,qv.jsxs)("div",{className:"min-h-screen flex items-center justify-center",children:[(0,qv.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary-600"}),(0,qv.jsx)("div",{className:"ml-4",children:"Bezig met laden..."})]});if(!n)return(0,qv.jsx)(ve,{to:"/login",replace:!0});if(!i)return t?(0,qv.jsx)(ve,{to:"/dashboard",replace:!0}):(0,qv.jsx)(ye,{});if(t){if(!("werkzoekende"===t&&Bv(i)||"recruiter"===t&&$v(i)))return console.warn(`Gebruiker heeft niet de juiste rol. Vereist: ${t}, Actueel: ${Hv(i)}`),(0,qv.jsx)(ve,{to:"/dashboard",replace:!0})}return(0,qv.jsx)(ye,{})},wx=()=>{const{currentUser:e,loading:t}=Gv();return console.log("PublicRoute rendering",{loading:t,currentUser:e}),(0,i.useEffect)((()=>{console.log("PublicRoute effect",{loading:t,currentUser:e})}),[t,e]),t?(console.log("PublicRoute - Toont laadscherm"),(0,qv.jsxs)("div",{className:"min-h-screen flex items-center justify-center",children:[(0,qv.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary-600"}),(0,qv.jsx)("div",{className:"ml-4",children:"Bezig met laden..."})]})):e?(console.log("PublicRoute - Doorverwijzen naar home"),(0,qv.jsx)(ve,{to:"/",replace:!0})):(console.log("PublicRoute - Toont publieke content"),(0,qv.jsx)(ye,{}))},jx=e=>{let{children:t}=e;return(0,qv.jsxs)("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[(0,qv.jsx)(ex,{}),(0,qv.jsx)("main",{className:"flex-grow p-4 sm:p-6 md:p-8 mt-16",children:t}),(0,qv.jsx)("footer",{className:"bg-white py-4 border-t border-gray-200",children:(0,qv.jsxs)("div",{className:"container mx-auto px-4 text-center text-gray-500 text-sm",children:["\xa9 ",(new Date).getFullYear()," PitchPro. Alle rechten voorbehouden."]})})]})},Nx=()=>(0,qv.jsxs)("div",{className:"p-4",children:[(0,qv.jsx)("h1",{className:"text-2xl font-bold",children:"Applications"}),(0,qv.jsx)("p",{children:"Applications page"})]}),kx=()=>(0,qv.jsxs)("div",{className:"p-4",children:[(0,qv.jsx)("h1",{className:"text-2xl font-bold",children:"Search Jobs"}),(0,qv.jsx)("p",{children:"Search jobs page"})]}),_x=()=>(0,qv.jsxs)("div",{className:"p-4",children:[(0,qv.jsx)("h1",{className:"text-2xl font-bold",children:"Conversation"}),(0,qv.jsx)("p",{children:"Conversation page"})]}),Ex=()=>(0,qv.jsxs)("div",{className:"p-4",children:[(0,qv.jsx)("h1",{className:"text-2xl font-bold",children:"Settings"}),(0,qv.jsx)("p",{children:"Settings page"})]}),Sx=()=>(console.log("Rendering SimpleDashboard"),(0,qv.jsxs)("div",{className:"p-8",children:[(0,qv.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Dashboard"}),(0,qv.jsx)("p",{children:"Als je dit kunt zien, werkt de rendering correct."})]})),Cx=()=>{const{userProfile:e,currentUser:t}=Gv();return console.log("Dashboard component rendering met:",{currentUser:null===t||void 0===t?void 0:t.uid,userProfile:null===e||void 0===e?void 0:e.role,displayName:null===e||void 0===e?void 0:e.displayName}),t&&!e?(console.log("Gebruiker ingelogd maar geen profiel gevonden"),(0,qv.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6",children:[(0,qv.jsx)("h1",{className:"text-2xl font-bold mb-4",children:"Probleem met gebruikersprofiel"}),(0,qv.jsx)("p",{className:"mb-4",children:"Je bent wel ingelogd, maar je gebruikersprofiel kon niet worden geladen."}),(0,qv.jsx)(Tx,{})]})):"werkzoekende"===(null===e||void 0===e?void 0:e.role)?(console.log("Werkzoekende dashboard wordt geladen"),(0,qv.jsx)(yx,{user:e})):"recruiter"===(null===e||void 0===e?void 0:e.role)?(console.log("Recruiter dashboard wordt geladen",e),(0,qv.jsx)(bx,{user:e})):(console.log("Geen profiel gevonden, laadscherm wordt getoond"),(0,qv.jsx)("div",{className:"flex justify-center items-center h-screen",children:(0,qv.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-primary-600"})}))},Tx=()=>{const{currentUser:e,createOrUpdateProfile:t}=Gv(),[n,r]=(0,i.useState)(!1),[s,a]=(0,i.useState)(null),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)("werkzoekende"),[d,h]=(0,i.useState)((null===e||void 0===e?void 0:e.displayName)||"");return(0,qv.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md max-w-md mt-4",children:[(0,qv.jsx)("h2",{className:"text-xl font-medium mb-4",children:"Maak je profiel opnieuw aan"}),s&&(0,qv.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:s}),o&&(0,qv.jsx)("div",{className:"bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded mb-4",children:"Profiel succesvol aangemaakt! Pagina wordt vernieuwd..."}),(0,qv.jsxs)("div",{className:"mb-4",children:[(0,qv.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Je naam"}),(0,qv.jsx)("input",{type:"text",value:d,onChange:e=>h(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500",placeholder:"Vul je naam in",disabled:n||o})]}),(0,qv.jsxs)("div",{className:"mb-6",children:[(0,qv.jsx)("p",{className:"mb-2 text-sm font-medium text-gray-700",children:"Selecteer je gebruikerstype:"}),(0,qv.jsxs)("div",{className:"flex space-x-4",children:[(0,qv.jsxs)("label",{className:"inline-flex items-center",children:[(0,qv.jsx)("input",{type:"radio",className:"form-radio",name:"role",value:"werkzoekende",checked:"werkzoekende"===c,onChange:()=>u("werkzoekende"),disabled:n||o}),(0,qv.jsx)("span",{className:"ml-2",children:"Werkzoekende"})]}),(0,qv.jsxs)("label",{className:"inline-flex items-center",children:[(0,qv.jsx)("input",{type:"radio",className:"form-radio",name:"role",value:"recruiter",checked:"recruiter"===c,onChange:()=>u("recruiter"),disabled:n||o}),(0,qv.jsx)("span",{className:"ml-2",children:"Recruiter"})]})]})]}),(0,qv.jsx)("button",{onClick:async()=>{if(e)try{if(r(!0),a(null),!d.trim())return void a("Vul een naam in");await t(d,c),l(!0),setTimeout((()=>{window.location.reload()}),2e3)}catch(n){console.error("Fout bij aanmaken profiel:",n),a("Er is een fout opgetreden bij het aanmaken van je profiel. Probeer het later opnieuw.")}finally{r(!1)}},disabled:n||o,className:"w-full bg-primary-600 text-white py-2 px-4 rounded hover:bg-primary-700 disabled:opacity-50",children:n?"Bezig...":o?"Profiel aangemaakt":"Profiel aanmaken"})]})},Ix=()=>{const{loading:e,currentUser:t,userProfile:n,authError:r}=Gv();return console.log("AuthDebugger rendering",{loading:e,currentUser:t,userProfile:n,authError:r}),(0,qv.jsxs)("div",{className:"fixed bottom-0 right-0 bg-black bg-opacity-75 text-white p-2 text-xs",children:["Loading: ",e?"Ja":"Nee",(0,qv.jsx)("br",{}),"User: ",t?"Aanwezig":"Geen",(0,qv.jsx)("br",{}),"Profile: ",n?n.role:"Geen",(0,qv.jsx)("br",{}),"Error: ",r?r.message:"Geen"]})},Ax=()=>{const{currentUser:e,loading:t}=Gv();return console.log("Redirect component rendering",{loading:t,currentUser:e}),t?(0,qv.jsxs)("div",{className:"min-h-screen flex items-center justify-center",children:[(0,qv.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-primary-600"}),(0,qv.jsx)("div",{className:"ml-4",children:"Bezig met laden..."})]}):e?(0,qv.jsx)(ve,{to:"/dashboard",replace:!0}):(0,qv.jsx)(ve,{to:"/login",replace:!0})},Dx=()=>(0,qv.jsx)(jx,{children:(0,qv.jsx)(ye,{})}),Rx=()=>(console.log("App component rendering"),(0,i.useEffect)((()=>{const e=e=>{console.error("Onafgehandelde fout opgevangen:",e.error)};return window.addEventListener("error",e),()=>{window.removeEventListener("error",e)}}),[]),(0,qv.jsx)(Kv,{children:(0,qv.jsx)(Yv,{children:(0,qv.jsx)(ey,{children:(0,qv.jsxs)(Te,{basename:"/",children:[(0,qv.jsxs)(we,{children:[(0,qv.jsx)(be,{path:"/",element:(0,qv.jsx)(nx,{})}),(0,qv.jsxs)(be,{element:(0,qv.jsx)(wx,{}),children:[(0,qv.jsx)(be,{path:"/login",element:(0,qv.jsx)(Lb,{})}),(0,qv.jsx)(be,{path:"/register",element:(0,qv.jsx)(Mb,{})}),(0,qv.jsx)(be,{path:"/reset-password",element:(0,qv.jsx)(Vb,{})})]}),(0,qv.jsx)(be,{path:"/about",element:(0,qv.jsx)(rx,{})}),(0,qv.jsx)(be,{path:"/jobs",element:(0,qv.jsx)(ax,{})}),(0,qv.jsx)(be,{path:"/job/:jobId",element:(0,qv.jsx)(ox,{})}),(0,qv.jsx)(be,{element:(0,qv.jsx)(xx,{}),children:(0,qv.jsx)(be,{path:"/job-application/:jobId",element:(0,qv.jsx)(lx,{})})}),(0,qv.jsxs)(be,{element:(0,qv.jsx)(xx,{requiredRole:"jobseeker"}),children:[(0,qv.jsx)(be,{path:"/applications",element:(0,qv.jsx)(Nx,{})}),(0,qv.jsx)(be,{path:"/search-jobs",element:(0,qv.jsx)(kx,{})})]}),(0,qv.jsxs)(be,{element:(0,qv.jsx)(xx,{requiredRole:"recruiter"}),children:[(0,qv.jsx)(be,{path:"/candidates",element:(0,qv.jsx)(ix,{})}),(0,qv.jsx)(be,{path:"/candidate/:id",element:(0,qv.jsx)(sx,{})}),(0,qv.jsx)(be,{path:"/schedule-meeting",element:(0,qv.jsx)(px,{})}),(0,qv.jsx)(be,{path:"/schedule-meeting/:id",element:(0,qv.jsx)(px,{})}),(0,qv.jsx)(be,{path:"/calendar",element:(0,qv.jsx)(gx,{})}),(0,qv.jsx)(be,{path:"/agenda",element:(0,qv.jsx)(gx,{})})]}),(0,qv.jsx)(be,{path:"/messages",element:(0,qv.jsx)(ux,{})}),(0,qv.jsx)(be,{path:"/messages/:conversationId",element:(0,qv.jsx)(_x,{})}),(0,qv.jsx)(be,{path:"/profile",element:(0,qv.jsx)(Zb,{})}),(0,qv.jsx)(be,{path:"/settings",element:(0,qv.jsx)(Ex,{})}),(0,qv.jsx)(be,{path:"/job/:id",element:(0,qv.jsx)(ox,{})}),(0,qv.jsx)(be,{path:"/application/:id",element:(0,qv.jsx)(vx,{})}),(0,qv.jsx)(be,{path:"/redirect",element:(0,qv.jsx)(Ax,{})}),(0,qv.jsx)(be,{path:"/simple",element:(0,qv.jsx)(Sx,{})}),(0,qv.jsx)(be,{element:(0,qv.jsx)(xx,{}),children:(0,qv.jsxs)(be,{element:(0,qv.jsx)(Dx,{}),children:[(0,qv.jsx)(be,{path:"/dashboard",element:(0,qv.jsx)(Cx,{})}),(0,qv.jsx)(be,{path:"/profile",element:(0,qv.jsx)(Zb,{})}),(0,qv.jsx)(be,{path:"/profile/:type",element:(0,qv.jsx)(Zb,{})}),(0,qv.jsx)(be,{path:"/profile/jobseeker",element:(0,qv.jsx)(Zb,{})}),(0,qv.jsx)(be,{path:"/profile/recruiter",element:(0,qv.jsx)(Zb,{})}),(0,qv.jsx)(be,{path:"/cv-preview",element:(0,qv.jsx)(hx,{})}),(0,qv.jsxs)(be,{element:(0,qv.jsx)(xx,{requiredRole:"recruiter"}),children:[(0,qv.jsx)(be,{path:"/create-job",element:(0,qv.jsx)(mx,{})}),(0,qv.jsx)(be,{path:"/edit-job/:jobId",element:(0,qv.jsx)(fx,{})})]})]})}),(0,qv.jsx)(be,{path:"*",element:(0,qv.jsx)(ve,{to:"/",replace:!0})})]}),(0,qv.jsx)(Ix,{})]})})})}));console.log("Index.tsx initialisatie gestart");const Px=document.getElementById("root");if(!Px)throw new Error('Geen "root" element gevonden in de DOM. Controleer je index.html bestand.');console.log("Root element gevonden, gaat nu app renderen");a.createRoot(Px).render((0,qv.jsx)(i.StrictMode,{children:(0,qv.jsx)(Rx,{})})),console.log("Rendering verzonden naar ReactDOM")})();
//# sourceMappingURL=main.20e65b32.js.map